var Nc=Object.defineProperty;var Ac=(l,e,t)=>e in l?Nc(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var _l=(l,e,t)=>Ac(l,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function be(){}const au=l=>l;function uu(l,e){for(const t in e)l[t]=e[t];return l}function cu(l){return l()}function Rn(){return Object.create(null)}function Ve(l){l.forEach(cu)}function fn(l){return typeof l=="function"}function bt(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}let Ql;function ln(l,e){return l===e?!0:(Ql||(Ql=document.createElement("a")),Ql.href=e,l===Ql.href)}function Rc(l){return Object.keys(l).length===0}function Dn(l,...e){if(l==null){for(const n of e)n(void 0);return be}const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Al(l){let e;return Dn(l,t=>e=t)(),e}function _t(l,e,t){l.$$.on_destroy.push(Dn(e,t))}function jt(l,e,t,n){if(l){const s=fu(l,e,t,n);return l[0](s)}}function fu(l,e,t,n){return l[1]&&n?uu(t.ctx.slice(),l[1](n(e))):t.ctx}function Nt(l,e,t,n){if(l[2]&&n){const s=l[2](n(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const o=[],i=Math.max(e.dirty.length,s.length);for(let u=0;u<i;u+=1)o[u]=e.dirty[u]|s[u];return o}return e.dirty|s}return e.dirty}function At(l,e,t,n,s,o){if(s){const i=fu(e,t,n,o);l.p(i,s)}}function Rt(l){if(l.ctx.length>32){const e=[],t=l.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function _u(l){const e={};for(const t in l)e[t]=!0;return e}function On(l){const e=typeof l=="string"&&l.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[l,"px"]}const du=typeof window<"u";let Oc=du?()=>window.performance.now():()=>Date.now(),En=du?l=>requestAnimationFrame(l):be;const Ll=new Set;function pu(l){Ll.forEach(e=>{e.c(l)||(Ll.delete(e),e.f())}),Ll.size!==0&&En(pu)}function Fc(l){let e;return Ll.size===0&&En(pu),{promise:new Promise(t=>{Ll.add(e={c:l,f:t})}),abort(){Ll.delete(e)}}}const mu=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function r(l,e){l.appendChild(e)}function vu(l){if(!l)return document;const e=l.getRootNode?l.getRootNode():l.ownerDocument;return e&&e.host?e:l.ownerDocument}function Ic(l){const e=d("style");return e.textContent="/* empty */",Bc(vu(l),e),e.sheet}function Bc(l,e){return r(l.head||l,e),e.sheet}function w(l,e,t){l.insertBefore(e,t||null)}function k(l){l.parentNode&&l.parentNode.removeChild(l)}function Le(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function d(l){return document.createElement(l)}function Ml(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function S(l){return document.createTextNode(l)}function b(){return S(" ")}function Fe(){return S("")}function te(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function Uc(l){return function(e){return e.preventDefault(),l.call(this,e)}}function Fn(l){return function(e){return e.stopPropagation(),l.call(this,e)}}function c(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function Pn(l){let e;return{p(...t){e=t,e.forEach(n=>l.push(n))},r(){e.forEach(t=>l.splice(l.indexOf(t),1))}}}function Kt(l){return l===""?null:+l}function Hc(l){return Array.from(l.childNodes)}function I(l,e){e=""+e,l.data!==e&&(l.data=e)}function ne(l,e){l.value=e??""}function It(l,e,t,n){t==null?l.style.removeProperty(e):l.style.setProperty(e,t,"")}function je(l,e,t){for(let n=0;n<l.options.length;n+=1){const s=l.options[n];if(s.__value===e){s.selected=!0;return}}(!t||e!==void 0)&&(l.selectedIndex=-1)}function ct(l){const e=l.querySelector(":checked");return e&&e.__value}function Ce(l,e,t){l.classList.toggle(e,!!t)}function hu(l,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(l,{detail:e,bubbles:t,cancelable:n})}class Gc{constructor(e=!1){_l(this,"is_svg",!1);_l(this,"e");_l(this,"n");_l(this,"t");_l(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=Ml(t.nodeName):this.e=d(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)w(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(k)}}const nn=new Map;let sn=0;function Vc(l){let e=5381,t=l.length;for(;t--;)e=(e<<5)-e^l.charCodeAt(t);return e>>>0}function Wc(l,e){const t={stylesheet:Ic(e),rules:{}};return nn.set(l,t),t}function In(l,e,t,n,s,o,i,u=0){const a=16.666/n;let _=`{
`;for(let C=0;C<=1;C+=a){const y=e+(t-e)*o(C);_+=C*100+`%{${i(y,1-y)}}
`}const f=_+`100% {${i(t,1-t)}}
}`,p=`__svelte_${Vc(f)}_${u}`,m=vu(l),{stylesheet:h,rules:v}=nn.get(m)||Wc(m,l);v[p]||(v[p]=!0,h.insertRule(`@keyframes ${p} ${f}`,h.cssRules.length));const g=l.style.animation||"";return l.style.animation=`${g?`${g}, `:""}${p} ${n}ms linear ${s}ms 1 both`,sn+=1,p}function Jc(l,e){const t=(l.style.animation||"").split(", "),n=t.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),s=t.length-n.length;s&&(l.style.animation=n.join(", "),sn-=s,sn||Kc())}function Kc(){En(()=>{sn||(nn.forEach(l=>{const{ownerNode:e}=l.stylesheet;e&&k(e)}),nn.clear())})}let Vl;function Gl(l){Vl=l}function Ln(){if(!Vl)throw new Error("Function called outside component initialization");return Vl}function kl(l){Ln().$$.on_mount.push(l)}function Yc(l){Ln().$$.on_destroy.push(l)}function Rl(){const l=Ln();return(e,t,{cancelable:n=!1}={})=>{const s=l.$$.callbacks[e];if(s){const o=hu(e,t,{cancelable:n});return s.slice().forEach(i=>{i.call(l,o)}),!o.defaultPrevented}return!0}}function on(l,e){const t=l.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const zl=[],Ft=[];let jl=[];const yn=[],Qc=Promise.resolve();let Cn=!1;function Zc(){Cn||(Cn=!0,Qc.then(gu))}function Xe(l){jl.push(l)}function dl(l){yn.push(l)}const bn=new Set;let ql=0;function gu(){if(ql!==0)return;const l=Vl;do{try{for(;ql<zl.length;){const e=zl[ql];ql++,Gl(e),Xc(e.$$)}}catch(e){throw zl.length=0,ql=0,e}for(Gl(null),zl.length=0,ql=0;Ft.length;)Ft.pop()();for(let e=0;e<jl.length;e+=1){const t=jl[e];bn.has(t)||(bn.add(t),t())}jl.length=0}while(zl.length);for(;yn.length;)yn.pop()();Cn=!1,bn.clear(),Gl(l)}function Xc(l){if(l.fragment!==null){l.update(),Ve(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(Xe)}}function xc(l){const e=[],t=[];jl.forEach(n=>l.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),jl=e}let Hl;function ef(){return Hl||(Hl=Promise.resolve(),Hl.then(()=>{Hl=null})),Hl}function kn(l,e,t){l.dispatchEvent(hu(`${e?"intro":"outro"}${t}`))}const xl=new Set;let sl;function Te(){sl={r:0,c:[],p:sl}}function ze(){sl.r||Ve(sl.c),sl=sl.p}function L(l,e){l&&l.i&&(xl.delete(l),l.i(e))}function R(l,e,t,n){if(l&&l.o){if(xl.has(l))return;xl.add(l),sl.c.push(()=>{xl.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}const tf={duration:0};function Pl(l,e,t,n){let o=e(l,t,{direction:"both"}),i=n?0:1,u=null,a=null,_=null,f;function p(){_&&Jc(l,_)}function m(v,g){const C=v.b-i;return g*=Math.abs(C),{a:i,b:v.b,d:C,duration:g,start:v.start,end:v.start+g,group:v.group}}function h(v){const{delay:g=0,duration:C=300,easing:y=au,tick:$=be,css:q}=o||tf,z={start:Oc()+g,b:v};v||(z.group=sl,sl.r+=1),"inert"in l&&(v?f!==void 0&&(l.inert=f):(f=l.inert,l.inert=!0)),u||a?a=z:(q&&(p(),_=In(l,i,v,C,g,y,q)),v&&$(0,1),u=m(z,C),Xe(()=>kn(l,v,"start")),Fc(D=>{if(a&&D>a.start&&(u=m(a,C),a=null,kn(l,u.b,"start"),q&&(p(),_=In(l,i,u.b,u.duration,0,y,o.css))),u){if(D>=u.end)$(i=u.b,1-i),kn(l,u.b,"end"),a||(u.b?p():--u.group.r||Ve(u.group.c)),u=null;else if(D>=u.start){const P=D-u.start;i=u.a+u.d*y(P/u.duration),$(i,1-i)}}return!!(u||a)}))}return{run(v){fn(o)?ef().then(()=>{o=o({direction:v?"in":"out"}),h(v)}):h(v)},end(){p(),u=a=null}}}function pe(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function bu(l,e){R(l,1,1,()=>{e.delete(l.key)})}function ku(l,e,t,n,s,o,i,u,a,_,f,p){let m=l.length,h=o.length,v=m;const g={};for(;v--;)g[l[v].key]=v;const C=[],y=new Map,$=new Map,q=[];for(v=h;v--;){const T=p(s,o,v),E=t(T);let A=i.get(E);A?q.push(()=>A.p(T,e)):(A=_(E,T),A.c()),y.set(E,C[v]=A),E in g&&$.set(E,Math.abs(v-g[E]))}const z=new Set,D=new Set;function P(T){L(T,1),T.m(u,f),i.set(T.key,T),f=T.first,h--}for(;m&&h;){const T=C[h-1],E=l[m-1],A=T.key,M=E.key;T===E?(f=T.first,m--,h--):y.has(M)?!i.has(A)||z.has(A)?P(T):D.has(M)?m--:$.get(A)>$.get(M)?(D.add(A),P(T)):(z.add(M),m--):(a(E,i),m--)}for(;m--;){const T=l[m];y.has(T.key)||a(T,i)}for(;h;)P(C[h-1]);return Ve(q),C}function pl(l,e,t){const n=l.$$.props[e];n!==void 0&&(l.$$.bound[n]=t,t(l.$$.ctx[n]))}function de(l){l&&l.c()}function fe(l,e,t){const{fragment:n,after_update:s}=l.$$;n&&n.m(e,t),Xe(()=>{const o=l.$$.on_mount.map(cu).filter(fn);l.$$.on_destroy?l.$$.on_destroy.push(...o):Ve(o),l.$$.on_mount=[]}),s.forEach(Xe)}function _e(l,e){const t=l.$$;t.fragment!==null&&(xc(t.after_update),Ve(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function lf(l,e){l.$$.dirty[0]===-1&&(zl.push(l),Zc(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function $t(l,e,t,n,s,o,i=null,u=[-1]){const a=Vl;Gl(l);const _=l.$$={fragment:null,ctx:[],props:o,update:be,not_equal:s,bound:Rn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Rn(),dirty:u,skip_bound:!1,root:e.target||a.$$.root};i&&i(_.root);let f=!1;if(_.ctx=t?t(l,e.props||{},(p,m,...h)=>{const v=h.length?h[0]:m;return _.ctx&&s(_.ctx[p],_.ctx[p]=v)&&(!_.skip_bound&&_.bound[p]&&_.bound[p](v),f&&lf(l,p)),m}):[],_.update(),f=!0,Ve(_.before_update),_.fragment=n?n(_.ctx):!1,e.target){if(e.hydrate){const p=Hc(e.target);_.fragment&&_.fragment.l(p),p.forEach(k)}else _.fragment&&_.fragment.c();e.intro&&L(l.$$.fragment),fe(l,e.target,e.anchor),gu()}Gl(a)}class yt{constructor(){_l(this,"$$");_l(this,"$$set")}$destroy(){_e(this,1),this.$destroy=be}$on(e,t){if(!fn(t))return be;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!Rc(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const nf="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(nf);const Sl=[];function sf(l,e){return{subscribe:ll(l,e).subscribe}}function ll(l,e=be){let t;const n=new Set;function s(u){if(bt(l,u)&&(l=u,t)){const a=!Sl.length;for(const _ of n)_[1](),Sl.push(_,l);if(a){for(let _=0;_<Sl.length;_+=2)Sl[_][0](Sl[_+1]);Sl.length=0}}}function o(u){s(u(l))}function i(u,a=be){const _=[u,a];return n.add(_),n.size===1&&(t=e(s,o)||be),u(l),()=>{n.delete(_),n.size===0&&t&&(t(),t=null)}}return{set:s,update:o,subscribe:i}}function ml(l,e,t){const n=!Array.isArray(l),s=n?[l]:l;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const o=e.length<2;return sf(t,(i,u)=>{let a=!1;const _=[];let f=0,p=be;const m=()=>{if(f)return;p();const v=e(n?_[0]:_,i,u);o?i(v):p=fn(v)?v:be},h=s.map((v,g)=>Dn(v,C=>{_[g]=C,f&=~(1<<g),a&&m()},()=>{f|=1<<g}));return a=!0,m(),function(){Ve(h),p(),a=!1}})}function wu(l,e,t=7){if(typeof document>"u")return;const n=new Date(Date.now()+t*864e5).toUTCString();document.cookie=`${l}=${encodeURIComponent(e)}; expires=${n}; path=/; SameSite=Strict`}function $u(l){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(^| )"+l+"=([^;]+)"));return e?decodeURIComponent(e[2]):null}function of(l){typeof document>"u"||(document.cookie=`${l}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/; SameSite=Strict`)}const wn="jwt_token";function rf(){const l=$u(wn),{subscribe:e,set:t,update:n}=ll({token:l,user:null,loading:!1,error:null});return{subscribe:e,setToken(s){wu(wn,s,7),n(o=>({...o,token:s,error:null}))},setUser(s){n(o=>({...o,user:s}))},setError(s){n(o=>({...o,error:s,loading:!1}))},setLoading(s){n(o=>({...o,loading:s}))},logout(){of(wn),t({token:null,user:null,loading:!1,error:null})},clearError(){n(s=>({...s,error:null}))}}}const wt=rf();ml(wt,l=>!!l.token&&!!l.user);ml(wt,l=>l.user);let yu=[];function af(l){yu=l.map(e=>e.toLowerCase())}const uf=ml(wt,l=>{var e;return(e=l.user)!=null&&e.email?l.user.role==="admin"?!0:yu.includes(l.user.email.toLowerCase()):!1});function qn(l){wt.setToken(l)}function cf(){wt.logout()}function Cu(l){return $u(l)}function qu(l,e,t=30){wu(l,e,t)}let Su={baseUrl:"/api/v1",onUnauthorized:null};function ff(l,e={}){const t=e.config||Su,n=Al(wt),s={"Content-Type":"application/json"},o=l.startsWith("/auth/login")||l.startsWith("/auth/register");return n.token&&!o&&!e.skipAuth&&(s.Authorization=`Bearer ${n.token}`),e.headers&&Object.assign(s,e.headers),{url:t.baseUrl+l,headers:s}}async function _f(l,e={}){const t=e.config||Su;if(l.status===401){let n="Authentication failed";try{const o=await l.json();n=o.detail||o.error||o.message||n}catch{}throw Al(wt).token&&(wt.logout(),n="Session expired - please login again"),t.onUnauthorized&&t.onUnauthorized(n),new Error(n)}if(!l.ok){const n=await l.json().catch(()=>({detail:"Request failed"}));throw new Error(n.detail||n.error||n.message||"Request failed")}}async function df(l,e,t=null,n={}){const{url:s,headers:o}=ff(e,n),i={method:l,headers:o};t&&(i.body=JSON.stringify(t));const u=await fetch(s,i);if(await _f(u,n),u.status===204)return null;const a=await u.json();return a&&a.success===!0&&a.data!==void 0?a.data:a}async function Dl(l,e,t=null,n={}){return df(l,e,t,n)}function pf(l){let e,t,n,s,o,i,u=l[3]&&Bn();const a=l[9].default,_=jt(a,l,l[8],null);return{c(){e=d("button"),u&&u.c(),t=b(),_&&_.c(),c(e,"type",l[4]),c(e,"title",l[6]),c(e,"aria-label",l[7]),c(e,"class",n="btn btn-"+l[0]+" btn-"+l[1]+" svelte-1umzi1p"),e.disabled=l[2]},m(f,p){w(f,e,p),u&&u.m(e,null),r(e,t),_&&_.m(e,null),s=!0,o||(i=te(e,"click",l[11]),o=!0)},p(f,p){f[3]?u||(u=Bn(),u.c(),u.m(e,t)):u&&(u.d(1),u=null),_&&_.p&&(!s||p&256)&&At(_,a,f,f[8],s?Nt(a,f[8],p,null):Rt(f[8]),null),(!s||p&16)&&c(e,"type",f[4]),(!s||p&64)&&c(e,"title",f[6]),(!s||p&128)&&c(e,"aria-label",f[7]),(!s||p&3&&n!==(n="btn btn-"+f[0]+" btn-"+f[1]+" svelte-1umzi1p"))&&c(e,"class",n),(!s||p&4)&&(e.disabled=f[2])},i(f){s||(L(_,f),s=!0)},o(f){R(_,f),s=!1},d(f){f&&k(e),u&&u.d(),_&&_.d(f),o=!1,i()}}}function mf(l){let e,t,n,s,o,i,u=l[3]&&Un();const a=l[9].default,_=jt(a,l,l[8],null);return{c(){e=d("a"),u&&u.c(),t=b(),_&&_.c(),c(e,"href",l[5]),c(e,"title",l[6]),c(e,"aria-label",l[7]),c(e,"class",n="btn btn-"+l[0]+" btn-"+l[1]+" svelte-1umzi1p"),Ce(e,"disabled",l[2])},m(f,p){w(f,e,p),u&&u.m(e,null),r(e,t),_&&_.m(e,null),s=!0,o||(i=te(e,"click",l[10]),o=!0)},p(f,p){f[3]?u||(u=Un(),u.c(),u.m(e,t)):u&&(u.d(1),u=null),_&&_.p&&(!s||p&256)&&At(_,a,f,f[8],s?Nt(a,f[8],p,null):Rt(f[8]),null),(!s||p&32)&&c(e,"href",f[5]),(!s||p&64)&&c(e,"title",f[6]),(!s||p&128)&&c(e,"aria-label",f[7]),(!s||p&3&&n!==(n="btn btn-"+f[0]+" btn-"+f[1]+" svelte-1umzi1p"))&&c(e,"class",n),(!s||p&7)&&Ce(e,"disabled",f[2])},i(f){s||(L(_,f),s=!0)},o(f){R(_,f),s=!1},d(f){f&&k(e),u&&u.d(),_&&_.d(f),o=!1,i()}}}function Bn(l){let e;return{c(){e=d("span"),c(e,"class","spinner svelte-1umzi1p")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Un(l){let e;return{c(){e=d("span"),c(e,"class","spinner svelte-1umzi1p")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function vf(l){let e,t,n,s;const o=[mf,pf],i=[];function u(a,_){return a[5]?0:1}return e=u(l),t=i[e]=o[e](l),{c(){t.c(),n=Fe()},m(a,_){i[e].m(a,_),w(a,n,_),s=!0},p(a,[_]){let f=e;e=u(a),e===f?i[e].p(a,_):(Te(),R(i[f],1,1,()=>{i[f]=null}),ze(),t=i[e],t?t.p(a,_):(t=i[e]=o[e](a),t.c()),L(t,1),t.m(n.parentNode,n))},i(a){s||(L(t),s=!0)},o(a){R(t),s=!1},d(a){a&&k(n),i[e].d(a)}}}function hf(l,e,t){let{$$slots:n={},$$scope:s}=e,{variant:o="default"}=e,{size:i="md"}=e,{disabled:u=!1}=e,{loading:a=!1}=e,{type:_="button"}=e,{href:f=null}=e,{title:p=void 0}=e,{ariaLabel:m=void 0}=e;function h(g){on.call(this,l,g)}function v(g){on.call(this,l,g)}return l.$$set=g=>{"variant"in g&&t(0,o=g.variant),"size"in g&&t(1,i=g.size),"disabled"in g&&t(2,u=g.disabled),"loading"in g&&t(3,a=g.loading),"type"in g&&t(4,_=g.type),"href"in g&&t(5,f=g.href),"title"in g&&t(6,p=g.title),"ariaLabel"in g&&t(7,m=g.ariaLabel),"$$scope"in g&&t(8,s=g.$$scope)},[o,i,u,a,_,f,p,m,s,n,h,v]}class Ue extends yt{constructor(e){super(),$t(this,e,hf,vf,bt,{variant:0,size:1,disabled:2,loading:3,type:4,href:5,title:6,ariaLabel:7})}}const gf=l=>({}),Hn=l=>({}),bf=l=>({}),Gn=l=>({});function Vn(l,e,t){const n=l.slice();return n[57]=e[t],n[58]=e,n[59]=t,n}function Wn(l,e,t){const n=l.slice();return n[60]=e[t],n}function Jn(l,e,t){const n=l.slice();return n[63]=e[t],n}const kf=l=>({}),Kn=l=>({}),wf=l=>({}),Yn=l=>({});function Qn(l){let e;function t(o,i){return o[2]?yf:$f}let n=t(l),s=n(l);return{c(){s.c(),e=Fe()},m(o,i){s.m(o,i),w(o,e,i)},p(o,i){n===(n=t(o))&&s?s.p(o,i):(s.d(1),s=n(o),s&&(s.c(),s.m(e.parentNode,e)))},d(o){o&&k(e),s.d(o)}}}function $f(l){let e;return{c(){e=d("span"),c(e,"class","brand-dot svelte-18o6zjb")},m(t,n){w(t,e,n)},p:be,d(t){t&&k(e)}}}function yf(l){let e,t;return{c(){e=d("img"),ln(e.src,t=l[2])||c(e,"src",t),c(e,"alt",l[0]),c(e,"class","auth-logo svelte-18o6zjb")},m(n,s){w(n,e,s)},p(n,s){s[0]&4&&!ln(e.src,t=n[2])&&c(e,"src",t),s[0]&1&&c(e,"alt",n[0])},d(n){n&&k(e)}}}function Cf(l){let e,t,n,s,o,i,u,a=l[3]&&Qn(l);return{c(){e=d("div"),a&&a.c(),t=b(),n=d("h1"),s=S(l[0]),o=b(),i=d("p"),u=S(l[1]),c(n,"class","svelte-18o6zjb"),c(i,"class","subtitle svelte-18o6zjb"),c(e,"class","auth-header svelte-18o6zjb")},m(_,f){w(_,e,f),a&&a.m(e,null),r(e,t),r(e,n),r(n,s),r(e,o),r(e,i),r(i,u)},p(_,f){_[3]?a?a.p(_,f):(a=Qn(_),a.c(),a.m(e,t)):a&&(a.d(1),a=null),f[0]&1&&I(s,_[0]),f[0]&2&&I(u,_[1])},d(_){_&&k(e),a&&a.d()}}}function Zn(l){let e,t,n,s=pe(l[6]),o=[];for(let u=0;u<s.length;u+=1)o[u]=Xn(Jn(l,s,u));let i=!l[7]&&xn();return{c(){e=d("div");for(let u=0;u<o.length;u+=1)o[u].c();t=b(),i&&i.c(),n=Fe(),c(e,"class","social-login svelte-18o6zjb")},m(u,a){w(u,e,a);for(let _=0;_<o.length;_+=1)o[_]&&o[_].m(e,null);w(u,t,a),i&&i.m(u,a),w(u,n,a)},p(u,a){if(a[0]&67371072|a[1]&1){s=pe(u[6]);let _;for(_=0;_<s.length;_+=1){const f=Jn(u,s,_);o[_]?o[_].p(f,a):(o[_]=Xn(f),o[_].c(),o[_].m(e,null))}for(;_<o.length;_+=1)o[_].d(1);o.length=s.length}u[7]?i&&(i.d(1),i=null):i||(i=xn(),i.c(),i.m(n.parentNode,n))},d(u){u&&(k(e),k(t),k(n)),Le(o,u),i&&i.d(u)}}}function Xn(l){let e,t,n=(l[26][l[63]]||"")+"",s,o=l[63].charAt(0).toUpperCase()+l[63].slice(1)+"",i,u,a,_,f;function p(){return l[43](l[63])}return{c(){e=d("button"),t=d("span"),s=S(`
            Continue with `),i=S(o),u=b(),c(t,"class","social-icon svelte-18o6zjb"),c(e,"class",a="btn-social btn-social-"+l[63]+" svelte-18o6zjb"),e.disabled=l[18]},m(m,h){w(m,e,h),r(e,t),t.innerHTML=n,r(e,s),r(e,i),r(e,u),_||(f=te(e,"click",p),_=!0)},p(m,h){l=m,h[0]&64&&n!==(n=(l[26][l[63]]||"")+"")&&(t.innerHTML=n),h[0]&64&&o!==(o=l[63].charAt(0).toUpperCase()+l[63].slice(1)+"")&&I(i,o),h[0]&64&&a!==(a="btn-social btn-social-"+l[63]+" svelte-18o6zjb")&&c(e,"class",a),h[0]&262144&&(e.disabled=l[18])},d(m){m&&k(e),_=!1,f()}}}function xn(l){let e;return{c(){e=d("div"),e.innerHTML='<span class="svelte-18o6zjb">or</span>',c(e,"class","divider svelte-18o6zjb")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function es(l){let e,t,n,s,o,i,u,a=l[10]&&l[27][l[10]]&&ts(l),_=!l[7]&&ls();return{c(){e=d("button"),a&&a.c(),t=b(),n=S(l[9]),s=b(),_&&_.c(),o=Fe(),c(e,"class","btn-sso svelte-18o6zjb"),e.disabled=l[18]},m(f,p){w(f,e,p),a&&a.m(e,null),r(e,t),r(e,n),w(f,s,p),_&&_.m(f,p),w(f,o,p),i||(u=te(e,"click",l[32]),i=!0)},p(f,p){f[10]&&f[27][f[10]]?a?a.p(f,p):(a=ts(f),a.c(),a.m(e,t)):a&&(a.d(1),a=null),p[0]&512&&I(n,f[9]),p[0]&262144&&(e.disabled=f[18]),f[7]?_&&(_.d(1),_=null):_||(_=ls(),_.c(),_.m(o.parentNode,o))},d(f){f&&(k(e),k(s),k(o)),a&&a.d(),_&&_.d(f),i=!1,u()}}}function ts(l){let e,t=l[27][l[10]]+"";return{c(){e=d("span"),c(e,"class","sso-icon svelte-18o6zjb")},m(n,s){w(n,e,s),e.innerHTML=t},p(n,s){s[0]&1024&&t!==(t=n[27][n[10]]+"")&&(e.innerHTML=t)},d(n){n&&k(e)}}}function ls(l){let e;return{c(){e=d("div"),e.innerHTML='<span class="svelte-18o6zjb">or use email</span>',c(e,"class","divider svelte-18o6zjb")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function ns(l){let e,t,n,s,o,i=l[4]&&ss(l);const u=[Sf,qf],a=[];function _(f,p){return f[17]==="login"?0:1}return t=_(l),n=a[t]=u[t](l),{c(){i&&i.c(),e=b(),n.c(),s=Fe()},m(f,p){i&&i.m(f,p),w(f,e,p),a[t].m(f,p),w(f,s,p),o=!0},p(f,p){f[4]?i?i.p(f,p):(i=ss(f),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null);let m=t;t=_(f),t===m?a[t].p(f,p):(Te(),R(a[m],1,1,()=>{a[m]=null}),ze(),n=a[t],n?n.p(f,p):(n=a[t]=u[t](f),n.c()),L(n,1),n.m(s.parentNode,s))},i(f){o||(L(n),o=!0)},o(f){R(n),o=!1},d(f){f&&(k(e),k(s)),i&&i.d(f),a[t].d(f)}}}function ss(l){let e,t,n,s,o,i;return{c(){e=d("div"),t=d("button"),t.textContent="Sign In",n=b(),s=d("button"),s.textContent="Sign Up",c(t,"class","tab svelte-18o6zjb"),Ce(t,"active",l[17]==="login"),c(s,"class","tab svelte-18o6zjb"),Ce(s,"active",l[17]==="signup"),c(e,"class","tabs svelte-18o6zjb")},m(u,a){w(u,e,a),r(e,t),r(e,n),r(e,s),o||(i=[te(t,"click",l[44]),te(s,"click",l[45])],o=!0)},p(u,a){a[0]&131072&&Ce(t,"active",u[17]==="login"),a[0]&131072&&Ce(s,"active",u[17]==="signup")},d(u){u&&k(e),o=!1,Ve(i)}}}function qf(l){let e,t,n,s,o,i,u,a,_,f,p,m,h,v,g,C,y,$,q,z,D,P,T=pe(l[15]),E=[];for(let M=0;M<T.length;M+=1)E[M]=is(Vn(l,T,M));let A=l[11]&&rs(l);return q=new Ue({props:{type:"submit",variant:"primary",loading:l[18],disabled:l[18],$$slots:{default:[Ef]},$$scope:{ctx:l}}}),{c(){e=d("form"),t=d("div"),n=d("label"),n.textContent="Email",s=b(),o=d("input"),i=b(),u=d("div"),a=d("label"),a.textContent="Password",_=b(),f=d("input"),p=b(),m=d("div"),h=d("label"),h.textContent="Confirm Password",v=b(),g=d("input"),C=b();for(let M=0;M<E.length;M+=1)E[M].c();y=b(),A&&A.c(),$=b(),de(q.$$.fragment),c(n,"for","signup-email"),c(n,"class","svelte-18o6zjb"),c(o,"type","email"),c(o,"id","signup-email"),c(o,"placeholder","you@example.com"),o.required=!0,o.disabled=l[18],c(o,"autocomplete","email"),c(o,"class","svelte-18o6zjb"),c(t,"class","form-group svelte-18o6zjb"),c(a,"for","signup-password"),c(a,"class","svelte-18o6zjb"),c(f,"type","password"),c(f,"id","signup-password"),c(f,"placeholder","••••••••"),f.required=!0,f.disabled=l[18],c(f,"autocomplete","new-password"),c(f,"class","svelte-18o6zjb"),c(u,"class","form-group svelte-18o6zjb"),c(h,"for","signup-confirm"),c(h,"class","svelte-18o6zjb"),c(g,"type","password"),c(g,"id","signup-confirm"),c(g,"placeholder","••••••••"),g.required=!0,g.disabled=l[18],c(g,"autocomplete","new-password"),c(g,"class","svelte-18o6zjb"),c(m,"class","form-group svelte-18o6zjb"),c(e,"class","svelte-18o6zjb")},m(M,O){w(M,e,O),r(e,t),r(t,n),r(t,s),r(t,o),ne(o,l[22]),r(e,i),r(e,u),r(u,a),r(u,_),r(u,f),ne(f,l[23]),r(e,p),r(e,m),r(m,h),r(m,v),r(m,g),ne(g,l[24]),r(e,C);for(let J=0;J<E.length;J+=1)E[J]&&E[J].m(e,null);r(e,y),A&&A.m(e,null),r(e,$),fe(q,e,null),z=!0,D||(P=[te(o,"input",l[48]),te(f,"input",l[49]),te(g,"input",l[50]),te(e,"submit",l[30])],D=!0)},p(M,O){if((!z||O[0]&262144)&&(o.disabled=M[18]),O[0]&4194304&&o.value!==M[22]&&ne(o,M[22]),(!z||O[0]&262144)&&(f.disabled=M[18]),O[0]&8388608&&f.value!==M[23]&&ne(f,M[23]),(!z||O[0]&262144)&&(g.disabled=M[18]),O[0]&16777216&&g.value!==M[24]&&ne(g,M[24]),O[0]&360448){T=pe(M[15]);let W;for(W=0;W<T.length;W+=1){const F=Vn(M,T,W);E[W]?E[W].p(F,O):(E[W]=is(F),E[W].c(),E[W].m(e,y))}for(;W<E.length;W+=1)E[W].d(1);E.length=T.length}M[11]?A?A.p(M,O):(A=rs(M),A.c(),A.m(e,$)):A&&(A.d(1),A=null);const J={};O[0]&262144&&(J.loading=M[18]),O[0]&262144&&(J.disabled=M[18]),O[1]&16777216&&(J.$$scope={dirty:O,ctx:M}),q.$set(J)},i(M){z||(L(q.$$.fragment,M),z=!0)},o(M){R(q.$$.fragment,M),z=!1},d(M){M&&k(e),Le(E,M),A&&A.d(),_e(q),D=!1,Ve(P)}}}function Sf(l){let e,t,n,s,o,i,u,a,_,f,p,m,h,v,g,C,y=l[5]&&as(l);return h=new Ue({props:{type:"submit",variant:"primary",loading:l[18],disabled:l[18],$$slots:{default:[Pf]},$$scope:{ctx:l}}}),{c(){e=d("form"),t=d("div"),n=d("label"),n.textContent="Email",s=b(),o=d("input"),i=b(),u=d("div"),a=d("label"),a.textContent="Password",_=b(),f=d("input"),p=b(),y&&y.c(),m=b(),de(h.$$.fragment),c(n,"for","login-email"),c(n,"class","svelte-18o6zjb"),c(o,"type","email"),c(o,"id","login-email"),c(o,"placeholder","you@example.com"),o.required=!0,o.disabled=l[18],c(o,"autocomplete","email"),c(o,"class","svelte-18o6zjb"),c(t,"class","form-group svelte-18o6zjb"),c(a,"for","login-password"),c(a,"class","svelte-18o6zjb"),c(f,"type","password"),c(f,"id","login-password"),c(f,"placeholder","••••••••"),f.required=!0,f.disabled=l[18],c(f,"autocomplete","current-password"),c(f,"class","svelte-18o6zjb"),c(u,"class","form-group svelte-18o6zjb"),c(e,"class","svelte-18o6zjb")},m($,q){w($,e,q),r(e,t),r(t,n),r(t,s),r(t,o),ne(o,l[20]),r(e,i),r(e,u),r(u,a),r(u,_),r(u,f),ne(f,l[21]),r(e,p),y&&y.m(e,null),r(e,m),fe(h,e,null),v=!0,g||(C=[te(o,"input",l[46]),te(f,"input",l[47]),te(e,"submit",l[29])],g=!0)},p($,q){(!v||q[0]&262144)&&(o.disabled=$[18]),q[0]&1048576&&o.value!==$[20]&&ne(o,$[20]),(!v||q[0]&262144)&&(f.disabled=$[18]),q[0]&2097152&&f.value!==$[21]&&ne(f,$[21]),$[5]?y?y.p($,q):(y=as($),y.c(),y.m(e,m)):y&&(y.d(1),y=null);const z={};q[0]&262144&&(z.loading=$[18]),q[0]&262144&&(z.disabled=$[18]),q[1]&16777216&&(z.$$scope={dirty:q,ctx:$}),h.$set(z)},i($){v||(L(h.$$.fragment,$),v=!0)},o($){R(h.$$.fragment,$),v=!1},d($){$&&k(e),y&&y.d(),_e(h),g=!1,Ve(C)}}}function Tf(l){let e,t,n,s,o,i;function u(){l[53].call(e,l[57])}return{c(){e=d("input"),c(e,"type","text"),c(e,"id",t="signup-"+l[57].name),c(e,"placeholder",n=l[57].placeholder||""),e.required=s=l[57].required,e.disabled=l[18],c(e,"class","svelte-18o6zjb")},m(a,_){w(a,e,_),ne(e,l[16][l[57].name]),o||(i=te(e,"input",u),o=!0)},p(a,_){l=a,_[0]&32768&&t!==(t="signup-"+l[57].name)&&c(e,"id",t),_[0]&32768&&n!==(n=l[57].placeholder||"")&&c(e,"placeholder",n),_[0]&32768&&s!==(s=l[57].required)&&(e.required=s),_[0]&262144&&(e.disabled=l[18]),_[0]&98304&&e.value!==l[16][l[57].name]&&ne(e,l[16][l[57].name])},d(a){a&&k(e),o=!1,i()}}}function zf(l){let e,t,n,s,o,i;function u(){l[52].call(e,l[57])}return{c(){e=d("textarea"),c(e,"id",t="signup-"+l[57].name),c(e,"placeholder",n=l[57].placeholder||""),e.required=s=l[57].required,e.disabled=l[18],c(e,"rows","3"),c(e,"class","svelte-18o6zjb")},m(a,_){w(a,e,_),ne(e,l[16][l[57].name]),o||(i=te(e,"input",u),o=!0)},p(a,_){l=a,_[0]&32768&&t!==(t="signup-"+l[57].name)&&c(e,"id",t),_[0]&32768&&n!==(n=l[57].placeholder||"")&&c(e,"placeholder",n),_[0]&32768&&s!==(s=l[57].required)&&(e.required=s),_[0]&262144&&(e.disabled=l[18]),_[0]&98304&&ne(e,l[16][l[57].name])},d(a){a&&k(e),o=!1,i()}}}function Df(l){let e,t,n,s,o,i,u=pe(l[57].options),a=[];for(let f=0;f<u.length;f+=1)a[f]=os(Wn(l,u,f));function _(){l[51].call(e,l[57])}return{c(){e=d("select"),t=d("option"),t.textContent="Select...";for(let f=0;f<a.length;f+=1)a[f].c();t.__value="",ne(t,t.__value),c(e,"id",n="signup-"+l[57].name),e.required=s=l[57].required,e.disabled=l[18],c(e,"class","svelte-18o6zjb"),l[16][l[57].name]===void 0&&Xe(_)},m(f,p){w(f,e,p),r(e,t);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(e,null);je(e,l[16][l[57].name],!0),o||(i=te(e,"change",_),o=!0)},p(f,p){if(l=f,p[0]&32768){u=pe(l[57].options);let m;for(m=0;m<u.length;m+=1){const h=Wn(l,u,m);a[m]?a[m].p(h,p):(a[m]=os(h),a[m].c(),a[m].m(e,null))}for(;m<a.length;m+=1)a[m].d(1);a.length=u.length}p[0]&32768&&n!==(n="signup-"+l[57].name)&&c(e,"id",n),p[0]&32768&&s!==(s=l[57].required)&&(e.required=s),p[0]&262144&&(e.disabled=l[18]),p[0]&98304&&je(e,l[16][l[57].name])},d(f){f&&k(e),Le(a,f),o=!1,i()}}}function os(l){let e,t=l[60]+"",n,s;return{c(){e=d("option"),n=S(t),e.__value=s=l[60],ne(e,e.__value)},m(o,i){w(o,e,i),r(e,n)},p(o,i){i[0]&32768&&t!==(t=o[60]+"")&&I(n,t),i[0]&32768&&s!==(s=o[60])&&(e.__value=s,ne(e,e.__value))},d(o){o&&k(e)}}}function is(l){let e,t,n=l[57].label+"",s,o,i,u;function a(p,m){return p[57].type==="select"&&p[57].options?Df:p[57].type==="textarea"?zf:Tf}let _=a(l),f=_(l);return{c(){e=d("div"),t=d("label"),s=S(n),i=b(),f.c(),u=b(),c(t,"for",o="signup-"+l[57].name),c(t,"class","svelte-18o6zjb"),c(e,"class","form-group svelte-18o6zjb")},m(p,m){w(p,e,m),r(e,t),r(t,s),r(e,i),f.m(e,null),r(e,u)},p(p,m){m[0]&32768&&n!==(n=p[57].label+"")&&I(s,n),m[0]&32768&&o!==(o="signup-"+p[57].name)&&c(t,"for",o),_===(_=a(p))&&f?f.p(p,m):(f.d(1),f=_(p),f&&(f.c(),f.m(e,u)))},d(p){p&&k(e),f.d()}}}function rs(l){let e,t,n,s,o,i,u,a,_,f,p,m,h;return{c(){e=d("label"),t=d("input"),n=b(),s=d("span"),o=S(l[14]),i=b(),u=d("a"),a=S("Terms"),_=S(` and 
                `),f=d("a"),p=S("Privacy Policy"),c(t,"type","checkbox"),t.disabled=l[18],c(t,"class","svelte-18o6zjb"),c(u,"href",l[12]),c(u,"target","_blank"),c(u,"class","svelte-18o6zjb"),c(f,"href",l[13]),c(f,"target","_blank"),c(f,"class","svelte-18o6zjb"),c(e,"class","terms-checkbox svelte-18o6zjb")},m(v,g){w(v,e,g),r(e,t),t.checked=l[25],r(e,n),r(e,s),r(s,o),r(s,i),r(s,u),r(u,a),r(s,_),r(s,f),r(f,p),m||(h=te(t,"change",l[54]),m=!0)},p(v,g){g[0]&262144&&(t.disabled=v[18]),g[0]&33554432&&(t.checked=v[25]),g[0]&16384&&I(o,v[14]),g[0]&4096&&c(u,"href",v[12]),g[0]&8192&&c(f,"href",v[13])},d(v){v&&k(e),m=!1,h()}}}function Ef(l){let e;return{c(){e=S("Create Account")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function as(l){let e,t,n;return{c(){e=d("button"),e.textContent="Forgot password?",c(e,"type","button"),c(e,"class","link-btn forgot-link svelte-18o6zjb")},m(s,o){w(s,e,o),t||(n=te(e,"click",l[33]),t=!0)},p:be,d(s){s&&k(e),t=!1,n()}}}function Pf(l){let e;return{c(){e=S("Sign In")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function us(l){let e,t;return{c(){e=d("p"),t=S(l[19]),c(e,"class","error-message svelte-18o6zjb")},m(n,s){w(n,e,s),r(e,t)},p(n,s){s[0]&524288&&I(t,n[19])},d(n){n&&k(e)}}}function Lf(l){let e,t,n,s,o,i,u,a,_,f;const p=l[42].header,m=jt(p,l,l[55],Yn),h=m||Cf(l),v=l[42]["before-form"],g=jt(v,l,l[55],Kn);let C=l[6].length>0&&Zn(l),y=l[8]&&es(l),$=!l[7]&&ns(l),q=l[19]&&us(l);const z=l[42]["after-form"],D=jt(z,l,l[55],Gn),P=l[42].footer,T=jt(P,l,l[55],Hn);return{c(){e=d("div"),t=d("div"),h&&h.c(),n=b(),g&&g.c(),s=b(),C&&C.c(),o=b(),y&&y.c(),i=b(),$&&$.c(),u=b(),q&&q.c(),a=b(),D&&D.c(),_=b(),T&&T.c(),c(t,"class","auth-card glass svelte-18o6zjb"),c(e,"class","auth-container svelte-18o6zjb")},m(E,A){w(E,e,A),r(e,t),h&&h.m(t,null),r(t,n),g&&g.m(t,null),r(t,s),C&&C.m(t,null),r(t,o),y&&y.m(t,null),r(t,i),$&&$.m(t,null),r(t,u),q&&q.m(t,null),r(t,a),D&&D.m(t,null),r(t,_),T&&T.m(t,null),f=!0},p(E,A){m?m.p&&(!f||A[1]&16777216)&&At(m,p,E,E[55],f?Nt(p,E[55],A,wf):Rt(E[55]),Yn):h&&h.p&&(!f||A[0]&15)&&h.p(E,f?A:[-1,-1,-1]),g&&g.p&&(!f||A[1]&16777216)&&At(g,v,E,E[55],f?Nt(v,E[55],A,kf):Rt(E[55]),Kn),E[6].length>0?C?C.p(E,A):(C=Zn(E),C.c(),C.m(t,o)):C&&(C.d(1),C=null),E[8]?y?y.p(E,A):(y=es(E),y.c(),y.m(t,i)):y&&(y.d(1),y=null),E[7]?$&&(Te(),R($,1,1,()=>{$=null}),ze()):$?($.p(E,A),A[0]&128&&L($,1)):($=ns(E),$.c(),L($,1),$.m(t,u)),E[19]?q?q.p(E,A):(q=us(E),q.c(),q.m(t,a)):q&&(q.d(1),q=null),D&&D.p&&(!f||A[1]&16777216)&&At(D,z,E,E[55],f?Nt(z,E[55],A,bf):Rt(E[55]),Gn),T&&T.p&&(!f||A[1]&16777216)&&At(T,P,E,E[55],f?Nt(P,E[55],A,gf):Rt(E[55]),Hn)},i(E){f||(L(h,E),L(g,E),L($),L(D,E),L(T,E),f=!0)},o(E){R(h,E),R(g,E),R($),R(D,E),R(T,E),f=!1},d(E){E&&k(e),h&&h.d(E),g&&g.d(E),C&&C.d(),y&&y.d(),$&&$.d(),q&&q.d(),D&&D.d(E),T&&T.d(E)}}}function Mf(l,e,t){let{$$slots:n={},$$scope:s}=e,{title:o="Welcome"}=e,{subtitle:i="Sign in to your account"}=e,{logo:u=null}=e,{showLogo:a=!0}=e,{allowSignup:_=!0}=e,{allowPasswordReset:f=!0}=e,{requireEmailVerification:p=!1}=e,{socialProviders:m=[]}=e,{socialOnly:h=!1}=e,{ssoEnabled:v=!1}=e,{ssoButtonText:g="Sign in with SSO"}=e,{ssoProvider:C=null}=e,{ssoUrl:y="/api/v1/auth/sso"}=e,{showTerms:$=!1}=e,{termsUrl:q="/terms"}=e,{privacyUrl:z="/privacy"}=e,{termsText:D="I agree to the"}=e,{signupFields:P=[]}=e,{apiBase:T="/api/v1"}=e,{loginEndpoint:E="/auth/login"}=e,{registerEndpoint:A="/auth/register"}=e,{meEndpoint:M="/auth/me"}=e,{onSuccess:O=null}=e,{onError:J=null}=e;const W=Rl();let F="login",B=!1,N=null,j="",U="",X="",Z="",ee="",se=!1,Q={};const G={google:'<svg viewBox="0 0 24 24" fill="currentColor"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/></svg>',github:'<svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/></svg>',microsoft:'<svg viewBox="0 0 24 24" fill="currentColor"><path d="M11.4 11.4H0V0h11.4v11.4z" fill="#F25022"/><path d="M24 11.4H12.6V0H24v11.4z" fill="#7FBA00"/><path d="M11.4 24H0V12.6h11.4V24z" fill="#00A4EF"/><path d="M24 24H12.6V12.6H24V24z" fill="#FFB900"/></svg>',apple:'<svg viewBox="0 0 24 24" fill="currentColor"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"/></svg>',facebook:'<svg viewBox="0 0 24 24" fill="#1877F2"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>'},H={okta:'<svg viewBox="0 0 24 24" fill="currentColor"><circle cx="12" cy="12" r="10" fill="#007DC1"/><path d="M12 6a6 6 0 100 12 6 6 0 000-12zm0 9a3 3 0 110-6 3 3 0 010 6z" fill="white"/></svg>',azure:'<svg viewBox="0 0 24 24" fill="currentColor"><path d="M13.05 4.24L6.56 18.05l2.97.01 1.42-3.22h5.09l-.96 3.21h3.03L13.05 4.24z" fill="#0078D4"/></svg>'};function re(ve){t(17,F=ve),t(19,N=null)}async function V(ve){ve.preventDefault(),t(18,B=!0),t(19,N=null);try{const Ae=await Dl("POST",E,{username:j,password:U},{skipAuth:!0}),Me=(Ae==null?void 0:Ae.access_token)||(Ae==null?void 0:Ae.token);if(!Me)throw new Error("Login failed - no token returned");qn(Me);let Ee=Ae==null?void 0:Ae.user;if(Ee||(Ee=await Dl("GET",M)),!Ee)throw new Error("Login failed - no user info");wt.setUser(Ee);const Ie={user:Ee,token:Me};W("success",Ie),O&&O(Ie)}catch(Ae){t(19,N=Ae.message),W("error",{error:Ae.message,type:"login"}),J&&J({error:Ae.message,type:"login"})}finally{t(18,B=!1)}}async function ae(ve){if(ve.preventDefault(),Z!==ee){t(19,N="Passwords do not match");return}if($&&!se){t(19,N="Please accept the terms and conditions");return}t(18,B=!0),t(19,N=null);try{const Ae={username:X,email:X,password:Z,...Q};await Dl("POST",A,Ae,{skipAuth:!0});const Me=await Dl("POST",E,{username:X,password:Z},{skipAuth:!0}),Ee=(Me==null?void 0:Me.access_token)||(Me==null?void 0:Me.token);if(!Ee)throw new Error("Signup failed - no token returned");qn(Ee);let Ie=Me==null?void 0:Me.user;if(Ie||(Ie=await Dl("GET",M)),!Ie)throw new Error("Signup failed - no user info");wt.setUser(Ie);const et={user:Ie,token:Ee};W("success",et),O&&O(et)}catch(Ae){t(19,N=Ae.message),W("error",{error:Ae.message,type:"signup"}),J&&J({error:Ae.message,type:"signup"})}finally{t(18,B=!1)}}async function le(ve){window.location.href=`${T}/auth/oauth/${ve}`}async function K(){window.location.href=y}function me(){W("passwordReset",{email:j})}const ue=ve=>le(ve),ie=()=>re("login"),x=()=>re("signup");function Y(){j=this.value,t(20,j)}function he(){U=this.value,t(21,U)}function ke(){X=this.value,t(22,X)}function Ge(){Z=this.value,t(23,Z)}function rt(){ee=this.value,t(24,ee)}function kt(ve){Q[ve.name]=ct(this),t(16,Q),t(15,P),t(15,P)}function dt(ve){Q[ve.name]=this.value,t(16,Q),t(15,P),t(15,P)}function De(ve){Q[ve.name]=this.value,t(16,Q),t(15,P),t(15,P)}function Oe(){se=this.checked,t(25,se)}return l.$$set=ve=>{"title"in ve&&t(0,o=ve.title),"subtitle"in ve&&t(1,i=ve.subtitle),"logo"in ve&&t(2,u=ve.logo),"showLogo"in ve&&t(3,a=ve.showLogo),"allowSignup"in ve&&t(4,_=ve.allowSignup),"allowPasswordReset"in ve&&t(5,f=ve.allowPasswordReset),"requireEmailVerification"in ve&&t(34,p=ve.requireEmailVerification),"socialProviders"in ve&&t(6,m=ve.socialProviders),"socialOnly"in ve&&t(7,h=ve.socialOnly),"ssoEnabled"in ve&&t(8,v=ve.ssoEnabled),"ssoButtonText"in ve&&t(9,g=ve.ssoButtonText),"ssoProvider"in ve&&t(10,C=ve.ssoProvider),"ssoUrl"in ve&&t(35,y=ve.ssoUrl),"showTerms"in ve&&t(11,$=ve.showTerms),"termsUrl"in ve&&t(12,q=ve.termsUrl),"privacyUrl"in ve&&t(13,z=ve.privacyUrl),"termsText"in ve&&t(14,D=ve.termsText),"signupFields"in ve&&t(15,P=ve.signupFields),"apiBase"in ve&&t(36,T=ve.apiBase),"loginEndpoint"in ve&&t(37,E=ve.loginEndpoint),"registerEndpoint"in ve&&t(38,A=ve.registerEndpoint),"meEndpoint"in ve&&t(39,M=ve.meEndpoint),"onSuccess"in ve&&t(40,O=ve.onSuccess),"onError"in ve&&t(41,J=ve.onError),"$$scope"in ve&&t(55,s=ve.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&98304&&P.forEach(ve=>{ve.name in Q||t(16,Q[ve.name]=ve.default||"",Q)})},[o,i,u,a,_,f,m,h,v,g,C,$,q,z,D,P,Q,F,B,N,j,U,X,Z,ee,se,G,H,re,V,ae,le,K,me,p,y,T,E,A,M,O,J,n,ue,ie,x,Y,he,ke,Ge,rt,kt,dt,De,Oe,s]}class jf extends yt{constructor(e){super(),$t(this,e,Mf,Lf,bt,{title:0,subtitle:1,logo:2,showLogo:3,allowSignup:4,allowPasswordReset:5,requireEmailVerification:34,socialProviders:6,socialOnly:7,ssoEnabled:8,ssoButtonText:9,ssoProvider:10,ssoUrl:35,showTerms:11,termsUrl:12,privacyUrl:13,termsText:14,signupFields:15,apiBase:36,loginEndpoint:37,registerEndpoint:38,meEndpoint:39,onSuccess:40,onError:41},null,[-1,-1,-1])}}const Mn="theme",cs="dark";function Nf(){return typeof localStorage>"u"?cs:localStorage.getItem(Mn)||cs}function Sn(l){typeof document<"u"&&document.documentElement.setAttribute("data-theme",l)}function Af(){const l=Nf(),{subscribe:e,set:t}=ll(l);return Sn(l),{subscribe:e,set(n){typeof localStorage<"u"&&localStorage.setItem(Mn,n),Sn(n),t(n)}}}const Tu=Af();function Rf(){Tu.update(l=>{const e=l==="dark"?"light":"dark";return typeof localStorage<"u"&&localStorage.setItem(Mn,e),Sn(e),e})}function Of(l){let e,t;return{c(){e=Ml("svg"),t=Ml("path"),c(t,"d","M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"),c(e,"viewBox","0 0 24 24"),c(e,"fill","none"),c(e,"stroke","currentColor"),c(e,"stroke-width","2"),c(e,"class","svelte-8jsmst")},m(n,s){w(n,e,s),r(e,t)},d(n){n&&k(e)}}}function Ff(l){let e,t,n;return{c(){e=Ml("svg"),t=Ml("circle"),n=Ml("path"),c(t,"cx","12"),c(t,"cy","12"),c(t,"r","5"),c(n,"d","M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"),c(e,"viewBox","0 0 24 24"),c(e,"fill","none"),c(e,"stroke","currentColor"),c(e,"stroke-width","2"),c(e,"class","svelte-8jsmst")},m(s,o){w(s,e,o),r(e,t),r(e,n)},d(s){s&&k(e)}}}function If(l){let e,t,n,s;function o(a,_){return a[0]==="dark"?Ff:Of}let i=o(l),u=i(l);return{c(){e=d("button"),u.c(),c(e,"class","theme-toggle svelte-8jsmst"),c(e,"title",t=l[0]==="dark"?"Switch to light mode":"Switch to dark mode"),c(e,"aria-label","Toggle theme")},m(a,_){w(a,e,_),u.m(e,null),n||(s=te(e,"click",Rf),n=!0)},p(a,[_]){i!==(i=o(a))&&(u.d(1),u=i(a),u&&(u.c(),u.m(e,null))),_&1&&t!==(t=a[0]==="dark"?"Switch to light mode":"Switch to dark mode")&&c(e,"title",t)},i:be,o:be,d(a){a&&k(e),u.d(),n=!1,s()}}}function Bf(l,e,t){let n;return _t(l,Tu,s=>t(0,n=s)),[n]}class Uf extends yt{constructor(e){super(),$t(this,e,Bf,If,bt,{})}}const Hf=l=>({}),fs=l=>({}),Gf=l=>({}),_s=l=>({});function ds(l){let e;function t(o,i){return o[1]?Wf:Vf}let n=t(l),s=n(l);return{c(){s.c(),e=Fe()},m(o,i){s.m(o,i),w(o,e,i)},p(o,i){n===(n=t(o))&&s?s.p(o,i):(s.d(1),s=n(o),s&&(s.c(),s.m(e.parentNode,e)))},d(o){o&&k(e),s.d(o)}}}function Vf(l){let e;return{c(){e=d("span"),c(e,"class","brand-dot svelte-x14ysc")},m(t,n){w(t,e,n)},p:be,d(t){t&&k(e)}}}function Wf(l){let e,t;return{c(){e=d("img"),ln(e.src,t=l[1])||c(e,"src",t),c(e,"alt",l[0]),c(e,"class","header-logo svelte-x14ysc")},m(n,s){w(n,e,s)},p(n,s){s&2&&!ln(e.src,t=n[1])&&c(e,"src",t),s&1&&c(e,"alt",n[0])},d(n){n&&k(e)}}}function ps(l){let e;return{c(){e=d("span"),e.textContent="MOCK",c(e,"class","mock-badge svelte-x14ysc")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function ms(l){let e,t;return e=new Uf({}),{c(){de(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},i(n){t||(L(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function vs(l){let e,t=(l[8].user.email||l[8].user.username)+"",n;return{c(){e=d("span"),n=S(t),c(e,"class","user-email svelte-x14ysc")},m(s,o){w(s,e,o),r(e,n)},p(s,o){o&256&&t!==(t=(s[8].user.email||s[8].user.username)+"")&&I(n,t)},d(s){s&&k(e)}}}function hs(l){let e,t;return e=new Ue({props:{variant:"ghost",size:"sm",$$slots:{default:[Jf]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){de(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s&4160&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(L(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function Jf(l){let e;return{c(){e=S(l[6])},m(t,n){w(t,e,n)},p(t,n){n&64&&I(e,t[6])},d(t){t&&k(e)}}}function Kf(l){let e,t,n,s,o,i,u,a,_,f,p,m,h,v=l[2]&&ds(l);const g=l[11]["after-title"],C=jt(g,l,l[12],_s),y=l[11].actions,$=jt(y,l,l[12],fs);let q=l[7]&&ps(),z=l[4]&&ms(),D=l[3]&&l[8].user&&vs(l),P=l[5]&&l[8].token&&hs(l);return{c(){e=d("header"),t=d("div"),v&&v.c(),n=b(),s=d("h1"),o=S(l[0]),i=b(),C&&C.c(),u=b(),a=d("div"),$&&$.c(),_=b(),q&&q.c(),f=b(),z&&z.c(),p=b(),D&&D.c(),m=b(),P&&P.c(),c(s,"class","svelte-x14ysc"),c(t,"class","header-brand svelte-x14ysc"),c(a,"class","header-actions svelte-x14ysc"),c(e,"class","header glass svelte-x14ysc")},m(T,E){w(T,e,E),r(e,t),v&&v.m(t,null),r(t,n),r(t,s),r(s,o),r(t,i),C&&C.m(t,null),r(e,u),r(e,a),$&&$.m(a,null),r(a,_),q&&q.m(a,null),r(a,f),z&&z.m(a,null),r(a,p),D&&D.m(a,null),r(a,m),P&&P.m(a,null),h=!0},p(T,[E]){T[2]?v?v.p(T,E):(v=ds(T),v.c(),v.m(t,n)):v&&(v.d(1),v=null),(!h||E&1)&&I(o,T[0]),C&&C.p&&(!h||E&4096)&&At(C,g,T,T[12],h?Nt(g,T[12],E,Gf):Rt(T[12]),_s),$&&$.p&&(!h||E&4096)&&At($,y,T,T[12],h?Nt(y,T[12],E,Hf):Rt(T[12]),fs),T[7]?q||(q=ps(),q.c(),q.m(a,f)):q&&(q.d(1),q=null),T[4]?z?E&16&&L(z,1):(z=ms(),z.c(),L(z,1),z.m(a,p)):z&&(Te(),R(z,1,1,()=>{z=null}),ze()),T[3]&&T[8].user?D?D.p(T,E):(D=vs(T),D.c(),D.m(a,m)):D&&(D.d(1),D=null),T[5]&&T[8].token?P?(P.p(T,E),E&288&&L(P,1)):(P=hs(T),P.c(),L(P,1),P.m(a,null)):P&&(Te(),R(P,1,1,()=>{P=null}),ze())},i(T){h||(L(C,T),L($,T),L(z),L(P),h=!0)},o(T){R(C,T),R($,T),R(z),R(P),h=!1},d(T){T&&k(e),v&&v.d(),C&&C.d(T),$&&$.d(T),q&&q.d(),z&&z.d(),D&&D.d(),P&&P.d()}}}function Yf(l,e,t){var y,$;let n;_t(l,wt,q=>t(8,n=q));let{$$slots:s={},$$scope:o}=e,{title:i="Dashboard"}=e,{logo:u=null}=e,{showLogo:a=!0}=e,{showUser:_=!0}=e,{showThemeToggle:f=!1}=e,{showLogout:p=!0}=e,{logoutText:m="Logout"}=e,{showMockBadge:h=!1}=e;const v=Rl();let g=h;try{typeof window<"u"&&(g=h||(($=(y=import.meta)==null?void 0:y.env)==null?void 0:$.VITE_MOCK_API)==="1"||localStorage.getItem("mockApi")==="1")}catch{g=h}function C(){cf(),v("logout")}return l.$$set=q=>{"title"in q&&t(0,i=q.title),"logo"in q&&t(1,u=q.logo),"showLogo"in q&&t(2,a=q.showLogo),"showUser"in q&&t(3,_=q.showUser),"showThemeToggle"in q&&t(4,f=q.showThemeToggle),"showLogout"in q&&t(5,p=q.showLogout),"logoutText"in q&&t(6,m=q.logoutText),"showMockBadge"in q&&t(10,h=q.showMockBadge),"$$scope"in q&&t(12,o=q.$$scope)},[i,u,a,_,f,p,m,g,n,C,h,s,o]}class Qf extends yt{constructor(e){super(),$t(this,e,Yf,Kf,bt,{title:0,logo:1,showLogo:2,showUser:3,showThemeToggle:4,showLogout:5,logoutText:6,showMockBadge:10})}}function Zf(l){let e,t,n;const s=l[2].default,o=jt(s,l,l[1],null);return{c(){e=d("span"),o&&o.c(),c(e,"class",t="badge badge-"+l[0]+" svelte-1d0la3i")},m(i,u){w(i,e,u),o&&o.m(e,null),n=!0},p(i,[u]){o&&o.p&&(!n||u&2)&&At(o,s,i,i[1],n?Nt(s,i[1],u,null):Rt(i[1]),null),(!n||u&1&&t!==(t="badge badge-"+i[0]+" svelte-1d0la3i"))&&c(e,"class",t)},i(i){n||(L(o,i),n=!0)},o(i){R(o,i),n=!1},d(i){i&&k(e),o&&o.d(i)}}}function Xf(l,e,t){let{$$slots:n={},$$scope:s}=e,{variant:o="info"}=e;return l.$$set=i=>{"variant"in i&&t(0,o=i.variant),"$$scope"in i&&t(1,s=i.$$scope)},[o,s,n]}class Qe extends yt{constructor(e){super(),$t(this,e,Xf,Zf,bt,{variant:0})}}const xf=l=>({}),gs=l=>({}),e1=l=>({}),bs=l=>({});function ks(l){let e,t,n,s=l[0]&&ws(l);const o=l[5].header,i=jt(o,l,l[4],bs);return{c(){e=d("div"),s&&s.c(),t=b(),i&&i.c(),c(e,"class","card-header svelte-1qbuf8h")},m(u,a){w(u,e,a),s&&s.m(e,null),r(e,t),i&&i.m(e,null),n=!0},p(u,a){u[0]?s?s.p(u,a):(s=ws(u),s.c(),s.m(e,t)):s&&(s.d(1),s=null),i&&i.p&&(!n||a&16)&&At(i,o,u,u[4],n?Nt(o,u[4],a,e1):Rt(u[4]),bs)},i(u){n||(L(i,u),n=!0)},o(u){R(i,u),n=!1},d(u){u&&k(e),s&&s.d(),i&&i.d(u)}}}function ws(l){let e,t;return{c(){e=d("span"),t=S(l[0]),c(e,"class","card-title svelte-1qbuf8h")},m(n,s){w(n,e,s),r(e,t)},p(n,s){s&1&&I(t,n[0])},d(n){n&&k(e)}}}function $s(l){let e,t;const n=l[5].footer,s=jt(n,l,l[4],gs);return{c(){e=d("div"),s&&s.c(),c(e,"class","card-footer svelte-1qbuf8h")},m(o,i){w(o,e,i),s&&s.m(e,null),t=!0},p(o,i){s&&s.p&&(!t||i&16)&&At(s,n,o,o[4],t?Nt(n,o[4],i,xf):Rt(o[4]),gs)},i(o){t||(L(s,o),t=!0)},o(o){R(s,o),t=!1},d(o){o&&k(e),s&&s.d(o)}}}function t1(l){let e,t,n,s,o,i=(l[0]||l[3].header)&&ks(l);const u=l[5].default,a=jt(u,l,l[4],null);let _=l[3].footer&&$s(l);return{c(){e=d("div"),i&&i.c(),t=b(),n=d("div"),a&&a.c(),s=b(),_&&_.c(),c(n,"class","card-body svelte-1qbuf8h"),c(e,"class","card svelte-1qbuf8h"),Ce(e,"glass",l[1]),Ce(e,"no-padding",!l[2])},m(f,p){w(f,e,p),i&&i.m(e,null),r(e,t),r(e,n),a&&a.m(n,null),r(e,s),_&&_.m(e,null),o=!0},p(f,[p]){f[0]||f[3].header?i?(i.p(f,p),p&9&&L(i,1)):(i=ks(f),i.c(),L(i,1),i.m(e,t)):i&&(Te(),R(i,1,1,()=>{i=null}),ze()),a&&a.p&&(!o||p&16)&&At(a,u,f,f[4],o?Nt(u,f[4],p,null):Rt(f[4]),null),f[3].footer?_?(_.p(f,p),p&8&&L(_,1)):(_=$s(f),_.c(),L(_,1),_.m(e,null)):_&&(Te(),R(_,1,1,()=>{_=null}),ze()),(!o||p&2)&&Ce(e,"glass",f[1]),(!o||p&4)&&Ce(e,"no-padding",!f[2])},i(f){o||(L(i),L(a,f),L(_),o=!0)},o(f){R(i),R(a,f),R(_),o=!1},d(f){f&&k(e),i&&i.d(),a&&a.d(f),_&&_.d()}}}function l1(l,e,t){let{$$slots:n={},$$scope:s}=e;const o=_u(n);let{title:i=""}=e,{glass:u=!1}=e,{padding:a=!0}=e;return l.$$set=_=>{"title"in _&&t(0,i=_.title),"glass"in _&&t(1,u=_.glass),"padding"in _&&t(2,a=_.padding),"$$scope"in _&&t(4,s=_.$$scope)},[i,u,a,o,s,n]}class ft extends yt{constructor(e){super(),$t(this,e,l1,t1,bt,{title:0,glass:1,padding:2})}}function zu(l){const e=l-1;return e*e*e+1}function ys(l,{delay:e=0,duration:t=400,easing:n=au}={}){const s=+getComputedStyle(l).opacity;return{delay:e,duration:t,easing:n,css:o=>`opacity: ${o*s}`}}function Cs(l,{delay:e=0,duration:t=400,easing:n=zu,x:s=0,y:o=0,opacity:i=0}={}){const u=getComputedStyle(l),a=+u.opacity,_=u.transform==="none"?"":u.transform,f=a*(1-i),[p,m]=On(s),[h,v]=On(o);return{delay:e,duration:t,easing:n,css:(g,C)=>`
			transform: ${_} translate(${(1-g)*p}${m}, ${(1-g)*h}${v});
			opacity: ${a-f*C}`}}function qs(l,{delay:e=0,duration:t=400,easing:n=zu,start:s=0,opacity:o=0}={}){const i=getComputedStyle(l),u=+i.opacity,a=i.transform==="none"?"":i.transform,_=1-s,f=u*(1-o);return{delay:e,duration:t,easing:n,css:(p,m)=>`
			transform: ${a} scale(${1-_*m});
			opacity: ${u-f*m}
		`}}const n1=l=>({}),Ss=l=>({}),s1=l=>({}),Ts=l=>({});function zs(l){let e,t,n,s,o,i,u,a,_,f,p=(l[1]||l[6].header)&&Ds(l);const m=l[9].default,h=jt(m,l,l[8],null);let v=l[6].footer&&Ps(l);return{c(){e=d("div"),t=d("div"),p&&p.c(),n=b(),s=d("div"),h&&h.c(),o=b(),v&&v.c(),c(s,"class","modal-body svelte-f0wwwf"),c(t,"class","modal svelte-f0wwwf"),It(t,"max-width",l[2]),c(e,"class","modal-overlay svelte-f0wwwf"),c(e,"role","dialog"),c(e,"aria-modal","true")},m(g,C){w(g,e,C),r(e,t),p&&p.m(t,null),r(t,n),r(t,s),h&&h.m(s,null),r(t,o),v&&v.m(t,null),a=!0,_||(f=te(e,"click",l[4]),_=!0)},p(g,C){g[1]||g[6].header?p?(p.p(g,C),C&66&&L(p,1)):(p=Ds(g),p.c(),L(p,1),p.m(t,n)):p&&(Te(),R(p,1,1,()=>{p=null}),ze()),h&&h.p&&(!a||C&256)&&At(h,m,g,g[8],a?Nt(m,g[8],C,null):Rt(g[8]),null),g[6].footer?v?(v.p(g,C),C&64&&L(v,1)):(v=Ps(g),v.c(),L(v,1),v.m(t,null)):v&&(Te(),R(v,1,1,()=>{v=null}),ze()),(!a||C&4)&&It(t,"max-width",g[2])},i(g){a||(L(p),L(h,g),L(v),g&&Xe(()=>{a&&(i||(i=Pl(t,qs,{duration:200,start:.95},!0)),i.run(1))}),g&&Xe(()=>{a&&(u||(u=Pl(e,ys,{duration:150},!0)),u.run(1))}),a=!0)},o(g){R(p),R(h,g),R(v),g&&(i||(i=Pl(t,qs,{duration:200,start:.95},!1)),i.run(0)),g&&(u||(u=Pl(e,ys,{duration:150},!1)),u.run(0)),a=!1},d(g){g&&k(e),p&&p.d(),h&&h.d(g),v&&v.d(),g&&i&&i.end(),g&&u&&u.end(),_=!1,f()}}}function Ds(l){let e,t,n,s,o,i,u,a=l[1]&&Es(l);const _=l[9].header,f=jt(_,l,l[8],Ts);return{c(){e=d("div"),a&&a.c(),t=b(),f&&f.c(),n=b(),s=d("button"),s.innerHTML='<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-f0wwwf"><path d="M18 6L6 18M6 6l12 12"></path></svg>',c(s,"class","modal-close svelte-f0wwwf"),c(s,"aria-label","Close"),c(e,"class","modal-header svelte-f0wwwf")},m(p,m){w(p,e,m),a&&a.m(e,null),r(e,t),f&&f.m(e,null),r(e,n),r(e,s),o=!0,i||(u=te(s,"click",l[3]),i=!0)},p(p,m){p[1]?a?a.p(p,m):(a=Es(p),a.c(),a.m(e,t)):a&&(a.d(1),a=null),f&&f.p&&(!o||m&256)&&At(f,_,p,p[8],o?Nt(_,p[8],m,s1):Rt(p[8]),Ts)},i(p){o||(L(f,p),o=!0)},o(p){R(f,p),o=!1},d(p){p&&k(e),a&&a.d(),f&&f.d(p),i=!1,u()}}}function Es(l){let e,t;return{c(){e=d("h3"),t=S(l[1]),c(e,"class","svelte-f0wwwf")},m(n,s){w(n,e,s),r(e,t)},p(n,s){s&2&&I(t,n[1])},d(n){n&&k(e)}}}function Ps(l){let e,t;const n=l[9].footer,s=jt(n,l,l[8],Ss);return{c(){e=d("div"),s&&s.c(),c(e,"class","modal-footer svelte-f0wwwf")},m(o,i){w(o,e,i),s&&s.m(e,null),t=!0},p(o,i){s&&s.p&&(!t||i&256)&&At(s,n,o,o[8],t?Nt(n,o[8],i,n1):Rt(o[8]),Ss)},i(o){t||(L(s,o),t=!0)},o(o){R(s,o),t=!1},d(o){o&&k(e),s&&s.d(o)}}}function o1(l){let e,t,n,s,o=l[0]&&zs(l);return{c(){o&&o.c(),e=Fe()},m(i,u){o&&o.m(i,u),w(i,e,u),t=!0,n||(s=te(window,"keydown",l[5]),n=!0)},p(i,[u]){i[0]?o?(o.p(i,u),u&1&&L(o,1)):(o=zs(i),o.c(),L(o,1),o.m(e.parentNode,e)):o&&(Te(),R(o,1,1,()=>{o=null}),ze())},i(i){t||(L(o),t=!0)},o(i){R(o),t=!1},d(i){i&&k(e),o&&o.d(i),n=!1,s()}}}function i1(l,e,t){let{$$slots:n={},$$scope:s}=e;const o=_u(n);let{open:i=!1}=e,{title:u=""}=e,{width:a="500px"}=e,{closeOnOverlay:_=!0}=e;const f=Rl();function p(){f("close")}function m(v){_&&v.target===v.currentTarget&&p()}function h(v){v.key==="Escape"&&p()}return l.$$set=v=>{"open"in v&&t(0,i=v.open),"title"in v&&t(1,u=v.title),"width"in v&&t(2,a=v.width),"closeOnOverlay"in v&&t(7,_=v.closeOnOverlay),"$$scope"in v&&t(8,s=v.$$scope)},[i,u,a,p,m,h,o,_,s,n]}class ol extends yt{constructor(e){super(),$t(this,e,i1,o1,bt,{open:0,title:1,width:2,closeOnOverlay:7})}}function Ls(l,e,t){const n=l.slice();return n[6]=e[t],n}function Ms(l){let e,t=l[6].icon+"",n;return{c(){e=d("span"),n=S(t),c(e,"class","tab-icon svelte-1po08a6")},m(s,o){w(s,e,o),r(e,n)},p(s,o){o&2&&t!==(t=s[6].icon+"")&&I(n,t)},d(s){s&&k(e)}}}function js(l){let e,t,n=l[6].label+"",s,o,i,u,a=l[6].icon&&Ms(l);function _(){return l[4](l[6])}return{c(){e=d("button"),a&&a.c(),t=b(),s=S(n),o=b(),c(e,"class","tab svelte-1po08a6"),Ce(e,"active",l[0]===l[6].id)},m(f,p){w(f,e,p),a&&a.m(e,null),r(e,t),r(e,s),r(e,o),i||(u=te(e,"click",_),i=!0)},p(f,p){l=f,l[6].icon?a?a.p(l,p):(a=Ms(l),a.c(),a.m(e,t)):a&&(a.d(1),a=null),p&2&&n!==(n=l[6].label+"")&&I(s,n),p&3&&Ce(e,"active",l[0]===l[6].id)},d(f){f&&k(e),a&&a.d(),i=!1,u()}}}function r1(l){let e,t=pe(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=js(Ls(l,t,s));return{c(){e=d("div");for(let s=0;s<n.length;s+=1)n[s].c();c(e,"class","tabs svelte-1po08a6"),Ce(e,"scrollable",l[2])},m(s,o){w(s,e,o);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(s,[o]){if(o&11){t=pe(s[1]);let i;for(i=0;i<t.length;i+=1){const u=Ls(s,t,i);n[i]?n[i].p(u,o):(n[i]=js(u),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}o&4&&Ce(e,"scrollable",s[2])},i:be,o:be,d(s){s&&k(e),Le(n,s)}}}function a1(l,e,t){let{tabs:n=[]}=e,{active:s=""}=e,{scrollable:o=!0}=e;const i=Rl();function u(_){t(0,s=_),i("change",_)}const a=_=>u(_.id);return l.$$set=_=>{"tabs"in _&&t(1,n=_.tabs),"active"in _&&t(0,s=_.active),"scrollable"in _&&t(2,o=_.scrollable)},[s,n,o,u,a]}class u1 extends yt{constructor(e){super(),$t(this,e,a1,r1,bt,{tabs:1,active:0,scrollable:2})}}function c1(){const{subscribe:l,update:e}=ll([]);let t=0;function n(o,i="info",u=3e3){const a={id:++t,message:o,type:i};return e(_=>[..._,a]),u>0&&setTimeout(()=>s(a.id),u),a.id}function s(o){e(i=>i.filter(u=>u.id!==o))}return{subscribe:l,success:(o,i)=>n(o,"success",i),error:(o,i)=>n(o,"error",i??5e3),warning:(o,i)=>n(o,"warning",i),info:(o,i)=>n(o,"info",i),add:n,remove:s}}const ye=c1();function Ns(l,e,t){const n=l.slice();return n[2]=e[t],n}function As(l,e){let t,n,s=e[2].message+"",o,i,u,a,_,f,p,m,h;function v(){return e[1](e[2])}return{key:l,first:null,c(){t=d("div"),n=d("span"),o=S(s),i=b(),u=d("button"),u.textContent="×",a=b(),c(n,"class","toast-message svelte-1l5lsfn"),c(u,"class","toast-close svelte-1l5lsfn"),c(t,"class",_="toast toast-"+e[2].type+" svelte-1l5lsfn"),this.first=t},m(g,C){w(g,t,C),r(t,n),r(n,o),r(t,i),r(t,u),r(t,a),p=!0,m||(h=te(u,"click",v),m=!0)},p(g,C){e=g,(!p||C&1)&&s!==(s=e[2].message+"")&&I(o,s),(!p||C&1&&_!==(_="toast toast-"+e[2].type+" svelte-1l5lsfn"))&&c(t,"class",_)},i(g){p||(g&&Xe(()=>{p&&(f||(f=Pl(t,Cs,{x:100,duration:200},!0)),f.run(1))}),p=!0)},o(g){g&&(f||(f=Pl(t,Cs,{x:100,duration:200},!1)),f.run(0)),p=!1},d(g){g&&k(t),g&&f&&f.end(),m=!1,h()}}}function f1(l){let e,t=[],n=new Map,s,o=pe(l[0]);const i=u=>u[2].id;for(let u=0;u<o.length;u+=1){let a=Ns(l,o,u),_=i(a);n.set(_,t[u]=As(_,a))}return{c(){e=d("div");for(let u=0;u<t.length;u+=1)t[u].c();c(e,"class","toast-container svelte-1l5lsfn")},m(u,a){w(u,e,a);for(let _=0;_<t.length;_+=1)t[_]&&t[_].m(e,null);s=!0},p(u,[a]){a&1&&(o=pe(u[0]),Te(),t=ku(t,a,i,1,u,o,n,e,bu,As,null,Ns),ze())},i(u){if(!s){for(let a=0;a<o.length;a+=1)L(t[a]);s=!0}},o(u){for(let a=0;a<t.length;a+=1)R(t[a]);s=!1},d(u){u&&k(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function _1(l,e,t){let n;return _t(l,ye,o=>t(0,n=o)),[n,o=>ye.remove(o.id)]}class d1 extends yt{constructor(e){super(),$t(this,e,_1,f1,bt,{})}}const p1={internal:{allowSignup:!1,allowPasswordReset:!1,socialProviders:[],ssoEnabled:!1,showTerms:!1,subtitle:"Sign in to continue"}};af(["vergnetp@yahoo.fr"]);function Ot(){return Cu("do_token_local")}function m1(l){qu("do_token_local",l,30)}function Tn(){return Cu("cf_token_local")}function v1(l){qu("cf_token_local",l,30)}const Du="/api/v1",Eu=["/infra/servers","/infra/snapshots","/infra/setup","/infra/deploy","/infra/registry","/infra/agent","/infra/architecture","/infra/fleet","/infra/projects","/infra/containers","/infra/services","/infra/deployments"];function Pu(l,e={}){const t=Al(wt),n={"Content-Type":"application/json"},s=l.startsWith("/auth/login")||l.startsWith("/auth/register");t.token&&t.token.trim()!==""&&!s&&!e.skipAuth&&(n.Authorization=`Bearer ${t.token}`);let o=Du+l;if(!e.skipDoToken&&(l.startsWith("/infra/")||Eu.some(u=>l.startsWith(u)))){const u=Ot();if(!u)return{error:"DO token not set",url:null,headers:null};const a=o.includes("?")?"&":"?";o+=`${a}do_token=${encodeURIComponent(u)}`}return{url:o,headers:n,error:null}}async function jn(l){if(l.status===401){let e="Authentication failed";try{const n=await l.json();e=n.detail||n.error||n.message||e}catch{}throw Al(wt).token&&(wt.logout(),e="Session expired - please login again"),new Error(e)}if(!l.ok){const e=await l.json().catch(()=>({detail:"Request failed"}));throw new Error(e.detail||e.error||e.message||"Request failed")}}async function He(l,e,t=null,n={}){const{url:s,headers:o,error:i}=Pu(e,n);if(i)return console.debug(`Skipping ${e} - ${i}`),null;const u={method:l,headers:o};t&&(u.body=JSON.stringify(t));const a=await fetch(s,u);if(await jn(a),a.status===204)return null;const _=await a.json();return _&&_.success===!0&&_.data!==void 0?_.data:_}async function en(l,e,t=null,n,s={}){const{url:o,headers:i,error:u}=Pu(e,s);if(u)throw new Error(u);const a={method:l,headers:i};t&&(a.body=JSON.stringify(t));const _=await fetch(o,a);await jn(_);const f=_.body.getReader(),p=new TextDecoder;let m="";for(;;){const{done:h,value:v}=await f.read();if(h)break;m+=p.decode(v,{stream:!0});const g=m.split(`
`);m=g.pop()||"";for(const C of g)if(C.startsWith("data: "))try{const y=JSON.parse(C.slice(6));n(y)}catch{}}}async function h1(l,e,t,n={}){const s=Al(wt);let o=Du+l;if(!n.skipDoToken&&Eu.some(m=>l.startsWith(m))){const m=Ot();if(!m)throw new Error("DO token not set");const h=o.includes("?")?"&":"?";o+=`${h}do_token=${encodeURIComponent(m)}`}const u={};s.token&&(u.Authorization=`Bearer ${s.token}`);const a=await fetch(o,{method:"POST",headers:u,body:e});await jn(a);const _=a.body.getReader(),f=new TextDecoder;let p="";for(;;){const{done:m,value:h}=await _.read();if(m)break;p+=f.decode(h,{stream:!0});const v=p.split(`
`);p=v.pop()||"";for(const g of v)if(g.startsWith("data: "))try{const C=JSON.parse(g.slice(6));t(C)}catch{}}}function g1(l,e,t={}){const{refreshInterval:n=0,revalidateOnFocus:s=!0,revalidateOnMount:o=!0,dedupingInterval:i=2e3,initialData:u=null}=t,a=ll({data:u,error:null,loading:!1,lastFetched:null});let _=0,f=null,p=null,m=0;async function h(q=!1){const z=Date.now();return!q&&f&&z-_<i||(_=z,a.update(D=>{var P;return{...D,loading:D.data===null||((P=D.data)==null?void 0:P.length)===0}}),f=(async()=>{try{const D=await e();return a.set({data:D,error:null,loading:!1,lastFetched:new Date}),D}catch(D){throw a.update(P=>({...P,error:D.message||"Fetch failed",loading:!1})),D}finally{f=null}})()),f}function v(){document.visibilityState==="visible"&&s&&h()}function g(){n>0&&!p&&(p=setInterval(()=>h(),n))}function C(){p&&(clearInterval(p),p=null)}const{subscribe:y}=a;function $(q){m++,m===1&&(s&&typeof document<"u"&&document.addEventListener("visibilitychange",v),o&&h(),g());const z=y(q);return()=>{z(),m--,m===0&&(typeof document<"u"&&document.removeEventListener("visibilitychange",v),C())}}return{subscribe:$,refresh:()=>h(!0),mutate:q=>a.update(z=>({...z,data:q})),get:()=>Al(a)}}function _n(l,e={}){const{transform:t=s=>s,...n}=e;return g1(l,async()=>{const s=await He("GET",l);return t(s)},n)}function b1(l,e={}){const{transform:t=a=>a,...n}=e,s=ll({data:null,error:null,loading:!1,lastFetched:null});let o=null,i=null;async function u(a){const _=l(a);if(!_){s.set({data:null,error:null,loading:!1,lastFetched:null});return}return i&&JSON.stringify(a)===JSON.stringify(o)||(o=a,s.update(f=>({...f,loading:!0})),i=(async()=>{try{const f=await He("GET",_),p=t(f);return s.set({data:p,error:null,loading:!1,lastFetched:new Date}),p}catch(f){throw s.update(p=>({...p,error:f.message||"Fetch failed",loading:!1})),f}finally{i=null}})()),i}return{subscribe:s.subscribe,fetch:u,refresh:()=>o&&u(o),clear:()=>{o=null,s.set({data:null,error:null,loading:!1,lastFetched:null})}}}const Rs=ll("infra");function k1(){const{subscribe:l,set:e}=ll(null);return typeof window<"u"&&e(Ot()),{subscribe:l,refresh(){e(Ot())},set(t){e(t)}}}const Lu=k1(),El=ll({project:"",env:"",server:"",container:"",range:"30d",tail:!1}),Xt=_n("/infra/servers",{transform:l=>(l==null?void 0:l.servers)||l||[],refreshInterval:6e4,revalidateOnFocus:!0,initialData:[]}),Nn=_n("/infra/projects",{transform:l=>(l==null?void 0:l.projects)||[],refreshInterval:12e4,initialData:[]}),dn=_n("/infra/snapshots",{transform:l=>(l==null?void 0:l.snapshots)||[],refreshInterval:6e4,initialData:[]}),bl=_n("/infra/deployments/history",{transform:l=>(l==null?void 0:l.deployments)||[],refreshInterval:3e4,initialData:[]}),zn=b1(l=>l!=null&&l.server?`/infra/agent/${l.server}/containers`:null,{transform:l=>{const e=(l==null?void 0:l.containers)||l||[];return(Array.isArray(e)?e:[]).map(t=>({id:t.ID||t.Id||t.id,name:t.Names||t.Name||t.name||"unknown",image:t.Image||t.image,status:t.Status||t.State||t.status,state:t.State||t.state}))}}),pn=ml(Xt,l=>(l==null?void 0:l.data)||[]),An=ml(Nn,l=>(l==null?void 0:l.data)||[]),w1=ml(dn,l=>(l==null?void 0:l.data)||[]),Mu=ml(bl,l=>(l==null?void 0:l.data)||[]),$1=ml(zn,l=>(l==null?void 0:l.data)||[]),y1="1.9.7";function C1(){const l=typeof localStorage<"u"&&localStorage.getItem("theme")||"dark",{subscribe:e,set:t}=ll(l);return typeof document<"u"&&document.documentElement.setAttribute("data-theme",l),{subscribe:e,set(n){typeof localStorage<"u"&&localStorage.setItem("theme",n),typeof document<"u"&&document.documentElement.setAttribute("data-theme",n),t(n)}}}const $n=C1();function Os(l,e,t){const n=l.slice();return n[20]=e[t],n}function Fs(l,e,t){var o,i,u;const n=l.slice();n[23]=e[t];const s=n[23].ip||((u=(i=(o=n[23].networks)==null?void 0:o.v4)==null?void 0:i[0])==null?void 0:u.ip_address);return n[24]=s,n}function Is(l,e,t){const n=l.slice();return n[27]=e[t],n}function Bs(l,e,t){const n=l.slice();return n[30]=e[t],n}function Us(l){let e,t=l[30]+"",n,s;return{c(){e=d("option"),n=S(t),e.__value=s=l[30],ne(e,e.__value)},m(o,i){w(o,e,i),r(e,n)},p(o,i){i[0]&16&&t!==(t=o[30]+"")&&I(n,t),i[0]&16&&s!==(s=o[30])&&(e.__value=s,ne(e,e.__value))},d(o){o&&k(e)}}}function Hs(l){let e,t=l[27]+"",n,s;return{c(){e=d("option"),n=S(t),e.__value=s=l[27],ne(e,e.__value)},m(o,i){w(o,e,i),r(e,n)},p(o,i){i[0]&8&&t!==(t=o[27]+"")&&I(n,t),i[0]&8&&s!==(s=o[27])&&(e.__value=s,ne(e,e.__value))},d(o){o&&k(e)}}}function Gs(l){let e,t=(l[23].name||"unnamed")+"",n,s,o=l[24]+"",i,u,a;return{c(){e=d("option"),n=S(t),s=S(" ("),i=S(o),u=S(")"),e.__value=a=l[23].id,ne(e,e.__value)},m(_,f){w(_,e,f),r(e,n),r(e,s),r(e,i),r(e,u)},p(_,f){f[0]&32&&t!==(t=(_[23].name||"unnamed")+"")&&I(n,t),f[0]&32&&o!==(o=_[24]+"")&&I(i,o),f[0]&32&&a!==(a=_[23].id)&&(e.__value=a,ne(e,e.__value))},d(_){_&&k(e)}}}function Vs(l){let e,t=l[24]&&l[23].id&&Gs(l);return{c(){t&&t.c(),e=Fe()},m(n,s){t&&t.m(n,s),w(n,e,s)},p(n,s){n[24]&&n[23].id?t?t.p(n,s):(t=Gs(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&k(e),t&&t.d(n)}}}function Ws(l){let e,t,n,s,o,i,u,a,_=pe(l[6]||[]),f=[];for(let p=0;p<_.length;p+=1)f[p]=Js(Os(l,_,p));return{c(){e=d("div"),t=d("label"),t.textContent="Container:",n=b(),s=d("select"),o=d("option"),o.textContent="(All)";for(let p=0;p<f.length;p+=1)f[p].c();c(t,"class","svelte-1wvrz0m"),o.__value="",ne(o,o.__value),c(s,"class","svelte-1wvrz0m"),c(e,"class","scope-field svelte-1wvrz0m")},m(p,m){w(p,e,m),r(e,t),r(e,n),r(e,s),r(s,o);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(s,null);je(s,l[2].container),u||(a=te(s,"change",l[16]),u=!0)},p(p,m){if(m[0]&64){_=pe(p[6]||[]);let h;for(h=0;h<_.length;h+=1){const v=Os(p,_,h);f[h]?f[h].p(v,m):(f[h]=Js(v),f[h].c(),f[h].m(s,null))}for(;h<f.length;h+=1)f[h].d(1);f.length=_.length}m[0]&20&&i!==(i=p[2].container)&&je(s,p[2].container)},d(p){p&&k(e),Le(f,p),u=!1,a()}}}function Js(l){let e,t=l[20].name+"",n,s;return{c(){e=d("option"),n=S(t),e.__value=s=l[20].name,ne(e,e.__value)},m(o,i){w(o,e,i),r(e,n)},p(o,i){i[0]&64&&t!==(t=o[20].name+"")&&I(n,t),i[0]&64&&s!==(s=o[20].name)&&(e.__value=s,ne(e,e.__value))},d(o){o&&k(e)}}}function Ks(l){let e,t,n,s,o,i;return{c(){e=d("label"),t=d("input"),s=S(`
      Tail`),c(t,"type","checkbox"),t.checked=n=l[2].tail,c(t,"class","svelte-1wvrz0m"),c(e,"class","tail-toggle svelte-1wvrz0m")},m(u,a){w(u,e,a),r(e,t),r(e,s),o||(i=te(t,"change",l[18]),o=!0)},p(u,a){a[0]&20&&n!==(n=u[2].tail)&&(t.checked=n)},d(u){u&&k(e),o=!1,i()}}}function q1(l){let e,t,n,s,o,i,u,a,_,f,p,m,h,v,g,C,y,$,q,z,D,P,T,E,A,M,O,J,W,F,B,N,j,U,X,Z,ee,se,Q,G,H,re,V=pe(l[4]),ae=[];for(let Y=0;Y<V.length;Y+=1)ae[Y]=Us(Bs(l,V,Y));let le=pe(l[3]),K=[];for(let Y=0;Y<le.length;Y+=1)K[Y]=Hs(Is(l,le,Y));let me=pe(l[5]||[]),ue=[];for(let Y=0;Y<me.length;Y+=1)ue[Y]=Vs(Fs(l,me,Y));let ie=l[1]&&l[2].server&&Ws(l),x=l[0]&&Ks(l);return{c(){e=d("div"),t=d("div"),n=d("div"),n.innerHTML='<span class="brand-dot svelte-1wvrz0m"></span> <span>cc</span>',s=b(),o=d("div"),i=d("label"),i.textContent="Project:",u=b(),a=d("select"),_=d("option"),_.textContent="All";for(let Y=0;Y<ae.length;Y+=1)ae[Y].c();p=b(),m=d("div"),h=d("label"),h.textContent="Env:",v=b(),g=d("select"),C=d("option"),C.textContent="All";for(let Y=0;Y<K.length;Y+=1)K[Y].c();$=b(),q=d("div"),z=d("label"),z.textContent="Server:",D=b(),P=d("select"),T=d("option"),T.textContent="(Fleet)";for(let Y=0;Y<ue.length;Y+=1)ue[Y].c();A=b(),ie&&ie.c(),M=b(),O=d("div"),J=d("label"),J.textContent="Last",W=b(),F=d("select"),B=d("option"),B.textContent="15m",N=d("option"),N.textContent="1h",j=d("option"),j.textContent="6h",U=d("option"),U.textContent="24h",X=d("option"),X.textContent="7d",Z=d("option"),Z.textContent="30d",se=b(),Q=d("button"),Q.innerHTML='<svg viewBox="0 0 24 24" fill="none" class="svelte-1wvrz0m"><path d="M20 12a8 8 0 1 1-2.34-5.66" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path><path d="M20 4v6h-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>',G=b(),x&&x.c(),c(n,"class","scope-brand svelte-1wvrz0m"),c(i,"class","svelte-1wvrz0m"),_.__value="",ne(_,_.__value),c(a,"class","svelte-1wvrz0m"),c(o,"class","scope-field svelte-1wvrz0m"),c(h,"class","svelte-1wvrz0m"),C.__value="",ne(C,C.__value),c(g,"class","svelte-1wvrz0m"),c(m,"class","scope-field svelte-1wvrz0m"),c(z,"class","svelte-1wvrz0m"),T.__value="",ne(T,T.__value),c(P,"class","svelte-1wvrz0m"),c(q,"class","scope-field svelte-1wvrz0m"),c(J,"class","svelte-1wvrz0m"),B.__value="15m",ne(B,B.__value),N.__value="1h",ne(N,N.__value),j.__value="6h",ne(j,j.__value),U.__value="24h",ne(U,U.__value),X.__value="7d",ne(X,X.__value),Z.__value="30d",ne(Z,Z.__value),c(F,"class","svelte-1wvrz0m"),c(O,"class","scope-field svelte-1wvrz0m"),c(Q,"class","iconbtn svelte-1wvrz0m"),c(Q,"title","Refresh"),c(t,"class","scope-bar-inner svelte-1wvrz0m"),c(e,"class","scope-bar glass svelte-1wvrz0m")},m(Y,he){w(Y,e,he),r(e,t),r(t,n),r(t,s),r(t,o),r(o,i),r(o,u),r(o,a),r(a,_);for(let ke=0;ke<ae.length;ke+=1)ae[ke]&&ae[ke].m(a,null);je(a,l[2].project),r(t,p),r(t,m),r(m,h),r(m,v),r(m,g),r(g,C);for(let ke=0;ke<K.length;ke+=1)K[ke]&&K[ke].m(g,null);je(g,l[2].env),r(t,$),r(t,q),r(q,z),r(q,D),r(q,P),r(P,T);for(let ke=0;ke<ue.length;ke+=1)ue[ke]&&ue[ke].m(P,null);je(P,l[2].server),r(t,A),ie&&ie.m(t,null),r(t,M),r(t,O),r(O,J),r(O,W),r(O,F),r(F,B),r(F,N),r(F,j),r(F,U),r(F,X),r(F,Z),je(F,l[2].range),r(t,se),r(t,Q),r(e,G),x&&x.m(e,null),H||(re=[te(a,"change",l[13]),te(g,"change",l[14]),te(P,"change",l[15]),te(F,"change",l[17]),te(Q,"click",l[10])],H=!0)},p(Y,he){if(he[0]&16){V=pe(Y[4]);let ke;for(ke=0;ke<V.length;ke+=1){const Ge=Bs(Y,V,ke);ae[ke]?ae[ke].p(Ge,he):(ae[ke]=Us(Ge),ae[ke].c(),ae[ke].m(a,null))}for(;ke<ae.length;ke+=1)ae[ke].d(1);ae.length=V.length}if(he[0]&20&&f!==(f=Y[2].project)&&je(a,Y[2].project),he[0]&8){le=pe(Y[3]);let ke;for(ke=0;ke<le.length;ke+=1){const Ge=Is(Y,le,ke);K[ke]?K[ke].p(Ge,he):(K[ke]=Hs(Ge),K[ke].c(),K[ke].m(g,null))}for(;ke<K.length;ke+=1)K[ke].d(1);K.length=le.length}if(he[0]&20&&y!==(y=Y[2].env)&&je(g,Y[2].env),he[0]&32){me=pe(Y[5]||[]);let ke;for(ke=0;ke<me.length;ke+=1){const Ge=Fs(Y,me,ke);ue[ke]?ue[ke].p(Ge,he):(ue[ke]=Vs(Ge),ue[ke].c(),ue[ke].m(P,null))}for(;ke<ue.length;ke+=1)ue[ke].d(1);ue.length=me.length}he[0]&20&&E!==(E=Y[2].server)&&je(P,Y[2].server),Y[1]&&Y[2].server?ie?ie.p(Y,he):(ie=Ws(Y),ie.c(),ie.m(t,M)):ie&&(ie.d(1),ie=null),he[0]&20&&ee!==(ee=Y[2].range)&&je(F,Y[2].range),Y[0]?x?x.p(Y,he):(x=Ks(Y),x.c(),x.m(e,null)):x&&(x.d(1),x=null)},i:be,o:be,d(Y){Y&&k(e),Le(ae,Y),Le(K,Y),Le(ue,Y),ie&&ie.d(),x&&x.d(),H=!1,Ve(re)}}}function S1(l,e,t){let n,s,o,i,u,a,_;_t(l,El,T=>t(2,o=T)),_t(l,Mu,T=>t(11,i=T)),_t(l,An,T=>t(12,u=T)),_t(l,pn,T=>t(5,a=T)),_t(l,$1,T=>t(6,_=T));let{showTail:f=!1}=e,{showContainer:p=!1}=e;const m=Rl();function h(T,E){El.update(A=>({...A,[T]:E})),m("change")}function v(T){El.update(E=>({...E,server:T,container:""})),m("change")}function g(T){El.update(E=>({...E,tail:T})),m("change")}function C(){m("refresh")}const y=T=>h("project",T.target.value),$=T=>h("env",T.target.value),q=T=>v(T.target.value),z=T=>h("container",T.target.value),D=T=>h("range",T.target.value),P=T=>g(T.target.checked);return l.$$set=T=>{"showTail"in T&&t(0,f=T.showTail),"showContainer"in T&&t(1,p=T.showContainer)},l.$$.update=()=>{l.$$.dirty[0]&6144&&t(4,n=[...new Set([...u||[],...(i||[]).map(T=>T.project).filter(Boolean)])].sort()),l.$$.dirty[0]&2048&&t(3,s=[...new Set(["prod","staging","uat","test","dev",...(i||[]).map(T=>T.environment).filter(Boolean)])].sort()),l.$$.dirty[0]&4&&(o.server?zn.fetch({server:o.server}):(zn.clear(),o.container&&El.update(T=>({...T,container:""}))))},[f,p,o,s,n,a,_,h,v,g,C,i,u,y,$,q,z,D,P]}class T1 extends yt{constructor(e){super(),$t(this,e,S1,q1,bt,{showTail:0,showContainer:1},null,[-1,-1])}}function Ys(l,e,t){const n=l.slice();n[30]=e[t];const s=O1(n[30]);n[31]=s;const o=tn(n[31]);n[32]=o;const i=F1(n[30]);n[33]=i;const u=n[9][n[31]];return n[34]=u,n}function Qs(l){let e;return{c(){e=d("span"),e.textContent="⚠",c(e,"class","health-warn svelte-3mbtsx"),c(e,"title","High resource usage")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Zs(l){let e;return{c(){e=d("span"),e.textContent="⚠️",c(e,"class","agent-warn svelte-3mbtsx"),c(e,"title","Agent outdated")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function z1(l){let e;return{c(){e=d("span"),e.textContent="offline",c(e,"class","metric-inline offline svelte-3mbtsx")},m(t,n){w(t,e,n)},p:be,d(t){t&&k(e)}}}function D1(l){let e,t,n,s,o;return{c(){e=d("span"),t=b(),n=d("span"),s=b(),o=d("span"),c(e,"class","metric-skeleton svelte-3mbtsx"),c(n,"class","metric-skeleton svelte-3mbtsx"),c(o,"class","metric-skeleton svelte-3mbtsx")},m(i,u){w(i,e,u),w(i,t,u),w(i,n,u),w(i,s,u),w(i,o,u)},p:be,d(i){i&&(k(e),k(t),k(n),k(s),k(o))}}}function E1(l){let e,t,n=l[3].cpu.toFixed(0)+"",s,o,i,u,a,_,f=l[3].mem.toFixed(0)+"",p,m,h,v,g,C,y=l[3].disk.toFixed(0)+"",$,q,z,D,P,T=(l[3].netIn||l[3].netOut)&&Xs(l);return{c(){e=d("span"),t=S("CPU "),s=S(n),o=S("%"),u=b(),a=d("span"),_=S("MEM "),p=S(f),m=S("%"),v=b(),g=d("span"),C=S("DISK "),$=S(y),q=S("%"),D=b(),T&&T.c(),P=Fe(),c(e,"class",i="metric-inline "+Tl(l[3].cpu)+" svelte-3mbtsx"),c(a,"class",h="metric-inline "+Tl(l[3].mem)+" svelte-3mbtsx"),c(g,"class",z="metric-inline "+Tl(l[3].disk)+" svelte-3mbtsx")},m(E,A){w(E,e,A),r(e,t),r(e,s),r(e,o),w(E,u,A),w(E,a,A),r(a,_),r(a,p),r(a,m),w(E,v,A),w(E,g,A),r(g,C),r(g,$),r(g,q),w(E,D,A),T&&T.m(E,A),w(E,P,A)},p(E,A){A[0]&8&&n!==(n=E[3].cpu.toFixed(0)+"")&&I(s,n),A[0]&8&&i!==(i="metric-inline "+Tl(E[3].cpu)+" svelte-3mbtsx")&&c(e,"class",i),A[0]&8&&f!==(f=E[3].mem.toFixed(0)+"")&&I(p,f),A[0]&8&&h!==(h="metric-inline "+Tl(E[3].mem)+" svelte-3mbtsx")&&c(a,"class",h),A[0]&8&&y!==(y=E[3].disk.toFixed(0)+"")&&I($,y),A[0]&8&&z!==(z="metric-inline "+Tl(E[3].disk)+" svelte-3mbtsx")&&c(g,"class",z),E[3].netIn||E[3].netOut?T?T.p(E,A):(T=Xs(E),T.c(),T.m(P.parentNode,P)):T&&(T.d(1),T=null)},d(E){E&&(k(e),k(u),k(a),k(v),k(g),k(D),k(P)),T&&T.d(E)}}}function Xs(l){let e,t,n=Zl(l[3].netIn)+"",s,o,i=Zl(l[3].netOut)+"",u;return{c(){e=d("span"),t=S("↓"),s=S(n),o=S(" ↑"),u=S(i),c(e,"class","metric-inline net svelte-3mbtsx")},m(a,_){w(a,e,_),r(e,t),r(e,s),r(e,o),r(e,u)},p(a,_){_[0]&8&&n!==(n=Zl(a[3].netIn)+"")&&I(s,n),_[0]&8&&i!==(i=Zl(a[3].netOut)+"")&&I(u,i)},d(a){a&&k(e)}}}function xs(l){let e,t;return e=new Qe({props:{variant:"info",$$slots:{default:[P1]},$$scope:{ctx:l}}}),{c(){de(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[0]&1|s[1]&64&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(L(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function P1(l){let e=l[0].project+"",t;return{c(){t=S(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&1&&e!==(e=n[0].project+"")&&I(t,e)},d(n){n&&k(t)}}}function L1(l){let e,t=pe(l[6]),n=[];for(let s=0;s<t.length;s+=1)n[s]=eo(Ys(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=Fe()},m(s,o){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(s,o);w(s,e,o)},p(s,o){if(o[0]&1835584){t=pe(s[6]);let i;for(i=0;i<t.length;i+=1){const u=Ys(s,t,i);n[i]?n[i].p(u,o):(n[i]=eo(u),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(s){s&&k(e),Le(n,s)}}}function M1(l){let e;return{c(){e=d("span"),e.textContent="No containers",c(e,"class","empty-text svelte-3mbtsx")},m(t,n){w(t,e,n)},p:be,d(t){t&&k(e)}}}function j1(l){let e,t,n,s,o;return{c(){e=d("span"),t=S("⚠️ "),n=d("button"),n.textContent="retry",c(n,"class","retry-btn"),c(e,"class","error-text"),c(e,"title","Click to retry")},m(i,u){w(i,e,u),r(e,t),r(e,n),s||(o=te(n,"click",l[17]),s=!0)},p:be,d(i){i&&k(e),s=!1,o()}}}function N1(l){let e;return{c(){e=d("span"),e.textContent="Loading...",c(e,"class","loading-text svelte-3mbtsx")},m(t,n){w(t,e,n)},p:be,d(t){t&&k(e)}}}function eo(l){let e,t,n,s,o,i=l[32]+"",u,a,_,f,p=l[34]==="restart"?"...":"↻",m,h,v,g,C,y,$,q,z,D,P,T;function E(){return l[25](l[31])}function A(){return l[26](l[31])}function M(){return l[27](l[31])}return{c(){e=d("div"),t=d("span"),s=b(),o=d("span"),u=S(i),a=b(),_=d("div"),f=d("button"),m=S(p),v=b(),g=d("button"),g.textContent="📋",C=b(),y=d("button"),$=S("×"),z=b(),c(t,"class",n="container-status "+to(l[33])+" svelte-3mbtsx"),c(o,"class","container-name svelte-3mbtsx"),c(f,"class","pill-btn svelte-3mbtsx"),c(f,"title","Restart"),f.disabled=h=l[34],c(g,"class","pill-btn svelte-3mbtsx"),c(g,"title","Logs"),c(y,"class","pill-btn danger svelte-3mbtsx"),c(y,"title","Remove"),y.disabled=q=l[34],c(_,"class","container-actions svelte-3mbtsx"),c(e,"class","container-pill svelte-3mbtsx"),c(e,"title",D=l[31]),Ce(e,"busy",l[34])},m(O,J){w(O,e,J),r(e,t),r(e,s),r(e,o),r(o,u),r(e,a),r(e,_),r(_,f),r(f,m),r(_,v),r(_,g),r(_,C),r(_,y),r(y,$),r(e,z),P||(T=[te(f,"click",E),te(g,"click",A),te(y,"click",M)],P=!0)},p(O,J){l=O,J[0]&64&&n!==(n="container-status "+to(l[33])+" svelte-3mbtsx")&&c(t,"class",n),J[0]&64&&i!==(i=l[32]+"")&&I(u,i),J[0]&576&&p!==(p=l[34]==="restart"?"...":"↻")&&I(m,p),J[0]&576&&h!==(h=l[34])&&(f.disabled=h),J[0]&576&&q!==(q=l[34])&&(y.disabled=q),J[0]&64&&D!==(D=l[31])&&c(e,"title",D),J[0]&576&&Ce(e,"busy",l[34])},d(O){O&&k(e),P=!1,Ve(T)}}}function A1(l){var ie;let e,t,n,s,o,i,u,a=(l[0].name||"Unnamed")+"",_,f,p,m,h,v,g,C=(((ie=l[0].region)==null?void 0:ie.slug)||l[0].region||"")+"",y,$,q,z,D,P,T,E,A,M,O,J,W,F=l[7]||l[10]?"...":"↻",B,N,j,U,X,Z,ee,se,Q,G=l[12]&&Qs(),H=l[13]&&Zs();function re(x,Y){if(x[4]&&x[3])return E1;if(x[4]&&x[10])return D1;if(!x[4])return z1}let V=re(l),ae=V&&V(l),le=l[1]&&l[0].project&&xs(l);function K(x,Y){return x[7]&&x[6].length===0?N1:x[8]?j1:x[6].length===0&&x[2]?M1:L1}let me=K(l),ue=me(l);return{c(){e=d("div"),t=d("div"),n=d("div"),s=d("span"),i=b(),u=d("span"),_=S(a),f=b(),G&&G.c(),p=b(),m=d("code"),h=S(l[14]),v=b(),g=d("span"),y=S(C),$=b(),H&&H.c(),q=b(),z=d("div"),ae&&ae.c(),D=b(),P=d("span"),T=S("£"),E=S(l[11]),A=S("/mo"),M=b(),O=d("div"),le&&le.c(),J=b(),W=d("button"),B=S(F),j=b(),U=d("button"),U.textContent="🗑️",X=b(),Z=d("div"),ue.c(),c(s,"class",o="status-dot "+l[15](l[5])+" svelte-3mbtsx"),c(u,"class","server-name svelte-3mbtsx"),c(m,"class","server-ip svelte-3mbtsx"),c(g,"class","server-meta svelte-3mbtsx"),c(n,"class","server-info svelte-3mbtsx"),c(P,"class","metric-inline cost svelte-3mbtsx"),c(z,"class","server-metrics-inline svelte-3mbtsx"),c(W,"class","icon-btn svelte-3mbtsx"),c(W,"title","Refresh"),W.disabled=N=l[7]||l[10],c(U,"class","icon-btn danger svelte-3mbtsx"),c(U,"title","Destroy"),c(O,"class","server-actions svelte-3mbtsx"),c(t,"class","server-header svelte-3mbtsx"),c(Z,"class","containers svelte-3mbtsx"),c(e,"class","server-card svelte-3mbtsx")},m(x,Y){w(x,e,Y),r(e,t),r(t,n),r(n,s),r(n,i),r(n,u),r(u,_),r(n,f),G&&G.m(n,null),r(n,p),r(n,m),r(m,h),r(n,v),r(n,g),r(g,y),r(n,$),H&&H.m(n,null),r(t,q),r(t,z),ae&&ae.m(z,null),r(z,D),r(z,P),r(P,T),r(P,E),r(P,A),r(t,M),r(t,O),le&&le.m(O,null),r(O,J),r(O,W),r(W,B),r(O,j),r(O,U),r(e,X),r(e,Z),ue.m(Z,null),ee=!0,se||(Q=[te(W,"click",l[21]),te(U,"click",l[24])],se=!0)},p(x,Y){var he;(!ee||Y[0]&32&&o!==(o="status-dot "+x[15](x[5])+" svelte-3mbtsx"))&&c(s,"class",o),(!ee||Y[0]&1)&&a!==(a=(x[0].name||"Unnamed")+"")&&I(_,a),x[12]?G||(G=Qs(),G.c(),G.m(n,p)):G&&(G.d(1),G=null),(!ee||Y[0]&16384)&&I(h,x[14]),(!ee||Y[0]&1)&&C!==(C=(((he=x[0].region)==null?void 0:he.slug)||x[0].region||"")+"")&&I(y,C),x[13]?H||(H=Zs(),H.c(),H.m(n,null)):H&&(H.d(1),H=null),V===(V=re(x))&&ae?ae.p(x,Y):(ae&&ae.d(1),ae=V&&V(x),ae&&(ae.c(),ae.m(z,D))),(!ee||Y[0]&2048)&&I(E,x[11]),x[1]&&x[0].project?le?(le.p(x,Y),Y[0]&3&&L(le,1)):(le=xs(x),le.c(),L(le,1),le.m(O,J)):le&&(Te(),R(le,1,1,()=>{le=null}),ze()),(!ee||Y[0]&1152)&&F!==(F=x[7]||x[10]?"...":"↻")&&I(B,F),(!ee||Y[0]&1152&&N!==(N=x[7]||x[10]))&&(W.disabled=N),me===(me=K(x))&&ue?ue.p(x,Y):(ue.d(1),ue=me(x),ue&&(ue.c(),ue.m(Z,null)))},i(x){ee||(L(le),ee=!0)},o(x){R(le),ee=!1},d(x){x&&k(e),G&&G.d(),H&&H.d(),ae&&ae.d(),le&&le.d(),ue.d(),se=!1,Ve(Q)}}}function R1(l){return l.includes("4gb")?24:l.includes("2gb")?12:l.includes("1gb")?6:l.includes("512mb")?4:6}function to(l){if(!l)return"gray";const e=l.toLowerCase();return e==="running"?"green":e==="exited"||e==="stopped"?"yellow":e==="restarting"?"blue":"red"}function Tl(l){return l>=90?"danger":l>=70?"warning":"ok"}function O1(l){return l.Names&&typeof l.Names=="string"?l.Names.replace(/^\//,""):Array.isArray(l.Names)&&l.Names.length>0?l.Names[0].replace(/^\//,""):l.Name?l.Name.replace(/^\//,""):l.name?l.name:l.ID?l.ID.substring(0,12):l.Id?l.Id.substring(0,12):"unknown"}function F1(l){return l.State||l.state||l.Status||"unknown"}function tn(l){if(!l)return"unknown";const e=l.split("-");return e.length>=3&&e[0].length<=10?e.slice(2).join("-"):l}function Zl(l){return l?l<1024?`${l}B`:l<1048576?`${(l/1024).toFixed(0)}K`:l<1073741824?`${(l/1048576).toFixed(1)}M`:`${(l/1073741824).toFixed(1)}G`:"0"}function I1(l,e,t){let n,s,o,i,u,a,_,f;_t(l,Lu,j=>t(23,f=j));let{server:p}=e,{showProject:m=!1}=e;const h=Rl();let v=[],g=!1,C=!1,y=!1,$={},q=null,z=!1;function D(j){switch(j){case"active":case"online":return"green";case"new":case"starting":return"blue";case"off":case"stopped":return"yellow";default:return"red"}}function P(j){h(j,{server:p})}async function T(){if(!(!o||!f||!p.id)){t(7,g=!0),t(8,y=!1);try{const j=await He("GET",`/infra/agent/${p.id}/containers?do_token=${f}`);t(6,v=j.containers||[])}catch(j){console.error("Failed to load containers:",j),t(6,v=[]),t(8,y=!0)}finally{t(7,g=!1),t(2,C=!0)}}}async function E(){var j,U,X,Z,ee;if(!(!o||!f||!p.id)){t(10,z=!0);try{const se=await He("GET",`/infra/agent/${p.id}/metrics?do_token=${f}`);t(3,q={cpu:((j=se.system)==null?void 0:j.load_1m)||0,mem:((U=se.system)==null?void 0:U.mem_percent)||0,disk:((X=se.system)==null?void 0:X.disk_percent)||0,netIn:((Z=se.system)==null?void 0:Z.net_in_bytes)||0,netOut:((ee=se.system)==null?void 0:ee.net_out_bytes)||0})}catch(se){console.error("Failed to load metrics:",se)}finally{t(10,z=!1)}}}async function A(j){if(!(!f||!p.id)){t(9,$[j]="restart",$);try{await He("POST",`/infra/agent/${p.id}/containers/${j}/restart?do_token=${f}`),ye.success(`Restarted ${tn(j)}`),await T()}catch(U){ye.error(`Failed: ${U.message}`)}finally{t(9,$[j]=null,$)}}}async function M(j){if(!(!f||!p.id)&&confirm(`Remove "${tn(j)}"?`)){t(9,$[j]="remove",$);try{await He("POST",`/infra/agent/${p.id}/containers/${j}/stop?do_token=${f}`).catch(()=>{}),await He("POST",`/infra/agent/${p.id}/containers/${j}/remove?do_token=${f}`),ye.success(`Removed ${tn(j)}`),await T()}catch(U){ye.error(`Failed: ${U.message}`)}finally{t(9,$[j]=null,$)}}}function O(j){h("viewLogs",{server:p,containerName:j})}async function J(){await Promise.all([T(),E()])}const W=()=>P("destroy"),F=j=>A(j),B=j=>O(j),N=j=>M(j);return l.$$set=j=>{"server"in j&&t(0,p=j.server),"showProject"in j&&t(1,m=j.showProject)},l.$$.update=()=>{var j,U,X;l.$$.dirty[0]&1&&t(14,n=p.ip||((X=(U=(j=p.networks)==null?void 0:j.v4)==null?void 0:U[0])==null?void 0:X.ip_address)||"N/A"),l.$$.dirty[0]&1&&t(5,s=p.status||"unknown"),l.$$.dirty[0]&32&&t(4,o=s==="active"||s==="online"),l.$$.dirty[0]&1&&t(22,i=p.agent_version),l.$$.dirty[0]&4194304&&t(13,u=i&&i!==y1),l.$$.dirty[0]&8&&t(12,a=q&&(q.cpu>80||q.mem>80||q.disk>80)),l.$$.dirty[0]&1&&t(11,_=R1(p.size_slug||p.size||"")),l.$$.dirty[0]&8388628&&o&&!C&&f&&(T(),E())},[p,m,C,q,o,s,v,g,y,$,z,_,a,u,n,D,P,T,A,M,O,J,i,f,W,F,B,N]}class B1 extends yt{constructor(e){super(),$t(this,e,I1,A1,bt,{server:0,showProject:1},null,[-1,-1])}}function lo(l,e,t){const n=l.slice();return n[92]=e[t],n}function no(l,e,t){const n=l.slice();return n[95]=e[t],n}function so(l,e,t){const n=l.slice();return n[92]=e[t],n}function oo(l,e,t){const n=l.slice();return n[100]=e[t],n}function io(l,e,t){const n=l.slice();return n[103]=e[t],n}function ro(l,e,t){const n=l.slice();return n[106]=e[t],n}function ao(l,e,t){const n=l.slice();return n[106]=e[t],n}function uo(l,e,t){const n=l.slice();return n[111]=e[t],n}function co(l,e,t){const n=l.slice();return n[114]=e[t],n}function fo(l,e,t){const n=l.slice();return n[117]=e[t],n}function _o(l){let e,t=l[117]+"",n,s;return{c(){e=d("option"),n=S(t),e.__value=s=l[117],ne(e,e.__value)},m(o,i){w(o,e,i),r(e,n)},p(o,i){i[1]&8&&t!==(t=o[117]+"")&&I(n,t),i[1]&8&&s!==(s=o[117])&&(e.__value=s,ne(e,e.__value))},d(o){o&&k(e)}}}function po(l){let e,t=l[114]+"",n,s;return{c(){e=d("option"),n=S(t),e.__value=s=l[114],ne(e,e.__value)},m(o,i){w(o,e,i),r(e,n)},p(o,i){i[1]&4&&t!==(t=o[114]+"")&&I(n,t),i[1]&4&&s!==(s=o[114])&&(e.__value=s,ne(e,e.__value))},d(o){o&&k(e)}}}function mo(l){let e,t,n,s;const o=[G1,H1,U1],i=[];function u(a,_){return a[29]?0:a[32].length?2:1}return t=u(l),n=i[t]=o[t](l),{c(){e=d("div"),n.c(),c(e,"class","section-content svelte-kvdz4s")},m(a,_){w(a,e,_),i[t].m(e,null),s=!0},p(a,_){let f=t;t=u(a),t===f?i[t].p(a,_):(Te(),R(i[f],1,1,()=>{i[f]=null}),ze(),n=i[t],n?n.p(a,_):(n=i[t]=o[t](a),n.c()),L(n,1),n.m(e,null))},i(a){s||(L(n),s=!0)},o(a){R(n),s=!1},d(a){a&&k(e),i[t].d()}}}function U1(l){let e=[],t=new Map,n,s,o=pe(l[32]);const i=u=>u[111].id;for(let u=0;u<o.length;u+=1){let a=uo(l,o,u),_=i(a);t.set(_,e[u]=vo(_,a))}return{c(){for(let u=0;u<e.length;u+=1)e[u].c();n=Fe()},m(u,a){for(let _=0;_<e.length;_+=1)e[_]&&e[_].m(u,a);w(u,n,a),s=!0},p(u,a){a[1]&6146&&(o=pe(u[32]),Te(),e=ku(e,a,i,1,u,o,t,n.parentNode,bu,vo,n,uo),ze())},i(u){if(!s){for(let a=0;a<o.length;a+=1)L(e[a]);s=!0}},o(u){for(let a=0;a<e.length;a+=1)R(e[a]);s=!1},d(u){u&&k(n);for(let a=0;a<e.length;a+=1)e[a].d(u)}}}function H1(l){let e;function t(o,i){return o[1]||o[2]?W1:V1}let n=t(l),s=n(l);return{c(){e=d("div"),s.c(),c(e,"class","empty-msg svelte-kvdz4s")},m(o,i){w(o,e,i),s.m(e,null)},p(o,i){n!==(n=t(o))&&(s.d(1),s=n(o),s&&(s.c(),s.m(e,null)))},i:be,o:be,d(o){o&&k(e),s.d()}}}function G1(l){let e;return{c(){e=d("div"),e.innerHTML='<div class="skeleton-card svelte-kvdz4s"></div> <div class="skeleton-card svelte-kvdz4s"></div>',c(e,"class","loading-skeleton svelte-kvdz4s")},m(t,n){w(t,e,n)},p:be,i:be,o:be,d(t){t&&k(e)}}}function vo(l,e){let t,n,s;return n=new B1({props:{server:e[111]}}),n.$on("destroy",e[42]),n.$on("viewLogs",e[43]),{key:l,first:null,c(){t=Fe(),de(n.$$.fragment),this.first=t},m(o,i){w(o,t,i),fe(n,o,i),s=!0},p(o,i){e=o;const u={};i[1]&2&&(u.server=e[111]),n.$set(u)},i(o){s||(L(n.$$.fragment,o),s=!0)},o(o){R(n.$$.fragment,o),s=!1},d(o){o&&k(t),_e(n,o)}}}function V1(l){let e;return{c(){e=S('No servers. Click "+ Add" to provision.')},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function W1(l){let e;return{c(){e=S("No servers match filters")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function ho(l){let e,t,n,s,o,i,u,a;const _=[Y1,K1,J1],f=[];function p(g,C){return g[20]===null?0:g[20].exists?1:2}o=p(l),i=f[o]=_[o](l);function m(g,C){return g[5]?e_:g[4].length?X1:x1}let h=m(l),v=h(l);return{c(){e=d("div"),t=d("div"),n=d("span"),n.textContent="Base Snapshot:",s=b(),i.c(),u=b(),v.c(),c(n,"class","base-label svelte-kvdz4s"),c(t,"class","base-snapshot-row svelte-kvdz4s"),c(e,"class","section-content svelte-kvdz4s")},m(g,C){w(g,e,C),r(e,t),r(t,n),r(t,s),f[o].m(t,null),r(e,u),v.m(e,null),a=!0},p(g,C){let y=o;o=p(g),o===y?f[o].p(g,C):(Te(),R(f[y],1,1,()=>{f[y]=null}),ze(),i=f[o],i?i.p(g,C):(i=f[o]=_[o](g),i.c()),L(i,1),i.m(t,null)),h===(h=m(g))&&v?v.p(g,C):(v.d(1),v=h(g),v&&(v.c(),v.m(e,null)))},i(g){a||(L(i),a=!0)},o(g){R(i),a=!1},d(g){g&&k(e),f[o].d(),v.d()}}}function J1(l){let e,t,n,s;return e=new Qe({props:{variant:"warning",$$slots:{default:[Q1]},$$scope:{ctx:l}}}),{c(){de(e.$$.fragment),t=b(),n=d("span"),n.textContent='Use "+ Build" to create',c(n,"class","base-hint svelte-kvdz4s")},m(o,i){fe(e,o,i),w(o,t,i),w(o,n,i),s=!0},p(o,i){const u={};i[3]&134217728&&(u.$$scope={dirty:i,ctx:o}),e.$set(u)},i(o){s||(L(e.$$.fragment,o),s=!0)},o(o){R(e.$$.fragment,o),s=!1},d(o){o&&(k(t),k(n)),_e(e,o)}}}function K1(l){let e,t;return e=new Qe({props:{variant:"success",$$slots:{default:[Z1]},$$scope:{ctx:l}}}),{c(){de(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[0]&1048576|s[3]&134217728&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(L(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function Y1(l){let e;return{c(){e=d("span"),e.textContent="checking...",c(e,"class","base-status checking svelte-kvdz4s")},m(t,n){w(t,e,n)},p:be,i:be,o:be,d(t){t&&k(e)}}}function Q1(l){let e;return{c(){e=S("Not found")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Z1(l){let e,t=l[20].name+"",n;return{c(){e=S("✓ "),n=S(t)},m(s,o){w(s,e,o),w(s,n,o)},p(s,o){o[0]&1048576&&t!==(t=s[20].name+"")&&I(n,t)},d(s){s&&(k(e),k(n))}}}function X1(l){let e,t=pe(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=go(ao(l,t,s));return{c(){e=d("div");for(let s=0;s<n.length;s+=1)n[s].c();c(e,"class","snapshots-grid svelte-kvdz4s")},m(s,o){w(s,e,o);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(s,o){if(o[0]&16|o[1]&256){t=pe(s[4]);let i;for(i=0;i<t.length;i+=1){const u=ao(s,t,i);n[i]?n[i].p(u,o):(n[i]=go(u),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(s){s&&k(e),Le(n,s)}}}function x1(l){let e;return{c(){e=d("div"),e.textContent="No custom snapshots",c(e,"class","empty-msg svelte-kvdz4s")},m(t,n){w(t,e,n)},p:be,d(t){t&&k(e)}}}function e_(l){let e;return{c(){e=d("div"),e.textContent="Loading...",c(e,"class","empty-msg svelte-kvdz4s")},m(t,n){w(t,e,n)},p:be,d(t){t&&k(e)}}}function go(l){let e,t,n=l[106].name+"",s,o,i,u=Lo(l[106].size_gigabytes*1024*1024*1024)+"",a,_,f=Mo(l[106].created_at)+"",p,m,h,v,g,C;function y(){return l[62](l[106])}return{c(){e=d("div"),t=d("span"),s=S(n),o=b(),i=d("span"),a=S(u),_=S(" • "),p=S(f),m=b(),h=d("button"),h.textContent="×",v=b(),c(t,"class","snap-name svelte-kvdz4s"),c(i,"class","snap-meta svelte-kvdz4s"),c(h,"class","pill-del svelte-kvdz4s"),c(h,"title","Delete"),c(e,"class","snapshot-pill svelte-kvdz4s")},m($,q){w($,e,q),r(e,t),r(t,s),r(e,o),r(e,i),r(i,a),r(i,_),r(i,p),r(e,m),r(e,h),r(e,v),g||(C=te(h,"click",y),g=!0)},p($,q){l=$,q[0]&16&&n!==(n=l[106].name+"")&&I(s,n),q[0]&16&&u!==(u=Lo(l[106].size_gigabytes*1024*1024*1024)+"")&&I(a,u),q[0]&16&&f!==(f=Mo(l[106].created_at)+"")&&I(p,f)},d($){$&&k(e),g=!1,C()}}}function bo(l){let e,t=l[106].name+"",n,s;return{c(){e=d("option"),n=S(t),e.__value=s=l[106].id,ne(e,e.__value)},m(o,i){w(o,e,i),r(e,n)},p(o,i){i[0]&16&&t!==(t=o[106].name+"")&&I(n,t),i[0]&16&&s!==(s=o[106].id)&&(e.__value=s,ne(e,e.__value))},d(o){o&&k(e)}}}function ko(l){let e;return{c(){e=d("option"),e.textContent="No base snapshot - create one first",e.__value="",ne(e,e.__value)},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function wo(l){let e,t=l[103].label+"",n;return{c(){e=d("option"),n=S(t),e.__value=l[103].value,ne(e,e.__value)},m(s,o){w(s,e,o),r(e,n)},p:be,d(s){s&&k(e)}}}function $o(l){let e,t=(l[100].description||l[100].slug)+"",n,s;return{c(){e=d("option"),n=S(t),e.__value=s=l[100].slug,ne(e,e.__value)},m(o,i){w(o,e,i),r(e,n)},p(o,i){i[0]&268435456&&t!==(t=(o[100].description||o[100].slug)+"")&&I(n,t),i[0]&268435456&&s!==(s=o[100].slug)&&(e.__value=s,ne(e,e.__value))},d(o){o&&k(e)}}}function yo(l){let e,t,n,s,o,i=pe(l[9]),u=[];for(let _=0;_<i.length;_+=1)u[_]=Co(so(l,i,_));let a=l[10]&&qo();return{c(){e=d("div"),t=d("label"),t.textContent="📋 Progress",n=b(),s=d("div");for(let _=0;_<u.length;_+=1)u[_].c();o=b(),a&&a.c(),c(t,"class","svelte-kvdz4s"),c(s,"class","operation-logs svelte-kvdz4s"),c(e,"class","operation-logs-section svelte-kvdz4s")},m(_,f){w(_,e,f),r(e,t),r(e,n),r(e,s);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(s,null);r(s,o),a&&a.m(s,null)},p(_,f){if(f[0]&512){i=pe(_[9]);let p;for(p=0;p<i.length;p+=1){const m=so(_,i,p);u[p]?u[p].p(m,f):(u[p]=Co(m),u[p].c(),u[p].m(s,o))}for(;p<u.length;p+=1)u[p].d(1);u.length=i.length}_[10]?a||(a=qo(),a.c(),a.m(s,null)):a&&(a.d(1),a=null)},d(_){_&&k(e),Le(u,_),a&&a.d()}}}function Co(l){let e,t=l[92].message+"",n,s;return{c(){e=d("div"),n=S(t),c(e,"class",s="log-entry log-"+l[92].type+" svelte-kvdz4s")},m(o,i){w(o,e,i),r(e,n)},p(o,i){i[0]&512&&t!==(t=o[92].message+"")&&I(n,t),i[0]&512&&s!==(s="log-entry log-"+o[92].type+" svelte-kvdz4s")&&c(e,"class",s)},d(o){o&&k(e)}}}function qo(l){let e;return{c(){e=d("div"),e.innerHTML='<span class="spinner svelte-kvdz4s">⏳</span> Provisioning...',c(e,"class","log-entry log-info svelte-kvdz4s")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function t_(l){let e,t,n,s,o,i,u=l[4].filter(No).length===0,a,_,f,p,m,h,v,g,C,y,$,q,z,D,P=pe(l[4].filter(Ao)),T=[];for(let F=0;F<P.length;F+=1)T[F]=bo(ro(l,P,F));let E=u&&ko(),A=pe(l[37]),M=[];for(let F=0;F<A.length;F+=1)M[F]=wo(io(l,A,F));let O=pe(l[28]),J=[];for(let F=0;F<O.length;F+=1)J[F]=$o(oo(l,O,F));let W=(l[9].length>0||l[10])&&yo(l);return{c(){e=d("div"),t=d("div"),n=d("label"),n.textContent="Snapshot",s=b(),o=d("select");for(let F=0;F<T.length;F+=1)T[F].c();i=Fe(),E&&E.c(),a=b(),_=d("div"),f=d("label"),f.textContent="Region",p=b(),m=d("select");for(let F=0;F<M.length;F+=1)M[F].c();h=b(),v=d("div"),g=d("label"),g.textContent="Size",C=b(),y=d("select");for(let F=0;F<J.length;F+=1)J[F].c();$=b(),W&&W.c(),q=Fe(),c(n,"class","svelte-kvdz4s"),o.disabled=l[10],c(o,"class","svelte-kvdz4s"),l[27].snapshot_id===void 0&&Xe(()=>l[64].call(o)),c(t,"class","form-group full svelte-kvdz4s"),c(f,"class","svelte-kvdz4s"),m.disabled=l[10],c(m,"class","svelte-kvdz4s"),l[27].region===void 0&&Xe(()=>l[65].call(m)),c(_,"class","form-group svelte-kvdz4s"),c(g,"class","svelte-kvdz4s"),y.disabled=l[10],c(y,"class","svelte-kvdz4s"),l[27].size===void 0&&Xe(()=>l[66].call(y)),c(v,"class","form-group svelte-kvdz4s"),c(e,"class","form-grid svelte-kvdz4s")},m(F,B){w(F,e,B),r(e,t),r(t,n),r(t,s),r(t,o);for(let N=0;N<T.length;N+=1)T[N]&&T[N].m(o,null);r(o,i),E&&E.m(o,null),je(o,l[27].snapshot_id,!0),r(e,a),r(e,_),r(_,f),r(_,p),r(_,m);for(let N=0;N<M.length;N+=1)M[N]&&M[N].m(m,null);je(m,l[27].region,!0),r(e,h),r(e,v),r(v,g),r(v,C),r(v,y);for(let N=0;N<J.length;N+=1)J[N]&&J[N].m(y,null);je(y,l[27].size,!0),w(F,$,B),W&&W.m(F,B),w(F,q,B),z||(D=[te(o,"change",l[64]),te(m,"change",l[65]),te(y,"change",l[66])],z=!0)},p(F,B){if(B[0]&16){P=pe(F[4].filter(Ao));let N;for(N=0;N<P.length;N+=1){const j=ro(F,P,N);T[N]?T[N].p(j,B):(T[N]=bo(j),T[N].c(),T[N].m(o,i))}for(;N<T.length;N+=1)T[N].d(1);T.length=P.length}if(B[0]&16&&(u=F[4].filter(No).length===0),u?E||(E=ko(),E.c(),E.m(o,null)):E&&(E.d(1),E=null),B[0]&1024&&(o.disabled=F[10]),B[0]&134217744&&je(o,F[27].snapshot_id),B[1]&64){A=pe(F[37]);let N;for(N=0;N<A.length;N+=1){const j=io(F,A,N);M[N]?M[N].p(j,B):(M[N]=wo(j),M[N].c(),M[N].m(m,null))}for(;N<M.length;N+=1)M[N].d(1);M.length=A.length}if(B[0]&1024&&(m.disabled=F[10]),B[0]&134217744&&je(m,F[27].region),B[0]&268435456){O=pe(F[28]);let N;for(N=0;N<O.length;N+=1){const j=oo(F,O,N);J[N]?J[N].p(j,B):(J[N]=$o(j),J[N].c(),J[N].m(y,null))}for(;N<J.length;N+=1)J[N].d(1);J.length=O.length}B[0]&1024&&(y.disabled=F[10]),B[0]&134217744&&je(y,F[27].size),F[9].length>0||F[10]?W?W.p(F,B):(W=yo(F),W.c(),W.m(q.parentNode,q)):W&&(W.d(1),W=null)},d(F){F&&(k(e),k($),k(q)),Le(T,F),E&&E.d(),Le(M,F),Le(J,F),W&&W.d(F),z=!1,Ve(D)}}}function l_(l){let e=l[9].length>0?"Close":"Cancel",t;return{c(){t=S(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&512&&e!==(e=n[9].length>0?"Close":"Cancel")&&I(t,e)},d(n){n&&k(t)}}}function n_(l){let e;return{c(){e=S("🚀 Provision")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function s_(l){let e;return{c(){e=S("⏳ Provisioning...")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function o_(l){let e;function t(o,i){return o[10]?s_:n_}let n=t(l),s=n(l);return{c(){s.c(),e=Fe()},m(o,i){s.m(o,i),w(o,e,i)},p(o,i){n!==(n=t(o))&&(s.d(1),s=n(o),s&&(s.c(),s.m(e.parentNode,e)))},d(o){o&&k(e),s.d(o)}}}function i_(l){let e,t,n,s,o;return t=new Ue({props:{variant:"ghost",$$slots:{default:[l_]},$$scope:{ctx:l}}}),t.$on("click",l[63]),s=new Ue({props:{variant:"primary",disabled:l[10]||!l[27].snapshot_id,$$slots:{default:[o_]},$$scope:{ctx:l}}}),s.$on("click",l[41]),{c(){e=d("div"),de(t.$$.fragment),n=b(),de(s.$$.fragment),c(e,"slot","footer")},m(i,u){w(i,e,u),fe(t,e,null),r(e,n),fe(s,e,null),o=!0},p(i,u){const a={};u[0]&512|u[3]&134217728&&(a.$$scope={dirty:u,ctx:i}),t.$set(a);const _={};u[0]&134218752&&(_.disabled=i[10]||!i[27].snapshot_id),u[0]&1024|u[3]&134217728&&(_.$$scope={dirty:u,ctx:i}),s.$set(_)},i(i){o||(L(t.$$.fragment,i),L(s.$$.fragment,i),o=!0)},o(i){R(t.$$.fragment,i),R(s.$$.fragment,i),o=!1},d(i){i&&k(e),_e(t),_e(s)}}}function r_(l){let e=l[23]?"...":"↻",t;return{c(){t=S(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&8388608&&e!==(e=n[23]?"...":"↻")&&I(t,e)},d(n){n&&k(t)}}}function a_(l){let e,t,n,s,o,i,u,a,_,f,p,m,h,v,g,C,y,$,q,z,D=(l[30]||"No logs")+"",P,T,E,A;return $=new Ue({props:{variant:"ghost",size:"sm",disabled:l[23],$$slots:{default:[r_]},$$scope:{ctx:l}}}),$.$on("click",l[44]),{c(){e=d("div"),t=d("div"),n=d("input"),s=b(),o=d("div"),i=d("label"),i.textContent="Lines:",u=b(),a=d("select"),_=d("option"),_.textContent="100",f=d("option"),f.textContent="200",p=d("option"),p.textContent="500",m=d("option"),m.textContent="1000",h=b(),v=d("label"),g=d("input"),C=S(`
      Auto-refresh`),y=b(),de($.$$.fragment),q=b(),z=d("pre"),P=S(D),c(n,"type","text"),c(n,"placeholder","Search logs..."),c(n,"class","svelte-kvdz4s"),c(t,"class","logs-search svelte-kvdz4s"),c(i,"class","svelte-kvdz4s"),_.__value=100,ne(_,_.__value),f.__value=200,ne(f,f.__value),p.__value=500,ne(p,p.__value),m.__value=1e3,ne(m,m.__value),c(a,"class","svelte-kvdz4s"),l[24]===void 0&&Xe(()=>l[71].call(a)),c(o,"class","logs-tail svelte-kvdz4s"),c(g,"type","checkbox"),c(g,"class","svelte-kvdz4s"),c(v,"class","logs-auto svelte-kvdz4s"),c(e,"class","logs-toolbar svelte-kvdz4s"),c(z,"class","logs-content large svelte-kvdz4s")},m(M,O){w(M,e,O),r(e,t),r(t,n),ne(n,l[6]),r(e,s),r(e,o),r(o,i),r(o,u),r(o,a),r(a,_),r(a,f),r(a,p),r(a,m),je(a,l[24],!0),r(e,h),r(e,v),r(v,g),g.checked=l[25],r(v,C),r(e,y),fe($,e,null),w(M,q,O),w(M,z,O),r(z,P),T=!0,E||(A=[te(n,"input",l[70]),te(a,"change",l[71]),te(a,"change",l[44]),te(g,"change",l[72]),te(g,"change",l[45])],E=!0)},p(M,O){O[0]&64&&n.value!==M[6]&&ne(n,M[6]),O[0]&16777216&&je(a,M[24]),O[0]&33554432&&(g.checked=M[25]);const J={};O[0]&8388608&&(J.disabled=M[23]),O[0]&8388608|O[3]&134217728&&(J.$$scope={dirty:O,ctx:M}),$.$set(J),(!T||O[0]&1073741824)&&D!==(D=(M[30]||"No logs")+"")&&I(P,D)},i(M){T||(L($.$$.fragment,M),T=!0)},o(M){R($.$$.fragment,M),T=!1},d(M){M&&(k(e),k(q),k(z)),_e($),E=!1,Ve(A)}}}function u_(l){let e;return{c(){e=S("Close")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function c_(l){var _;let e,t,n=(((_=l[30])==null?void 0:_.split(`
`).length)||0)+"",s,o,i,u,a;return u=new Ue({props:{variant:"ghost",$$slots:{default:[u_]},$$scope:{ctx:l}}}),u.$on("click",l[69]),{c(){e=d("div"),t=d("span"),s=S(n),o=S(" lines"),i=b(),de(u.$$.fragment),c(t,"class","logs-count svelte-kvdz4s"),c(e,"slot","footer")},m(f,p){w(f,e,p),r(e,t),r(t,s),r(t,o),r(e,i),fe(u,e,null),a=!0},p(f,p){var h;(!a||p[0]&1073741824)&&n!==(n=(((h=f[30])==null?void 0:h.split(`
`).length)||0)+"")&&I(s,n);const m={};p[3]&134217728&&(m.$$scope={dirty:p,ctx:f}),u.$set(m)},i(f){a||(L(u.$$.fragment,f),a=!0)},o(f){R(u.$$.fragment,f),a=!1},d(f){f&&k(e),_e(u)}}}function f_(l){let e,t,n,s,o,i,u,a,_,f,p,m,h,v,g,C,y,$,q,z,D,P,T,E,A,M,O,J,W=pe(l[35]),F=[];for(let B=0;B<W.length;B+=1)F[B]=So(no(l,W,B));return{c(){e=d("form"),t=d("div"),n=d("label"),n.textContent="Snapshot Name *",s=b(),o=d("input"),i=b(),u=d("div"),a=d("label"),a.textContent="Base Image",_=b(),f=d("select");for(let B=0;B<F.length;B+=1)F[B].c();p=b(),m=d("div"),h=d("label"),h.textContent="Pre-install",v=b(),g=d("div"),C=d("label"),y=d("input"),$=S(" Docker"),q=b(),z=d("label"),D=d("input"),P=S(" Nginx"),T=b(),E=d("label"),A=d("input"),M=S(" Certbot"),c(n,"for","snap-name"),c(n,"class","svelte-kvdz4s"),c(o,"id","snap-name"),c(o,"type","text"),c(o,"placeholder","my-custom-snapshot"),o.disabled=l[13],c(o,"class","svelte-kvdz4s"),c(t,"class","form-group svelte-kvdz4s"),c(a,"for","base-image"),c(a,"class","svelte-kvdz4s"),c(f,"id","base-image"),f.disabled=l[13],c(f,"class","svelte-kvdz4s"),l[16]===void 0&&Xe(()=>l[78].call(f)),c(u,"class","form-group svelte-kvdz4s"),c(h,"class","svelte-kvdz4s"),c(y,"type","checkbox"),y.disabled=l[13],c(y,"class","svelte-kvdz4s"),c(C,"class","checkbox-item svelte-kvdz4s"),c(D,"type","checkbox"),D.disabled=l[13],c(D,"class","svelte-kvdz4s"),c(z,"class","checkbox-item svelte-kvdz4s"),c(A,"type","checkbox"),A.disabled=l[13],c(A,"class","svelte-kvdz4s"),c(E,"class","checkbox-item svelte-kvdz4s"),c(g,"class","checkbox-list svelte-kvdz4s"),c(m,"class","form-group svelte-kvdz4s")},m(B,N){w(B,e,N),r(e,t),r(t,n),r(t,s),r(t,o),ne(o,l[15]),r(e,i),r(e,u),r(u,a),r(u,_),r(u,f);for(let j=0;j<F.length;j+=1)F[j]&&F[j].m(f,null);je(f,l[16],!0),r(e,p),r(e,m),r(m,h),r(m,v),r(m,g),r(g,C),r(C,y),y.checked=l[17],r(C,$),r(g,q),r(g,z),r(z,D),D.checked=l[18],r(z,P),r(g,T),r(g,E),r(E,A),A.checked=l[19],r(E,M),O||(J=[te(o,"input",l[77]),te(f,"change",l[78]),te(y,"change",l[79]),te(D,"change",l[80]),te(A,"change",l[81]),te(e,"submit",Uc(l[40]))],O=!0)},p(B,N){if(N[0]&8192&&(o.disabled=B[13]),N[0]&32768&&o.value!==B[15]&&ne(o,B[15]),N[1]&16){W=pe(B[35]);let j;for(j=0;j<W.length;j+=1){const U=no(B,W,j);F[j]?F[j].p(U,N):(F[j]=So(U),F[j].c(),F[j].m(f,null))}for(;j<F.length;j+=1)F[j].d(1);F.length=W.length}N[0]&8192&&(f.disabled=B[13]),N[0]&65536|N[1]&16&&je(f,B[16]),N[0]&8192&&(y.disabled=B[13]),N[0]&131072&&(y.checked=B[17]),N[0]&8192&&(D.disabled=B[13]),N[0]&262144&&(D.checked=B[18]),N[0]&8192&&(A.disabled=B[13]),N[0]&524288&&(A.checked=B[19])},i:be,o:be,d(B){B&&k(e),Le(F,B),O=!1,Ve(J)}}}function __(l){var i;let e,t,n,s,o=((i=l[20])==null?void 0:i.exists)&&To(l);return{c(){e=d("div"),t=d("p"),t.textContent="Creates the default base snapshot with Docker, Nginx, Certbot pre-installed. Required for provisioning new servers.",n=b(),o&&o.c(),c(t,"class","svelte-kvdz4s"),c(e,"class","snap-type-info svelte-kvdz4s")},m(u,a){w(u,e,a),r(e,t),r(e,n),o&&o.m(e,null),s=!0},p(u,a){var _;(_=u[20])!=null&&_.exists?o?(o.p(u,a),a[0]&1048576&&L(o,1)):(o=To(u),o.c(),L(o,1),o.m(e,null)):o&&(Te(),R(o,1,1,()=>{o=null}),ze())},i(u){s||(L(o),s=!0)},o(u){R(o),s=!1},d(u){u&&k(e),o&&o.d()}}}function So(l){let e,t=l[95].label+"",n;return{c(){e=d("option"),n=S(t),e.__value=l[95].value,ne(e,e.__value)},m(s,o){w(s,e,o),r(e,n)},p:be,d(s){s&&k(e)}}}function To(l){let e,t;return e=new Qe({props:{variant:"warning",$$slots:{default:[d_]},$$scope:{ctx:l}}}),{c(){de(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[0]&1048576|s[3]&134217728&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(L(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function d_(l){let e,t=l[20].name+"",n;return{c(){e=S("⚠️ Base snapshot already exists: "),n=S(t)},m(s,o){w(s,e,o),w(s,n,o)},p(s,o){o[0]&1048576&&t!==(t=s[20].name+"")&&I(n,t)},d(s){s&&(k(e),k(n))}}}function zo(l){let e,t,n,s,o,i=pe(l[8]),u=[];for(let _=0;_<i.length;_+=1)u[_]=Do(lo(l,i,_));let a=l[13]&&Eo();return{c(){e=d("div"),t=d("label"),t.textContent="📋 Progress",n=b(),s=d("div");for(let _=0;_<u.length;_+=1)u[_].c();o=b(),a&&a.c(),c(t,"class","svelte-kvdz4s"),c(s,"class","operation-logs svelte-kvdz4s"),c(e,"class","operation-logs-section svelte-kvdz4s")},m(_,f){w(_,e,f),r(e,t),r(e,n),r(e,s);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(s,null);r(s,o),a&&a.m(s,null)},p(_,f){if(f[0]&256){i=pe(_[8]);let p;for(p=0;p<i.length;p+=1){const m=lo(_,i,p);u[p]?u[p].p(m,f):(u[p]=Do(m),u[p].c(),u[p].m(s,o))}for(;p<u.length;p+=1)u[p].d(1);u.length=i.length}_[13]?a||(a=Eo(),a.c(),a.m(s,null)):a&&(a.d(1),a=null)},d(_){_&&k(e),Le(u,_),a&&a.d()}}}function Do(l){let e,t=l[92].message+"",n,s;return{c(){e=d("div"),n=S(t),c(e,"class",s="log-entry log-"+l[92].type+" svelte-kvdz4s")},m(o,i){w(o,e,i),r(e,n)},p(o,i){i[0]&256&&t!==(t=o[92].message+"")&&I(n,t),i[0]&256&&s!==(s="log-entry log-"+o[92].type+" svelte-kvdz4s")&&c(e,"class",s)},d(o){o&&k(e)}}}function Eo(l){let e;return{c(){e=d("div"),e.innerHTML='<span class="spinner svelte-kvdz4s">⏳</span> Working...',c(e,"class","log-entry log-info svelte-kvdz4s")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function p_(l){let e,t,n,s,o,i,u,a,_,f,p,m,h,v;const g=[__,f_],C=[];function y(q,z){return q[14]==="base"?0:1}a=y(l),_=C[a]=g[a](l);let $=(l[8].length>0||l[13])&&zo(l);return{c(){e=d("div"),t=d("button"),n=S("🏗️ Base Snapshot"),s=b(),o=d("button"),i=S("📸 Custom Snapshot"),u=b(),_.c(),f=b(),$&&$.c(),p=Fe(),c(t,"class","snap-type-btn svelte-kvdz4s"),t.disabled=l[13],Ce(t,"active",l[14]==="base"),c(o,"class","snap-type-btn svelte-kvdz4s"),o.disabled=l[13],Ce(o,"active",l[14]==="custom"),c(e,"class","snap-type-selector svelte-kvdz4s")},m(q,z){w(q,e,z),r(e,t),r(t,n),r(e,s),r(e,o),r(o,i),w(q,u,z),C[a].m(q,z),w(q,f,z),$&&$.m(q,z),w(q,p,z),m=!0,h||(v=[te(t,"click",l[75]),te(o,"click",l[76])],h=!0)},p(q,z){(!m||z[0]&8192)&&(t.disabled=q[13]),(!m||z[0]&16384)&&Ce(t,"active",q[14]==="base"),(!m||z[0]&8192)&&(o.disabled=q[13]),(!m||z[0]&16384)&&Ce(o,"active",q[14]==="custom");let D=a;a=y(q),a===D?C[a].p(q,z):(Te(),R(C[D],1,1,()=>{C[D]=null}),ze(),_=C[a],_?_.p(q,z):(_=C[a]=g[a](q),_.c()),L(_,1),_.m(f.parentNode,f)),q[8].length>0||q[13]?$?$.p(q,z):($=zo(q),$.c(),$.m(p.parentNode,p)):$&&($.d(1),$=null)},i(q){m||(L(_),m=!0)},o(q){R(_),m=!1},d(q){q&&(k(e),k(u),k(f),k(p)),C[a].d(q),$&&$.d(q),h=!1,Ve(v)}}}function m_(l){let e=l[8].length>0?"Close":"Cancel",t;return{c(){t=S(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&256&&e!==(e=n[8].length>0?"Close":"Cancel")&&I(t,e)},d(n){n&&k(t)}}}function v_(l){let e;return{c(){e=S("🔨 Build")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function h_(l){let e;return{c(){e=S("⏳ Building...")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function g_(l){let e;function t(o,i){return o[13]?h_:v_}let n=t(l),s=n(l);return{c(){s.c(),e=Fe()},m(o,i){s.m(o,i),w(o,e,i)},p(o,i){n!==(n=t(o))&&(s.d(1),s=n(o),s&&(s.c(),s.m(e.parentNode,e)))},d(o){o&&k(e),s.d(o)}}}function b_(l){let e,t,n,s,o;return t=new Ue({props:{variant:"ghost",$$slots:{default:[m_]},$$scope:{ctx:l}}}),t.$on("click",l[74]),s=new Ue({props:{variant:"primary",disabled:l[13],$$slots:{default:[g_]},$$scope:{ctx:l}}}),s.$on("click",l[40]),{c(){e=d("div"),de(t.$$.fragment),n=b(),de(s.$$.fragment),c(e,"slot","footer")},m(i,u){w(i,e,u),fe(t,e,null),r(e,n),fe(s,e,null),o=!0},p(i,u){const a={};u[0]&256|u[3]&134217728&&(a.$$scope={dirty:u,ctx:i}),t.$set(a);const _={};u[0]&8192&&(_.disabled=i[13]),u[0]&8192|u[3]&134217728&&(_.$$scope={dirty:u,ctx:i}),s.$set(_)},i(i){o||(L(t.$$.fragment,i),L(s.$$.fragment,i),o=!0)},o(i){R(t.$$.fragment,i),R(s.$$.fragment,i),o=!1},d(i){i&&k(e),_e(t),_e(s)}}}function k_(l){let e,t,n,s,o,i,u,a,_,f,p,m,h,v,g,C,y,$,q=jo(l[7])+"",z,D,P,T,E,A,M,O=l[32].length+"",J,W,F,B=l[32].length===1?"SERVER":"SERVERS",N,j,U,X,Z=l[31].containerCount+"",ee,se,Q,G=l[31].containerCount===1?"CONTAINER":"CONTAINERS",H,re,V,ae,le,K=l[31].monthlyCost+"",me,ue,ie,x,Y,he,ke=l[31].healthyContainers+"",Ge,rt,kt=l[31].containerCount+"",dt,De,Oe,ve,Ae,Me,Ee,Ie,et,lt=l[11]?"▼":"▶",nt,We,st,qt=Xl(l[32].length,"Server")+"",Dt,nl,xe,Bt,Pt,Ht,at,pt,ge,Ne,ut,Gt,Vt=l[3]?"▼":"▶",Je,Wt,vl,rl=Xl(l[4].length,"Snapshot")+"",hl,wl,Jt,xt,al,qe,$e,Ke,Ct,Yt,Ut,Ye,St,$l,Qt,Lt,mt,Ol,Fl,ul=pe(l[34]),Tt=[];for(let Se=0;Se<ul.length;Se+=1)Tt[Se]=_o(fo(l,ul,Se));let cl=pe(l[33]),zt=[];for(let Se=0;Se<cl.length;Se+=1)zt[Se]=po(co(l,cl,Se));let vt=l[11]&&mo(l),ht=l[3]&&ho(l);function vn(Se){l[67](Se)}let Wl={title:"Provision Server",width:"500px",$$slots:{footer:[i_],default:[t_]},$$scope:{ctx:l}};l[26]!==void 0&&(Wl.open=l[26]),Ct=new ol({props:Wl}),Ft.push(()=>pl(Ct,"open",vn)),Ct.$on("close",l[68]);function hn(Se){l[73](Se)}let Jl={title:l[22],width:"1000px",$$slots:{footer:[c_],default:[a_]},$$scope:{ctx:l}};l[21]!==void 0&&(Jl.open=l[21]),Ye=new ol({props:Jl}),Ft.push(()=>pl(Ye,"open",hn));function gn(Se){l[82](Se)}let Kl={title:"Build Snapshot",width:"600px",$$slots:{footer:[b_],default:[p_]},$$scope:{ctx:l}};return l[12]!==void 0&&(Kl.open=l[12]),Qt=new ol({props:Kl}),Ft.push(()=>pl(Qt,"open",gn)),Qt.$on("close",l[83]),{c(){e=d("div"),t=d("div"),n=d("div"),s=d("label"),s.textContent="Project",o=b(),i=d("select"),u=d("option"),u.textContent="All";for(let Se=0;Se<Tt.length;Se+=1)Tt[Se].c();a=b(),_=d("div"),f=d("label"),f.textContent="Env",p=b(),m=d("select"),h=d("option"),h.textContent="All";for(let Se=0;Se<zt.length;Se+=1)zt[Se].c();v=b(),g=d("div"),C=b(),y=d("span"),$=S("Updated "),z=S(q),D=b(),P=d("button"),P.textContent="↻",T=b(),E=d("div"),A=d("div"),M=d("span"),J=S(O),W=b(),F=d("span"),N=S(B),j=b(),U=d("div"),X=d("span"),ee=S(Z),se=b(),Q=d("span"),H=S(G),re=b(),V=d("div"),ae=d("span"),le=S("£"),me=S(K),ue=b(),ie=d("span"),ie.textContent="/MONTH",x=b(),Y=d("div"),he=d("span"),Ge=S(ke),rt=S("/"),dt=S(kt),Oe=b(),ve=d("span"),ve.textContent="HEALTHY",Ae=b(),Me=d("div"),Ee=d("div"),Ie=d("div"),et=d("span"),nt=S(lt),We=b(),st=d("span"),Dt=S(qt),nl=b(),xe=d("div"),Bt=d("button"),Bt.textContent="↻",Pt=b(),Ht=d("button"),Ht.textContent="+ Add",at=b(),vt&&vt.c(),pt=b(),ge=d("div"),Ne=d("div"),ut=d("div"),Gt=d("span"),Je=S(Vt),Wt=b(),vl=d("span"),hl=S(rl),wl=b(),Jt=d("div"),xt=d("button"),xt.textContent="↻",al=b(),qe=d("button"),qe.textContent="+ Build",$e=b(),ht&&ht.c(),Ke=b(),de(Ct.$$.fragment),Ut=b(),de(Ye.$$.fragment),$l=b(),de(Qt.$$.fragment),c(s,"class","svelte-kvdz4s"),u.__value="",ne(u,u.__value),c(i,"class","svelte-kvdz4s"),l[1]===void 0&&Xe(()=>l[57].call(i)),c(n,"class","filter-group svelte-kvdz4s"),c(f,"class","svelte-kvdz4s"),h.__value="",ne(h,h.__value),c(m,"class","svelte-kvdz4s"),l[2]===void 0&&Xe(()=>l[58].call(m)),c(_,"class","filter-group svelte-kvdz4s"),c(g,"class","filter-spacer svelte-kvdz4s"),c(y,"class","last-updated svelte-kvdz4s"),c(P,"class","filter-refresh svelte-kvdz4s"),c(P,"title","Refresh"),c(t,"class","filter-bar svelte-kvdz4s"),c(M,"class","banner-value svelte-kvdz4s"),c(F,"class","banner-label svelte-kvdz4s"),c(A,"class","banner-metric svelte-kvdz4s"),c(X,"class","banner-value svelte-kvdz4s"),c(Q,"class","banner-label svelte-kvdz4s"),c(U,"class","banner-metric svelte-kvdz4s"),c(ae,"class","banner-value svelte-kvdz4s"),c(ie,"class","banner-label svelte-kvdz4s"),c(V,"class","banner-metric svelte-kvdz4s"),c(he,"class",De="banner-value "+(l[31].unhealthyContainers>0?"warning":"success")+" svelte-kvdz4s"),c(ve,"class","banner-label svelte-kvdz4s"),c(Y,"class","banner-metric svelte-kvdz4s"),c(E,"class","summary-banner svelte-kvdz4s"),c(et,"class","expand-icon svelte-kvdz4s"),c(Ie,"class","section-title svelte-kvdz4s"),c(Bt,"class","section-btn svelte-kvdz4s"),c(Ht,"class","section-btn primary svelte-kvdz4s"),c(xe,"class","section-actions svelte-kvdz4s"),c(Ee,"class","section-header svelte-kvdz4s"),c(Me,"class","section svelte-kvdz4s"),Ce(Me,"expanded",l[11]),c(Gt,"class","expand-icon svelte-kvdz4s"),c(ut,"class","section-title svelte-kvdz4s"),c(xt,"class","section-btn svelte-kvdz4s"),c(qe,"class","section-btn primary svelte-kvdz4s"),c(Jt,"class","section-actions svelte-kvdz4s"),c(Ne,"class","section-header svelte-kvdz4s"),c(ge,"class","section svelte-kvdz4s"),Ce(ge,"expanded",l[3]),c(e,"class","infrastructure svelte-kvdz4s")},m(Se,Re){w(Se,e,Re),r(e,t),r(t,n),r(n,s),r(n,o),r(n,i),r(i,u);for(let Mt=0;Mt<Tt.length;Mt+=1)Tt[Mt]&&Tt[Mt].m(i,null);je(i,l[1],!0),r(t,a),r(t,_),r(_,f),r(_,p),r(_,m),r(m,h);for(let Mt=0;Mt<zt.length;Mt+=1)zt[Mt]&&zt[Mt].m(m,null);je(m,l[2],!0),r(t,v),r(t,g),r(t,C),r(t,y),r(y,$),r(y,z),r(t,D),r(t,P),r(e,T),r(e,E),r(E,A),r(A,M),r(M,J),r(A,W),r(A,F),r(F,N),r(E,j),r(E,U),r(U,X),r(X,ee),r(U,se),r(U,Q),r(Q,H),r(E,re),r(E,V),r(V,ae),r(ae,le),r(ae,me),r(V,ue),r(V,ie),r(E,x),r(E,Y),r(Y,he),r(he,Ge),r(he,rt),r(he,dt),r(Y,Oe),r(Y,ve),r(e,Ae),r(e,Me),r(Me,Ee),r(Ee,Ie),r(Ie,et),r(et,nt),r(Ie,We),r(Ie,st),r(st,Dt),r(Ee,nl),r(Ee,xe),r(xe,Bt),r(xe,Pt),r(xe,Ht),r(Me,at),vt&&vt.m(Me,null),r(e,pt),r(e,ge),r(ge,Ne),r(Ne,ut),r(ut,Gt),r(Gt,Je),r(ut,Wt),r(ut,vl),r(vl,hl),r(Ne,wl),r(Ne,Jt),r(Jt,xt),r(Jt,al),r(Jt,qe),r(ge,$e),ht&&ht.m(ge,null),w(Se,Ke,Re),fe(Ct,Se,Re),w(Se,Ut,Re),fe(Ye,Se,Re),w(Se,$l,Re),fe(Qt,Se,Re),mt=!0,Ol||(Fl=[te(i,"change",l[57]),te(m,"change",l[58]),te(P,"click",l[0]),te(Bt,"click",l[0]),te(Ht,"click",l[59]),te(xe,"click",Fn(l[56])),te(Ee,"click",l[60]),te(xt,"click",l[38]),te(qe,"click",l[36]),te(Jt,"click",Fn(l[55])),te(Ne,"click",l[61])],Ol=!0)},p(Se,Re){if(Re[1]&8){ul=pe(Se[34]);let ot;for(ot=0;ot<ul.length;ot+=1){const gl=fo(Se,ul,ot);Tt[ot]?Tt[ot].p(gl,Re):(Tt[ot]=_o(gl),Tt[ot].c(),Tt[ot].m(i,null))}for(;ot<Tt.length;ot+=1)Tt[ot].d(1);Tt.length=ul.length}if(Re[0]&2|Re[1]&8&&je(i,Se[1]),Re[1]&4){cl=pe(Se[33]);let ot;for(ot=0;ot<cl.length;ot+=1){const gl=co(Se,cl,ot);zt[ot]?zt[ot].p(gl,Re):(zt[ot]=po(gl),zt[ot].c(),zt[ot].m(m,null))}for(;ot<zt.length;ot+=1)zt[ot].d(1);zt.length=cl.length}Re[0]&4|Re[1]&4&&je(m,Se[2]),(!mt||Re[0]&128)&&q!==(q=jo(Se[7])+"")&&I(z,q),(!mt||Re[1]&2)&&O!==(O=Se[32].length+"")&&I(J,O),(!mt||Re[1]&2)&&B!==(B=Se[32].length===1?"SERVER":"SERVERS")&&I(N,B),(!mt||Re[1]&1)&&Z!==(Z=Se[31].containerCount+"")&&I(ee,Z),(!mt||Re[1]&1)&&G!==(G=Se[31].containerCount===1?"CONTAINER":"CONTAINERS")&&I(H,G),(!mt||Re[1]&1)&&K!==(K=Se[31].monthlyCost+"")&&I(me,K),(!mt||Re[1]&1)&&ke!==(ke=Se[31].healthyContainers+"")&&I(Ge,ke),(!mt||Re[1]&1)&&kt!==(kt=Se[31].containerCount+"")&&I(dt,kt),(!mt||Re[1]&1&&De!==(De="banner-value "+(Se[31].unhealthyContainers>0?"warning":"success")+" svelte-kvdz4s"))&&c(he,"class",De),(!mt||Re[0]&2048)&&lt!==(lt=Se[11]?"▼":"▶")&&I(nt,lt),(!mt||Re[1]&2)&&qt!==(qt=Xl(Se[32].length,"Server")+"")&&I(Dt,qt),Se[11]?vt?(vt.p(Se,Re),Re[0]&2048&&L(vt,1)):(vt=mo(Se),vt.c(),L(vt,1),vt.m(Me,null)):vt&&(Te(),R(vt,1,1,()=>{vt=null}),ze()),(!mt||Re[0]&2048)&&Ce(Me,"expanded",Se[11]),(!mt||Re[0]&8)&&Vt!==(Vt=Se[3]?"▼":"▶")&&I(Je,Vt),(!mt||Re[0]&16)&&rl!==(rl=Xl(Se[4].length,"Snapshot")+"")&&I(hl,rl),Se[3]?ht?(ht.p(Se,Re),Re[0]&8&&L(ht,1)):(ht=ho(Se),ht.c(),L(ht,1),ht.m(ge,null)):ht&&(Te(),R(ht,1,1,()=>{ht=null}),ze()),(!mt||Re[0]&8)&&Ce(ge,"expanded",Se[3]);const Mt={};Re[0]&469763600|Re[3]&134217728&&(Mt.$$scope={dirty:Re,ctx:Se}),!Yt&&Re[0]&67108864&&(Yt=!0,Mt.open=Se[26],dl(()=>Yt=!1)),Ct.$set(Mt);const yl={};Re[0]&4194304&&(yl.title=Se[22]),Re[0]&1134559296|Re[3]&134217728&&(yl.$$scope={dirty:Re,ctx:Se}),!St&&Re[0]&2097152&&(St=!0,yl.open=Se[21],dl(()=>St=!1)),Ye.$set(yl);const Il={};Re[0]&2093312|Re[3]&134217728&&(Il.$$scope={dirty:Re,ctx:Se}),!Lt&&Re[0]&4096&&(Lt=!0,Il.open=Se[12],dl(()=>Lt=!1)),Qt.$set(Il)},i(Se){mt||(L(vt),L(ht),L(Ct.$$.fragment,Se),L(Ye.$$.fragment,Se),L(Qt.$$.fragment,Se),mt=!0)},o(Se){R(vt),R(ht),R(Ct.$$.fragment,Se),R(Ye.$$.fragment,Se),R(Qt.$$.fragment,Se),mt=!1},d(Se){Se&&(k(e),k(Ke),k(Ut),k($l)),Le(Tt,Se),Le(zt,Se),vt&&vt.d(),ht&&ht.d(),_e(Ct,Se),_e(Ye,Se),_e(Qt,Se),Ol=!1,Ve(Fl)}}}function Po(l){return l!=null&&l.length?l.reduce((e,t)=>{const n=t.size_slug||t.size||"";return n.includes("4gb")?e+24:n.includes("2gb")?e+12:n.includes("1gb")?e+6:n.includes("512mb")?e+4:e+6},0):0}function Xl(l,e,t=null){return l===1?`${l} ${e}`:`${l} ${t||e+"s"}`}function Lo(l){if(!l)return"0 B";const e=1024,t=["B","KB","MB","GB"],n=Math.floor(Math.log(l)/Math.log(e));return parseFloat((l/Math.pow(e,n)).toFixed(1))+" "+t[n]}function Mo(l){return l?new Date(l).toLocaleDateString("en-GB",{day:"2-digit",month:"short"}):""}function jo(l){if(!l)return"never";const t=Math.floor((new Date-l)/1e3);return t<5?"just now":t<60?`${t}s ago`:t<3600?`${Math.floor(t/60)}m ago`:l.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})}const No=l=>{var e;return(e=l.name)==null?void 0:e.startsWith("base-")},Ao=l=>{var e;return(e=l.name)==null?void 0:e.startsWith("base-")};function w_(l,e,t){let n,s,o,i,u,a,_,f,p,m,h,v;_t(l,pn,qe=>t(50,f=qe)),_t(l,Lu,qe=>t(51,p=qe)),_t(l,Xt,qe=>t(52,m=qe)),_t(l,Mu,qe=>t(53,h=qe)),_t(l,An,qe=>t(54,v=qe));let g="",C="",y=null,$=[],q=[],z=!1,D=!0,P=!1,T=[],E=!1,A=!1,M=!1,O="custom",J="",W="ubuntu-22-04-x64",F=!0,B=!0,N=!0,j=null;const U=[{value:"ubuntu-22-04-x64",label:"Ubuntu 22.04 LTS"},{value:"ubuntu-20-04-x64",label:"Ubuntu 20.04 LTS"},{value:"debian-11-x64",label:"Debian 11"},{value:"debian-12-x64",label:"Debian 12"}];function X(){t(14,O=j!=null&&j.exists?"custom":"base"),t(12,A=!0)}let Z=null;async function ee(){if(p)try{t(47,Z=await He("GET",`/infra/fleet/health?do_token=${p}`))}catch(qe){console.error("Failed to load fleet health:",qe)}finally{}}let se=!1,Q="",G="",H=!1,re=null,V=null,ae="",le=200,K=!1,me=null,ue=!1,ie={region:"lon1",size:"s-2vcpu-2gb",snapshot_id:""};const x=[{value:"lon1",label:"London 1"},{value:"fra1",label:"Frankfurt 1"},{value:"ams3",label:"Amsterdam 3"},{value:"nyc1",label:"New York 1"},{value:"nyc3",label:"New York 3"},{value:"sfo3",label:"San Francisco 3"},{value:"sgp1",label:"Singapore 1"},{value:"blr1",label:"Bangalore 1"},{value:"tor1",label:"Toronto 1"},{value:"syd1",label:"Sydney 1"}];let Y=[{slug:"s-1vcpu-512mb-10gb",memory:512,vcpus:1,price_monthly:4,description:"$4/mo - 512MB / 1 vCPU"},{slug:"s-1vcpu-1gb",memory:1024,vcpus:1,price_monthly:6,description:"$6/mo - 1GB / 1 vCPU"},{slug:"s-2vcpu-2gb",memory:2048,vcpus:2,price_monthly:18,description:"$18/mo - 2GB / 2 vCPU"},{slug:"s-2vcpu-4gb",memory:4096,vcpus:2,price_monthly:24,description:"$24/mo - 4GB / 2 vCPU"},{slug:"s-4vcpu-8gb",memory:8192,vcpus:4,price_monthly:48,description:"$48/mo - 8GB / 4 vCPU"}];async function he(){var qe;try{const $e=await He("GET","/infra/sizes");((qe=$e.sizes)==null?void 0:qe.length)>0&&t(28,Y=$e.sizes)}catch{console.warn("Using fallback sizes")}}kl(()=>{he()});async function ke(){t(5,E=!0);try{const qe=await He("GET",`/infra/snapshots?do_token=${p}`);t(4,T=qe.snapshots||[]),Ge()}catch(qe){console.error("Failed to load snapshots:",qe)}finally{t(5,E=!1)}}function Ge(){const qe=T.find($e=>{var Ke;return(Ke=$e.name)==null?void 0:Ke.toLowerCase().startsWith("base-")});qe?t(20,j={exists:!0,name:qe.name,created_at:qe.created_at}):t(20,j={exists:!1})}async function rt(qe,$e){if(confirm(`Delete snapshot "${$e}"?`))try{await He("DELETE",`/infra/snapshots/${qe}?do_token=${p}`),ye.success(`Deleted ${$e}`),t(4,T=T.filter(Ke=>Ke.id!==qe))}catch(Ke){ye.error(`Failed: ${Ke.message}`)}}async function kt(){t(13,M=!0),t(8,$=[]);const qe=($e,Ke="info")=>{t(8,$=[...$,{message:$e,type:Ke,time:new Date}])};try{if(O==="base")qe("Starting base snapshot creation..."),await en("POST",`/infra/setup/init/stream?do_token=${p}`,{},$e=>{var Ke;$e.type==="log"?qe($e.message||((Ke=$e.data)==null?void 0:Ke.message),"info"):$e.type==="progress"?$e.message&&qe($e.message,"info"):$e.type==="error"?qe($e.message||$e.error,"error"):$e.type==="done"||$e.type==="complete"?$e.success?qe("✅ Base snapshot created successfully!","success"):qe(`❌ ${$e.message||$e.error||"Failed"}`,"error"):$e.message&&qe($e.message,"info")}),await Ge(),await ke(),ye.success("Base snapshot created!");else{if(!J){ye.error("Snapshot name required"),t(13,M=!1);return}if(J.toLowerCase().startsWith("base-")){ye.error('Custom snapshots cannot start with "base-"'),t(13,M=!1);return}qe(`Starting custom snapshot "${J}"...`),await en("POST",`/infra/snapshots/ensure/stream?do_token=${p}`,{name:J,base_image:W,install_docker:F,install_nginx:B,install_certbot:N},$e=>{var Ke;$e.type==="log"?qe($e.message||((Ke=$e.data)==null?void 0:Ke.message),"info"):$e.type==="progress"?$e.message&&qe($e.message,"info"):$e.type==="error"?qe($e.message||$e.error,"error"):$e.type==="done"||$e.type==="complete"?$e.success?qe("✅ Snapshot created successfully!","success"):qe(`❌ ${$e.message||$e.error||"Failed"}`,"error"):$e.message&&qe($e.message,"info")}),await ke(),ye.success("Custom snapshot created!"),t(15,J="")}}catch($e){qe(`❌ Error: ${$e.message}`,"error"),ye.error($e.message)}finally{t(13,M=!1)}}async function dt(){t(10,z=!0),t(9,q=[]);const qe=($e,Ke="info")=>{t(9,q=[...q,{message:$e,type:Ke,time:new Date}])};try{qe("Starting provisioning..."),await en("POST",`/infra/servers/provision/stream?do_token=${p}`,{snapshot_id:ie.snapshot_id||null,region:ie.region,size:ie.size},$e=>{var Ke;$e.type==="log"?qe($e.message||((Ke=$e.data)==null?void 0:Ke.message),"info"):$e.type==="progress"?qe($e.message||`Progress: ${$e.percent||""}%`,"info"):$e.type==="error"?qe($e.message||$e.error,"error"):$e.type==="done"||$e.type==="complete"?$e.success?qe(`✅ Server provisioned! IP: ${$e.ip||"pending"}`,"success"):qe(`❌ ${$e.message||$e.error||"Failed"}`,"error"):$e.message&&qe($e.message,"info")}),ye.success("Server provisioned"),Xt.refresh()}catch($e){qe(`❌ Error: ${$e.message}`,"error"),ye.error("Failed: "+$e.message)}finally{t(10,z=!1)}}async function De(qe){const{server:$e}=qe.detail;if(qe.type==="destroy"&&confirm(`Destroy ${$e.name}? This cannot be undone.`))try{await He("DELETE",`/infra/servers/${$e.id}?do_token=${p}`),ye.success(`Destroyed ${$e.name}`),Xt.refresh()}catch(Ct){ye.error(`Failed: ${Ct.message}`)}}async function Oe(qe){var Yt,Ut,Ye;const{server:$e,containerName:Ke}=qe.detail,Ct=$e.ip||((Ye=(Ut=(Yt=$e.networks)==null?void 0:Yt.v4)==null?void 0:Ut[0])==null?void 0:Ye.ip_address)||"unknown";re=$e.id,V=Ke,t(22,Q=`📋 ${Ke} @ ${Ct}`),t(48,G=""),t(6,ae=""),t(21,se=!0),t(23,H=!0);try{const St=await He("GET",`/infra/agent/${$e.id}/containers/${Ke}/logs?do_token=${p}&tail=${le}`);t(48,G=St.logs||"No logs available")}catch(St){t(48,G=`Error: ${St.message}`)}finally{t(23,H=!1)}}async function ve(){if(!(!re||!V)){t(23,H=!0);try{const qe=await He("GET",`/infra/agent/${re}/containers/${V}/logs?do_token=${p}&tail=${le}`);t(48,G=qe.logs||"No logs available")}catch(qe){t(48,G=`Error: ${qe.message}`)}finally{t(23,H=!1)}}}function Ae(){K?me=setInterval(ve,3e3):Me()}function Me(){me&&(clearInterval(me),me=null),t(25,K=!1)}function Ee(){Xt.refresh(),t(7,y=new Date)}function Ie(qe){on.call(this,l,qe)}function et(qe){on.call(this,l,qe)}function lt(){g=ct(this),t(1,g),t(34,n),t(50,f),t(54,v),t(53,h)}function nt(){C=ct(this),t(2,C),t(33,s),t(50,f)}const We=()=>t(26,ue=!0),st=()=>t(11,D=!D),qt=()=>t(3,P=!P),Dt=qe=>rt(qe.id,qe.name),nl=()=>{t(26,ue=!1),t(9,q=[])};function xe(){ie.snapshot_id=ct(this),t(27,ie),t(4,T)}function Bt(){ie.region=ct(this),t(27,ie),t(4,T)}function Pt(){ie.size=ct(this),t(27,ie),t(4,T)}function Ht(qe){ue=qe,t(26,ue)}const at=()=>{t(26,ue=!1),t(9,q=[])},pt=()=>{t(21,se=!1),Me()};function ge(){ae=this.value,t(6,ae)}function Ne(){le=ct(this),t(24,le)}function ut(){K=this.checked,t(25,K)}function Gt(qe){se=qe,t(21,se)}const Vt=()=>{t(12,A=!1),t(8,$=[])},Je=()=>t(14,O="base"),Wt=()=>t(14,O="custom");function vl(){J=this.value,t(15,J)}function rl(){W=ct(this),t(16,W),t(35,U)}function hl(){F=this.checked,t(17,F)}function wl(){B=this.checked,t(18,B)}function Jt(){N=this.checked,t(19,N)}function xt(qe){A=qe,t(12,A)}const al=()=>{t(12,A=!1),t(8,$=[])};return l.$$.update=()=>{var qe,$e,Ke,Ct,Yt,Ut;l.$$.dirty[1]&13107200&&t(34,n=[...new Set([...(f||[]).map(Ye=>Ye.project).filter(Boolean),...v||[],...(h||[]).map(Ye=>Ye.project).filter(Boolean)])].sort()),l.$$.dirty[1]&524288&&t(33,s=[...new Set([...(f||[]).map(Ye=>Ye.env||Ye.environment).filter(Boolean),"prod","staging","dev"])].sort()),l.$$.dirty[0]&6|l.$$.dirty[1]&524288&&t(32,o=(f||[]).filter(Ye=>!(g&&Ye.project!==g||C&&(Ye.env||Ye.environment)!==C))),l.$$.dirty[0]&56&&P&&T.length===0&&!E&&ke(),l.$$.dirty[1]&589824&&t(31,i=Z?{serverCount:((qe=Z.summary)==null?void 0:qe.total)||(f==null?void 0:f.length)||0,containerCount:(($e=Z.servers)==null?void 0:$e.reduce((Ye,St)=>Ye+(St.containers||0),0))||0,healthyContainers:((Ke=Z.servers)==null?void 0:Ke.reduce((Ye,St)=>Ye+(St.healthy||0),0))||0,unhealthyContainers:((Ct=Z.servers)==null?void 0:Ct.reduce((Ye,St)=>Ye+(St.unhealthy||0),0))||0,monthlyCost:Po(f),health:((Yt=Z.summary)==null?void 0:Yt.healthy)===((Ut=Z.summary)==null?void 0:Ut.total)?"healthy":"degraded"}:{serverCount:(f==null?void 0:f.length)||0,containerCount:0,healthyContainers:0,unhealthyContainers:0,monthlyCost:Po(f),health:"unknown"}),l.$$.dirty[1]&1114112&&!Z&&p&&ee(),l.$$.dirty[0]&64|l.$$.dirty[1]&131072&&t(30,u=ae?G.split(`
`).filter(Ye=>Ye.toLowerCase().includes(ae.toLowerCase())).join(`
`):G),l.$$.dirty[1]&2097152&&t(49,a=m||{loading:!1}),l.$$.dirty[1]&262144&&t(29,_=a.loading),l.$$.dirty[1]&524288&&f&&t(7,y=new Date)},[Ee,g,C,P,T,E,ae,y,$,q,z,D,A,M,O,J,W,F,B,N,j,se,Q,H,le,K,ue,ie,Y,_,u,i,o,s,n,U,X,x,ke,rt,kt,dt,De,Oe,ve,Ae,Me,Z,G,a,f,p,m,h,v,Ie,et,lt,nt,We,st,qt,Dt,nl,xe,Bt,Pt,Ht,at,pt,ge,Ne,ut,Gt,Vt,Je,Wt,vl,rl,hl,wl,Jt,xt,al]}class $_ extends yt{constructor(e){super(),$t(this,e,w_,k_,bt,{refresh:0},null,[-1,-1,-1,-1])}get refresh(){return this.$$.ctx[0]}}const y_="modulepreload",C_=function(l){return"/static/"+l},Ro={},Oo=function(e,t,n){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),u=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(t.map(a=>{if(a=C_(a),a in Ro)return;Ro[a]=!0;const _=a.endsWith(".css"),f=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${f}`))return;const p=document.createElement("link");if(p.rel=_?"stylesheet":y_,_||(p.as="script"),p.crossOrigin="",p.href=a,u&&p.setAttribute("nonce",u),document.head.appendChild(p),_)return new Promise((m,h)=>{p.addEventListener("load",m),p.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})}))}function o(i){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=i,window.dispatchEvent(u),!u.defaultPrevented)throw i}return s.then(i=>{for(const u of i||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})},{Boolean:mn}=mu;function Fo(l,e,t){const n=l.slice();return n[179]=e[t],n}function Io(l,e,t){const n=l.slice();return n[179]=e[t],n}function Bo(l,e,t){const n=l.slice();return n[179]=e[t],n}function Uo(l,e,t){const n=l.slice();return n[179]=e[t],n}function Ho(l,e,t){const n=l.slice();return n[83]=e[t],n}function Go(l,e,t){const n=l.slice();return n[190]=e[t],n}function Vo(l,e,t){const n=l.slice();return n[193]=e[t],n}function Wo(l,e,t){const n=l.slice();return n[196]=e[t],n}function Jo(l,e,t){var o,i,u;const n=l.slice();n[179]=e[t];const s=n[179].ip||((u=(i=(o=n[179].networks)==null?void 0:o.v4)==null?void 0:i[0])==null?void 0:u.ip_address);return n[199]=s,n}function Ko(l,e,t){var o,i,u;const n=l.slice();n[179]=e[t];const s=n[179].ip||((u=(i=(o=n[179].networks)==null?void 0:o.v4)==null?void 0:i[0])==null?void 0:u.ip_address);return n[199]=s,n}function Yo(l,e,t){const n=l.slice();return n[204]=e[t],n[206]=t,n}function q_(l){const e=l.slice(),t=e[28].find(s=>s.isMain);e[207]=t;const n=e[28].filter(s=>!s.isMain).length;return e[208]=n,e}function Qo(l,e,t){const n=l.slice();return n[204]=e[t],n[206]=t,n}function Zo(l,e,t){const n=l.slice();return n[210]=e[t],n}function Xo(l,e,t){const n=l.slice();return n[213]=e[t],n}function xo(l,e,t){const n=l.slice();return n[216]=e[t],n}function ei(l){let e,t,n,s,o,i,u,a,_,f;function p(){return l[86](l[216])}return{c(){e=d("label"),t=d("input"),s=b(),o=d("span"),o.textContent=`${l[216].label}`,i=b(),u=d("span"),u.textContent=`${l[216].description}`,a=b(),c(t,"type","radio"),c(t,"name","deployType"),t.checked=n=l[0]===l[216].value,c(t,"class","svelte-1xqclu"),c(o,"class","dt-label svelte-1xqclu"),c(u,"class","dt-desc svelte-1xqclu"),c(e,"class","deploy-type-option svelte-1xqclu"),Ce(e,"active",l[0]===l[216].value)},m(m,h){w(m,e,h),r(e,t),r(e,s),r(e,o),r(e,i),r(e,u),r(e,a),_||(f=te(t,"change",p),_=!0)},p(m,h){l=m,h[0]&1&&n!==(n=l[0]===l[216].value)&&(t.checked=n),h[0]&1|h[1]&536870912&&Ce(e,"active",l[0]===l[216].value)},d(m){m&&k(e),_=!1,f()}}}function ti(l){let e,t,n;return{c(){e=d("small"),t=S("Usually same as type: "),n=S(l[1]),c(e,"class","svelte-1xqclu")},m(s,o){w(s,e,o),r(e,t),r(e,n)},p(s,o){o[0]&2&&I(n,s[1])},d(s){s&&k(e)}}}function li(l){let e,t=l[213]+"",n;return{c(){e=d("option"),n=S(t),e.__value=l[213],ne(e,e.__value)},m(s,o){w(s,e,o),r(e,n)},p:be,d(s){s&&k(e)}}}function ni(l){var h;let e,t,n,s,o,i,u,a=((h=l[2].find(l[92]))==null?void 0:h.image)+"",_,f,p=pe(l[2]),m=[];for(let v=0;v<p.length;v+=1)m[v]=si(Zo(l,p,v));return{c(){e=d("div"),t=d("label"),t.textContent="Service Type *",n=b(),s=d("div");for(let v=0;v<m.length;v+=1)m[v].c();o=b(),i=d("small"),u=S("Image: "),_=S(a),f=S(" • Data persisted to /data"),c(t,"class","svelte-1xqclu"),c(s,"class","stateful-type-selector svelte-1xqclu"),c(i,"class","svelte-1xqclu"),c(e,"class","form-group svelte-1xqclu")},m(v,g){w(v,e,g),r(e,t),r(e,n),r(e,s);for(let C=0;C<m.length;C+=1)m[C]&&m[C].m(s,null);r(e,o),r(e,i),r(i,u),r(i,_),r(i,f)},p(v,g){var C;if(g[0]&6){p=pe(v[2]);let y;for(y=0;y<p.length;y+=1){const $=Zo(v,p,y);m[y]?m[y].p($,g):(m[y]=si($),m[y].c(),m[y].m(s,null))}for(;y<m.length;y+=1)m[y].d(1);m.length=p.length}g[0]&6&&a!==(a=((C=v[2].find(v[92]))==null?void 0:C.image)+"")&&I(_,a)},d(v){v&&k(e),Le(m,v)}}}function si(l){let e,t,n,s=!1,o,i,u=l[210].label+"",a,_,f,p,m=l[210].port+"",h,v,g,C,y;return g=Pn(l[91][1]),{c(){e=d("label"),t=d("input"),o=b(),i=d("span"),a=S(u),_=b(),f=d("span"),p=S("Port "),h=S(m),v=b(),c(t,"type","radio"),t.__value=n=l[210].value,ne(t,t.__value),c(t,"class","svelte-1xqclu"),c(i,"class","st-label svelte-1xqclu"),c(f,"class","st-port svelte-1xqclu"),c(e,"class","stateful-option svelte-1xqclu"),Ce(e,"active",l[1]===l[210].value),g.p(t)},m($,q){w($,e,q),r(e,t),t.checked=t.__value===l[1],r(e,o),r(e,i),r(i,a),r(e,_),r(e,f),r(f,p),r(f,h),r(e,v),C||(y=te(t,"change",l[90]),C=!0)},p($,q){q[0]&4&&n!==(n=$[210].value)&&(t.__value=n,ne(t,t.__value),s=!0),(s||q[0]&6)&&(t.checked=t.__value===$[1]),q[0]&4&&u!==(u=$[210].label+"")&&I(a,u),q[0]&4&&m!==(m=$[210].port+"")&&I(h,m),q[0]&6&&Ce(e,"active",$[1]===$[210].value)},d($){$&&k(e),g.r(),C=!1,y()}}}function oi(l){let e,t,n,s,o,i,u,a,_,f,p,m,h,v,g,C,y,$,q,z,D,P,T,E,A,M,O,J,W,F,B,N,j,U,X,Z,ee,se,Q,G,H,re,V,ae;s=new Ue({props:{variant:"ghost",size:"sm",title:"Load saved config",$$slots:{default:[S_]},$$scope:{ctx:l}}}),s.$on("click",l[63]),i=new Ue({props:{variant:"ghost",size:"sm",title:"Save current settings",$$slots:{default:[T_]},$$scope:{ctx:l}}}),i.$on("click",l[64]),a=new Ue({props:{variant:"ghost",size:"sm",title:"Edit exclusion patterns",$$slots:{default:[z_]},$$scope:{ctx:l}}}),a.$on("click",l[65]);let le=l[53]&&ii(l),K=l[54]&&ri(l),me=l[15]==="code"&&ai(l),ue=l[15]==="git"&&vi(l),ie=l[15]==="image"&&bi(l),x=l[15]==="image_file"&&ki(l);return re=Pn(l[91][0]),{c(){e=d("div"),t=d("span"),t.textContent="Config:",n=b(),de(s.$$.fragment),o=b(),de(i.$$.fragment),u=b(),de(a.$$.fragment),_=b(),le&&le.c(),f=b(),K&&K.c(),p=b(),m=d("div"),h=d("label"),h.innerHTML='Tags <small class="svelte-1xqclu">(comma-separated)</small>',v=b(),g=d("input"),C=b(),y=d("div"),$=d("label"),$.textContent="Source Type *",q=b(),z=d("div"),D=d("label"),P=d("input"),T=S(`
              📁 Local Code`),E=b(),A=d("label"),M=d("input"),O=S(`
              📦 Git Repo`),J=b(),W=d("label"),F=d("input"),B=S(`
              🐳 Registry`),N=b(),j=d("label"),U=d("input"),X=S(`
              📦 Local Image`),Z=b(),me&&me.c(),ee=b(),ue&&ue.c(),se=b(),ie&&ie.c(),Q=b(),x&&x.c(),G=Fe(),c(t,"class","config-label svelte-1xqclu"),c(e,"class","config-bar svelte-1xqclu"),c(h,"for","deploy-tags"),c(h,"class","svelte-1xqclu"),c(g,"id","deploy-tags"),c(g,"type","text"),c(g,"placeholder","api, backend, v2"),c(g,"class","svelte-1xqclu"),c(m,"class","form-group svelte-1xqclu"),c($,"class","svelte-1xqclu"),c(P,"type","radio"),P.__value="code",ne(P,P.__value),c(P,"class","svelte-1xqclu"),c(D,"class","source-option svelte-1xqclu"),Ce(D,"active",l[15]==="code"),c(M,"type","radio"),M.__value="git",ne(M,M.__value),c(M,"class","svelte-1xqclu"),c(A,"class","source-option svelte-1xqclu"),Ce(A,"active",l[15]==="git"),c(F,"type","radio"),F.__value="image",ne(F,F.__value),c(F,"class","svelte-1xqclu"),c(W,"class","source-option svelte-1xqclu"),Ce(W,"active",l[15]==="image"),c(U,"type","radio"),U.__value="image_file",ne(U,U.__value),c(U,"class","svelte-1xqclu"),c(j,"class","source-option svelte-1xqclu"),Ce(j,"active",l[15]==="image_file"),c(z,"class","source-radio-group svelte-1xqclu"),c(y,"class","form-group svelte-1xqclu"),re.p(P,M,F,U)},m(Y,he){w(Y,e,he),r(e,t),r(e,n),fe(s,e,null),r(e,o),fe(i,e,null),r(e,u),fe(a,e,null),r(e,_),le&&le.m(e,null),w(Y,f,he),K&&K.m(Y,he),w(Y,p,he),w(Y,m,he),r(m,h),r(m,v),r(m,g),ne(g,l[14]),w(Y,C,he),w(Y,y,he),r(y,$),r(y,q),r(y,z),r(z,D),r(D,P),P.checked=P.__value===l[15],r(D,T),r(z,E),r(z,A),r(A,M),M.checked=M.__value===l[15],r(A,O),r(z,J),r(z,W),r(W,F),F.checked=F.__value===l[15],r(W,B),r(z,N),r(z,j),r(j,U),U.checked=U.__value===l[15],r(j,X),w(Y,Z,he),me&&me.m(Y,he),w(Y,ee,he),ue&&ue.m(Y,he),w(Y,se,he),ie&&ie.m(Y,he),w(Y,Q,he),x&&x.m(Y,he),w(Y,G,he),H=!0,V||(ae=[te(g,"input",l[94]),te(P,"change",l[95]),te(M,"change",l[96]),te(F,"change",l[97]),te(U,"change",l[98])],V=!0)},p(Y,he){const ke={};he[7]&4&&(ke.$$scope={dirty:he,ctx:Y}),s.$set(ke);const Ge={};he[7]&4&&(Ge.$$scope={dirty:he,ctx:Y}),i.$set(Ge);const rt={};he[7]&4&&(rt.$$scope={dirty:he,ctx:Y}),a.$set(rt),Y[53]?le?le.p(Y,he):(le=ii(Y),le.c(),le.m(e,null)):le&&(le.d(1),le=null),Y[54]?K?(K.p(Y,he),he[1]&8388608&&L(K,1)):(K=ri(Y),K.c(),L(K,1),K.m(p.parentNode,p)):K&&(Te(),R(K,1,1,()=>{K=null}),ze()),he[0]&16384&&g.value!==Y[14]&&ne(g,Y[14]),he[0]&32768&&(P.checked=P.__value===Y[15]),(!H||he[0]&32768)&&Ce(D,"active",Y[15]==="code"),he[0]&32768&&(M.checked=M.__value===Y[15]),(!H||he[0]&32768)&&Ce(A,"active",Y[15]==="git"),he[0]&32768&&(F.checked=F.__value===Y[15]),(!H||he[0]&32768)&&Ce(W,"active",Y[15]==="image"),he[0]&32768&&(U.checked=U.__value===Y[15]),(!H||he[0]&32768)&&Ce(j,"active",Y[15]==="image_file"),Y[15]==="code"?me?(me.p(Y,he),he[0]&32768&&L(me,1)):(me=ai(Y),me.c(),L(me,1),me.m(ee.parentNode,ee)):me&&(Te(),R(me,1,1,()=>{me=null}),ze()),Y[15]==="git"?ue?(ue.p(Y,he),he[0]&32768&&L(ue,1)):(ue=vi(Y),ue.c(),L(ue,1),ue.m(se.parentNode,se)):ue&&(Te(),R(ue,1,1,()=>{ue=null}),ze()),Y[15]==="image"?ie?ie.p(Y,he):(ie=bi(Y),ie.c(),ie.m(Q.parentNode,Q)):ie&&(ie.d(1),ie=null),Y[15]==="image_file"?x?x.p(Y,he):(x=ki(Y),x.c(),x.m(G.parentNode,G)):x&&(x.d(1),x=null)},i(Y){H||(L(s.$$.fragment,Y),L(i.$$.fragment,Y),L(a.$$.fragment,Y),L(K),L(me),L(ue),H=!0)},o(Y){R(s.$$.fragment,Y),R(i.$$.fragment,Y),R(a.$$.fragment,Y),R(K),R(me),R(ue),H=!1},d(Y){Y&&(k(e),k(f),k(p),k(m),k(C),k(y),k(Z),k(ee),k(se),k(Q),k(G)),_e(s),_e(i),_e(a),le&&le.d(),K&&K.d(Y),me&&me.d(Y),ue&&ue.d(Y),ie&&ie.d(Y),x&&x.d(Y),re.r(),V=!1,Ve(ae)}}}function S_(l){let e;return{c(){e=S("📥 Load")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function T_(l){let e;return{c(){e=S("💾 Save")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function z_(l){let e;return{c(){e=S("🚫 Exclusions")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function ii(l){let e,t;return{c(){e=d("span"),t=S(l[53]),c(e,"class","config-status svelte-1xqclu")},m(n,s){w(n,e,s),r(e,t)},p(n,s){s[1]&4194304&&I(t,n[53])},d(n){n&&k(e)}}}function ri(l){let e,t,n,s,o,i,u,a,_,f,p,m;return o=new Ue({props:{variant:"ghost",size:"sm",$$slots:{default:[D_]},$$scope:{ctx:l}}}),o.$on("click",l[66]),{c(){e=d("div"),t=d("div"),n=d("label"),n.textContent="Exclusion Patterns",s=b(),de(o.$$.fragment),i=b(),u=d("textarea"),a=b(),_=d("small"),_.textContent="One pattern per line. Applied to folder uploads and git clones.",c(n,"class","svelte-1xqclu"),c(t,"class","exclude-header svelte-1xqclu"),c(u,"rows","6"),c(u,"placeholder","node_modules/ __pycache__/ *.pyc .git/"),c(u,"class","svelte-1xqclu"),c(_,"class","svelte-1xqclu"),c(e,"class","exclude-editor svelte-1xqclu")},m(h,v){w(h,e,v),r(e,t),r(t,n),r(t,s),fe(o,t,null),r(e,i),r(e,u),ne(u,l[55]),r(e,a),r(e,_),f=!0,p||(m=te(u,"input",l[93]),p=!0)},p(h,v){const g={};v[7]&4&&(g.$$scope={dirty:v,ctx:h}),o.$set(g),v[1]&16777216&&ne(u,h[55])},i(h){f||(L(o.$$.fragment,h),f=!0)},o(h){R(o.$$.fragment,h),f=!1},d(h){h&&k(e),_e(o),p=!1,m()}}}function D_(l){let e;return{c(){e=S("Reset to Defaults")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function ai(l){let e,t,n,s,o,i,u,a,_,f,p,m,h,v,g,C,y,$,q,z,D,P,T,E,A,M=l[31]&&ui(),O=l[28].length>0&&ci(l);p=new Ue({props:{size:"sm",$$slots:{default:[P_]},$$scope:{ctx:l}}}),p.$on("click",l[70]);function J(j,U){return U[0]&268435456&&(C=null),j[28].length===0?M_:(C==null&&(C=!j[28].some(Sd)),C?L_:di)}function W(j,U){return U===di?q_(j):j}let F=J(l,[-1,-1,-1,-1,-1,-1,-1,-1]),B=F(W(l,F)),N=l[34]&&mi(l);return{c(){e=d("div"),t=d("div"),n=d("label"),n.textContent="Build Folders",s=b(),o=d("div"),M&&M.c(),i=b(),u=d("input"),a=b(),O&&O.c(),_=b(),f=d("div"),de(p.$$.fragment),m=b(),h=d("span"),h.textContent="or drag & drop folders here",v=b(),g=d("div"),B.c(),y=b(),$=d("label"),q=d("input"),z=b(),D=d("span"),D.textContent="Remember folder configuration for this service",P=b(),N&&N.c(),c(n,"class","svelte-1xqclu"),c(u,"type","file"),c(u,"webkitdirectory",""),c(u,"directory",""),u.multiple=!0,It(u,"display","none"),c(u,"class","svelte-1xqclu"),c(h,"class","drop-hint svelte-1xqclu"),c(f,"class","folder-actions svelte-1xqclu"),c(o,"class","folder-drop-zone svelte-1xqclu"),Ce(o,"dragover",l[31]),c(g,"class","code-selection-info svelte-1xqclu"),Ce(g,"success",l[28].some(cr)),Ce(g,"warning",l[28].length>0&&!l[28].some(fr)),c(q,"type","checkbox"),c(q,"class","svelte-1xqclu"),c($,"class","checkbox-label small-check svelte-1xqclu"),c(t,"class","form-group svelte-1xqclu"),c(e,"class","source-config svelte-1xqclu")},m(j,U){w(j,e,U),r(e,t),r(t,n),r(t,s),r(t,o),M&&M.m(o,null),r(o,i),r(o,u),l[99](u),r(o,a),O&&O.m(o,null),r(o,_),r(o,f),fe(p,f,null),r(f,m),r(f,h),r(t,v),r(t,g),B.m(g,null),r(t,y),r(t,$),r($,q),q.checked=l[30],r($,z),r($,D),r(e,P),N&&N.m(e,null),T=!0,E||(A=[te(u,"change",l[71]),te(o,"dragenter",l[72]),te(o,"dragleave",l[73]),te(o,"dragover",qd),te(o,"drop",l[74]),te(q,"change",l[102])],E=!0)},p(j,U){j[31]?M||(M=ui(),M.c(),M.m(o,i)):M&&(M.d(1),M=null),j[28].length>0?O?(O.p(j,U),U[0]&268435456&&L(O,1)):(O=ci(j),O.c(),L(O,1),O.m(o,_)):O&&(Te(),R(O,1,1,()=>{O=null}),ze());const X={};U[7]&4&&(X.$$scope={dirty:U,ctx:j}),p.$set(X),(!T||U[1]&1)&&Ce(o,"dragover",j[31]),F===(F=J(j,U))&&B?B.p(W(j,F),U):(B.d(1),B=F(W(j,F)),B&&(B.c(),B.m(g,null))),(!T||U[0]&268435456)&&Ce(g,"success",j[28].some(cr)),(!T||U[0]&268435456)&&Ce(g,"warning",j[28].length>0&&!j[28].some(fr)),U[0]&1073741824&&(q.checked=j[30]),j[34]?N?(N.p(j,U),U[1]&8&&L(N,1)):(N=mi(j),N.c(),L(N,1),N.m(e,null)):N&&(Te(),R(N,1,1,()=>{N=null}),ze())},i(j){T||(L(O),L(p.$$.fragment,j),L(N),T=!0)},o(j){R(O),R(p.$$.fragment,j),R(N),T=!1},d(j){j&&k(e),M&&M.d(),l[99](null),O&&O.d(),_e(p),B.d(),N&&N.d(),E=!1,Ve(A)}}}function ui(l){let e;return{c(){e=d("div"),e.innerHTML='<span class="drop-icon svelte-1xqclu">📂</span> <span>Drop folder here</span>',c(e,"class","drop-overlay svelte-1xqclu")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function ci(l){let e,t,n=pe(l[28]),s=[];for(let i=0;i<n.length;i+=1)s[i]=_i(Qo(l,n,i));const o=i=>R(s[i],1,1,()=>{s[i]=null});return{c(){e=d("div");for(let i=0;i<s.length;i+=1)s[i].c();c(e,"class","folder-list svelte-1xqclu")},m(i,u){w(i,e,u);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null);t=!0},p(i,u){if(u[0]&268435456|u[2]&24576){n=pe(i[28]);let a;for(a=0;a<n.length;a+=1){const _=Qo(i,n,a);s[a]?(s[a].p(_,u),L(s[a],1)):(s[a]=_i(_),s[a].c(),L(s[a],1),s[a].m(e,null))}for(Te(),a=n.length;a<s.length;a+=1)o(a);ze()}},i(i){if(!t){for(let u=0;u<n.length;u+=1)L(s[u]);t=!0}},o(i){s=s.filter(mn);for(let u=0;u<s.length;u+=1)R(s[u]);t=!1},d(i){i&&k(e),Le(s,i)}}}function E_(l){let e=l[204].isMain?"MAIN":"dependency",t;return{c(){t=S(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&268435456&&e!==(e=n[204].isMain?"MAIN":"dependency")&&I(t,e)},d(n){n&&k(t)}}}function fi(l){let e,t,n;function s(){return l[100](l[206])}return{c(){e=d("button"),e.textContent="⭐",c(e,"type","button"),c(e,"class","set-main-btn svelte-1xqclu"),c(e,"title","Set as main")},m(o,i){w(o,e,i),t||(n=te(e,"click",s),t=!0)},p(o,i){l=o},d(o){o&&k(e),t=!1,n()}}}function _i(l){let e,t,n=l[204].isMain?"📁":"📂",s,o,i,u=l[204].name+"",a,_,f,p,m,h,v=l[204].fileCount+"",g,C,y,$,q,z,D,P,T;p=new Qe({props:{variant:l[204].isMain?"success":"secondary",$$slots:{default:[E_]},$$scope:{ctx:l}}});let E=!l[204].isMain&&fi(l);function A(){return l[101](l[206])}return{c(){e=d("div"),t=d("span"),s=S(n),o=b(),i=d("strong"),a=S(u),_=S("/"),f=b(),de(p.$$.fragment),m=b(),h=d("span"),g=S(v),C=S(" files"),y=b(),E&&E.c(),$=b(),q=d("button"),q.textContent="✕",z=b(),c(t,"class","folder-icon svelte-1xqclu"),c(i,"class","svelte-1xqclu"),c(h,"class","file-count svelte-1xqclu"),c(q,"type","button"),c(q,"class","remove-btn svelte-1xqclu"),c(e,"class","folder-item svelte-1xqclu")},m(M,O){w(M,e,O),r(e,t),r(t,s),r(e,o),r(e,i),r(i,a),r(i,_),r(e,f),fe(p,e,null),r(e,m),r(e,h),r(h,g),r(h,C),r(e,y),E&&E.m(e,null),r(e,$),r(e,q),r(e,z),D=!0,P||(T=te(q,"click",A),P=!0)},p(M,O){l=M,(!D||O[0]&268435456)&&n!==(n=l[204].isMain?"📁":"📂")&&I(s,n),(!D||O[0]&268435456)&&u!==(u=l[204].name+"")&&I(a,u);const J={};O[0]&268435456&&(J.variant=l[204].isMain?"success":"secondary"),O[0]&268435456|O[7]&4&&(J.$$scope={dirty:O,ctx:l}),p.$set(J),(!D||O[0]&268435456)&&v!==(v=l[204].fileCount+"")&&I(g,v),l[204].isMain?E&&(E.d(1),E=null):E?E.p(l,O):(E=fi(l),E.c(),E.m(e,$))},i(M){D||(L(p.$$.fragment,M),D=!0)},o(M){R(p.$$.fragment,M),D=!1},d(M){M&&k(e),_e(p),E&&E.d(),P=!1,T()}}}function P_(l){let e;return{c(){e=S("➕ Add Folder")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function di(l){let e,t,n=l[207].name+"",s,o,i,u,a=l[208]>0&&pi(l);return{c(){e=S("✓ Main: "),t=d("strong"),s=S(n),o=S("/"),i=b(),a&&a.c(),u=Fe()},m(_,f){w(_,e,f),w(_,t,f),r(t,s),r(t,o),w(_,i,f),a&&a.m(_,f),w(_,u,f)},p(_,f){f[0]&268435456&&n!==(n=_[207].name+"")&&I(s,n),_[208]>0?a?a.p(_,f):(a=pi(_),a.c(),a.m(u.parentNode,u)):a&&(a.d(1),a=null)},d(_){_&&(k(e),k(t),k(i),k(u)),a&&a.d(_)}}}function L_(l){let e;return{c(){e=S("⚠️ No main folder selected. Click ⭐ to set one as main.")},m(t,n){w(t,e,n)},p:be,d(t){t&&k(e)}}}function M_(l){let e;return{c(){e=S("No folders selected. Add your main service folder and any dependencies.")},m(t,n){w(t,e,n)},p:be,d(t){t&&k(e)}}}function pi(l){let e,t=l[208]+"",n,s,o=l[208]===1?"y":"ies",i;return{c(){e=S("+ "),n=S(t),s=S(" dependenc"),i=S(o)},m(u,a){w(u,e,a),w(u,n,a),w(u,s,a),w(u,i,a)},p(u,a){a[0]&268435456&&t!==(t=u[208]+"")&&I(n,t),a[0]&268435456&&o!==(o=u[208]===1?"y":"ies")&&I(i,o)},d(u){u&&(k(e),k(n),k(s),k(i))}}}function mi(l){let e,t,n,s,o,i,u,a,_,f,p,m,h,v,g,C,y,$,q,z,D,P;return o=new Qe({props:{variant:l[33]==="from folder"?"success":l[33]==="multi-folder"?"info":"warning",$$slots:{default:[j_]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),n=d("label"),s=S(`🐳 Dockerfile
                    `),de(o.$$.fragment),i=b(),u=d("textarea"),a=b(),_=d("div"),f=d("select"),p=d("option"),p.textContent="FROM...",m=d("option"),m.textContent="python:3.11-slim",h=d("option"),h.textContent="python:3.12-slim",v=d("option"),v.textContent="node:20-alpine",g=d("option"),g.textContent="node:18-alpine",C=d("option"),C.textContent="golang:1.21-alpine",y=d("option"),y.textContent="nginx:alpine",$=b(),q=d("input"),c(n,"class","svelte-1xqclu"),c(t,"class","dockerfile-header svelte-1xqclu"),c(u,"rows","8"),c(u,"class","dockerfile-editor svelte-1xqclu"),c(u,"spellcheck","false"),p.__value="",ne(p,p.__value),m.__value="python:3.11-slim",ne(m,m.__value),h.__value="python:3.12-slim",ne(h,h.__value),v.__value="node:20-alpine",ne(v,v.__value),g.__value="node:18-alpine",ne(g,g.__value),C.__value="golang:1.21-alpine",ne(C,C.__value),y.__value="nginx:alpine",ne(y,y.__value),c(f,"class","svelte-1xqclu"),l[35]===void 0&&Xe(()=>l[104].call(f)),c(q,"type","text"),c(q,"placeholder","CMD (e.g. uvicorn main:app ...)"),c(q,"class","svelte-1xqclu"),c(_,"class","dockerfile-quick-fields svelte-1xqclu"),c(e,"class","dockerfile-preview svelte-1xqclu")},m(T,E){w(T,e,E),r(e,t),r(t,n),r(n,s),fe(o,n,null),r(e,i),r(e,u),ne(u,l[32]),r(e,a),r(e,_),r(_,f),r(f,p),r(f,m),r(f,h),r(f,v),r(f,g),r(f,C),r(f,y),je(f,l[35],!0),r(_,$),r(_,q),ne(q,l[36]),z=!0,D||(P=[te(u,"input",l[103]),te(f,"change",l[104]),te(f,"change",l[105]),te(q,"input",l[106]),te(q,"change",l[107])],D=!0)},p(T,E){const A={};E[1]&4&&(A.variant=T[33]==="from folder"?"success":T[33]==="multi-folder"?"info":"warning"),E[1]&4|E[7]&4&&(A.$$scope={dirty:E,ctx:T}),o.$set(A),E[1]&2&&ne(u,T[32]),E[1]&16&&je(f,T[35]),E[1]&32&&q.value!==T[36]&&ne(q,T[36])},i(T){z||(L(o.$$.fragment,T),z=!0)},o(T){R(o.$$.fragment,T),z=!1},d(T){T&&k(e),_e(o),D=!1,Ve(P)}}}function j_(l){let e;return{c(){e=S(l[33])},m(t,n){w(t,e,n)},p(t,n){n[1]&4&&I(e,t[33])},d(t){t&&k(e)}}}function vi(l){let e,t,n,s,o,i,u,a,_,f,p,m,h,v,g,C,y,$,q,z,D,P,T,E,A,M,O,J,W,F,B,N,j,U,X,Z,ee,se,Q=l[21].length>0&&hi(l);return D=new Ue({props:{size:"sm",$$slots:{default:[A_]},$$scope:{ctx:l}}}),D.$on("click",l[112]),T=new Ue({props:{variant:"ghost",size:"sm",$$slots:{default:[R_]},$$scope:{ctx:l}}}),T.$on("click",l[113]),{c(){e=d("div"),t=d("div"),n=d("label"),n.textContent="Git Repository URL *",s=b(),o=d("input"),i=b(),u=d("small"),u.textContent="HTTPS URL (SSH not supported)",a=b(),_=d("div"),f=d("label"),f.textContent="Branch",p=b(),m=d("input"),h=b(),v=d("div"),g=d("label"),g.textContent="Folders to Include",C=b(),Q&&Q.c(),y=b(),$=d("div"),q=d("input"),z=b(),de(D.$$.fragment),P=b(),de(T.$$.fragment),E=b(),A=d("small"),A.textContent="Leave empty to use entire repo. Add paths for multi-folder builds (main folder contains Dockerfile).",M=b(),O=d("details"),J=d("summary"),J.textContent="🔐 Private repository?",W=b(),F=d("div"),B=d("label"),B.textContent="Personal Access Token",N=b(),j=d("input"),U=b(),X=d("small"),X.innerHTML="Needs <code>repo</code> scope for private repos",c(n,"for","git-url"),c(n,"class","svelte-1xqclu"),c(o,"id","git-url"),c(o,"type","url"),c(o,"placeholder","https://github.com/user/repo"),c(o,"class","svelte-1xqclu"),c(u,"class","svelte-1xqclu"),c(t,"class","form-group svelte-1xqclu"),c(f,"for","git-branch"),c(f,"class","svelte-1xqclu"),c(m,"id","git-branch"),c(m,"type","text"),c(m,"placeholder","main"),c(m,"class","svelte-1xqclu"),c(_,"class","form-group svelte-1xqclu"),c(g,"class","svelte-1xqclu"),c(q,"type","text"),c(q,"placeholder","e.g. services/my_api"),c(q,"class","svelte-1xqclu"),c($,"class","folder-input svelte-1xqclu"),c(A,"class","svelte-1xqclu"),c(v,"class","form-group svelte-1xqclu"),c(J,"class","svelte-1xqclu"),c(B,"for","git-token"),c(B,"class","svelte-1xqclu"),c(j,"id","git-token"),c(j,"type","password"),c(j,"placeholder","ghp_xxxxxxxxxxxx"),c(j,"class","svelte-1xqclu"),c(X,"class","svelte-1xqclu"),c(F,"class","form-group svelte-1xqclu"),c(O,"class","private-repo svelte-1xqclu"),c(e,"class","source-config svelte-1xqclu")},m(G,H){w(G,e,H),r(e,t),r(t,n),r(t,s),r(t,o),ne(o,l[18]),r(t,i),r(t,u),r(e,a),r(e,_),r(_,f),r(_,p),r(_,m),ne(m,l[19]),r(e,h),r(e,v),r(v,g),r(v,C),Q&&Q.m(v,null),r(v,y),r(v,$),r($,q),ne(q,l[22]),r($,z),fe(D,$,null),r($,P),fe(T,$,null),r(v,E),r(v,A),r(e,M),r(e,O),r(O,J),r(O,W),r(O,F),r(F,B),r(F,N),r(F,j),ne(j,l[20]),r(F,U),r(F,X),Z=!0,ee||(se=[te(o,"input",l[108]),te(m,"input",l[109]),te(q,"input",l[111]),te(j,"input",l[114])],ee=!0)},p(G,H){H[0]&262144&&o.value!==G[18]&&ne(o,G[18]),H[0]&524288&&m.value!==G[19]&&ne(m,G[19]),G[21].length>0?Q?(Q.p(G,H),H[0]&2097152&&L(Q,1)):(Q=hi(G),Q.c(),L(Q,1),Q.m(v,y)):Q&&(Te(),R(Q,1,1,()=>{Q=null}),ze()),H[0]&4194304&&q.value!==G[22]&&ne(q,G[22]);const re={};H[7]&4&&(re.$$scope={dirty:H,ctx:G}),D.$set(re);const V={};H[7]&4&&(V.$$scope={dirty:H,ctx:G}),T.$set(V),H[0]&1048576&&j.value!==G[20]&&ne(j,G[20])},i(G){Z||(L(Q),L(D.$$.fragment,G),L(T.$$.fragment,G),Z=!0)},o(G){R(Q),R(D.$$.fragment,G),R(T.$$.fragment,G),Z=!1},d(G){G&&k(e),Q&&Q.d(),_e(D),_e(T),ee=!1,Ve(se)}}}function hi(l){let e,t,n=pe(l[21]),s=[];for(let i=0;i<n.length;i+=1)s[i]=gi(Yo(l,n,i));const o=i=>R(s[i],1,1,()=>{s[i]=null});return{c(){e=d("div");for(let i=0;i<s.length;i+=1)s[i].c();c(e,"class","folder-list svelte-1xqclu")},m(i,u){w(i,e,u);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null);t=!0},p(i,u){if(u[0]&2097152|u[2]&131072){n=pe(i[21]);let a;for(a=0;a<n.length;a+=1){const _=Yo(i,n,a);s[a]?(s[a].p(_,u),L(s[a],1)):(s[a]=gi(_),s[a].c(),L(s[a],1),s[a].m(e,null))}for(Te(),a=n.length;a<s.length;a+=1)o(a);ze()}},i(i){if(!t){for(let u=0;u<n.length;u+=1)L(s[u]);t=!0}},o(i){s=s.filter(mn);for(let u=0;u<s.length;u+=1)R(s[u]);t=!1},d(i){i&&k(e),Le(s,i)}}}function N_(l){let e=l[204].isMain?"MAIN":"dependency",t;return{c(){t=S(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&2097152&&e!==(e=n[204].isMain?"MAIN":"dependency")&&I(t,e)},d(n){n&&k(t)}}}function gi(l){let e,t,n=l[204].isMain?"📁":"📂",s,o,i,u=l[204].path+"",a,_,f,p,m,h,v,g,C;f=new Qe({props:{variant:l[204].isMain?"success":"secondary",$$slots:{default:[N_]},$$scope:{ctx:l}}});function y(){return l[110](l[206])}return{c(){e=d("div"),t=d("span"),s=S(n),o=b(),i=d("strong"),a=S(u),_=b(),de(f.$$.fragment),p=b(),m=d("button"),m.textContent="✕",h=b(),c(i,"class","svelte-1xqclu"),c(m,"type","button"),c(m,"class","remove-btn svelte-1xqclu"),c(e,"class","folder-item svelte-1xqclu")},m($,q){w($,e,q),r(e,t),r(t,s),r(e,o),r(e,i),r(i,a),r(e,_),fe(f,e,null),r(e,p),r(e,m),r(e,h),v=!0,g||(C=te(m,"click",y),g=!0)},p($,q){l=$,(!v||q[0]&2097152)&&n!==(n=l[204].isMain?"📁":"📂")&&I(s,n),(!v||q[0]&2097152)&&u!==(u=l[204].path+"")&&I(a,u);const z={};q[0]&2097152&&(z.variant=l[204].isMain?"success":"secondary"),q[0]&2097152|q[7]&4&&(z.$$scope={dirty:q,ctx:l}),f.$set(z)},i($){v||(L(f.$$.fragment,$),v=!0)},o($){R(f.$$.fragment,$),v=!1},d($){$&&k(e),_e(f),g=!1,C()}}}function A_(l){let e;return{c(){e=S("+ Main")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function R_(l){let e;return{c(){e=S("+ Dep")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function bi(l){let e,t,n,s,o,i,u,a,_;return{c(){e=d("div"),t=d("div"),n=d("label"),n.textContent="Docker Image *",s=b(),o=d("input"),i=b(),u=d("small"),u.textContent="Full image URL from DO Registry or Docker Hub",c(n,"for","image-url"),c(n,"class","svelte-1xqclu"),c(o,"id","image-url"),c(o,"type","text"),c(o,"placeholder","registry.digitalocean.com/my-registry/app:latest"),c(o,"class","svelte-1xqclu"),c(u,"class","svelte-1xqclu"),c(t,"class","form-group svelte-1xqclu"),c(e,"class","source-config svelte-1xqclu")},m(f,p){w(f,e,p),r(e,t),r(t,n),r(t,s),r(t,o),ne(o,l[23]),r(t,i),r(t,u),a||(_=te(o,"input",l[115]),a=!0)},p(f,p){p[0]&8388608&&o.value!==f[23]&&ne(o,f[23])},d(f){f&&k(e),a=!1,_()}}}function ki(l){let e,t,n,s,o,i,u,a,_,f,p,m,h,v,g,C,y,$,q,z,D,P,T,E,A,M,O,J,W=l[24]&&wi(l);return{c(){e=d("div"),t=d("div"),n=d("label"),n.textContent="Docker Image File (.tar) *",s=b(),o=d("input"),i=b(),W&&W.c(),u=b(),a=d("small"),a.innerHTML="Export from Docker with: <code>docker save myimage:latest -o image.tar</code>",_=b(),f=d("div"),p=d("label"),p.textContent="Image Name *",m=b(),h=d("input"),v=b(),g=d("small"),g.textContent="The image name/tag as it appears in the tar file",C=b(),y=d("div"),$=d("div"),q=d("label"),q.textContent="Container Port",z=b(),D=d("input"),P=b(),T=d("div"),E=d("label"),E.textContent="Host Port",A=b(),M=d("input"),c(n,"for","image-file"),c(n,"class","svelte-1xqclu"),c(o,"id","image-file"),c(o,"type","file"),c(o,"accept",".tar,.tar.gz"),c(o,"class","svelte-1xqclu"),c(a,"class","svelte-1xqclu"),c(t,"class","form-group svelte-1xqclu"),c(p,"for","image-name"),c(p,"class","svelte-1xqclu"),c(h,"id","image-name"),c(h,"type","text"),c(h,"placeholder","myapp:latest"),c(h,"class","svelte-1xqclu"),c(g,"class","svelte-1xqclu"),c(f,"class","form-group svelte-1xqclu"),c(q,"for","container-port"),c(q,"class","svelte-1xqclu"),c(D,"id","container-port"),c(D,"type","number"),c(D,"placeholder",l[16]),c(D,"class","svelte-1xqclu"),c($,"class","form-group svelte-1xqclu"),c(E,"for","host-port"),c(E,"class","svelte-1xqclu"),c(M,"id","host-port"),c(M,"type","number"),c(M,"placeholder",l[16]),c(M,"class","svelte-1xqclu"),c(T,"class","form-group svelte-1xqclu"),c(y,"class","form-row svelte-1xqclu"),c(e,"class","source-config svelte-1xqclu")},m(F,B){w(F,e,B),r(e,t),r(t,n),r(t,s),r(t,o),r(t,i),W&&W.m(t,null),r(t,u),r(t,a),r(e,_),r(e,f),r(f,p),r(f,m),r(f,h),ne(h,l[25]),r(f,v),r(f,g),r(e,C),r(e,y),r(y,$),r($,q),r($,z),r($,D),ne(D,l[26]),r(y,P),r(y,T),r(T,E),r(T,A),r(T,M),ne(M,l[27]),O||(J=[te(o,"change",l[80]),te(h,"input",l[116]),te(D,"input",l[117]),te(M,"input",l[118])],O=!0)},p(F,B){F[24]?W?W.p(F,B):(W=wi(F),W.c(),W.m(t,u)):W&&(W.d(1),W=null),B[0]&33554432&&h.value!==F[25]&&ne(h,F[25]),B[0]&65536&&c(D,"placeholder",F[16]),B[0]&67108864&&Kt(D.value)!==F[26]&&ne(D,F[26]),B[0]&65536&&c(M,"placeholder",F[16]),B[0]&134217728&&Kt(M.value)!==F[27]&&ne(M,F[27])},d(F){F&&k(e),W&&W.d(),O=!1,Ve(J)}}}function wi(l){let e,t,n=l[24].name+"",s,o,i=(l[24].size/1024/1024).toFixed(2)+"",u,a;return{c(){e=d("div"),t=S("📦 "),s=S(n),o=S(" ("),u=S(i),a=S(" MB)"),c(e,"class","file-selected svelte-1xqclu")},m(_,f){w(_,e,f),r(e,t),r(e,s),r(e,o),r(e,u),r(e,a)},p(_,f){f[0]&16777216&&n!==(n=_[24].name+"")&&I(s,n),f[0]&16777216&&i!==(i=(_[24].size/1024/1024).toFixed(2)+"")&&I(u,i)},d(_){_&&k(e)}}}function $i(l){let e,t,n,s,o,i,u,a;return{c(){e=d("div"),t=d("label"),t.textContent="App Port",n=b(),s=d("input"),o=b(),i=d("small"),i.textContent="Port your app listens on inside the container",c(t,"for","deploy-port"),c(t,"class","svelte-1xqclu"),c(s,"id","deploy-port"),c(s,"type","number"),c(s,"min","1"),c(s,"max","65535"),c(s,"class","svelte-1xqclu"),c(i,"class","svelte-1xqclu"),c(e,"class","form-group svelte-1xqclu")},m(_,f){w(_,e,f),r(e,t),r(e,n),r(e,s),ne(s,l[16]),r(e,o),r(e,i),u||(a=te(s,"input",l[119]),u=!0)},p(_,f){f[0]&65536&&Kt(s.value)!==_[16]&&ne(s,_[16])},d(_){_&&k(e),u=!1,a()}}}function yi(l){let e,t,n,s,o,i,u,a;return{c(){e=d("div"),t=d("label"),t.textContent="Command Override",n=b(),s=d("input"),o=b(),i=d("small"),i.textContent="Override Dockerfile CMD (e.g., different entrypoint for worker vs webservice)",c(t,"for","custom-cmd"),c(t,"class","svelte-1xqclu"),c(s,"id","custom-cmd"),c(s,"type","text"),c(s,"placeholder","python worker.py"),c(s,"class","svelte-1xqclu"),c(i,"class","svelte-1xqclu"),c(e,"class","form-group svelte-1xqclu")},m(_,f){w(_,e,f),r(e,t),r(e,n),r(e,s),ne(s,l[12]),r(e,o),r(e,i),u||(a=te(s,"input",l[120]),u=!0)},p(_,f){f[0]&4096&&s.value!==_[12]&&ne(s,_[12])},d(_){_&&k(e),u=!1,a()}}}function Ci(l){let e,t,n,s,o,i,u,a,_,f,p,m,h,v,g,C,y;return{c(){e=d("div"),t=d("label"),t.textContent="Cron Schedule *",n=b(),s=d("input"),o=b(),i=d("small"),i.textContent='Standard cron format: minute hour day month weekday (e.g., "0 */6 * * *" = every 6 hours)',u=b(),a=d("div"),_=d("button"),_.textContent="Every min",f=b(),p=d("button"),p.textContent="Hourly",m=b(),h=d("button"),h.textContent="Daily",v=b(),g=d("button"),g.textContent="Weekly",c(t,"for","cron-schedule"),c(t,"class","svelte-1xqclu"),c(s,"id","cron-schedule"),c(s,"type","text"),c(s,"placeholder","0 * * * *"),s.required=!0,c(s,"class","svelte-1xqclu"),c(i,"class","svelte-1xqclu"),c(_,"type","button"),c(_,"class","preset-btn svelte-1xqclu"),c(p,"type","button"),c(p,"class","preset-btn svelte-1xqclu"),c(h,"type","button"),c(h,"class","preset-btn svelte-1xqclu"),c(g,"type","button"),c(g,"class","preset-btn svelte-1xqclu"),c(a,"class","cron-presets svelte-1xqclu"),c(e,"class","form-group svelte-1xqclu")},m($,q){w($,e,q),r(e,t),r(e,n),r(e,s),ne(s,l[13]),r(e,o),r(e,i),r(e,u),r(e,a),r(a,_),r(a,f),r(a,p),r(a,m),r(a,h),r(a,v),r(a,g),C||(y=[te(s,"input",l[121]),te(_,"click",l[122]),te(p,"click",l[123]),te(h,"click",l[124]),te(g,"click",l[125])],C=!0)},p($,q){q[0]&8192&&s.value!==$[13]&&ne(s,$[13])},d($){$&&k(e),C=!1,Ve(y)}}}function qi(l){let e,t,n,s=l[56]?"▼":"▶",o,i,u,a,_=l[17].trim(),f,p,m,h,v=_&&Si(l),g=l[56]&&Ti(l);return{c(){e=d("div"),t=d("button"),n=d("span"),o=S(s),i=b(),u=d("span"),u.textContent="Environment Variables",a=b(),v&&v.c(),f=b(),g&&g.c(),c(n,"class","toggle-icon svelte-1xqclu"),c(t,"type","button"),c(t,"class","section-toggle svelte-1xqclu"),c(e,"class","collapsible-section svelte-1xqclu"),Ce(e,"expanded",l[56])},m(C,y){w(C,e,y),r(e,t),r(t,n),r(n,o),r(t,i),r(t,u),r(t,a),v&&v.m(t,null),r(e,f),g&&g.m(e,null),p=!0,m||(h=te(t,"click",l[126]),m=!0)},p(C,y){(!p||y[1]&33554432)&&s!==(s=C[56]?"▼":"▶")&&I(o,s),y[0]&131072&&(_=C[17].trim()),_?v?(v.p(C,y),y[0]&131072&&L(v,1)):(v=Si(C),v.c(),L(v,1),v.m(t,null)):v&&(Te(),R(v,1,1,()=>{v=null}),ze()),C[56]?g?g.p(C,y):(g=Ti(C),g.c(),g.m(e,null)):g&&(g.d(1),g=null),(!p||y[1]&33554432)&&Ce(e,"expanded",C[56])},i(C){p||(L(v),p=!0)},o(C){R(v),p=!1},d(C){C&&k(e),v&&v.d(),g&&g.d(),m=!1,h()}}}function Si(l){let e,t;return e=new Qe({props:{variant:"info",$$slots:{default:[O_]},$$scope:{ctx:l}}}),{c(){de(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[0]&131072|s[7]&4&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(L(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function O_(l){let e=l[17].trim().split(`
`).filter(_r).length+"",t,n;return{c(){t=S(e),n=S(" vars")},m(s,o){w(s,t,o),w(s,n,o)},p(s,o){o[0]&131072&&e!==(e=s[17].trim().split(`
`).filter(_r).length+"")&&I(t,e)},d(s){s&&(k(t),k(n))}}}function Ti(l){let e,t,n,s,o,i;return{c(){e=d("div"),t=d("textarea"),n=b(),s=d("small"),s.textContent="One per line: KEY=value",c(t,"id","deploy-envvars"),c(t,"rows","3"),c(t,"placeholder","KEY=value ANOTHER_KEY=value"),c(t,"class","svelte-1xqclu"),c(s,"class","svelte-1xqclu"),c(e,"class","section-content svelte-1xqclu")},m(u,a){w(u,e,a),r(e,t),ne(t,l[17]),r(e,n),r(e,s),o||(i=te(t,"input",l[127]),o=!0)},p(u,a){a[0]&131072&&ne(t,u[17])},d(u){u&&k(e),o=!1,i()}}}function zi(l){let e,t,n,s=l[57]?"▼":"▶",o,i,u,a,_=l[0]==="service"&&l[51]||Object.values(l[50]).some(ur),f,p,m,h,v=_&&Di(l),g=l[57]&&Ei(l);return{c(){e=d("div"),t=d("button"),n=d("span"),o=S(s),i=b(),u=d("span"),u.textContent="🔧 Service Configuration",a=b(),v&&v.c(),f=b(),g&&g.c(),c(n,"class","toggle-icon svelte-1xqclu"),c(t,"type","button"),c(t,"class","section-toggle svelte-1xqclu"),c(e,"class","collapsible-section svelte-1xqclu"),Ce(e,"expanded",l[57])},m(C,y){w(C,e,y),r(e,t),r(t,n),r(n,o),r(t,i),r(t,u),r(t,a),v&&v.m(t,null),r(e,f),g&&g.m(e,null),p=!0,m||(h=te(t,"click",l[128]),m=!0)},p(C,y){(!p||y[1]&67108864)&&s!==(s=C[57]?"▼":"▶")&&I(o,s),y[0]&1|y[1]&1572864&&(_=C[0]==="service"&&C[51]||Object.values(C[50]).some(ur)),_?v?y[0]&1|y[1]&1572864&&L(v,1):(v=Di(C),v.c(),L(v,1),v.m(t,null)):v&&(Te(),R(v,1,1,()=>{v=null}),ze()),C[57]?g?g.p(C,y):(g=Ei(C),g.c(),g.m(e,null)):g&&(g.d(1),g=null),(!p||y[1]&67108864)&&Ce(e,"expanded",C[57])},i(C){p||(L(v),p=!0)},o(C){R(v),p=!1},d(C){C&&k(e),v&&v.d(),g&&g.d(),m=!1,h()}}}function Di(l){let e,t;return e=new Qe({props:{variant:"info",$$slots:{default:[F_]},$$scope:{ctx:l}}}),{c(){de(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},i(n){t||(L(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function F_(l){let e;return{c(){e=S("configured")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Ei(l){let e,t,n,s,o,i,u,a,_,f,p,m,h,v,g,C,y,$,q,z,D=l[48]&&Pi(l),P=l[0]==="service"&&Li(l);return{c(){e=d("div"),t=d("label"),n=d("input"),s=b(),o=d("span"),o.textContent="Auto-inject service discovery",i=b(),u=d("small"),u.textContent="Injects DATABASE_URL, REDIS_URL, etc. based on dependencies",a=b(),D&&D.c(),_=b(),f=d("div"),p=b(),m=d("label"),h=d("input"),v=b(),g=d("span"),g.textContent="💾 Persist data (mount volume)",C=b(),y=d("small"),y.textContent="Mounts /data volume for databases and stateful services",$=b(),P&&P.c(),c(n,"type","checkbox"),c(n,"class","svelte-1xqclu"),c(t,"class","checkbox-label svelte-1xqclu"),c(u,"class","svelte-1xqclu"),c(f,"class","config-divider svelte-1xqclu"),c(h,"type","checkbox"),c(h,"class","svelte-1xqclu"),c(m,"class","checkbox-label svelte-1xqclu"),c(y,"class","svelte-1xqclu"),c(e,"class","section-content service-config svelte-1xqclu")},m(T,E){w(T,e,E),r(e,t),r(t,n),n.checked=l[48],r(t,s),r(t,o),r(e,i),r(e,u),r(e,a),D&&D.m(e,null),r(e,_),r(e,f),r(e,p),r(e,m),r(m,h),h.checked=l[49],r(m,v),r(m,g),r(e,C),r(e,y),r(e,$),P&&P.m(e,null),q||(z=[te(n,"change",l[129]),te(h,"change",l[134])],q=!0)},p(T,E){E[1]&131072&&(n.checked=T[48]),T[48]?D?D.p(T,E):(D=Pi(T),D.c(),D.m(e,_)):D&&(D.d(1),D=null),E[1]&262144&&(h.checked=T[49]),T[0]==="service"?P?P.p(T,E):(P=Li(T),P.c(),P.m(e,null)):P&&(P.d(1),P=null)},d(T){T&&k(e),D&&D.d(),P&&P.d(),q=!1,Ve(z)}}}function Pi(l){let e,t,n,s,o,i,u,a,_,f,p,m,h,v,g,C,y,$,q,z,D;return{c(){e=d("div"),t=d("label"),t.textContent="Dependencies:",n=b(),s=d("div"),o=d("label"),i=d("input"),u=S(`
                      🐘 PostgreSQL`),a=b(),_=d("label"),f=d("input"),p=S(`
                      ⚡ Redis`),m=b(),h=d("label"),v=d("input"),g=S(`
                      🐬 MySQL`),C=b(),y=d("label"),$=d("input"),q=S(`
                      🍃 MongoDB`),c(i,"type","checkbox"),c(i,"class","svelte-1xqclu"),c(o,"class","dep-item svelte-1xqclu"),c(f,"type","checkbox"),c(f,"class","svelte-1xqclu"),c(_,"class","dep-item svelte-1xqclu"),c(v,"type","checkbox"),c(v,"class","svelte-1xqclu"),c(h,"class","dep-item svelte-1xqclu"),c($,"type","checkbox"),c($,"class","svelte-1xqclu"),c(y,"class","dep-item svelte-1xqclu"),c(s,"class","dep-list svelte-1xqclu"),c(e,"class","dependencies svelte-1xqclu")},m(P,T){w(P,e,T),r(e,t),r(e,n),r(e,s),r(s,o),r(o,i),i.checked=l[50].postgres,r(o,u),r(s,a),r(s,_),r(_,f),f.checked=l[50].redis,r(_,p),r(s,m),r(s,h),r(h,v),v.checked=l[50].mysql,r(h,g),r(s,C),r(s,y),r(y,$),$.checked=l[50].mongo,r(y,q),z||(D=[te(i,"change",l[130]),te(f,"change",l[131]),te(v,"change",l[132]),te($,"change",l[133])],z=!0)},p(P,T){T[1]&524288&&(i.checked=P[50].postgres),T[1]&524288&&(f.checked=P[50].redis),T[1]&524288&&(v.checked=P[50].mysql),T[1]&524288&&($.checked=P[50].mongo)},d(P){P&&k(e),z=!1,Ve(D)}}}function Li(l){let e,t,n,s,o,i,u,a,_,f,p,m,h=l[51]&&Mi(l);return{c(){e=d("div"),t=b(),n=d("label"),s=d("input"),o=b(),i=d("span"),i.textContent="🌐 Setup domain (Cloudflare)",u=b(),a=d("small"),a.textContent="Auto-provision subdomain with SSL via Cloudflare",_=b(),h&&h.c(),f=Fe(),c(e,"class","config-divider svelte-1xqclu"),c(s,"type","checkbox"),c(s,"class","svelte-1xqclu"),c(n,"class","checkbox-label svelte-1xqclu"),c(a,"class","svelte-1xqclu")},m(v,g){w(v,e,g),w(v,t,g),w(v,n,g),r(n,s),s.checked=l[51],r(n,o),r(n,i),w(v,u,g),w(v,a,g),w(v,_,g),h&&h.m(v,g),w(v,f,g),p||(m=te(s,"change",l[135]),p=!0)},p(v,g){g[1]&1048576&&(s.checked=v[51]),v[51]?h?h.p(v,g):(h=Mi(v),h.c(),h.m(f.parentNode,f)):h&&(h.d(1),h=null)},d(v){v&&(k(e),k(t),k(n),k(u),k(a),k(_),k(f)),h&&h.d(v),p=!1,m()}}}function Mi(l){let e,t,n,s,o,i=(l[59]||"app-project-env.domain.com")+"",u,a,_,f,p,m,h,v,g,C,y,$,q,z,D,P,T;return{c(){e=d("div"),t=d("div"),n=d("label"),n.textContent="Domain Preview:",s=b(),o=d("code"),u=S(i),a=b(),_=d("div"),f=d("label"),f.textContent="Base Domain",p=b(),m=d("input"),h=b(),v=d("div"),g=d("label"),g.innerHTML='Custom Aliases <small class="svelte-1xqclu">(optional)</small>',C=b(),y=d("input"),$=b(),q=d("small"),q.textContent="Comma-separated custom domains (requires DNS setup)",z=b(),D=d("div"),D.innerHTML='<small class="svelte-1xqclu">💡 <strong>First deploy:</strong> DNS propagation takes 1-5 minutes. Subsequent deploys are instant.</small>',c(n,"class","svelte-1xqclu"),c(o,"class","svelte-1xqclu"),c(t,"class","domain-preview svelte-1xqclu"),c(f,"for","base-domain"),c(f,"class","svelte-1xqclu"),c(m,"id","base-domain"),c(m,"type","text"),c(m,"placeholder","example.com"),c(m,"class","svelte-1xqclu"),c(_,"class","form-group svelte-1xqclu"),c(g,"for","domain-aliases"),c(g,"class","svelte-1xqclu"),c(y,"id","domain-aliases"),c(y,"type","text"),c(y,"placeholder","api.myclient.com, app.example.com"),c(y,"class","svelte-1xqclu"),c(q,"class","svelte-1xqclu"),c(v,"class","form-group svelte-1xqclu"),c(D,"class","domain-info"),c(e,"class","domain-config svelte-1xqclu")},m(E,A){w(E,e,A),r(e,t),r(t,n),r(t,s),r(t,o),r(o,u),r(e,a),r(e,_),r(_,f),r(_,p),r(_,m),ne(m,l[10]),r(e,h),r(e,v),r(v,g),r(v,C),r(v,y),ne(y,l[52]),r(v,$),r(v,q),r(e,z),r(e,D),P||(T=[te(m,"input",l[136]),te(y,"input",l[137])],P=!0)},p(E,A){A[1]&268435456&&i!==(i=(E[59]||"app-project-env.domain.com")+"")&&I(u,i),A[0]&1024&&m.value!==E[10]&&ne(m,E[10]),A[1]&2097152&&y.value!==E[52]&&ne(y,E[52])},d(E){E&&k(e),P=!1,Ve(T)}}}function I_(l){let e,t;return e=new Qe({props:{variant:"info",$$slots:{default:[U_]},$$scope:{ctx:l}}}),{c(){de(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[0]&256|s[7]&4&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(L(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function B_(l){let e,t;return e=new Qe({props:{variant:"info",$$slots:{default:[H_]},$$scope:{ctx:l}}}),{c(){de(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[0]&256|s[7]&4&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(L(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function U_(l){let e=l[8].size+"",t,n;return{c(){t=S(e),n=S(" selected")},m(s,o){w(s,t,o),w(s,n,o)},p(s,o){o[0]&256&&e!==(e=s[8].size+"")&&I(t,e)},d(s){s&&(k(t),k(n))}}}function H_(l){let e=l[8].size===1?"1 selected":"select 1",t;return{c(){t=S(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&256&&e!==(e=n[8].size===1?"1 selected":"select 1")&&I(t,e)},d(n){n&&k(t)}}}function ji(l){let e,t,n,s,o;return t=new Ue({props:{variant:"ghost",size:"sm",$$slots:{default:[G_]},$$scope:{ctx:l}}}),t.$on("click",l[138]),s=new Ue({props:{variant:"ghost",size:"sm",$$slots:{default:[V_]},$$scope:{ctx:l}}}),s.$on("click",l[139]),{c(){e=d("div"),de(t.$$.fragment),n=b(),de(s.$$.fragment),c(e,"class","server-actions svelte-1xqclu")},m(i,u){w(i,e,u),fe(t,e,null),r(e,n),fe(s,e,null),o=!0},p(i,u){const a={};u[7]&4&&(a.$$scope={dirty:u,ctx:i}),t.$set(a);const _={};u[7]&4&&(_.$$scope={dirty:u,ctx:i}),s.$set(_)},i(i){o||(L(t.$$.fragment,i),L(s.$$.fragment,i),o=!0)},o(i){R(t.$$.fragment,i),R(s.$$.fragment,i),o=!1},d(i){i&&k(e),_e(t),_e(s)}}}function G_(l){let e;return{c(){e=S("✓ All")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function V_(l){let e;return{c(){e=S("✕ None")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function W_(l){let e,t,n,s;const o=[Y_,K_],i=[];function u(a,_){return!a[40]||a[40].length===0?0:1}return t=u(l),n=i[t]=o[t](l),{c(){e=d("div"),n.c(),c(e,"class","server-list svelte-1xqclu")},m(a,_){w(a,e,_),i[t].m(e,null),s=!0},p(a,_){let f=t;t=u(a),t===f?i[t].p(a,_):(Te(),R(i[f],1,1,()=>{i[f]=null}),ze(),n=i[t],n?n.p(a,_):(n=i[t]=o[t](a),n.c()),L(n,1),n.m(e,null))},i(a){s||(L(n),s=!0)},o(a){R(n),s=!1},d(a){a&&k(e),i[t].d()}}}function J_(l){let e,t,n,s,o,i;function u(h,v){return h[0]==="stateful"?X_:Z_}let a=u(l),_=a(l);const f=[ed,x_],p=[];function m(h,v){return!h[40]||h[40].length===0?0:1}return s=m(l),o=p[s]=f[s](l),{c(){e=d("div"),t=d("small"),_.c(),n=b(),o.c(),c(t,"class","select-hint svelte-1xqclu"),c(e,"class","server-list single-select svelte-1xqclu")},m(h,v){w(h,e,v),r(e,t),_.m(t,null),r(e,n),p[s].m(e,null),i=!0},p(h,v){a!==(a=u(h))&&(_.d(1),_=a(h),_&&(_.c(),_.m(t,null)));let g=s;s=m(h),s===g?p[s].p(h,v):(Te(),R(p[g],1,1,()=>{p[g]=null}),ze(),o=p[s],o?o.p(h,v):(o=p[s]=f[s](h),o.c()),L(o,1),o.m(e,null))},i(h){i||(L(o),i=!0)},o(h){R(o),i=!1},d(h){h&&k(e),_.d(),p[s].d()}}}function K_(l){let e,t,n=pe(l[40]),s=[];for(let i=0;i<n.length;i+=1)s[i]=Ri(Jo(l,n,i));const o=i=>R(s[i],1,1,()=>{s[i]=null});return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=Fe()},m(i,u){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(i,u);w(i,e,u),t=!0},p(i,u){if(u[0]&256|u[1]&512|u[2]&32){n=pe(i[40]);let a;for(a=0;a<n.length;a+=1){const _=Jo(i,n,a);s[a]?(s[a].p(_,u),L(s[a],1)):(s[a]=Ri(_),s[a].c(),L(s[a],1),s[a].m(e.parentNode,e))}for(Te(),a=n.length;a<s.length;a+=1)o(a);ze()}},i(i){if(!t){for(let u=0;u<n.length;u+=1)L(s[u]);t=!0}},o(i){s=s.filter(mn);for(let u=0;u<s.length;u+=1)R(s[u]);t=!1},d(i){i&&k(e),Le(s,i)}}}function Y_(l){let e,t,n=(l[7]||"any region")+"",s;return{c(){e=d("div"),t=S("No servers in "),s=S(n),c(e,"class","empty svelte-1xqclu")},m(o,i){w(o,e,i),r(e,t),r(e,s)},p(o,i){i[0]&128&&n!==(n=(o[7]||"any region")+"")&&I(s,n)},i:be,o:be,d(o){o&&k(e)}}}function Ni(l){let e,t,n,s,o,i=(l[179].name||"unnamed")+"",u,a,_,f=l[199]+"",p,m,h,v,g,C;function y(){return l[141](l[199])}let $=l[179].project&&Ai(l);return{c(){e=d("label"),t=d("input"),s=b(),o=d("span"),u=S(i),a=b(),_=d("code"),p=S(f),m=b(),$&&$.c(),h=b(),c(t,"type","checkbox"),t.checked=n=l[8].has(l[199]),c(t,"class","svelte-1xqclu"),c(o,"class","server-name svelte-1xqclu"),c(_,"class","server-ip svelte-1xqclu"),c(e,"class","server-item svelte-1xqclu"),Ce(e,"selected",l[8].has(l[199]))},m(q,z){w(q,e,z),r(e,t),r(e,s),r(e,o),r(o,u),r(e,a),r(e,_),r(_,p),r(e,m),$&&$.m(e,null),r(e,h),v=!0,g||(C=te(t,"change",y),g=!0)},p(q,z){l=q,(!v||z[0]&256|z[1]&512&&n!==(n=l[8].has(l[199])))&&(t.checked=n),(!v||z[1]&512)&&i!==(i=(l[179].name||"unnamed")+"")&&I(u,i),(!v||z[1]&512)&&f!==(f=l[199]+"")&&I(p,f),l[179].project?$?($.p(l,z),z[1]&512&&L($,1)):($=Ai(l),$.c(),L($,1),$.m(e,h)):$&&(Te(),R($,1,1,()=>{$=null}),ze()),(!v||z[0]&256|z[1]&512)&&Ce(e,"selected",l[8].has(l[199]))},i(q){v||(L($),v=!0)},o(q){R($),v=!1},d(q){q&&k(e),$&&$.d(),g=!1,C()}}}function Ai(l){let e,t;return e=new Qe({props:{variant:"info",$$slots:{default:[Q_]},$$scope:{ctx:l}}}),{c(){de(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[1]&512|s[7]&4&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(L(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function Q_(l){let e=l[179].project+"",t;return{c(){t=S(e)},m(n,s){w(n,t,s)},p(n,s){s[1]&512&&e!==(e=n[179].project+"")&&I(t,e)},d(n){n&&k(t)}}}function Ri(l){let e,t,n=l[199]&&Ni(l);return{c(){n&&n.c(),e=Fe()},m(s,o){n&&n.m(s,o),w(s,e,o),t=!0},p(s,o){s[199]?n?(n.p(s,o),o[1]&512&&L(n,1)):(n=Ni(s),n.c(),L(n,1),n.m(e.parentNode,e)):n&&(Te(),R(n,1,1,()=>{n=null}),ze())},i(s){t||(L(n),t=!0)},o(s){R(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Z_(l){let e;return{c(){e=S("ℹ️ Scheduled jobs run on one server to avoid duplicate execution.")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function X_(l){let e;return{c(){e=S("ℹ️ Stateful services run on a single server. For replication, deploy multiple named services.")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function x_(l){let e,t,n=pe(l[40]),s=[];for(let i=0;i<n.length;i+=1)s[i]=Ii(Ko(l,n,i));const o=i=>R(s[i],1,1,()=>{s[i]=null});return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=Fe()},m(i,u){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(i,u);w(i,e,u),t=!0},p(i,u){if(u[0]&256|u[1]&512|u[2]&128){n=pe(i[40]);let a;for(a=0;a<n.length;a+=1){const _=Ko(i,n,a);s[a]?(s[a].p(_,u),L(s[a],1)):(s[a]=Ii(_),s[a].c(),L(s[a],1),s[a].m(e.parentNode,e))}for(Te(),a=n.length;a<s.length;a+=1)o(a);ze()}},i(i){if(!t){for(let u=0;u<n.length;u+=1)L(s[u]);t=!0}},o(i){s=s.filter(mn);for(let u=0;u<s.length;u+=1)R(s[u]);t=!1},d(i){i&&k(e),Le(s,i)}}}function ed(l){let e,t,n=(l[7]||"any region")+"",s;return{c(){e=d("div"),t=S("No servers in "),s=S(n),c(e,"class","empty svelte-1xqclu")},m(o,i){w(o,e,i),r(e,t),r(e,s)},p(o,i){i[0]&128&&n!==(n=(o[7]||"any region")+"")&&I(s,n)},i:be,o:be,d(o){o&&k(e)}}}function Oi(l){let e,t,n,s,o,i=(l[179].name||"unnamed")+"",u,a,_,f=l[199]+"",p,m,h,v,g,C;function y(){return l[140](l[199])}let $=l[179].project&&Fi(l);return{c(){e=d("label"),t=d("input"),s=b(),o=d("span"),u=S(i),a=b(),_=d("code"),p=S(f),m=b(),$&&$.c(),h=b(),c(t,"type","radio"),c(t,"name","single-server"),t.checked=n=l[8].has(l[199]),c(t,"class","svelte-1xqclu"),c(o,"class","server-name svelte-1xqclu"),c(_,"class","server-ip svelte-1xqclu"),c(e,"class","server-item svelte-1xqclu"),Ce(e,"selected",l[8].has(l[199]))},m(q,z){w(q,e,z),r(e,t),r(e,s),r(e,o),r(o,u),r(e,a),r(e,_),r(_,p),r(e,m),$&&$.m(e,null),r(e,h),v=!0,g||(C=te(t,"change",y),g=!0)},p(q,z){l=q,(!v||z[0]&256|z[1]&512&&n!==(n=l[8].has(l[199])))&&(t.checked=n),(!v||z[1]&512)&&i!==(i=(l[179].name||"unnamed")+"")&&I(u,i),(!v||z[1]&512)&&f!==(f=l[199]+"")&&I(p,f),l[179].project?$?($.p(l,z),z[1]&512&&L($,1)):($=Fi(l),$.c(),L($,1),$.m(e,h)):$&&(Te(),R($,1,1,()=>{$=null}),ze()),(!v||z[0]&256|z[1]&512)&&Ce(e,"selected",l[8].has(l[199]))},i(q){v||(L($),v=!0)},o(q){R($),v=!1},d(q){q&&k(e),$&&$.d(),g=!1,C()}}}function Fi(l){let e,t;return e=new Qe({props:{variant:"info",$$slots:{default:[td]},$$scope:{ctx:l}}}),{c(){de(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[1]&512|s[7]&4&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(L(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function td(l){let e=l[179].project+"",t;return{c(){t=S(e)},m(n,s){w(n,t,s)},p(n,s){s[1]&512&&e!==(e=n[179].project+"")&&I(t,e)},d(n){n&&k(t)}}}function Ii(l){let e,t,n=l[199]&&Oi(l);return{c(){n&&n.c(),e=Fe()},m(s,o){n&&n.m(s,o),w(s,e,o),t=!0},p(s,o){s[199]?n?(n.p(s,o),o[1]&512&&L(n,1)):(n=Oi(s),n.c(),L(n,1),n.m(e.parentNode,e)):n&&(Te(),R(n,1,1,()=>{n=null}),ze())},i(s){t||(L(n),t=!0)},o(s){R(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Bi(l){let e,t;return e=new Qe({props:{variant:"warning",$$slots:{default:[ld]},$$scope:{ctx:l}}}),{c(){de(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[0]&512|s[7]&4&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(L(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function ld(l){let e,t;return{c(){e=S(l[9]),t=S(" new")},m(n,s){w(n,e,s),w(n,t,s)},p(n,s){s[0]&512&&I(e,n[9])},d(n){n&&(k(e),k(t))}}}function Ui(l){let e,t,n,s,o,i,u,a,_,f,p,m,h,v,g,C,y,$,q,z,D,P,T=l[0]==="service"||l[0]==="worker"?"s":"",E,A,M,O,J,W,F=l[9]>0&&Hi(),B=pe(l[11]||[]),N=[];for(let H=0;H<B.length;H+=1)N[H]=Gi(Wo(l,B,H));let j=pe(l[38]||[]),U=[];for(let H=0;H<j.length;H+=1)U[H]=Vi(Vo(l,j,H));let X=pe(l[39]||[]),Z=[];for(let H=0;H<X.length;H+=1)Z[H]=Wi(Go(l,X,H));function ee(H,re){return H[0]==="stateful"||H[0]==="scheduled"?sd:nd}let se=ee(l),Q=se(l),G=l[9]>0&&!l[6]&&Ji();return{c(){e=d("div"),t=d("div"),n=d("div"),s=d("label"),o=S("Snapshot "),F&&F.c(),i=b(),u=d("select"),a=d("option"),a.textContent="Select snapshot...";for(let H=0;H<N.length;H+=1)N[H].c();_=b(),f=d("div"),p=d("label"),p.textContent="Region",m=b(),h=d("select");for(let H=0;H<U.length;H+=1)U[H].c();v=b(),g=d("div"),C=d("label"),C.textContent="Size",y=b(),$=d("select");for(let H=0;H<Z.length;H+=1)Z[H].c();q=b(),z=d("div"),D=d("span"),P=S("New server"),E=S(T),A=S(" to provision:"),M=b(),Q.c(),O=b(),G&&G.c(),c(s,"for","snapshot-select"),c(s,"class","svelte-1xqclu"),a.__value="",ne(a,a.__value),c(u,"id","snapshot-select"),c(u,"class","svelte-1xqclu"),l[6]===void 0&&Xe(()=>l[143].call(u)),c(n,"class","form-group svelte-1xqclu"),c(p,"for","region-select"),c(p,"class","svelte-1xqclu"),c(h,"id","region-select"),c(h,"class","svelte-1xqclu"),l[7]===void 0&&Xe(()=>l[144].call(h)),c(f,"class","form-group svelte-1xqclu"),c(C,"for","size-select"),c(C,"class","svelte-1xqclu"),c($,"id","size-select"),c($,"class","svelte-1xqclu"),l[37]===void 0&&Xe(()=>l[145].call($)),c(g,"class","form-group svelte-1xqclu"),c(t,"class","form-row three-col svelte-1xqclu"),c(z,"class","new-servers svelte-1xqclu"),c(e,"class","section-content provisioning-config svelte-1xqclu")},m(H,re){w(H,e,re),r(e,t),r(t,n),r(n,s),r(s,o),F&&F.m(s,null),r(n,i),r(n,u),r(u,a);for(let V=0;V<N.length;V+=1)N[V]&&N[V].m(u,null);je(u,l[6],!0),r(t,_),r(t,f),r(f,p),r(f,m),r(f,h);for(let V=0;V<U.length;V+=1)U[V]&&U[V].m(h,null);je(h,l[7],!0),r(t,v),r(t,g),r(g,C),r(g,y),r(g,$);for(let V=0;V<Z.length;V+=1)Z[V]&&Z[V].m($,null);je($,l[37],!0),r(e,q),r(e,z),r(z,D),r(D,P),r(D,E),r(D,A),r(z,M),Q.m(z,null),r(z,O),G&&G.m(z,null),J||(W=[te(u,"change",l[143]),te(h,"change",l[144]),te($,"change",l[145])],J=!0)},p(H,re){if(H[9]>0?F||(F=Hi(),F.c(),F.m(s,null)):F&&(F.d(1),F=null),re[0]&2048){B=pe(H[11]||[]);let V;for(V=0;V<B.length;V+=1){const ae=Wo(H,B,V);N[V]?N[V].p(ae,re):(N[V]=Gi(ae),N[V].c(),N[V].m(u,null))}for(;V<N.length;V+=1)N[V].d(1);N.length=B.length}if(re[0]&2112&&je(u,H[6]),re[1]&128){j=pe(H[38]||[]);let V;for(V=0;V<j.length;V+=1){const ae=Vo(H,j,V);U[V]?U[V].p(ae,re):(U[V]=Vi(ae),U[V].c(),U[V].m(h,null))}for(;V<U.length;V+=1)U[V].d(1);U.length=j.length}if(re[0]&128|re[1]&128&&je(h,H[7]),re[1]&256){X=pe(H[39]||[]);let V;for(V=0;V<X.length;V+=1){const ae=Go(H,X,V);Z[V]?Z[V].p(ae,re):(Z[V]=Wi(ae),Z[V].c(),Z[V].m($,null))}for(;V<Z.length;V+=1)Z[V].d(1);Z.length=X.length}re[1]&320&&je($,H[37]),re[0]&1&&T!==(T=H[0]==="service"||H[0]==="worker"?"s":"")&&I(E,T),se===(se=ee(H))&&Q?Q.p(H,re):(Q.d(1),Q=se(H),Q&&(Q.c(),Q.m(z,O))),H[9]>0&&!H[6]?G||(G=Ji(),G.c(),G.m(z,null)):G&&(G.d(1),G=null)},d(H){H&&k(e),F&&F.d(),Le(N,H),Le(U,H),Le(Z,H),Q.d(),G&&G.d(),J=!1,Ve(W)}}}function Hi(l){let e;return{c(){e=S("*")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Gi(l){let e,t=l[196].name+"",n,s;return{c(){e=d("option"),n=S(t),e.__value=s=l[196].id,ne(e,e.__value)},m(o,i){w(o,e,i),r(e,n)},p(o,i){i[0]&2048&&t!==(t=o[196].name+"")&&I(n,t),i[0]&2048&&s!==(s=o[196].id)&&(e.__value=s,ne(e,e.__value))},d(o){o&&k(e)}}}function Vi(l){let e,t=(l[193].name||l[193].slug)+"",n,s;return{c(){e=d("option"),n=S(t),e.__value=s=l[193].slug,ne(e,e.__value)},m(o,i){w(o,e,i),r(e,n)},p(o,i){i[1]&128&&t!==(t=(o[193].name||o[193].slug)+"")&&I(n,t),i[1]&128&&s!==(s=o[193].slug)&&(e.__value=s,ne(e,e.__value))},d(o){o&&k(e)}}}function Wi(l){let e,t=(l[190].description||l[190].slug)+"",n,s;return{c(){e=d("option"),n=S(t),e.__value=s=l[190].slug,ne(e,e.__value)},m(o,i){w(o,e,i),r(e,n)},p(o,i){i[1]&256&&t!==(t=(o[190].description||o[190].slug)+"")&&I(n,t),i[1]&256&&s!==(s=o[190].slug)&&(e.__value=s,ne(e,e.__value))},d(o){o&&k(e)}}}function nd(l){let e,t,n,s,o,i,u,a;return{c(){e=d("div"),t=d("button"),t.textContent="−",n=b(),s=d("input"),o=b(),i=d("button"),i.textContent="+",c(t,"type","button"),c(t,"class","svelte-1xqclu"),c(s,"type","number"),c(s,"min","0"),c(s,"max","10"),c(s,"class","svelte-1xqclu"),c(i,"type","button"),c(i,"class","svelte-1xqclu"),c(e,"class","number-spinner svelte-1xqclu")},m(_,f){w(_,e,f),r(e,t),r(e,n),r(e,s),ne(s,l[9]),r(e,o),r(e,i),u||(a=[te(t,"click",l[147]),te(s,"input",l[148]),te(i,"click",l[149])],u=!0)},p(_,f){f[0]&512&&Kt(s.value)!==_[9]&&ne(s,_[9])},d(_){_&&k(e),u=!1,Ve(a)}}}function sd(l){let e,t,n,s,o,i,u;return{c(){e=d("label"),t=d("input"),s=b(),o=d("span"),o.textContent="Provision 1 new server",c(t,"type","checkbox"),t.checked=n=l[9]===1,c(t,"class","svelte-1xqclu"),c(e,"class","checkbox-label svelte-1xqclu")},m(a,_){w(a,e,_),r(e,t),r(e,s),r(e,o),i||(u=te(t,"change",l[146]),i=!0)},p(a,_){_[0]&512&&n!==(n=a[9]===1)&&(t.checked=n)},d(a){a&&k(e),i=!1,u()}}}function Ji(l){let e;return{c(){e=d("small"),e.textContent="⚠️ Select a snapshot for new servers",c(e,"class","warning svelte-1xqclu")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function od(l){let e;return{c(){e=S("🚀 Deploy")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function id(l){let e;return{c(){e=S("Deploying...")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function rd(l){let e;function t(o,i){return o[41]?id:od}let n=t(l),s=n(l);return{c(){s.c(),e=Fe()},m(o,i){s.m(o,i),w(o,e,i)},p(o,i){n!==(n=t(o))&&(s.d(1),s=n(o),s&&(s.c(),s.m(e.parentNode,e)))},d(o){o&&k(e),s.d(o)}}}function ad(l){let e,t,n,s,o,i,u,a,_,f,p,m,h,v,g,C,y,$,q,z,D,P,T,E,A,M,O,J,W,F,B,N,j,U=l[0]==="service"||l[0]==="worker"?"s":"",X,Z,ee,se,Q,G,H,re,V,ae,le,K,me=l[58]?"▼":"▶",ue,ie,x,Y,he,ke,Ge,rt,kt,dt,De=pe(l[60]),Oe=[];for(let ge=0;ge<De.length;ge+=1)Oe[ge]=ei(xo(l,De,ge));let ve=l[0]==="stateful"&&ti(l),Ae=pe(l[62]),Me=[];for(let ge=0;ge<Ae.length;ge+=1)Me[ge]=li(Xo(l,Ae,ge));let Ee=l[0]==="stateful"&&ni(l),Ie=l[0]!=="stateful"&&oi(l),et=l[0]==="service"&&$i(l),lt=(l[0]==="worker"||l[0]==="scheduled")&&yi(l),nt=l[0]==="scheduled"&&Ci(l),We=l[0]!=="stateful"&&qi(l),st=l[0]!=="stateful"&&zi(l);const qt=[B_,I_],Dt=[];function nl(ge,Ne){return ge[0]==="stateful"||ge[0]==="scheduled"?0:1}ee=nl(l),se=Dt[ee]=qt[ee](l);let xe=(l[0]==="service"||l[0]==="worker")&&ji(l);const Bt=[J_,W_],Pt=[];function Ht(ge,Ne){return ge[0]==="stateful"||ge[0]==="scheduled"?0:1}H=Ht(l),re=Pt[H]=Bt[H](l);let at=l[9]>0&&Bi(l),pt=l[58]&&Ui(l);return Ge=new Ue({props:{variant:"primary",type:"submit",disabled:l[41],$$slots:{default:[rd]},$$scope:{ctx:l}}}),{c(){e=d("form"),t=d("div");for(let ge=0;ge<Oe.length;ge+=1)Oe[ge].c();n=b(),s=d("div"),o=d("div"),i=d("label"),i.textContent="Project *",u=b(),a=d("input"),_=b(),f=d("div"),p=d("label"),p.textContent="Service Name *",m=b(),h=d("input"),g=b(),ve&&ve.c(),C=b(),y=d("div"),$=d("label"),$.textContent="Environment",q=b(),z=d("select");for(let ge=0;ge<Me.length;ge+=1)Me[ge].c();D=b(),Ee&&Ee.c(),P=b(),Ie&&Ie.c(),T=b(),et&&et.c(),E=b(),lt&&lt.c(),A=b(),nt&&nt.c(),M=b(),We&&We.c(),O=b(),st&&st.c(),J=b(),W=d("div"),F=d("div"),B=d("div"),N=d("span"),j=S("🖥️ Server"),X=S(U),Z=b(),se.c(),Q=b(),xe&&xe.c(),G=b(),re.c(),V=b(),ae=d("div"),le=d("button"),K=d("span"),ue=S(me),ie=b(),x=d("span"),x.textContent="➕ New Server Provisioning",Y=b(),at&&at.c(),he=b(),pt&&pt.c(),ke=b(),de(Ge.$$.fragment),c(t,"class","deploy-type-selector svelte-1xqclu"),c(i,"for","deploy-project"),c(i,"class","svelte-1xqclu"),c(a,"id","deploy-project"),c(a,"type","text"),c(a,"placeholder","my-project"),a.required=!0,c(a,"pattern","[-a-z0-9]*"),c(a,"class","svelte-1xqclu"),c(o,"class","form-group svelte-1xqclu"),c(p,"for","deploy-name"),c(p,"class","svelte-1xqclu"),c(h,"id","deploy-name"),c(h,"type","text"),c(h,"placeholder",v=l[0]==="stateful"?l[1]:"api"),h.required=!0,c(h,"pattern","[-a-z0-9]+"),c(h,"title","Lowercase letters, numbers, hyphens only"),c(h,"class","svelte-1xqclu"),c(f,"class","form-group svelte-1xqclu"),c($,"for","deploy-env"),c($,"class","svelte-1xqclu"),c(z,"id","deploy-env"),c(z,"class","svelte-1xqclu"),l[5]===void 0&&Xe(()=>l[89].call(z)),c(y,"class","form-group svelte-1xqclu"),c(s,"class","form-row three-col svelte-1xqclu"),c(B,"class","server-title svelte-1xqclu"),c(F,"class","server-header svelte-1xqclu"),c(K,"class","toggle-icon svelte-1xqclu"),c(le,"type","button"),c(le,"class","section-toggle svelte-1xqclu"),c(ae,"class","collapsible-section svelte-1xqclu"),Ce(ae,"expanded",l[58]),c(W,"class","server-selection svelte-1xqclu")},m(ge,Ne){w(ge,e,Ne),r(e,t);for(let ut=0;ut<Oe.length;ut+=1)Oe[ut]&&Oe[ut].m(t,null);r(e,n),r(e,s),r(s,o),r(o,i),r(o,u),r(o,a),ne(a,l[4]),r(s,_),r(s,f),r(f,p),r(f,m),r(f,h),ne(h,l[3]),r(f,g),ve&&ve.m(f,null),r(s,C),r(s,y),r(y,$),r(y,q),r(y,z);for(let ut=0;ut<Me.length;ut+=1)Me[ut]&&Me[ut].m(z,null);je(z,l[5],!0),r(e,D),Ee&&Ee.m(e,null),r(e,P),Ie&&Ie.m(e,null),r(e,T),et&&et.m(e,null),r(e,E),lt&&lt.m(e,null),r(e,A),nt&&nt.m(e,null),r(e,M),We&&We.m(e,null),r(e,O),st&&st.m(e,null),r(e,J),r(e,W),r(W,F),r(F,B),r(B,N),r(N,j),r(N,X),r(B,Z),Dt[ee].m(B,null),r(F,Q),xe&&xe.m(F,null),r(W,G),Pt[H].m(W,null),r(W,V),r(W,ae),r(ae,le),r(le,K),r(K,ue),r(le,ie),r(le,x),r(le,Y),at&&at.m(le,null),r(ae,he),pt&&pt.m(ae,null),r(e,ke),fe(Ge,e,null),rt=!0,kt||(dt=[te(a,"input",l[87]),te(h,"input",l[88]),te(z,"change",l[89]),te(le,"click",l[142]),te(e,"submit",l[81])],kt=!0)},p(ge,Ne){if(Ne[0]&1|Ne[1]&1610612736){De=pe(ge[60]);let Je;for(Je=0;Je<De.length;Je+=1){const Wt=xo(ge,De,Je);Oe[Je]?Oe[Je].p(Wt,Ne):(Oe[Je]=ei(Wt),Oe[Je].c(),Oe[Je].m(t,null))}for(;Je<Oe.length;Je+=1)Oe[Je].d(1);Oe.length=De.length}if(Ne[0]&16&&a.value!==ge[4]&&ne(a,ge[4]),(!rt||Ne[0]&3&&v!==(v=ge[0]==="stateful"?ge[1]:"api"))&&c(h,"placeholder",v),Ne[0]&8&&h.value!==ge[3]&&ne(h,ge[3]),ge[0]==="stateful"?ve?ve.p(ge,Ne):(ve=ti(ge),ve.c(),ve.m(f,null)):ve&&(ve.d(1),ve=null),Ne[2]&1){Ae=pe(ge[62]);let Je;for(Je=0;Je<Ae.length;Je+=1){const Wt=Xo(ge,Ae,Je);Me[Je]?Me[Je].p(Wt,Ne):(Me[Je]=li(Wt),Me[Je].c(),Me[Je].m(z,null))}for(;Je<Me.length;Je+=1)Me[Je].d(1);Me.length=Ae.length}Ne[0]&32|Ne[2]&1&&je(z,ge[5]),ge[0]==="stateful"?Ee?Ee.p(ge,Ne):(Ee=ni(ge),Ee.c(),Ee.m(e,P)):Ee&&(Ee.d(1),Ee=null),ge[0]!=="stateful"?Ie?(Ie.p(ge,Ne),Ne[0]&1&&L(Ie,1)):(Ie=oi(ge),Ie.c(),L(Ie,1),Ie.m(e,T)):Ie&&(Te(),R(Ie,1,1,()=>{Ie=null}),ze()),ge[0]==="service"?et?et.p(ge,Ne):(et=$i(ge),et.c(),et.m(e,E)):et&&(et.d(1),et=null),ge[0]==="worker"||ge[0]==="scheduled"?lt?lt.p(ge,Ne):(lt=yi(ge),lt.c(),lt.m(e,A)):lt&&(lt.d(1),lt=null),ge[0]==="scheduled"?nt?nt.p(ge,Ne):(nt=Ci(ge),nt.c(),nt.m(e,M)):nt&&(nt.d(1),nt=null),ge[0]!=="stateful"?We?(We.p(ge,Ne),Ne[0]&1&&L(We,1)):(We=qi(ge),We.c(),L(We,1),We.m(e,O)):We&&(Te(),R(We,1,1,()=>{We=null}),ze()),ge[0]!=="stateful"?st?(st.p(ge,Ne),Ne[0]&1&&L(st,1)):(st=zi(ge),st.c(),L(st,1),st.m(e,J)):st&&(Te(),R(st,1,1,()=>{st=null}),ze()),(!rt||Ne[0]&1)&&U!==(U=ge[0]==="service"||ge[0]==="worker"?"s":"")&&I(X,U);let ut=ee;ee=nl(ge),ee===ut?Dt[ee].p(ge,Ne):(Te(),R(Dt[ut],1,1,()=>{Dt[ut]=null}),ze(),se=Dt[ee],se?se.p(ge,Ne):(se=Dt[ee]=qt[ee](ge),se.c()),L(se,1),se.m(B,null)),ge[0]==="service"||ge[0]==="worker"?xe?(xe.p(ge,Ne),Ne[0]&1&&L(xe,1)):(xe=ji(ge),xe.c(),L(xe,1),xe.m(F,null)):xe&&(Te(),R(xe,1,1,()=>{xe=null}),ze());let Gt=H;H=Ht(ge),H===Gt?Pt[H].p(ge,Ne):(Te(),R(Pt[Gt],1,1,()=>{Pt[Gt]=null}),ze(),re=Pt[H],re?re.p(ge,Ne):(re=Pt[H]=Bt[H](ge),re.c()),L(re,1),re.m(W,V)),(!rt||Ne[1]&134217728)&&me!==(me=ge[58]?"▼":"▶")&&I(ue,me),ge[9]>0?at?(at.p(ge,Ne),Ne[0]&512&&L(at,1)):(at=Bi(ge),at.c(),L(at,1),at.m(le,null)):at&&(Te(),R(at,1,1,()=>{at=null}),ze()),ge[58]?pt?pt.p(ge,Ne):(pt=Ui(ge),pt.c(),pt.m(ae,null)):pt&&(pt.d(1),pt=null),(!rt||Ne[1]&134217728)&&Ce(ae,"expanded",ge[58]);const Vt={};Ne[1]&1024&&(Vt.disabled=ge[41]),Ne[1]&1024|Ne[7]&4&&(Vt.$$scope={dirty:Ne,ctx:ge}),Ge.$set(Vt)},i(ge){rt||(L(Ie),L(We),L(st),L(se),L(xe),L(re),L(at),L(Ge.$$.fragment,ge),rt=!0)},o(ge){R(Ie),R(We),R(st),R(se),R(xe),R(re),R(at),R(Ge.$$.fragment,ge),rt=!1},d(ge){ge&&k(e),Le(Oe,ge),ve&&ve.d(),Le(Me,ge),Ee&&Ee.d(),Ie&&Ie.d(),et&&et.d(),lt&&lt.d(),nt&&nt.d(),We&&We.d(),st&&st.d(),Dt[ee].d(),xe&&xe.d(),Pt[H].d(),at&&at.d(),pt&&pt.d(),_e(Ge),kt=!1,Ve(dt)}}}function ud(l){let e;return{c(){e=d("div"),e.innerHTML='<p>No deployment in progress</p> <p class="hint svelte-1xqclu">Fill in the form and click Deploy to start</p>',c(e,"class","empty-state svelte-1xqclu")},m(t,n){w(t,e,n)},p:be,d(t){t&&k(e)}}}function cd(l){let e,t,n,s,o,i,u=pe(l[43]),a=[];for(let m=0;m<u.length;m+=1)a[m]=Ki(Ho(l,u,m));function _(m,h){if(m[44]&&m[44].success)return _d;if(m[44]&&!m[44].success)return fd}let f=_(l),p=f&&f(l);return{c(){e=d("div"),t=d("div"),n=d("div"),s=b(),o=d("div");for(let m=0;m<a.length;m+=1)a[m].c();i=b(),p&&p.c(),c(n,"class","progress-fill svelte-1xqclu"),It(n,"width",l[42]+"%"),c(t,"class","progress-bar svelte-1xqclu"),c(o,"class","log-output svelte-1xqclu"),c(e,"class","progress-section svelte-1xqclu")},m(m,h){w(m,e,h),r(e,t),r(t,n),r(e,s),r(e,o);for(let v=0;v<a.length;v+=1)a[v]&&a[v].m(o,null);r(e,i),p&&p.m(e,null)},p(m,h){if(h[1]&2048&&It(n,"width",m[42]+"%"),h[1]&4096){u=pe(m[43]);let v;for(v=0;v<u.length;v+=1){const g=Ho(m,u,v);a[v]?a[v].p(g,h):(a[v]=Ki(g),a[v].c(),a[v].m(o,null))}for(;v<a.length;v+=1)a[v].d(1);a.length=u.length}f===(f=_(m))&&p?p.p(m,h):(p&&p.d(1),p=f&&f(m),p&&(p.c(),p.m(e,null)))},d(m){m&&k(e),Le(a,m),p&&p.d()}}}function Ki(l){let e,t,n=l[83].time.toLocaleTimeString()+"",s,o,i,u=rr(l[83].message)+"",a,_;return{c(){e=d("div"),t=d("span"),s=S(n),o=b(),i=new Gc(!1),a=b(),c(t,"class","log-time svelte-1xqclu"),i.a=a,c(e,"class",_="log-line "+l[83].type+" svelte-1xqclu")},m(f,p){w(f,e,p),r(e,t),r(t,s),r(e,o),i.m(u,e),r(e,a)},p(f,p){p[1]&4096&&n!==(n=f[83].time.toLocaleTimeString()+"")&&I(s,n),p[1]&4096&&u!==(u=rr(f[83].message)+"")&&i.p(u),p[1]&4096&&_!==(_="log-line "+f[83].type+" svelte-1xqclu")&&c(e,"class",_)},d(f){f&&k(e)}}}function fd(l){let e,t,n,s,o,i=l[5].toUpperCase()+"",u,a,_,f=l[44].error&&Yi(l);function p(v,g){return v[44].servers&&v[44].servers.length>0?pd:dd}let m=p(l),h=m(l);return{c(){e=d("div"),t=d("div"),n=d("h4"),n.textContent="❌ Deployment Failed",s=b(),o=d("span"),u=S(i),a=b(),f&&f.c(),_=b(),h.c(),c(n,"class","svelte-1xqclu"),c(o,"class","env-badge svelte-1xqclu"),c(t,"class","result-header svelte-1xqclu"),c(e,"class","deploy-failure-box svelte-1xqclu")},m(v,g){w(v,e,g),r(e,t),r(t,n),r(t,s),r(t,o),r(o,u),r(e,a),f&&f.m(e,null),r(e,_),h.m(e,null)},p(v,g){g[0]&32&&i!==(i=v[5].toUpperCase()+"")&&I(u,i),v[44].error?f?f.p(v,g):(f=Yi(v),f.c(),f.m(e,_)):f&&(f.d(1),f=null),m===(m=p(v))&&h?h.p(v,g):(h.d(1),h=m(v),h&&(h.c(),h.m(e,null)))},d(v){v&&k(e),f&&f.d(),h.d()}}}function _d(l){let e,t,n,s,o,i=l[5].toUpperCase()+"",u,a,_,f,p=l[44].domain&&Xi(l),m=l[44].connection_url&&xi(l),h=l[44].servers&&l[44].servers.length>0&&er(l);return{c(){e=d("div"),t=d("div"),n=d("h4"),n.textContent="✅ Deployment Complete",s=b(),o=d("span"),u=S(i),a=b(),p&&p.c(),_=b(),m&&m.c(),f=b(),h&&h.c(),c(n,"class","svelte-1xqclu"),c(o,"class","env-badge svelte-1xqclu"),c(t,"class","result-header svelte-1xqclu"),c(e,"class","deploy-success-box svelte-1xqclu")},m(v,g){w(v,e,g),r(e,t),r(t,n),r(t,s),r(t,o),r(o,u),r(e,a),p&&p.m(e,null),r(e,_),m&&m.m(e,null),r(e,f),h&&h.m(e,null)},p(v,g){g[0]&32&&i!==(i=v[5].toUpperCase()+"")&&I(u,i),v[44].domain?p?p.p(v,g):(p=Xi(v),p.c(),p.m(e,_)):p&&(p.d(1),p=null),v[44].connection_url?m?m.p(v,g):(m=xi(v),m.c(),m.m(e,f)):m&&(m.d(1),m=null),v[44].servers&&v[44].servers.length>0?h?h.p(v,g):(h=er(v),h.c(),h.m(e,null)):h&&(h.d(1),h=null)},d(v){v&&k(e),p&&p.d(),m&&m.d(),h&&h.d()}}}function Yi(l){let e,t=l[44].error+"",n;return{c(){e=d("p"),n=S(t)},m(s,o){w(s,e,o),r(e,n)},p(s,o){o[1]&8192&&t!==(t=s[44].error+"")&&I(n,t)},d(s){s&&k(e)}}}function dd(l){let e;return{c(){e=d("p"),e.textContent="No server details available",It(e,"margin-top","8px"),It(e,"opacity","0.8")},m(t,n){w(t,e,n)},p:be,d(t){t&&k(e)}}}function pd(l){let e,t,n,s,o=pe(l[44].servers),i=[];for(let u=0;u<o.length;u+=1)i[u]=Zi(Io(l,o,u));return{c(){e=d("div"),t=d("span"),t.textContent="Server Status:",n=b(),s=d("div");for(let u=0;u<i.length;u+=1)i[u].c();c(t,"class","result-label svelte-1xqclu"),c(s,"class","server-links svelte-1xqclu"),c(e,"class","result-section svelte-1xqclu"),It(e,"margin-top","12px")},m(u,a){w(u,e,a),r(e,t),r(e,n),r(e,s);for(let _=0;_<i.length;_+=1)i[_]&&i[_].m(s,null)},p(u,a){if(a[0]&8|a[1]&8192){o=pe(u[44].servers);let _;for(_=0;_<o.length;_+=1){const f=Io(u,o,_);i[_]?i[_].p(f,a):(i[_]=Zi(f),i[_].c(),i[_].m(s,null))}for(;_<i.length;_+=1)i[_].d(1);i.length=o.length}},d(u){u&&k(e),Le(i,u)}}}function md(l){let e,t=l[179].ip+"",n,s,o=l[179].error&&Qi(l);return{c(){e=S("❌ "),n=S(t),o&&o.c(),s=Fe()},m(i,u){w(i,e,u),w(i,n,u),o&&o.m(i,u),w(i,s,u)},p(i,u){u[1]&8192&&t!==(t=i[179].ip+"")&&I(n,t),i[179].error?o?o.p(i,u):(o=Qi(i),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},d(i){i&&(k(e),k(n),k(s)),o&&o.d(i)}}}function vd(l){let e,t=l[179].ip+"",n;return{c(){e=S("✅ "),n=S(t)},m(s,o){w(s,e,o),w(s,n,o)},p(s,o){o[1]&8192&&t!==(t=s[179].ip+"")&&I(n,t)},d(s){s&&(k(e),k(n))}}}function Qi(l){let e,t=l[179].error+"",n;return{c(){e=S(": "),n=S(t)},m(s,o){w(s,e,o),w(s,n,o)},p(s,o){o[1]&8192&&t!==(t=s[179].error+"")&&I(n,t)},d(s){s&&(k(e),k(n))}}}function Zi(l){let e,t,n,s,o,i,u;function a(m,h){return m[179].success?vd:md}let _=a(l),f=_(l);function p(){return l[153](l[179])}return{c(){e=d("div"),t=d("span"),f.c(),n=b(),s=d("button"),s.textContent="📋 Logs",o=b(),c(s,"class","log-btn svelte-1xqclu"),c(e,"class","server-link-row svelte-1xqclu")},m(m,h){w(m,e,h),r(e,t),f.m(t,null),r(e,n),r(e,s),r(e,o),i||(u=te(s,"click",p),i=!0)},p(m,h){l=m,_===(_=a(l))&&f?f.p(l,h):(f.d(1),f=_(l),f&&(f.c(),f.m(t,null)))},d(m){m&&k(e),f.d(),i=!1,u()}}}function Xi(l){let e,t,n,s,o,i=l[44].domain+"",u,a,_,f;return{c(){e=d("div"),t=d("span"),t.textContent="🌐 Domain:",n=b(),s=d("a"),o=S("https://"),u=S(i),_=b(),f=d("div"),f.innerHTML='<small class="svelte-1xqclu">⏱️ DNS may take 1-5 minutes to propagate. If the domain doesn&#39;t load yet, wait and refresh.</small>',c(t,"class","result-label svelte-1xqclu"),c(s,"href",a="https://"+l[44].domain),c(s,"target","_blank"),c(s,"class","result-link svelte-1xqclu"),c(e,"class","result-section svelte-1xqclu"),c(f,"class","dns-notice svelte-1xqclu")},m(p,m){w(p,e,m),r(e,t),r(e,n),r(e,s),r(s,o),r(s,u),w(p,_,m),w(p,f,m)},p(p,m){m[1]&8192&&i!==(i=p[44].domain+"")&&I(u,i),m[1]&8192&&a!==(a="https://"+p[44].domain)&&c(s,"href",a)},d(p){p&&(k(e),k(_),k(f))}}}function xi(l){let e,t,n,s,o,i=(l[44].env_var_name||"URL")+"",u,a,_=l[44].connection_url+"",f,p,m,h,v;return{c(){e=d("div"),t=d("span"),t.textContent="Connection:",n=b(),s=d("div"),o=d("code"),u=S(i),a=S("="),f=S(_),p=b(),m=d("button"),m.textContent="📋 Copy",c(t,"class","result-label svelte-1xqclu"),c(o,"class","connection-url svelte-1xqclu"),c(m,"class","copy-btn svelte-1xqclu"),c(s,"class","connection-info svelte-1xqclu"),c(e,"class","result-section svelte-1xqclu")},m(g,C){w(g,e,C),r(e,t),r(e,n),r(e,s),r(s,o),r(o,u),r(o,a),r(o,f),r(s,p),r(s,m),h||(v=te(m,"click",l[150]),h=!0)},p(g,C){C[1]&8192&&i!==(i=(g[44].env_var_name||"URL")+"")&&I(u,i),C[1]&8192&&_!==(_=g[44].connection_url+"")&&I(f,_)},d(g){g&&k(e),h=!1,v()}}}function er(l){let e,t,n=l[0]==="stateful"?"TCP Endpoint:":"Servers:",s,o,i,u,a=l[44].servers.some(ar),_,f=pe(l[44].servers.filter(dr)),p=[];for(let h=0;h<f.length;h+=1)p[h]=tr(Uo(l,f,h));let m=a&&lr(l);return{c(){e=d("div"),t=d("span"),s=S(n),o=b(),i=d("div");for(let h=0;h<p.length;h+=1)p[h].c();u=b(),m&&m.c(),_=Fe(),c(t,"class","result-label svelte-1xqclu"),c(i,"class","server-links svelte-1xqclu"),c(e,"class","result-section svelte-1xqclu")},m(h,v){w(h,e,v),r(e,t),r(t,s),r(e,o),r(e,i);for(let g=0;g<p.length;g+=1)p[g]&&p[g].m(i,null);w(h,u,v),m&&m.m(h,v),w(h,_,v)},p(h,v){if(v[0]&1&&n!==(n=h[0]==="stateful"?"TCP Endpoint:":"Servers:")&&I(s,n),v[0]&9|v[1]&8192){f=pe(h[44].servers.filter(dr));let g;for(g=0;g<f.length;g+=1){const C=Uo(h,f,g);p[g]?p[g].p(C,v):(p[g]=tr(C),p[g].c(),p[g].m(i,null))}for(;g<p.length;g+=1)p[g].d(1);p.length=f.length}v[1]&8192&&(a=h[44].servers.some(ar)),a?m?m.p(h,v):(m=lr(h),m.c(),m.m(_.parentNode,_)):m&&(m.d(1),m=null)},d(h){h&&(k(e),k(u),k(_)),Le(p,h),m&&m.d(h)}}}function hd(l){let e,t=l[179].url+"",n,s;return{c(){e=d("a"),n=S(t),c(e,"href",s=l[179].url),c(e,"target","_blank"),c(e,"class","result-link svelte-1xqclu")},m(o,i){w(o,e,i),r(e,n)},p(o,i){i[1]&8192&&t!==(t=o[179].url+"")&&I(n,t),i[1]&8192&&s!==(s=o[179].url)&&c(e,"href",s)},d(o){o&&k(e)}}}function gd(l){var s;let e,t=(((s=l[179].url)==null?void 0:s.replace("http://",""))||`${l[179].ip}:${l[44].host_port||l[179].host_port}`)+"",n;return{c(){e=d("code"),n=S(t),c(e,"class","tcp-endpoint svelte-1xqclu")},m(o,i){w(o,e,i),r(e,n)},p(o,i){var u;i[1]&8192&&t!==(t=(((u=o[179].url)==null?void 0:u.replace("http://",""))||`${o[179].ip}:${o[44].host_port||o[179].host_port}`)+"")&&I(n,t)},d(o){o&&k(e)}}}function tr(l){let e,t,n,s,o,i;function u(p,m){return p[0]==="stateful"?gd:hd}let a=u(l),_=a(l);function f(){return l[151](l[179])}return{c(){e=d("div"),_.c(),t=b(),n=d("button"),n.textContent="📋 Logs",s=b(),c(n,"class","log-btn svelte-1xqclu"),c(e,"class","server-link-row svelte-1xqclu")},m(p,m){w(p,e,m),_.m(e,null),r(e,t),r(e,n),r(e,s),o||(i=te(n,"click",f),o=!0)},p(p,m){l=p,a===(a=u(l))&&_?_.p(l,m):(_.d(1),_=a(l),_&&(_.c(),_.m(e,t)))},d(p){p&&k(e),_.d(),o=!1,i()}}}function lr(l){let e,t,n,s=pe(l[44].servers.filter(pr)),o=[];for(let i=0;i<s.length;i+=1)o[i]=nr(Bo(l,s,i));return{c(){e=d("div"),t=d("span"),t.textContent="Failed Servers:",n=b();for(let i=0;i<o.length;i+=1)o[i].c();c(t,"class","result-label svelte-1xqclu"),It(t,"color","#fef3c7"),c(e,"class","failed-servers-section svelte-1xqclu")},m(i,u){w(i,e,u),r(e,t),r(e,n);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(e,null)},p(i,u){if(u[0]&8|u[1]&8192){s=pe(i[44].servers.filter(pr));let a;for(a=0;a<s.length;a+=1){const _=Bo(i,s,a);o[a]?o[a].p(_,u):(o[a]=nr(_),o[a].c(),o[a].m(e,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=s.length}},d(i){i&&k(e),Le(o,i)}}}function nr(l){let e,t,n,s=l[179].ip+"",o,i,u=(l[179].error||"Unknown error")+"",a,_,f,p,m,h;function v(){return l[152](l[179])}return{c(){e=d("div"),t=d("span"),n=S("❌ "),o=S(s),i=S(": "),a=S(u),_=b(),f=d("button"),f.textContent="📋 Logs",p=b(),It(t,"color","#fef3c7"),c(f,"class","log-btn svelte-1xqclu"),c(e,"class","server-link-row svelte-1xqclu")},m(g,C){w(g,e,C),r(e,t),r(t,n),r(t,o),r(t,i),r(t,a),r(e,_),r(e,f),r(e,p),m||(h=te(f,"click",v),m=!0)},p(g,C){l=g,C[1]&8192&&s!==(s=l[179].ip+"")&&I(o,s),C[1]&8192&&u!==(u=(l[179].error||"Unknown error")+"")&&I(a,u)},d(g){g&&k(e),m=!1,h()}}}function bd(l){let e;function t(o,i){return o[41]||o[43].length>0?cd:ud}let n=t(l),s=n(l);return{c(){s.c(),e=Fe()},m(o,i){s.m(o,i),w(o,e,i)},p(o,i){n===(n=t(o))&&s?s.p(o,i):(s.d(1),s=n(o),s&&(s.c(),s.m(e.parentNode,e)))},d(o){o&&k(e),s.d(o)}}}function sr(l){let e,t,n=(l[179].name||l[179].ip)+"",s,o,i,u=l[179].ip+"",a,_;return{c(){e=d("div"),t=d("span"),s=S(n),o=b(),i=d("span"),a=S(u),_=b(),c(t,"class","server-name svelte-1xqclu"),c(i,"class","server-ip svelte-1xqclu"),c(e,"class","cleanup-server-item svelte-1xqclu")},m(f,p){w(f,e,p),r(e,t),r(t,s),r(e,o),r(e,i),r(i,a),r(e,_)},p(f,p){p[1]&32768&&n!==(n=(f[179].name||f[179].ip)+"")&&I(s,n),p[1]&32768&&u!==(u=f[179].ip+"")&&I(a,u)},d(f){f&&k(e)}}}function kd(l){let e,t,n,s,o=l[46].length+[...l[8]].length+"",i,u,a,_=[...l[8]].length+"",f,p,m,h,v,g,C=pe(l[46]),y=[];for(let $=0;$<C.length;$+=1)y[$]=sr(Fo(l,C,$));return{c(){e=d("div"),t=d("p"),n=S("This service is currently running on "),s=d("strong"),i=S(o),u=S(` servers.
      You're deploying to `),a=d("strong"),f=S(_),p=S(" servers."),m=b(),h=d("p"),h.textContent="Stop containers on the following servers?",v=b(),g=d("div");for(let $=0;$<y.length;$+=1)y[$].c();c(t,"class","svelte-1xqclu"),c(h,"class","svelte-1xqclu"),c(g,"class","cleanup-server-list svelte-1xqclu"),c(e,"class","cleanup-confirm-content svelte-1xqclu")},m($,q){w($,e,q),r(e,t),r(t,n),r(t,s),r(s,i),r(t,u),r(t,a),r(a,f),r(t,p),r(e,m),r(e,h),r(e,v),r(e,g);for(let z=0;z<y.length;z+=1)y[z]&&y[z].m(g,null)},p($,q){if(q[0]&256|q[1]&32768&&o!==(o=$[46].length+[...$[8]].length+"")&&I(i,o),q[0]&256&&_!==(_=[...$[8]].length+"")&&I(f,_),q[1]&32768){C=pe($[46]);let z;for(z=0;z<C.length;z+=1){const D=Fo($,C,z);y[z]?y[z].p(D,q):(y[z]=sr(D),y[z].c(),y[z].m(g,null))}for(;z<y.length;z+=1)y[z].d(1);y.length=C.length}},d($){$&&k(e),Le(y,$)}}}function wd(l){let e;return{c(){e=S("Proceed")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function $d(l){let e;return{c(){e=S("Cancel")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function yd(l){let e,t,n,s,o;return t=new Ue({props:{variant:"primary",$$slots:{default:[wd]},$$scope:{ctx:l}}}),t.$on("click",l[82]),s=new Ue({props:{variant:"ghost",$$slots:{default:[$d]},$$scope:{ctx:l}}}),s.$on("click",l[154]),{c(){e=d("div"),de(t.$$.fragment),n=b(),de(s.$$.fragment),c(e,"slot","footer")},m(i,u){w(i,e,u),fe(t,e,null),r(e,n),fe(s,e,null),o=!0},p(i,u){const a={};u[7]&4&&(a.$$scope={dirty:u,ctx:i}),t.$set(a);const _={};u[7]&4&&(_.$$scope={dirty:u,ctx:i}),s.$set(_)},i(i){o||(L(t.$$.fragment,i),L(s.$$.fragment,i),o=!0)},o(i){R(t.$$.fragment,i),R(s.$$.fragment,i),o=!1},d(i){i&&k(e),_e(t),_e(s)}}}function Cd(l){let e,t,n,s,o,i,u,a,_;n=new ft({props:{title:"🚀 Deploy",$$slots:{default:[ad]},$$scope:{ctx:l}}}),o=new ft({props:{title:"📋 Deployment Progress",$$slots:{default:[bd]},$$scope:{ctx:l}}});function f(m){l[155](m)}let p={title:"⚠️ Service Already Running",width:"500px",$$slots:{footer:[yd],default:[kd]},$$scope:{ctx:l}};return l[45]!==void 0&&(p.open=l[45]),u=new ol({props:p}),Ft.push(()=>pl(u,"open",f)),u.$on("close",l[156]),{c(){e=d("div"),t=d("div"),de(n.$$.fragment),s=b(),de(o.$$.fragment),i=b(),de(u.$$.fragment),c(t,"class","deploy-grid svelte-1xqclu"),c(e,"class","deploy-page svelte-1xqclu")},m(m,h){w(m,e,h),r(e,t),fe(n,t,null),r(t,s),fe(o,t,null),w(m,i,h),fe(u,m,h),_=!0},p(m,h){const v={};h[0]&2147483647|h[1]&536741887|h[7]&4&&(v.$$scope={dirty:h,ctx:m}),n.$set(v);const g={};h[0]&41|h[1]&15360|h[7]&4&&(g.$$scope={dirty:h,ctx:m}),o.$set(g);const C={};h[0]&256|h[1]&114688|h[7]&4&&(C.$$scope={dirty:h,ctx:m}),!a&&h[1]&16384&&(a=!0,C.open=m[45],dl(()=>a=!1)),u.$set(C)},i(m){_||(L(n.$$.fragment,m),L(o.$$.fragment,m),L(u.$$.fragment,m),_=!0)},o(m){R(n.$$.fragment,m),R(o.$$.fragment,m),R(u.$$.fragment,m),_=!1},d(m){m&&(k(e),k(i)),_e(n),_e(o),_e(u,m)}}}function qd(l){l.preventDefault(),l.stopPropagation()}async function ju(l,e){const t=[],n=l.createReader();let s=[],o;do o=await new Promise((i,u)=>{n.readEntries(i,u)}),s=s.concat(o);while(o.length>0);for(const i of s){const u=e?`${e}/${i.name}`:i.name;if(i.isFile){const a=await new Promise((_,f)=>{i.file(_,f)});a._relativePath=u,t.push(a)}else if(i.isDirectory){const a=await ju(i,u);t.push(...a)}}return t}function or(l){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>e(new Uint8Array(n.result)),n.onerror=t,n.readAsArrayBuffer(l)})}function ir(l){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>e(n.result),n.onerror=t,n.readAsText(l)})}function rr(l){if(!l)return"";const e=/(https?:\/\/[^\s]+)/g;return l.replace(e,'<a href="$1" target="_blank" class="log-link">$1</a>')}const ar=l=>!l.success,ur=l=>l,Sd=l=>l.isMain,cr=l=>l.isMain,fr=l=>l.isMain,_r=l=>l.trim(),dr=l=>l.success,pr=l=>!l.success;function Td(l,e,t){let n,s,o;_t(l,w1,oe=>t(11,s=oe)),_t(l,pn,oe=>t(85,o=oe));let i="service";const u=[{value:"stateful",label:"🗄️ Stateful",description:"Database or cache (postgres, redis...)"},{value:"service",label:"🌐 Service",description:"Web app with HTTP port & domain"},{value:"worker",label:"⚙️ Worker",description:"Background job processor"},{value:"scheduled",label:"⏰ Scheduled",description:"Cron job / periodic task"}];let a="redis",_=[{value:"redis",label:"⚡ Redis",port:6379,image:"redis:7-alpine",description:"In-memory cache & pub/sub"},{value:"postgres",label:"🐘 PostgreSQL",port:5432,image:"postgres:16-alpine",description:"Relational database"},{value:"mysql",label:"🐬 MySQL",port:3306,image:"mysql:8",description:"Relational database"},{value:"mongo",label:"🍃 MongoDB",port:27017,image:"mongo:7",description:"Document database"},{value:"opensearch",label:"🔍 OpenSearch",port:9200,image:"opensearchproject/opensearch:2",description:"Search & analytics"},{value:"qdrant",label:"🧠 Qdrant",port:6333,image:"qdrant/qdrant:latest",description:"Vector database for AI"}],f="",p="",m="",h="",v="prod",g="",C="code",y=8e3,$="",q="",z="main",D="",P=[],T="",E="",A=null,M="",O="",J="",W=[],F=null,B=null,N=!0,j=!1,U="",X="",Z=!1,ee="",se="",Q="",G="lon1",H="s-1vcpu-2gb",re=[],V=[],ae=[],le=!1,K=0,me=[],ue=new Set,ie=0,x=null;function Y(oe){const ce=i;t(0,i=oe),ce!==oe&&(t(3,m=""),t(4,h=""),t(5,v="prod"),t(53,Ae="")),oe==="stateful"&&ce!=="stateful"&&ue.size===0&&ie===0&&t(9,ie=1)}let he=!1,ke=[],Ge=null,rt=!0,kt=!0,dt={postgres:!1,redis:!1,mysql:!1,mongo:!1},De=!0,Oe="digitalpixo.com",ve="",Ae="",Me=!1,Ee=["node_modules/","__pycache__/","*.pyc",".git/",".venv/","venv/",".env",".DS_Store",".idea/",".vscode/","dist/","build/",".pytest_cache/",".mypy_cache/"],Ie=Ee.join(`
`),et=!1,lt=!1,nt=!1;const We=[...Ee],st=["dev","test","staging","uat","prod"];kl(()=>{Xt.refresh().catch(()=>{}),dn.refresh().catch(()=>{}),Dt()});let qt=null;async function Dt(){var oe;try{try{const ce=await He("GET","/infra/regions");t(38,re=ce.regions||ce||[])}catch{t(38,re=[{slug:"nyc1",name:"New York 1"},{slug:"nyc3",name:"New York 3"},{slug:"sfo3",name:"San Francisco 3"},{slug:"ams3",name:"Amsterdam 3"},{slug:"sgp1",name:"Singapore 1"},{slug:"lon1",name:"London 1"},{slug:"fra1",name:"Frankfurt 1"}])}try{const ce=await He("GET","/infra/sizes");t(39,V=ce.sizes||ce||[])}catch{t(39,V=[{slug:"s-1vcpu-512mb-10gb",description:"$4/mo - 512MB / 1 vCPU"},{slug:"s-1vcpu-1gb",description:"$6/mo - 1GB / 1 vCPU"},{slug:"s-1vcpu-2gb",description:"$12/mo - 2GB / 1 vCPU"},{slug:"s-2vcpu-2gb",description:"$18/mo - 2GB / 2 vCPU"},{slug:"s-2vcpu-4gb",description:"$24/mo - 4GB / 2 vCPU"},{slug:"s-4vcpu-8gb",description:"$48/mo - 8GB / 4 vCPU"}])}try{const ce=await He("GET","/infra/stateful-types");((oe=ce.types)==null?void 0:oe.length)>0&&t(2,_=ce.types)}catch{console.warn("Using fallback stateful types")}}catch(ce){console.error("Failed to load regions/sizes:",ce)}}async function nl(){var oe;if(!m){ye.warning("Enter app name first");return}t(53,Ae="Loading...");try{const we=await He("GET",`/infra/deploy-configs/${h||""}/${m}/${v}`);Bt(we),t(53,Ae="✓ Loaded"),ye.success("Config loaded")}catch(ce){(oe=ce.message)!=null&&oe.toLowerCase().includes("not found")?(t(53,Ae="No saved config"),ye.info("No saved config found")):(t(53,Ae="Load failed"),ye.error("Failed to load config"))}}async function xe(){try{const ce=await He("GET",`/infra/deploy-configs/${h||""}/${m}/${v}`);Bt(ce),t(53,Ae="✓ Auto-loaded")}catch{t(53,Ae="")}}function Bt(oe){var ce,we;oe.source_type&&t(15,C={folder:"code",git:"git",image:"image"}[oe.source_type]||oe.source_type),oe.git_url&&t(18,q=oe.git_url),oe.git_branch&&t(19,z=oe.git_branch),oe.port&&t(16,y=oe.port),oe.env_vars&&Object.keys(oe.env_vars).length>0&&t(17,$=Object.entries(oe.env_vars).map(([Pe,Be])=>`${Pe}=${Be}`).join(`
`)),((ce=oe.exclude_patterns)==null?void 0:ce.length)>0&&(Ee=oe.exclude_patterns,t(55,Ie=Ee.join(`
`))),((we=oe.server_ips)==null?void 0:we.length)>0&&t(8,ue=new Set(oe.server_ips))}async function Pt(){if(!m){ye.warning("Enter app name first");return}if(!h){ye.warning("Enter project name first");return}t(53,Ae="Saving...");const oe={};for(const Pe of $.split(`
`)){const Be=Pe.trim();if(Be&&Be.includes("=")){const[gt,...it]=Be.split("=");oe[gt.trim()]=it.join("=").trim()}}const ce=Ie.split(`
`).map(Pe=>Pe.trim()).filter(Boolean),we={project_name:h,service_name:m,env:v,source_type:C==="code"?"folder":C,git_url:q||null,git_branch:z||"main",exclude_patterns:ce.length>0?ce:We,port:y,env_vars:oe,server_ips:Array.from(ue)};try{await He("POST","/infra/deploy-configs",we),t(53,Ae="✓ Saved"),ye.success("Config saved")}catch{t(53,Ae="Save failed"),ye.error("Failed to save config")}}function Ht(){t(54,Me=!Me),Me||(Ee=Ie.split(`
`).map(oe=>oe.trim()).filter(Boolean))}function at(){Ee=[...We],t(55,Ie=We.join(`
`)),ye.info("Reset to default patterns")}function pt(oe){for(const ce of Ee)if(ce.endsWith("/")){const we=ce.slice(0,-1);if(oe.startsWith(we+"/")||oe.includes("/"+we+"/"))return!0}else if(ce.startsWith("*")){const we=ce.slice(1);if(oe.endsWith(we))return!0}else if(oe===ce||oe.endsWith("/"+ce))return!0;return!1}function ge(oe){ue.has(oe)?ue.delete(oe):ue.add(oe),t(8,ue),t(0,i),t(9,ie)}function Ne(oe){oe?(ae||[]).forEach(ce=>{var Pe,Be,gt;const we=ce.ip||((gt=(Be=(Pe=ce.networks)==null?void 0:Pe.v4)==null?void 0:Be[0])==null?void 0:gt.ip_address);we&&ue.add(we)}):ue.clear(),t(8,ue),t(0,i),t(9,ie)}function ut(oe){ue.clear(),ue.add(oe),t(8,ue),t(0,i),t(9,ie),(i==="stateful"||i==="scheduled")&&t(9,ie=0)}function Gt(){B=async(oe,ce)=>{await wl(oe,ce,W.length===0)},F==null||F.click()}async function Vt(oe){const ce=Array.from(oe.target.files||[]);if(!ce.length||!B)return;console.log(`[Deploy] Browser returned ${ce.length} files`),ce.length<50?console.log("[Deploy] Files:",ce.map(Be=>Be.webkitRelativePath)):console.log("[Deploy] First 20 files:",ce.slice(0,20).map(Be=>Be.webkitRelativePath));const Pe=ce[0].webkitRelativePath.split("/")[0];await B(ce,Pe),B=null,oe.target.value=""}function Je(oe){oe.preventDefault(),oe.stopPropagation(),t(31,j=!0)}function Wt(oe){oe.preventDefault(),oe.stopPropagation(),oe.currentTarget.contains(oe.relatedTarget)||t(31,j=!1)}async function vl(oe){var we,Pe;oe.preventDefault(),oe.stopPropagation(),t(31,j=!1);const ce=(we=oe.dataTransfer)==null?void 0:we.items;if(!(!ce||ce.length===0)){for(const Be of ce)if(Be.kind==="file"){const gt=(Pe=Be.webkitGetAsEntry)==null?void 0:Pe.call(Be);gt!=null&&gt.isDirectory&&await rl(gt)}}}async function rl(oe){const ce=oe.name;if(W.some(Be=>Be.name===ce)){ye.error(`Folder "${ce}" is already added`);return}ye.info(`Reading ${ce}/...`);const we=await ju(oe,"");if(we.length===0){ye.error(`No files found in ${ce}/`);return}const Pe=W.length===0;await hl(we,ce,Pe)}async function hl(oe,ce,we){we&&W.some(it=>it.isMain)&&t(28,W=W.map(it=>({...it,isMain:!1})));const Pe=[];let Be=null,gt=0;for(const it of oe){const el=it._relativePath||it.name;if(pt(el)){gt++;continue}const Cl=await or(it);Pe.push({path:el,content:Cl}),we&&el==="Dockerfile"&&(Be=await ir(it))}console.log(`[Deploy] Dropped ${ce}/: ${oe.length} total, ${gt} skipped, ${Pe.length} included`),t(28,W=[...W,{name:ce,fileContents:Pe,isMain:we,fileCount:Pe.length}]),al(),W.some(it=>it.isMain)&&await $e(Be),N&&h&&m&&Ye(),ye.success(`Added ${ce}/ (${Pe.length} files)`)}async function wl(oe,ce,we){if(W.some(it=>it.name===ce)){ye.error(`Folder "${ce}" is already added`);return}we&&W.some(it=>it.isMain)&&t(28,W=W.map(it=>({...it,isMain:!1})));const Pe=[];let Be=null,gt=0;for(const it of oe){const el=it.webkitRelativePath.replace(`${ce}/`,"");if(pt(el)){gt++;continue}const Cl=await or(it);Pe.push({path:el,content:Cl}),we&&el==="Dockerfile"&&(Be=await ir(it))}console.log(`[Deploy] Processed ${ce}/: ${oe.length} total, ${gt} skipped, ${Pe.length} included`),t(28,W=[...W,{name:ce,fileContents:Pe,isMain:we,fileCount:Pe.length}]),al(),W.some(it=>it.isMain)&&await $e(Be),N&&h&&m&&Ye(),ye.success(`Added ${ce}/ (${Pe.length} files)`)}function Jt(oe){t(28,W=W.filter((ce,we)=>we!==oe)),al(),W.length>0&&!W.some(ce=>ce.isMain)&&t(28,W=W.map((ce,we)=>({...ce,isMain:we===0})))}async function xt(oe){t(28,W=W.map((ce,we)=>({...ce,isMain:we===oe}))),await $e()}function al(){const oe=W.some(ce=>ce.isMain);W.length&&oe&&qe()}async function qe(){if(!W.length)return;const{default:oe}=await Oo(async()=>{const{default:we}=await import("https://cdn.jsdelivr.net/npm/jszip@3.10.1/+esm");return{default:we}},[]),ce=new oe;for(const we of W)for(const{path:Pe,content:Be}of we.fileContents)ce.file(`${we.name}/${Pe}`,Be);W.length>1&&U&&ce.file("Dockerfile",U),await ce.generateAsync({type:"blob"})}async function $e(oe=null){t(34,Z=!0),oe?(t(32,U=oe),t(33,X="from folder")):(t(32,U=await Ke()),t(33,X=W.length>1?"multi-folder":"generated")),Yt()}async function Ke(){const oe=W.find(Pe=>Pe.isMain);if(!oe)return"";const ce=W.filter(Pe=>!Pe.isMain).map(Pe=>Pe.name),we=[];for(const Pe of W)for(const Be of Pe.fileContents)we.push(`${Pe.name}/${Be.path}`);try{return(await He("POST","/infra/dockerfile/generate",{files:we,main_folder:oe.name,dep_folders:ce,port:parseInt(y)||8e3})).dockerfile||""}catch(Pe){return console.error("[Deploy] Failed to generate Dockerfile via API:",Pe),Ct(oe)}}function Ct(oe){const ce=oe.fileContents.some(Be=>Be.path==="requirements.txt"),we=W.filter(Be=>!Be.isMain);let Pe=`FROM python:3.11-slim

WORKDIR /app

`;for(const Be of we)Pe+=`COPY ${Be.name}/ ./${Be.name}/
`;return Pe+=`COPY ${oe.name}/ ./${oe.name}/

`,ce&&(Pe+=`RUN pip install --no-cache-dir -r ${oe.name}/requirements.txt

`),Pe+=`EXPOSE ${y}

`,Pe+=`CMD ["uvicorn", "${oe.name}.main:app", "--host", "0.0.0.0", "--port", "${y}"]
`,Pe}function Yt(){const oe=U.match(/^FROM\s+(\S+)/m),ce=U.match(/^CMD\s+(.+)$/m);t(35,ee=oe?oe[1]:""),t(36,se=ce?ce[1]:"")}function Ut(oe){U&&(oe==="from"&&ee?t(32,U=U.replace(/^FROM\s+\S+/m,`FROM ${ee}`)):oe==="cmd"&&se&&(U.includes("CMD ")?t(32,U=U.replace(/^CMD\s+.+$/m,`CMD ${se}`)):t(32,U+=`
CMD ${se}
`)),t(33,X="edited"))}function Ye(){if(!h||!m)return;const oe=`build_folders_${h}_${m}`,ce=W.map(we=>({name:we.name,isMain:we.isMain}));localStorage.setItem(oe,JSON.stringify(ce))}function St(oe){if(!T.trim()){ye.error("Please enter a folder path");return}const ce=T.trim();if(oe&&P.some(we=>we.isMain)&&t(21,P=P.map(we=>({...we,isMain:!1}))),P.some(we=>we.path===ce)){ye.error("This folder is already added");return}t(21,P=[...P,{path:ce,isMain:oe}]),t(22,T="")}function $l(oe){t(21,P=P.filter((ce,we)=>we!==oe))}function Qt(oe){var we;const ce=(we=oe.target.files)==null?void 0:we[0];if(ce){if(!ce.name.endsWith(".tar")&&!ce.name.endsWith(".tar.gz")){ye.error("Only .tar or .tar.gz image files are supported");return}t(24,A=ce),ye.success(`Selected: ${ce.name}`)}}function Lt(oe,ce="info"){t(43,me=[...me,{message:oe,type:ce,time:new Date}])}async function mt(oe){if(oe.preventDefault(),qt&&(clearTimeout(qt),t(84,qt=null)),!m){ye.error("Service name is required");return}if(!h){ye.error("Project name is required");return}if(i!=="stateful"){if(C==="code"&&!W.some(we=>we.isMain)){ye.error("Add a main folder with your code");return}if(C==="code"){const we=W.find(Pe=>Pe.isMain);if(!(we!=null&&we.fileContents)||we.fileContents.length===0){ye.error("Please re-upload your folders. File contents are not loaded from previous sessions.");return}}if(C==="git"&&!q){ye.error("Git URL is required");return}if(C==="image"&&!E){ye.error("Docker image URL is required");return}if(C==="image_file"&&!A){ye.error("Upload a Docker image file (.tar)");return}if(C==="image_file"&&!M){ye.error("Image name is required for local images");return}}if(i==="scheduled"&&!p){ye.error("Cron schedule is required for scheduled jobs");return}if(ue.size===0&&ie===0){ye.error("Select at least one server or add new servers");return}if(ie>0&&!Q){ye.error("Select a snapshot for new servers");return}if(!Ot()){ye.error("Configure your DO Token in Settings first");return}if(i==="service"&&De&&!Tn()){ye.error("Configure your Cloudflare Token in Settings first (required for domain setup)");return}const ce=[...ue];if(h&&m&&v)try{const we=new URLSearchParams({project:h,environment:v,service_name:m}),Pe=await He("GET",`/infra/services/state?${we}`);if(Pe.server_ips&&Pe.server_ips.length>0){const Be=Pe.servers.filter(gt=>!ce.includes(gt.ip));if(Be.length>0){t(46,ke=Be),t(47,Ge=()=>Fl(oe)),t(45,he=!0);return}}}catch(we){console.log("Service state check:",we.message||we)}await Fl()}async function Ol(){t(45,he=!1);const oe=`${h}_${m}_${v}`.replace(/[^a-zA-Z0-9_]/g,"_");if(ke.length>0){const ce=ke.map(we=>we.ip);Lt(`Stopping containers on ${ke.length} server(s)...`);try{const we=await He("POST",`/infra/services/cleanup?do_token=${Ot()}`,{server_ips:ce,container_name:oe});Lt(`Cleanup complete: ${we.cleaned} stopped, ${we.failed} failed`)}catch(we){Lt(`Cleanup warning: ${we.message||we}`,"warning")}}t(46,ke=[]),Ge&&(await Ge(),t(47,Ge=null))}async function Fl(oe){t(41,le=!0),t(42,K=0),t(43,me=[]),t(44,x=null);try{Lt(`Starting ${i} deployment of ${m}...`),t(42,K=10);let ce=C,we=E,Pe=y;if(i==="stateful"){ce="image";const Ze=_.find(fl=>fl.value===a);we=(Ze==null?void 0:Ze.image)||`${a}:latest`,Pe=(Ze==null?void 0:Ze.port)||5432}let Be=null;if(i!=="stateful"&&C==="code"){Lt("Creating code archive..."),console.log("[Deploy] buildFolders:",W.map(Zt=>{var Yl;return{name:Zt.name,isMain:Zt.isMain,fileCount:Zt.fileCount,hasContents:((Yl=Zt.fileContents)==null?void 0:Yl.length)||0}}));const Ze=W.find(Zt=>Zt.isMain);if(!(Ze!=null&&Ze.fileContents)||Ze.fileContents.length===0)throw new Error("No file contents in main folder. Please re-upload your folders.");const{default:fl}=await Oo(async()=>{const{default:Zt}=await import("https://cdn.jsdelivr.net/npm/jszip@3.10.1/+esm");return{default:Zt}},[]),Bl=new fl;let Ul=0;for(const Zt of W){const Yl=Zt.fileContents||[];for(const{path:Mc,content:jc}of Yl)Bl.file(`${Zt.name}/${Mc}`,jc),Ul++}if(console.log("[Deploy] Total files in zip:",Ul),Ul===0)throw new Error("No files to deploy. Please re-upload your folders.");W.length>1&&U&&Bl.file("Dockerfile",U),Be=await Bl.generateAsync({type:"blob"})}Lt("Sending deployment request... server provisioning may take 30-60s"),t(42,K=20);const gt=i==="service"&&De,it=Ot(),el=Tn(),Cl=new URLSearchParams({do_token:it,snapshot_id:Q||"",new_server_count:String(ie),region:G,size:H,project:h||"",environment:v,setup_domain:String(gt),base_domain:Oe,domain_aliases:JSON.stringify(ve.split(",").map(Ze=>Ze.trim()).filter(Boolean))});gt&&el&&Cl.set("cf_token",el);const tt=new FormData;tt.append("name",m),tt.append("port",String(Pe)),tt.append("source_type",ce),tt.append("env_vars",$),tt.append("tags",g),tt.append("server_ips",JSON.stringify(Array.from(ue))),tt.append("depends_on",JSON.stringify(Object.entries(dt).filter(([Ze,fl])=>fl).map(([Ze])=>Ze))),tt.append("exclude_patterns",JSON.stringify(Ee)),tt.append("deploy_type",i),i==="stateful"?(tt.append("is_stateful","true"),tt.append("persist_data","true"),tt.append("image",we)):(tt.append("is_stateful","false"),tt.append("persist_data",String(kt))),(i==="worker"||i==="scheduled")&&f&&tt.append("custom_cmd",f),i==="scheduled"&&p&&tt.append("cron_schedule",p),U&&tt.append("dockerfile",U),q&&tt.append("git_url",q),z&&tt.append("git_branch",z),D&&tt.append("git_token",D),P.length&&tt.append("git_folders",JSON.stringify(P)),we&&i!=="stateful"&&tt.append("image",we),Be&&tt.append("code_tar",Be,"code.zip"),C==="image_file"&&(A&&tt.append("image_tar",A),M&&tt.append("image",M),O&&tt.append("container_port",String(O)),J&&tt.append("host_port",String(J))),await h1(`/infra/deploy/multipart?${Cl}`,tt,Ze=>{var fl;if(Ze.type==="log")Lt(Ze.message);else if(Ze.type==="warning")Lt(Ze.message||((fl=Ze.data)==null?void 0:fl.message),"warning");else if(Ze.type==="progress")t(42,K=Math.min(20+(Ze.percent||0)*.8,95));else if(Ze.type==="done"){if(t(44,x=Ze),t(42,K=100),!Ze.success){const Bl=Ze.failed_count||0,Ul=Ze.error||`Deployment failed: ${Bl} server(s) failed`;throw new Error(Ul)}}else if(Ze.type==="error")throw new Error(Ze.message||"Deployment failed")}),Lt("✅ Deployment complete!","success"),ye.success("Deployment successful!"),await Xt.refresh().catch(()=>{})}catch(ce){let we="Unknown error";if(typeof ce=="string")we=ce;else if(ce!=null&&ce.message)we=ce.message;else if(ce!=null&&ce.detail)we=ce.detail;else if(ce!=null&&ce.error)we=ce.error;else try{we=JSON.stringify(ce)}catch{we=String(ce)}Lt(`❌ Error: ${we}`,"error"),ye.error(we)}finally{t(41,le=!1),t(9,ie=0)}}const ul=[[],[]],Tt=oe=>Y(oe.value);function cl(){h=this.value,t(4,h)}function zt(){m=this.value,t(3,m),t(0,i),t(2,_),t(1,a)}function vt(){v=ct(this),t(5,v),t(62,st)}function ht(){a=this.__value,t(1,a)}const vn=oe=>oe.value===a;function Wl(){Ie=this.value,t(55,Ie)}function hn(){g=this.value,t(14,g)}function Jl(){C=this.__value,t(15,C)}function gn(){C=this.__value,t(15,C)}function Kl(){C=this.__value,t(15,C)}function Se(){C=this.__value,t(15,C)}function Re(oe){Ft[oe?"unshift":"push"](()=>{F=oe,t(29,F)})}const Mt=oe=>xt(oe),yl=oe=>Jt(oe);function Il(){N=this.checked,t(30,N)}function ot(){U=this.value,t(32,U)}function gl(){ee=ct(this),t(35,ee)}const Nu=()=>Ut("from");function Au(){se=this.value,t(36,se)}const Ru=()=>Ut("cmd");function Ou(){q=this.value,t(18,q)}function Fu(){z=this.value,t(19,z)}const Iu=oe=>$l(oe);function Bu(){T=this.value,t(22,T)}const Uu=()=>St(!0),Hu=()=>St(!1);function Gu(){D=this.value,t(20,D)}function Vu(){E=this.value,t(23,E)}function Wu(){M=this.value,t(25,M)}function Ju(){O=Kt(this.value),t(26,O)}function Ku(){J=Kt(this.value),t(27,J)}function Yu(){y=Kt(this.value),t(16,y)}function Qu(){f=this.value,t(12,f)}function Zu(){p=this.value,t(13,p)}const Xu=()=>t(13,p="* * * * *"),xu=()=>t(13,p="0 * * * *"),ec=()=>t(13,p="0 0 * * *"),tc=()=>t(13,p="0 0 * * 0"),lc=()=>t(56,et=!et);function nc(){$=this.value,t(17,$)}const sc=()=>t(57,lt=!lt);function oc(){rt=this.checked,t(48,rt)}function ic(){dt.postgres=this.checked,t(50,dt)}function rc(){dt.redis=this.checked,t(50,dt)}function ac(){dt.mysql=this.checked,t(50,dt)}function uc(){dt.mongo=this.checked,t(50,dt)}function cc(){kt=this.checked,t(49,kt)}function fc(){De=this.checked,t(51,De)}function _c(){Oe=this.value,t(10,Oe)}function dc(){ve=this.value,t(52,ve)}const pc=()=>Ne(!0),mc=()=>Ne(!1),vc=oe=>ut(oe),hc=oe=>ge(oe),gc=()=>t(58,nt=!nt);function bc(){Q=ct(this),t(6,Q),t(11,s)}function kc(){G=ct(this),t(7,G),t(38,re)}function wc(){H=ct(this),t(37,H),t(39,V)}const $c=oe=>t(9,ie=oe.target.checked?1:0),yc=()=>t(9,ie=Math.max(0,ie-1));function Cc(){ie=Kt(this.value),t(9,ie),t(0,i)}const qc=()=>t(9,ie=Math.min(10,ie+1)),Sc=()=>{navigator.clipboard.writeText(x.connection_url),ye.success("Copied to clipboard!")},Tc=oe=>window.open(`/api/v1/infra/agent/${oe.droplet_id||oe.ip}/containers/${oe.container_name||x.container_name||m}/logs?do_token=${Ot()}`,"_blank"),zc=oe=>window.open(`/api/v1/infra/agent/${oe.droplet_id||oe.ip}/containers/${oe.container_name||x.container_name||m}/logs?do_token=${Ot()}`,"_blank"),Dc=oe=>window.open(`/api/v1/infra/agent/${oe.droplet_id||oe.ip}/containers/${oe.container_name||x.container_name||m}/logs?do_token=${Ot()}`,"_blank"),Ec=()=>{t(45,he=!1),t(47,Ge=null)};function Pc(oe){he=oe,t(45,he)}const Lc=()=>{t(45,he=!1),t(47,Ge=null)};return l.$$.update=()=>{if(l.$$.dirty[0]&15&&i==="stateful"&&(!m||_.some(oe=>oe.value===m))&&t(3,m=a),l.$$.dirty[0]&128|l.$$.dirty[2]&8388608&&t(40,ae=(o||[]).filter(oe=>!G||oe.region===G)),l.$$.dirty[0]&257&&(i==="stateful"||i==="scheduled")&&ue.size>1){const oe=[...ue][0];ue.clear(),oe&&ue.add(oe),t(8,ue),t(0,i),t(9,ie)}if(l.$$.dirty[0]&513&&(i==="stateful"||i==="scheduled")&&ie>1&&t(9,ie=1),l.$$.dirty[0]&769&&(i==="stateful"||i==="scheduled")&&ie>0&&ue.size>0&&(ue.clear(),t(8,ue),t(0,i),t(9,ie)),l.$$.dirty[0]&1080&&t(59,n=m&&h&&v?`${m}-${h}-${v}.${Oe}`:""),l.$$.dirty[0]&25|l.$$.dirty[2]&4194304&&m&&h&&i!=="stateful"&&(qt&&clearTimeout(qt),t(84,qt=setTimeout(()=>{xe()},500))),l.$$.dirty[0]&2112&&(s==null?void 0:s.length)>0&&!Q){const oe=s.find(ce=>(ce.name||"").toLowerCase().includes("base"));t(6,Q=(oe==null?void 0:oe.id)||(oe==null?void 0:oe.name)||s[0].id||s[0].name)}},[i,a,_,m,h,v,Q,G,ue,ie,Oe,s,f,p,g,C,y,$,q,z,D,P,T,E,A,M,O,J,W,F,N,j,U,X,Z,ee,se,H,re,V,ae,le,K,me,x,he,ke,Ge,rt,kt,dt,De,ve,Ae,Me,Ie,et,lt,nt,n,u,Y,st,nl,Pt,Ht,at,ge,Ne,ut,Gt,Vt,Je,Wt,vl,Jt,xt,Ut,St,$l,Qt,mt,Ol,Lt,qt,o,Tt,cl,zt,vt,ht,ul,vn,Wl,hn,Jl,gn,Kl,Se,Re,Mt,yl,Il,ot,gl,Nu,Au,Ru,Ou,Fu,Iu,Bu,Uu,Hu,Gu,Vu,Wu,Ju,Ku,Yu,Qu,Zu,Xu,xu,ec,tc,lc,nc,sc,oc,ic,rc,ac,uc,cc,fc,_c,dc,pc,mc,vc,hc,gc,bc,kc,wc,$c,yc,Cc,qc,Sc,Tc,zc,Dc,Ec,Pc,Lc]}class zd extends yt{constructor(e){super(),$t(this,e,Td,Cd,bt,{},null,[-1,-1,-1,-1,-1,-1,-1,-1])}}function mr(l,e,t){const n=l.slice();return n[55]=e[t],n}function vr(l,e,t){const n=l.slice();return n[55]=e[t],n}function hr(l,e,t){const n=l.slice();return n[55]=e[t],n}function gr(l,e,t){const n=l.slice();return n[62]=e[t],n}function br(l,e,t){const n=l.slice();return n[66]=e[t],n}function kr(l,e,t){const n=l.slice();return n[69]=e[t][0],n[70]=e[t][1],n}function Dd(l){const e=l.slice(),t=e[14].config_snapshot;return e[65]=t,e}function wr(l,e,t){const n=l.slice();return n[62]=e[t],n}function $r(l,e,t){const n=l.slice();return n[75]=e[t],n}function yr(l,e,t){const n=l.slice();n[78]=e[t];const s=il(n[78]);return n[79]=s,n}function Cr(l){let e,t,n=sa(l[20])+"",s;return{c(){e=d("span"),t=S("Updated "),s=S(n),c(e,"class","last-updated svelte-cuxyqu")},m(o,i){w(o,e,i),r(e,t),r(e,s)},p(o,i){i[0]&1048576&&n!==(n=sa(o[20])+"")&&I(s,n)},d(o){o&&k(e)}}}function Ed(l){let e;return{c(){e=S("↻ Refresh")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Pd(l){let e,t,n=pe(l[19]),s=[];for(let i=0;i<n.length;i+=1)s[i]=zr(yr(l,n,i));const o=i=>R(s[i],1,1,()=>{s[i]=null});return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=Fe()},m(i,u){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(i,u);w(i,e,u),t=!0},p(i,u){if(u[0]&27787264){n=pe(i[19]);let a;for(a=0;a<n.length;a+=1){const _=yr(i,n,a);s[a]?(s[a].p(_,u),L(s[a],1)):(s[a]=zr(_),s[a].c(),L(s[a],1),s[a].m(e.parentNode,e))}for(Te(),a=n.length;a<s.length;a+=1)o(a);ze()}},i(i){if(!t){for(let u=0;u<n.length;u+=1)L(s[u]);t=!0}},o(i){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)R(s[u]);t=!1},d(i){i&&k(e),Le(s,i)}}}function Ld(l){let e;return{c(){e=d("tr"),e.innerHTML='<td colspan="12" class="empty-cell svelte-cuxyqu">No deployments found</td>',c(e,"class","svelte-cuxyqu")},m(t,n){w(t,e,n)},p:be,i:be,o:be,d(t){t&&k(e)}}}function Md(l){let e;return{c(){e=d("tr"),e.innerHTML='<td colspan="12" class="loading-cell svelte-cuxyqu">Loading deployment history...</td>',c(e,"class","svelte-cuxyqu")},m(t,n){w(t,e,n)},p:be,i:be,o:be,d(t){t&&k(e)}}}function jd(l){let e=(l[78].environment||"-")+"",t;return{c(){t=S(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&524288&&e!==(e=(n[78].environment||"-")+"")&&I(t,e)},d(n){n&&k(t)}}}function Nd(l){let e;return{c(){e=d("span"),e.textContent="-",c(e,"class","version-none svelte-cuxyqu")},m(t,n){w(t,e,n)},p:be,d(t){t&&k(e)}}}function Ad(l){let e,t,n=l[78].version+"",s;return{c(){e=d("span"),t=S("v"),s=S(n),c(e,"class","version-badge svelte-cuxyqu")},m(o,i){w(o,e,i),r(e,t),r(e,s)},p(o,i){i[0]&524288&&n!==(n=o[78].version+"")&&I(s,n)},d(o){o&&k(e)}}}function Rd(l){let e=l[78].is_rollback?"rollback":"deploy",t;return{c(){t=S(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&524288&&e!==(e=n[78].is_rollback?"rollback":"deploy")&&I(t,e)},d(n){n&&k(t)}}}function Od(l){let e=l[79]+"",t;return{c(){t=S(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&524288&&e!==(e=n[79]+"")&&I(t,e)},d(n){n&&k(t)}}}function qr(l){let e,t,n;function s(){return l[34](l[78])}return{c(){e=d("button"),e.textContent="⚙️",c(e,"class","icon-btn svelte-cuxyqu"),c(e,"title","View config")},m(o,i){w(o,e,i),t||(n=te(e,"click",s),t=!0)},p(o,i){l=o},d(o){o&&k(e),t=!1,n()}}}function Sr(l){let e,t,n;function s(){return l[35](l[78])}return{c(){e=d("button"),e.textContent="📋",c(e,"class","icon-btn svelte-cuxyqu"),c(e,"title","View logs")},m(o,i){w(o,e,i),t||(n=te(e,"click",s),t=!0)},p(o,i){l=o},d(o){o&&k(e),t=!1,n()}}}function Tr(l){let e,t,n;function s(){return l[36](l[78])}return{c(){e=d("button"),e.textContent="⏪",c(e,"class","icon-btn rollback-icon-btn svelte-cuxyqu"),c(e,"title","Rollback")},m(o,i){w(o,e,i),t||(n=te(e,"click",s),t=!0)},p(o,i){l=o},d(o){o&&k(e),t=!1,n()}}}function zr(l){let e,t,n,s=(l[78].project||"-")+"",o,i,u,a,_=(l[78].service||l[78].name)+"",f,p,m,h,v,g,C,y,$=tl(l[78].deployed_at||l[78].created_at)+"",q,z,D,P=(l[78].deployed_by||l[78].user||"-")+"",T,E,A,M,O,J,W,F,B,N,j=(l[78].comment||"-")+"",U,X,Z,ee,se,Q,G,H,re;h=new Qe({props:{variant:l[78].environment==="prod"?"purple":l[78].environment==="staging"?"warning":"info",$$slots:{default:[jd]},$$scope:{ctx:l}}});function V(ie,x){return ie[78].version?Ad:Nd}let ae=V(l),le=ae(l);O=new Qe({props:{variant:l[78].is_rollback?"warning":"info",$$slots:{default:[Rd]},$$scope:{ctx:l}}}),F=new Qe({props:{variant:Nl(l[79]),$$slots:{default:[Od]},$$scope:{ctx:l}}});let K=l[78].config_snapshot&&qr(l),me=l[78].has_logs&&Sr(l),ue=l[78].is_current_active&&Tr(l);return{c(){e=d("tr"),t=d("td"),n=d("span"),o=S(s),i=b(),u=d("td"),a=d("span"),f=S(_),p=b(),m=d("td"),de(h.$$.fragment),v=b(),g=d("td"),le.c(),C=b(),y=d("td"),q=S($),z=b(),D=d("td"),T=S(P),A=b(),M=d("td"),de(O.$$.fragment),J=b(),W=d("td"),de(F.$$.fragment),B=b(),N=d("td"),U=S(j),X=b(),Z=d("td"),K&&K.c(),ee=b(),se=d("td"),me&&me.c(),Q=b(),G=d("td"),ue&&ue.c(),H=b(),c(n,"class","project-name svelte-cuxyqu"),c(t,"class","svelte-cuxyqu"),c(a,"class","service-name svelte-cuxyqu"),c(u,"class","svelte-cuxyqu"),c(m,"class","svelte-cuxyqu"),c(g,"class","version-cell svelte-cuxyqu"),c(y,"class","date-cell svelte-cuxyqu"),c(D,"class","by-cell svelte-cuxyqu"),c(D,"title",E=l[78].deployed_by||l[78].user||"-"),c(M,"class","svelte-cuxyqu"),c(W,"class","svelte-cuxyqu"),c(N,"class","comment-cell svelte-cuxyqu"),c(Z,"class","config-cell svelte-cuxyqu"),c(se,"class","logs-cell svelte-cuxyqu"),c(G,"class","rollback-cell svelte-cuxyqu"),c(e,"class","svelte-cuxyqu")},m(ie,x){w(ie,e,x),r(e,t),r(t,n),r(n,o),r(e,i),r(e,u),r(u,a),r(a,f),r(e,p),r(e,m),fe(h,m,null),r(e,v),r(e,g),le.m(g,null),r(e,C),r(e,y),r(y,q),r(e,z),r(e,D),r(D,T),r(e,A),r(e,M),fe(O,M,null),r(e,J),r(e,W),fe(F,W,null),r(e,B),r(e,N),r(N,U),r(e,X),r(e,Z),K&&K.m(Z,null),r(e,ee),r(e,se),me&&me.m(se,null),r(e,Q),r(e,G),ue&&ue.m(G,null),r(e,H),re=!0},p(ie,x){(!re||x[0]&524288)&&s!==(s=(ie[78].project||"-")+"")&&I(o,s),(!re||x[0]&524288)&&_!==(_=(ie[78].service||ie[78].name)+"")&&I(f,_);const Y={};x[0]&524288&&(Y.variant=ie[78].environment==="prod"?"purple":ie[78].environment==="staging"?"warning":"info"),x[0]&524288|x[2]&1048576&&(Y.$$scope={dirty:x,ctx:ie}),h.$set(Y),ae===(ae=V(ie))&&le?le.p(ie,x):(le.d(1),le=ae(ie),le&&(le.c(),le.m(g,null))),(!re||x[0]&524288)&&$!==($=tl(ie[78].deployed_at||ie[78].created_at)+"")&&I(q,$),(!re||x[0]&524288)&&P!==(P=(ie[78].deployed_by||ie[78].user||"-")+"")&&I(T,P),(!re||x[0]&524288&&E!==(E=ie[78].deployed_by||ie[78].user||"-"))&&c(D,"title",E);const he={};x[0]&524288&&(he.variant=ie[78].is_rollback?"warning":"info"),x[0]&524288|x[2]&1048576&&(he.$$scope={dirty:x,ctx:ie}),O.$set(he);const ke={};x[0]&524288&&(ke.variant=Nl(ie[79])),x[0]&524288|x[2]&1048576&&(ke.$$scope={dirty:x,ctx:ie}),F.$set(ke),(!re||x[0]&524288)&&j!==(j=(ie[78].comment||"-")+"")&&I(U,j),ie[78].config_snapshot?K?K.p(ie,x):(K=qr(ie),K.c(),K.m(Z,null)):K&&(K.d(1),K=null),ie[78].has_logs?me?me.p(ie,x):(me=Sr(ie),me.c(),me.m(se,null)):me&&(me.d(1),me=null),ie[78].is_current_active?ue?ue.p(ie,x):(ue=Tr(ie),ue.c(),ue.m(G,null)):ue&&(ue.d(1),ue=null)},i(ie){re||(L(h.$$.fragment,ie),L(O.$$.fragment,ie),L(F.$$.fragment,ie),re=!0)},o(ie){R(h.$$.fragment,ie),R(O.$$.fragment,ie),R(F.$$.fragment,ie),re=!1},d(ie){ie&&k(e),_e(h),le.d(),_e(O),_e(F),K&&K.d(),me&&me.d(),ue&&ue.d()}}}function Fd(l){let e,t,n,s,o,i,u,a;const _=[Md,Ld,Pd],f=[];function p(m,h){return m[0]&&m[19].length===0?0:m[19].length===0?1:2}return i=p(l),u=f[i]=_[i](l),{c(){e=d("div"),t=d("table"),n=d("thead"),n.innerHTML='<tr class="svelte-cuxyqu"><th class="svelte-cuxyqu">Project</th> <th class="svelte-cuxyqu">Service</th> <th class="svelte-cuxyqu">Environment</th> <th class="version-col svelte-cuxyqu">v</th> <th class="svelte-cuxyqu">Deployed</th> <th class="svelte-cuxyqu">By</th> <th class="svelte-cuxyqu">Type</th> <th class="svelte-cuxyqu">Status</th> <th class="svelte-cuxyqu">Comment</th> <th class="config-col svelte-cuxyqu"></th> <th class="logs-col svelte-cuxyqu"></th> <th class="rollback-col svelte-cuxyqu"></th></tr>',s=b(),o=d("tbody"),u.c(),c(t,"class","table svelte-cuxyqu"),c(e,"class","table-container svelte-cuxyqu")},m(m,h){w(m,e,h),r(e,t),r(t,n),r(t,s),r(t,o),f[i].m(o,null),a=!0},p(m,h){let v=i;i=p(m),i===v?f[i].p(m,h):(Te(),R(f[v],1,1,()=>{f[v]=null}),ze(),u=f[i],u?u.p(m,h):(u=f[i]=_[i](m),u.c()),L(u,1),u.m(o,null))},i(m){a||(L(u),a=!0)},o(m){R(u),a=!1},d(m){m&&k(e),f[i].d()}}}function Dr(l){let e,t,n,s=(l[2].service||l[2].name)+"",o,i,u,a=l[2].project+"",_,f,p=l[2].environment+"",m,h,v,g,C,y,$,q=tl(l[2].deployed_at||l[2].created_at)+"",z,D,P,T,E=(l[2].deployed_by||l[2].user||"unknown")+"",A,M,O,J,W,F,B,N,j,U,X=l[2].comment&&Er(l);const Z=[Bd,Id],ee=[];function se(G,H){return G[3].length===0?0:1}B=se(l),N=ee[B]=Z[B](l);let Q=l[6].length>0&&Lr(l);return{c(){e=d("div"),t=d("div"),n=d("div"),o=S(s),i=b(),u=d("div"),_=S(a),f=S(" / "),m=S(p),h=b(),v=d("div"),g=d("label"),g.textContent="📍 Current Deployment",C=b(),y=d("div"),$=d("div"),z=S(q),D=b(),P=d("div"),T=S("by "),A=S(E),M=b(),X&&X.c(),O=b(),J=d("div"),W=d("label"),W.textContent="🎯 Rollback to",F=b(),N.c(),j=b(),Q&&Q.c(),c(n,"class","service-name svelte-cuxyqu"),c(u,"class","service-coords svelte-cuxyqu"),c(t,"class","service-info svelte-cuxyqu"),c(g,"class","svelte-cuxyqu"),c($,"class","deploy-date svelte-cuxyqu"),c(P,"class","deploy-by svelte-cuxyqu"),c(y,"class","deployment-card current svelte-cuxyqu"),c(v,"class","section svelte-cuxyqu"),c(W,"class","svelte-cuxyqu"),c(J,"class","section svelte-cuxyqu"),c(e,"class","rollback-content svelte-cuxyqu")},m(G,H){w(G,e,H),r(e,t),r(t,n),r(n,o),r(t,i),r(t,u),r(u,_),r(u,f),r(u,m),r(e,h),r(e,v),r(v,g),r(v,C),r(v,y),r(y,$),r($,z),r(y,D),r(y,P),r(P,T),r(P,A),r(y,M),X&&X.m(y,null),r(e,O),r(e,J),r(J,W),r(J,F),ee[B].m(J,null),r(e,j),Q&&Q.m(e,null),U=!0},p(G,H){(!U||H[0]&4)&&s!==(s=(G[2].service||G[2].name)+"")&&I(o,s),(!U||H[0]&4)&&a!==(a=G[2].project+"")&&I(_,a),(!U||H[0]&4)&&p!==(p=G[2].environment+"")&&I(m,p),(!U||H[0]&4)&&q!==(q=tl(G[2].deployed_at||G[2].created_at)+"")&&I(z,q),(!U||H[0]&4)&&E!==(E=(G[2].deployed_by||G[2].user||"unknown")+"")&&I(A,E),G[2].comment?X?X.p(G,H):(X=Er(G),X.c(),X.m(y,null)):X&&(X.d(1),X=null);let re=B;B=se(G),B===re?ee[B].p(G,H):(Te(),R(ee[re],1,1,()=>{ee[re]=null}),ze(),N=ee[B],N?N.p(G,H):(N=ee[B]=Z[B](G),N.c()),L(N,1),N.m(J,null)),G[6].length>0?Q?Q.p(G,H):(Q=Lr(G),Q.c(),Q.m(e,null)):Q&&(Q.d(1),Q=null)},i(G){U||(L(N),U=!0)},o(G){R(N),U=!1},d(G){G&&k(e),X&&X.d(),ee[B].d(),Q&&Q.d()}}}function Er(l){let e,t=l[2].comment+"",n;return{c(){e=d("div"),n=S(t),c(e,"class","deploy-comment svelte-cuxyqu")},m(s,o){w(s,e,o),r(e,n)},p(s,o){o[0]&4&&t!==(t=s[2].comment+"")&&I(n,t)},d(s){s&&k(e)}}}function Id(l){let e,t,n=pe(l[3]),s=[];for(let i=0;i<n.length;i+=1)s[i]=Pr($r(l,n,i));const o=i=>R(s[i],1,1,()=>{s[i]=null});return{c(){e=d("div");for(let i=0;i<s.length;i+=1)s[i].c();c(e,"class","deployment-list svelte-cuxyqu")},m(i,u){w(i,e,u);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null);t=!0},p(i,u){if(u[0]&56){n=pe(i[3]);let a;for(a=0;a<n.length;a+=1){const _=$r(i,n,a);s[a]?(s[a].p(_,u),L(s[a],1)):(s[a]=Pr(_),s[a].c(),L(s[a],1),s[a].m(e,null))}for(Te(),a=n.length;a<s.length;a+=1)o(a);ze()}},i(i){if(!t){for(let u=0;u<n.length;u+=1)L(s[u]);t=!0}},o(i){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)R(s[u]);t=!1},d(i){i&&k(e),Le(s,i)}}}function Bd(l){let e;return{c(){e=d("div"),e.textContent="No previous deployments found",c(e,"class","no-deployments svelte-cuxyqu")},m(t,n){w(t,e,n)},p:be,i:be,o:be,d(t){t&&k(e)}}}function Ud(l){let e,t=l[75].id.substring(0,8)+"",n;return{c(){e=d("span"),n=S(t),c(e,"class","version-badge muted svelte-cuxyqu")},m(s,o){w(s,e,o),r(e,n)},p(s,o){o[0]&8&&t!==(t=s[75].id.substring(0,8)+"")&&I(n,t)},d(s){s&&k(e)}}}function Hd(l){let e,t,n=l[75].version+"",s;return{c(){e=d("span"),t=S("v"),s=S(n),c(e,"class","version-badge svelte-cuxyqu")},m(o,i){w(o,e,i),r(e,t),r(e,s)},p(o,i){i[0]&8&&n!==(n=o[75].version+"")&&I(s,n)},d(o){o&&k(e)}}}function Gd(l){let e=il(l[75])+"",t;return{c(){t=S(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&8&&e!==(e=il(n[75])+"")&&I(t,e)},d(n){n&&k(t)}}}function Pr(l){let e,t,n,s=!1,o,i,u,a,_,f=tl(l[75].deployed_at||l[75].created_at)+"",p,m,h,v,g=(l[75].deployed_by||l[75].user||"unknown")+"",C,y,$,q,z,D,P,T;function E(O,J){return O[75].version?Hd:Ud}let A=E(l),M=A(l);return $=new Qe({props:{variant:Nl(il(l[75])),$$slots:{default:[Gd]},$$scope:{ctx:l}}}),D=Pn(l[39][0]),{c(){e=d("label"),t=d("input"),o=b(),i=d("div"),M.c(),u=b(),a=d("div"),_=d("div"),p=S(f),m=b(),h=d("div"),v=S("by "),C=S(g),y=b(),de($.$$.fragment),q=b(),c(t,"type","radio"),t.__value=n=l[75].id,ne(t,t.__value),t.disabled=l[5],c(t,"class","svelte-cuxyqu"),c(i,"class","deploy-version svelte-cuxyqu"),c(_,"class","deploy-date svelte-cuxyqu"),c(h,"class","deploy-by svelte-cuxyqu"),c(a,"class","deploy-info svelte-cuxyqu"),c(e,"class","deployment-option svelte-cuxyqu"),Ce(e,"selected",l[4]===l[75].id),D.p(t)},m(O,J){w(O,e,J),r(e,t),t.checked=t.__value===l[4],r(e,o),r(e,i),M.m(i,null),r(e,u),r(e,a),r(a,_),r(_,p),r(a,m),r(a,h),r(h,v),r(h,C),r(e,y),fe($,e,null),r(e,q),z=!0,P||(T=te(t,"change",l[38]),P=!0)},p(O,J){(!z||J[0]&8&&n!==(n=O[75].id))&&(t.__value=n,ne(t,t.__value),s=!0),(!z||J[0]&32)&&(t.disabled=O[5]),(s||J[0]&24)&&(t.checked=t.__value===O[4]),A===(A=E(O))&&M?M.p(O,J):(M.d(1),M=A(O),M&&(M.c(),M.m(i,null))),(!z||J[0]&8)&&f!==(f=tl(O[75].deployed_at||O[75].created_at)+"")&&I(p,f),(!z||J[0]&8)&&g!==(g=(O[75].deployed_by||O[75].user||"unknown")+"")&&I(C,g);const W={};J[0]&8&&(W.variant=Nl(il(O[75]))),J[0]&8|J[2]&1048576&&(W.$$scope={dirty:J,ctx:O}),$.$set(W),(!z||J[0]&24)&&Ce(e,"selected",O[4]===O[75].id)},i(O){z||(L($.$$.fragment,O),z=!0)},o(O){R($.$$.fragment,O),z=!1},d(O){O&&k(e),M.d(),_e($),D.r(),P=!1,T()}}}function Lr(l){let e,t,n,s,o,i=pe(l[6]),u=[];for(let _=0;_<i.length;_+=1)u[_]=Mr(wr(l,i,_));let a=l[5]&&jr();return{c(){e=d("div"),t=d("label"),t.textContent="📋 Progress",n=b(),s=d("div");for(let _=0;_<u.length;_+=1)u[_].c();o=b(),a&&a.c(),c(t,"class","svelte-cuxyqu"),c(s,"class","rollback-logs svelte-cuxyqu"),c(e,"class","section rollback-logs-section svelte-cuxyqu")},m(_,f){w(_,e,f),r(e,t),r(e,n),r(e,s);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(s,null);r(s,o),a&&a.m(s,null)},p(_,f){if(f[0]&64){i=pe(_[6]);let p;for(p=0;p<i.length;p+=1){const m=wr(_,i,p);u[p]?u[p].p(m,f):(u[p]=Mr(m),u[p].c(),u[p].m(s,o))}for(;p<u.length;p+=1)u[p].d(1);u.length=i.length}_[5]?a||(a=jr(),a.c(),a.m(s,null)):a&&(a.d(1),a=null)},d(_){_&&k(e),Le(u,_),a&&a.d()}}}function Mr(l){let e,t=l[62].message+"",n,s;return{c(){e=d("div"),n=S(t),c(e,"class",s="log-entry log-"+l[62].type+" svelte-cuxyqu")},m(o,i){w(o,e,i),r(e,n)},p(o,i){i[0]&64&&t!==(t=o[62].message+"")&&I(n,t),i[0]&64&&s!==(s="log-entry log-"+o[62].type+" svelte-cuxyqu")&&c(e,"class",s)},d(o){o&&k(e)}}}function jr(l){let e;return{c(){e=d("div"),e.innerHTML='<span class="spinner svelte-cuxyqu">⏳</span> Working...',c(e,"class","log-entry log-info svelte-cuxyqu")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Vd(l){let e,t,n=l[2]&&Dr(l);return{c(){n&&n.c(),e=Fe()},m(s,o){n&&n.m(s,o),w(s,e,o),t=!0},p(s,o){s[2]?n?(n.p(s,o),o[0]&4&&L(n,1)):(n=Dr(s),n.c(),L(n,1),n.m(e.parentNode,e)):n&&(Te(),R(n,1,1,()=>{n=null}),ze())},i(s){t||(L(n),t=!0)},o(s){R(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Wd(l){let e=l[6].length>0?"Close":"Cancel",t;return{c(){t=S(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&64&&e!==(e=n[6].length>0?"Close":"Cancel")&&I(t,e)},d(n){n&&k(t)}}}function Jd(l){let e;return{c(){e=S("⏪ Execute Rollback")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Kd(l){let e;return{c(){e=S("⏳ Rolling back...")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Yd(l){let e;function t(o,i){return o[5]?Kd:Jd}let n=t(l),s=n(l);return{c(){s.c(),e=Fe()},m(o,i){s.m(o,i),w(o,e,i)},p(o,i){n!==(n=t(o))&&(s.d(1),s=n(o),s&&(s.c(),s.m(e.parentNode,e)))},d(o){o&&k(e),s.d(o)}}}function Qd(l){let e,t,n,s,o;return t=new Ue({props:{variant:"ghost",$$slots:{default:[Wd]},$$scope:{ctx:l}}}),t.$on("click",l[37]),s=new Ue({props:{variant:"warning",disabled:!l[4]||l[5],$$slots:{default:[Yd]},$$scope:{ctx:l}}}),s.$on("click",l[25]),{c(){e=d("div"),de(t.$$.fragment),n=b(),de(s.$$.fragment),c(e,"slot","footer")},m(i,u){w(i,e,u),fe(t,e,null),r(e,n),fe(s,e,null),o=!0},p(i,u){const a={};u[0]&64|u[2]&1048576&&(a.$$scope={dirty:u,ctx:i}),t.$set(a);const _={};u[0]&48&&(_.disabled=!i[4]||i[5]),u[0]&32|u[2]&1048576&&(_.$$scope={dirty:u,ctx:i}),s.$set(_)},i(i){o||(L(t.$$.fragment,i),L(s.$$.fragment,i),o=!0)},o(i){R(t.$$.fragment,i),R(s.$$.fragment,i),o=!1},d(i){i&&k(e),_e(t),_e(s)}}}function Nr(l){let e,t,n,s=(l[14].service_name||l[14].service)+"",o,i,u,a=l[14].environment+"",_,f,p=tl(l[14].deployed_at)+"",m,h,v,g,C;const y=[Xd,Zd],$=[];function q(D,P){return D[14].config_snapshot?0:1}function z(D,P){return P===0?Dd(D):D}return v=q(l),g=$[v]=y[v](z(l,v)),{c(){e=d("div"),t=d("div"),n=d("span"),o=S(s),i=b(),u=d("span"),_=S(a),f=S(" • "),m=S(p),h=b(),g.c(),c(n,"class","service-name svelte-cuxyqu"),c(u,"class","meta svelte-cuxyqu"),c(t,"class","config-header-info svelte-cuxyqu"),c(e,"class","config-content svelte-cuxyqu")},m(D,P){w(D,e,P),r(e,t),r(t,n),r(n,o),r(t,i),r(t,u),r(u,_),r(u,f),r(u,m),r(e,h),$[v].m(e,null),C=!0},p(D,P){(!C||P[0]&16384)&&s!==(s=(D[14].service_name||D[14].service)+"")&&I(o,s),(!C||P[0]&16384)&&a!==(a=D[14].environment+"")&&I(_,a),(!C||P[0]&16384)&&p!==(p=tl(D[14].deployed_at)+"")&&I(m,p);let T=v;v=q(D),v===T?$[v].p(z(D,v),P):(Te(),R($[T],1,1,()=>{$[T]=null}),ze(),g=$[v],g?g.p(z(D,v),P):(g=$[v]=y[v](z(D,v)),g.c()),L(g,1),g.m(e,null))},i(D){C||(L(g),C=!0)},o(D){R(g),C=!1},d(D){D&&k(e),$[v].d()}}}function Zd(l){let e;return{c(){e=d("div"),e.textContent="No config snapshot available",c(e,"class","no-config svelte-cuxyqu")},m(t,n){w(t,e,n)},p:be,i:be,o:be,d(t){t&&k(e)}}}function Xd(l){var ae,le;let e,t,n,s,o,i,u=(l[65].source_type||"-")+"",a,_,f,p,m,h,v,g,C=(l[65].port||"-")+"",y,$,q,z,D,P,T,E,A,M,O=l[65].env_vars&&Object.keys(l[65].env_vars).length>0,J,W,F,B=l[65].git_url&&Ar(l),N=l[65].git_branch&&Rr(l),j=l[65].image&&Or(l),U=l[65].container_port&&Fr(l),X=l[65].host_port&&Ir(l),Z=l[65].snapshot_id&&Br(l),ee=l[65].region&&Ur(l),se=l[65].size&&Hr(l),Q=((ae=l[65].server_ips)==null?void 0:ae.length)&&Gr(l),G=l[65].setup_domain&&Vr(),H=l[65].base_domain&&Wr(l),re=O&&Jr(l),V=((le=l[65].tags)==null?void 0:le.length)&&Yr(l);return{c(){e=d("table"),t=d("tbody"),n=d("tr"),s=d("td"),s.textContent="Source Type",o=d("td"),i=d("strong"),a=S(u),_=b(),B&&B.c(),f=b(),N&&N.c(),p=b(),j&&j.c(),m=b(),h=d("tr"),v=d("td"),v.textContent="Port",g=d("td"),y=S(C),$=b(),U&&U.c(),q=b(),X&&X.c(),z=b(),Z&&Z.c(),D=b(),ee&&ee.c(),P=b(),se&&se.c(),T=b(),Q&&Q.c(),E=b(),G&&G.c(),A=b(),H&&H.c(),M=b(),re&&re.c(),J=b(),V&&V.c(),W=Fe(),c(s,"class","label svelte-cuxyqu"),c(o,"class","svelte-cuxyqu"),c(v,"class","label svelte-cuxyqu"),c(g,"class","svelte-cuxyqu"),c(t,"class","svelte-cuxyqu"),c(e,"class","config-table svelte-cuxyqu")},m(K,me){w(K,e,me),r(e,t),r(t,n),r(n,s),r(n,o),r(o,i),r(i,a),r(t,_),B&&B.m(t,null),r(t,f),N&&N.m(t,null),r(t,p),j&&j.m(t,null),r(t,m),r(t,h),r(h,v),r(h,g),r(g,y),r(t,$),U&&U.m(t,null),r(t,q),X&&X.m(t,null),r(t,z),Z&&Z.m(t,null),r(t,D),ee&&ee.m(t,null),r(t,P),se&&se.m(t,null),r(t,T),Q&&Q.m(t,null),r(t,E),G&&G.m(t,null),r(t,A),H&&H.m(t,null),w(K,M,me),re&&re.m(K,me),w(K,J,me),V&&V.m(K,me),w(K,W,me),F=!0},p(K,me){var ue,ie;(!F||me[0]&16384)&&u!==(u=(K[65].source_type||"-")+"")&&I(a,u),K[65].git_url?B?B.p(K,me):(B=Ar(K),B.c(),B.m(t,f)):B&&(B.d(1),B=null),K[65].git_branch?N?N.p(K,me):(N=Rr(K),N.c(),N.m(t,p)):N&&(N.d(1),N=null),K[65].image?j?j.p(K,me):(j=Or(K),j.c(),j.m(t,m)):j&&(j.d(1),j=null),(!F||me[0]&16384)&&C!==(C=(K[65].port||"-")+"")&&I(y,C),K[65].container_port?U?U.p(K,me):(U=Fr(K),U.c(),U.m(t,q)):U&&(U.d(1),U=null),K[65].host_port?X?X.p(K,me):(X=Ir(K),X.c(),X.m(t,z)):X&&(X.d(1),X=null),K[65].snapshot_id?Z?Z.p(K,me):(Z=Br(K),Z.c(),Z.m(t,D)):Z&&(Z.d(1),Z=null),K[65].region?ee?ee.p(K,me):(ee=Ur(K),ee.c(),ee.m(t,P)):ee&&(ee.d(1),ee=null),K[65].size?se?se.p(K,me):(se=Hr(K),se.c(),se.m(t,T)):se&&(se.d(1),se=null),(ue=K[65].server_ips)!=null&&ue.length?Q?Q.p(K,me):(Q=Gr(K),Q.c(),Q.m(t,E)):Q&&(Q.d(1),Q=null),K[65].setup_domain?G||(G=Vr(),G.c(),G.m(t,A)):G&&(G.d(1),G=null),K[65].base_domain?H?H.p(K,me):(H=Wr(K),H.c(),H.m(t,null)):H&&(H.d(1),H=null),me[0]&16384&&(O=K[65].env_vars&&Object.keys(K[65].env_vars).length>0),O?re?re.p(K,me):(re=Jr(K),re.c(),re.m(J.parentNode,J)):re&&(re.d(1),re=null),(ie=K[65].tags)!=null&&ie.length?V?(V.p(K,me),me[0]&16384&&L(V,1)):(V=Yr(K),V.c(),L(V,1),V.m(W.parentNode,W)):V&&(Te(),R(V,1,1,()=>{V=null}),ze())},i(K){F||(L(V),F=!0)},o(K){R(V),F=!1},d(K){K&&(k(e),k(M),k(J),k(W)),B&&B.d(),N&&N.d(),j&&j.d(),U&&U.d(),X&&X.d(),Z&&Z.d(),ee&&ee.d(),se&&se.d(),Q&&Q.d(),G&&G.d(),H&&H.d(),re&&re.d(K),V&&V.d(K)}}}function Ar(l){let e,t,n,s=l[65].git_url+"",o;return{c(){e=d("tr"),t=d("td"),t.textContent="Git URL",n=d("td"),o=S(s),c(t,"class","label svelte-cuxyqu"),c(n,"class","svelte-cuxyqu")},m(i,u){w(i,e,u),r(e,t),r(e,n),r(n,o)},p(i,u){u[0]&16384&&s!==(s=i[65].git_url+"")&&I(o,s)},d(i){i&&k(e)}}}function Rr(l){let e,t,n,s=l[65].git_branch+"",o;return{c(){e=d("tr"),t=d("td"),t.textContent="Git Branch",n=d("td"),o=S(s),c(t,"class","label svelte-cuxyqu"),c(n,"class","svelte-cuxyqu")},m(i,u){w(i,e,u),r(e,t),r(e,n),r(n,o)},p(i,u){u[0]&16384&&s!==(s=i[65].git_branch+"")&&I(o,s)},d(i){i&&k(e)}}}function Or(l){let e,t,n,s=l[65].image+"",o;return{c(){e=d("tr"),t=d("td"),t.textContent="Image",n=d("td"),o=S(s),c(t,"class","label svelte-cuxyqu"),c(n,"class","svelte-cuxyqu")},m(i,u){w(i,e,u),r(e,t),r(e,n),r(n,o)},p(i,u){u[0]&16384&&s!==(s=i[65].image+"")&&I(o,s)},d(i){i&&k(e)}}}function Fr(l){let e,t,n,s=l[65].container_port+"",o;return{c(){e=d("tr"),t=d("td"),t.textContent="Container Port",n=d("td"),o=S(s),c(t,"class","label svelte-cuxyqu"),c(n,"class","svelte-cuxyqu")},m(i,u){w(i,e,u),r(e,t),r(e,n),r(n,o)},p(i,u){u[0]&16384&&s!==(s=i[65].container_port+"")&&I(o,s)},d(i){i&&k(e)}}}function Ir(l){let e,t,n,s=l[65].host_port+"",o;return{c(){e=d("tr"),t=d("td"),t.textContent="Host Port",n=d("td"),o=S(s),c(t,"class","label svelte-cuxyqu"),c(n,"class","svelte-cuxyqu")},m(i,u){w(i,e,u),r(e,t),r(e,n),r(n,o)},p(i,u){u[0]&16384&&s!==(s=i[65].host_port+"")&&I(o,s)},d(i){i&&k(e)}}}function Br(l){let e,t,n,s=l[65].snapshot_id+"",o;return{c(){e=d("tr"),t=d("td"),t.textContent="Snapshot ID",n=d("td"),o=S(s),c(t,"class","label svelte-cuxyqu"),c(n,"class","svelte-cuxyqu")},m(i,u){w(i,e,u),r(e,t),r(e,n),r(n,o)},p(i,u){u[0]&16384&&s!==(s=i[65].snapshot_id+"")&&I(o,s)},d(i){i&&k(e)}}}function Ur(l){let e,t,n,s=l[65].region+"",o;return{c(){e=d("tr"),t=d("td"),t.textContent="Region",n=d("td"),o=S(s),c(t,"class","label svelte-cuxyqu"),c(n,"class","svelte-cuxyqu")},m(i,u){w(i,e,u),r(e,t),r(e,n),r(n,o)},p(i,u){u[0]&16384&&s!==(s=i[65].region+"")&&I(o,s)},d(i){i&&k(e)}}}function Hr(l){let e,t,n,s=l[65].size+"",o;return{c(){e=d("tr"),t=d("td"),t.textContent="Size",n=d("td"),o=S(s),c(t,"class","label svelte-cuxyqu"),c(n,"class","svelte-cuxyqu")},m(i,u){w(i,e,u),r(e,t),r(e,n),r(n,o)},p(i,u){u[0]&16384&&s!==(s=i[65].size+"")&&I(o,s)},d(i){i&&k(e)}}}function Gr(l){let e,t,n,s=l[65].server_ips.join(", ")+"",o;return{c(){e=d("tr"),t=d("td"),t.textContent="Servers",n=d("td"),o=S(s),c(t,"class","label svelte-cuxyqu"),c(n,"class","svelte-cuxyqu")},m(i,u){w(i,e,u),r(e,t),r(e,n),r(n,o)},p(i,u){u[0]&16384&&s!==(s=i[65].server_ips.join(", ")+"")&&I(o,s)},d(i){i&&k(e)}}}function Vr(l){let e;return{c(){e=d("tr"),e.innerHTML='<td class="label svelte-cuxyqu">Setup Domain</td><td class="svelte-cuxyqu">Yes</td>'},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Wr(l){let e,t,n,s=l[65].base_domain+"",o;return{c(){e=d("tr"),t=d("td"),t.textContent="Base Domain",n=d("td"),o=S(s),c(t,"class","label svelte-cuxyqu"),c(n,"class","svelte-cuxyqu")},m(i,u){w(i,e,u),r(e,t),r(e,n),r(n,o)},p(i,u){u[0]&16384&&s!==(s=i[65].base_domain+"")&&I(o,s)},d(i){i&&k(e)}}}function Jr(l){let e,t,n,s,o=pe(Object.entries(l[65].env_vars)),i=[];for(let u=0;u<o.length;u+=1)i[u]=Kr(kr(l,o,u));return{c(){e=d("div"),t=d("div"),t.textContent="Environment Variables",n=b(),s=d("div");for(let u=0;u<i.length;u+=1)i[u].c();c(t,"class","section-title svelte-cuxyqu"),c(s,"class","env-list svelte-cuxyqu"),c(e,"class","env-section svelte-cuxyqu")},m(u,a){w(u,e,a),r(e,t),r(e,n),r(e,s);for(let _=0;_<i.length;_+=1)i[_]&&i[_].m(s,null)},p(u,a){if(a[0]&16384){o=pe(Object.entries(u[65].env_vars));let _;for(_=0;_<o.length;_+=1){const f=kr(u,o,_);i[_]?i[_].p(f,a):(i[_]=Kr(f),i[_].c(),i[_].m(s,null))}for(;_<i.length;_+=1)i[_].d(1);i.length=o.length}},d(u){u&&k(e),Le(i,u)}}}function Kr(l){let e,t=l[69]+"",n,s,o=(l[70].length>20?l[70].substring(0,20)+"...":l[70])+"",i;return{c(){e=d("div"),n=S(t),s=S("="),i=S(o),c(e,"class","env-item svelte-cuxyqu")},m(u,a){w(u,e,a),r(e,n),r(e,s),r(e,i)},p(u,a){a[0]&16384&&t!==(t=u[69]+"")&&I(n,t),a[0]&16384&&o!==(o=(u[70].length>20?u[70].substring(0,20)+"...":u[70])+"")&&I(i,o)},d(u){u&&k(e)}}}function Yr(l){let e,t,n,s,o,i=pe(l[65].tags),u=[];for(let _=0;_<i.length;_+=1)u[_]=Qr(br(l,i,_));const a=_=>R(u[_],1,1,()=>{u[_]=null});return{c(){e=d("div"),t=d("div"),t.textContent="Tags",n=b(),s=d("div");for(let _=0;_<u.length;_+=1)u[_].c();c(t,"class","section-title svelte-cuxyqu"),c(s,"class","tags-list svelte-cuxyqu"),c(e,"class","tags-section svelte-cuxyqu")},m(_,f){w(_,e,f),r(e,t),r(e,n),r(e,s);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(s,null);o=!0},p(_,f){if(f[0]&16384){i=pe(_[65].tags);let p;for(p=0;p<i.length;p+=1){const m=br(_,i,p);u[p]?(u[p].p(m,f),L(u[p],1)):(u[p]=Qr(m),u[p].c(),L(u[p],1),u[p].m(s,null))}for(Te(),p=i.length;p<u.length;p+=1)a(p);ze()}},i(_){if(!o){for(let f=0;f<i.length;f+=1)L(u[f]);o=!0}},o(_){u=u.filter(Boolean);for(let f=0;f<u.length;f+=1)R(u[f]);o=!1},d(_){_&&k(e),Le(u,_)}}}function xd(l){let e=l[66]+"",t;return{c(){t=S(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&16384&&e!==(e=n[66]+"")&&I(t,e)},d(n){n&&k(t)}}}function Qr(l){let e,t;return e=new Qe({props:{$$slots:{default:[xd]},$$scope:{ctx:l}}}),{c(){de(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[0]&16384|s[2]&1048576&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(L(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function ep(l){let e,t,n=l[14]&&Nr(l);return{c(){n&&n.c(),e=Fe()},m(s,o){n&&n.m(s,o),w(s,e,o),t=!0},p(s,o){s[14]?n?(n.p(s,o),o[0]&16384&&L(n,1)):(n=Nr(s),n.c(),L(n,1),n.m(e.parentNode,e)):n&&(Te(),R(n,1,1,()=>{n=null}),ze())},i(s){t||(L(n),t=!0)},o(s){R(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function tp(l){let e;return{c(){e=S("🚀 Redeploy with this config")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function lp(l){let e;return{c(){e=S("Close")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function np(l){let e,t,n,s,o;return t=new Ue({props:{variant:"primary",$$slots:{default:[tp]},$$scope:{ctx:l}}}),t.$on("click",l[22]),s=new Ue({props:{variant:"ghost",$$slots:{default:[lp]},$$scope:{ctx:l}}}),s.$on("click",l[42]),{c(){e=d("div"),de(t.$$.fragment),n=b(),de(s.$$.fragment),c(e,"slot","footer")},m(i,u){w(i,e,u),fe(t,e,null),r(e,n),fe(s,e,null),o=!0},p(i,u){const a={};u[2]&1048576&&(a.$$scope={dirty:u,ctx:i}),t.$set(a);const _={};u[2]&1048576&&(_.$$scope={dirty:u,ctx:i}),s.$set(_)},i(i){o||(L(t.$$.fragment,i),L(s.$$.fragment,i),o=!0)},o(i){R(t.$$.fragment,i),R(s.$$.fragment,i),o=!1},d(i){i&&k(e),_e(t),_e(s)}}}function Zr(l){let e,t,n,s=(l[16].service||l[16].name)+"",o,i,u,a=l[16].environment+"",_,f,p=tl(l[16].deployed_at)+"",m,h,v,g,C,y,$=l[16].version&&Xr(l);g=new Qe({props:{variant:Nl(il(l[16])),$$slots:{default:[op]},$$scope:{ctx:l}}});function q(P,T){return P[18]?ap:P[17].length===0?rp:ip}let z=q(l),D=z(l);return{c(){e=d("div"),t=d("div"),n=d("span"),o=S(s),i=b(),u=d("span"),_=S(a),f=S(" • "),m=S(p),h=b(),$&&$.c(),v=b(),de(g.$$.fragment),C=b(),D.c(),c(n,"class","service-name svelte-cuxyqu"),c(u,"class","meta svelte-cuxyqu"),c(t,"class","logs-header-info svelte-cuxyqu"),c(e,"class","logs-modal-content svelte-cuxyqu")},m(P,T){w(P,e,T),r(e,t),r(t,n),r(n,o),r(t,i),r(t,u),r(u,_),r(u,f),r(u,m),r(t,h),$&&$.m(t,null),r(t,v),fe(g,t,null),r(e,C),D.m(e,null),y=!0},p(P,T){(!y||T[0]&65536)&&s!==(s=(P[16].service||P[16].name)+"")&&I(o,s),(!y||T[0]&65536)&&a!==(a=P[16].environment+"")&&I(_,a),(!y||T[0]&65536)&&p!==(p=tl(P[16].deployed_at)+"")&&I(m,p),P[16].version?$?($.p(P,T),T[0]&65536&&L($,1)):($=Xr(P),$.c(),L($,1),$.m(t,v)):$&&(Te(),R($,1,1,()=>{$=null}),ze());const E={};T[0]&65536&&(E.variant=Nl(il(P[16]))),T[0]&65536|T[2]&1048576&&(E.$$scope={dirty:T,ctx:P}),g.$set(E),z===(z=q(P))&&D?D.p(P,T):(D.d(1),D=z(P),D&&(D.c(),D.m(e,null)))},i(P){y||(L($),L(g.$$.fragment,P),y=!0)},o(P){R($),R(g.$$.fragment,P),y=!1},d(P){P&&k(e),$&&$.d(),_e(g),D.d()}}}function Xr(l){let e,t;return e=new Qe({props:{variant:"purple",$$slots:{default:[sp]},$$scope:{ctx:l}}}),{c(){de(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[0]&65536|s[2]&1048576&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(L(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function sp(l){let e,t=l[16].version+"",n;return{c(){e=S("v"),n=S(t)},m(s,o){w(s,e,o),w(s,n,o)},p(s,o){o[0]&65536&&t!==(t=s[16].version+"")&&I(n,t)},d(s){s&&(k(e),k(n))}}}function op(l){let e=il(l[16])+"",t;return{c(){t=S(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&65536&&e!==(e=il(n[16])+"")&&I(t,e)},d(n){n&&k(t)}}}function ip(l){let e,t=pe(l[17]),n=[];for(let s=0;s<t.length;s+=1)n[s]=xr(gr(l,t,s));return{c(){e=d("div");for(let s=0;s<n.length;s+=1)n[s].c();c(e,"class","logs-container svelte-cuxyqu")},m(s,o){w(s,e,o);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(s,o){if(o[0]&131072){t=pe(s[17]);let i;for(i=0;i<t.length;i+=1){const u=gr(s,t,i);n[i]?n[i].p(u,o):(n[i]=xr(u),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(s){s&&k(e),Le(n,s)}}}function rp(l){let e;return{c(){e=d("div"),e.textContent="No logs available for this deployment",c(e,"class","no-logs svelte-cuxyqu")},m(t,n){w(t,e,n)},p:be,d(t){t&&k(e)}}}function ap(l){let e;return{c(){e=d("div"),e.textContent="Loading logs...",c(e,"class","logs-loading svelte-cuxyqu")},m(t,n){w(t,e,n)},p:be,d(t){t&&k(e)}}}function xr(l){let e,t,n=(l[62].timestamp?new Date(l[62].timestamp).toLocaleTimeString():"")+"",s,o,i,u=l[62].message+"",a,_;return{c(){e=d("div"),t=d("span"),s=S(n),o=b(),i=d("span"),a=S(u),_=b(),c(t,"class","log-time svelte-cuxyqu"),c(i,"class","log-message svelte-cuxyqu"),c(e,"class","log-line svelte-cuxyqu")},m(f,p){w(f,e,p),r(e,t),r(t,s),r(e,o),r(e,i),r(i,a),r(e,_)},p(f,p){p[0]&131072&&n!==(n=(f[62].timestamp?new Date(f[62].timestamp).toLocaleTimeString():"")+"")&&I(s,n),p[0]&131072&&u!==(u=f[62].message+"")&&I(a,u)},d(f){f&&k(e)}}}function up(l){let e,t,n=l[16]&&Zr(l);return{c(){n&&n.c(),e=Fe()},m(s,o){n&&n.m(s,o),w(s,e,o),t=!0},p(s,o){s[16]?n?(n.p(s,o),o[0]&65536&&L(n,1)):(n=Zr(s),n.c(),L(n,1),n.m(e.parentNode,e)):n&&(Te(),R(n,1,1,()=>{n=null}),ze())},i(s){t||(L(n),t=!0)},o(s){R(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function cp(l){let e;return{c(){e=S("Close")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function fp(l){let e,t,n;return t=new Ue({props:{variant:"ghost",$$slots:{default:[cp]},$$scope:{ctx:l}}}),t.$on("click",l[45]),{c(){e=d("div"),de(t.$$.fragment),c(e,"slot","footer")},m(s,o){w(s,e,o),fe(t,e,null),n=!0},p(s,o){const i={};o[2]&1048576&&(i.$$scope={dirty:o,ctx:s}),t.$set(i)},i(s){n||(L(t.$$.fragment,s),n=!0)},o(s){R(t.$$.fragment,s),n=!1},d(s){s&&k(e),_e(t)}}}function _p(l){let e,t,n,s=l[10].length+"",o,i,u,a,_,f,p=pe(l[10]),m=[];for(let g=0;g<p.length;g+=1)m[g]=ea(vr(l,p,g));const h=g=>R(m[g],1,1,()=>{m[g]=null});let v=l[11].length>0&&ta(l);return{c(){e=d("div"),t=d("p"),n=d("strong"),o=S(s),i=S(" server(s) from the original deployment are unavailable:"),u=b(),a=d("div");for(let g=0;g<m.length;g+=1)m[g].c();_=b(),v&&v.c(),c(t,"class","svelte-cuxyqu"),c(a,"class","confirm-server-list unavailable svelte-cuxyqu"),c(e,"class","rollback-confirm-content svelte-cuxyqu")},m(g,C){w(g,e,C),r(e,t),r(t,n),r(n,o),r(t,i),r(e,u),r(e,a);for(let y=0;y<m.length;y+=1)m[y]&&m[y].m(a,null);r(e,_),v&&v.m(e,null),f=!0},p(g,C){if((!f||C[0]&1024)&&s!==(s=g[10].length+"")&&I(o,s),C[0]&1024){p=pe(g[10]);let y;for(y=0;y<p.length;y+=1){const $=vr(g,p,y);m[y]?(m[y].p($,C),L(m[y],1)):(m[y]=ea($),m[y].c(),L(m[y],1),m[y].m(a,null))}for(Te(),y=p.length;y<m.length;y+=1)h(y);ze()}g[11].length>0?v?(v.p(g,C),C[0]&2048&&L(v,1)):(v=ta(g),v.c(),L(v,1),v.m(e,null)):v&&(Te(),R(v,1,1,()=>{v=null}),ze())},i(g){if(!f){for(let C=0;C<p.length;C+=1)L(m[C]);L(v),f=!0}},o(g){m=m.filter(Boolean);for(let C=0;C<m.length;C+=1)R(m[C]);R(v),f=!1},d(g){g&&k(e),Le(m,g),v&&v.d()}}}function dp(l){let e,t,n,s,o=l[11].length+"",i,u,a,_=l[11].length+l[9].length+"",f,p,m,h,v,g,C=pe(l[9]),y=[];for(let $=0;$<C.length;$+=1)y[$]=na(hr(l,C,$));return{c(){e=d("div"),t=d("p"),n=S("Rolling back will restore to "),s=d("strong"),i=S(o),u=S(` servers.
        Service currently runs on `),a=d("strong"),f=S(_),p=S(" servers."),m=b(),h=d("p"),h.textContent="Stop containers on the following servers?",v=b(),g=d("div");for(let $=0;$<y.length;$+=1)y[$].c();c(t,"class","svelte-cuxyqu"),c(h,"class","svelte-cuxyqu"),c(g,"class","confirm-server-list svelte-cuxyqu"),c(e,"class","rollback-confirm-content svelte-cuxyqu")},m($,q){w($,e,q),r(e,t),r(t,n),r(t,s),r(s,i),r(t,u),r(t,a),r(a,f),r(t,p),r(e,m),r(e,h),r(e,v),r(e,g);for(let z=0;z<y.length;z+=1)y[z]&&y[z].m(g,null)},p($,q){if(q[0]&2048&&o!==(o=$[11].length+"")&&I(i,o),q[0]&2560&&_!==(_=$[11].length+$[9].length+"")&&I(f,_),q[0]&512){C=pe($[9]);let z;for(z=0;z<C.length;z+=1){const D=hr($,C,z);y[z]?y[z].p(D,q):(y[z]=na(D),y[z].c(),y[z].m(g,null))}for(;z<y.length;z+=1)y[z].d(1);y.length=C.length}},i:be,o:be,d($){$&&k(e),Le(y,$)}}}function pp(l){let e;return{c(){e=S("offline")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function ea(l){let e,t,n=(l[55].name||l[55].ip)+"",s,o,i,u=l[55].ip+"",a,_,f,p,m;return f=new Qe({props:{variant:"error",$$slots:{default:[pp]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("span"),s=S(n),o=b(),i=d("span"),a=S(u),_=b(),de(f.$$.fragment),p=b(),c(t,"class","server-name svelte-cuxyqu"),c(i,"class","server-ip svelte-cuxyqu"),c(e,"class","confirm-server-item svelte-cuxyqu")},m(h,v){w(h,e,v),r(e,t),r(t,s),r(e,o),r(e,i),r(i,a),r(e,_),fe(f,e,null),r(e,p),m=!0},p(h,v){(!m||v[0]&1024)&&n!==(n=(h[55].name||h[55].ip)+"")&&I(s,n),(!m||v[0]&1024)&&u!==(u=h[55].ip+"")&&I(a,u);const g={};v[2]&1048576&&(g.$$scope={dirty:v,ctx:h}),f.$set(g)},i(h){m||(L(f.$$.fragment,h),m=!0)},o(h){R(f.$$.fragment,h),m=!1},d(h){h&&k(e),_e(f)}}}function ta(l){let e,t,n=l[11].length+"",s,o,i,u,a,_=pe(l[11]),f=[];for(let m=0;m<_.length;m+=1)f[m]=la(mr(l,_,m));const p=m=>R(f[m],1,1,()=>{f[m]=null});return{c(){e=d("p"),t=S("Available servers ("),s=S(n),o=S("):"),i=b(),u=d("div");for(let m=0;m<f.length;m+=1)f[m].c();c(e,"class","svelte-cuxyqu"),c(u,"class","confirm-server-list available svelte-cuxyqu")},m(m,h){w(m,e,h),r(e,t),r(e,s),r(e,o),w(m,i,h),w(m,u,h);for(let v=0;v<f.length;v+=1)f[v]&&f[v].m(u,null);a=!0},p(m,h){if((!a||h[0]&2048)&&n!==(n=m[11].length+"")&&I(s,n),h[0]&2048){_=pe(m[11]);let v;for(v=0;v<_.length;v+=1){const g=mr(m,_,v);f[v]?(f[v].p(g,h),L(f[v],1)):(f[v]=la(g),f[v].c(),L(f[v],1),f[v].m(u,null))}for(Te(),v=_.length;v<f.length;v+=1)p(v);ze()}},i(m){if(!a){for(let h=0;h<_.length;h+=1)L(f[h]);a=!0}},o(m){f=f.filter(Boolean);for(let h=0;h<f.length;h+=1)R(f[h]);a=!1},d(m){m&&(k(e),k(i),k(u)),Le(f,m)}}}function mp(l){let e;return{c(){e=S("online")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function la(l){let e,t,n=(l[55].name||l[55].ip)+"",s,o,i,u=l[55].ip+"",a,_,f,p,m;return f=new Qe({props:{variant:"success",$$slots:{default:[mp]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("span"),s=S(n),o=b(),i=d("span"),a=S(u),_=b(),de(f.$$.fragment),p=b(),c(t,"class","server-name svelte-cuxyqu"),c(i,"class","server-ip svelte-cuxyqu"),c(e,"class","confirm-server-item svelte-cuxyqu")},m(h,v){w(h,e,v),r(e,t),r(t,s),r(e,o),r(e,i),r(i,a),r(e,_),fe(f,e,null),r(e,p),m=!0},p(h,v){(!m||v[0]&2048)&&n!==(n=(h[55].name||h[55].ip)+"")&&I(s,n),(!m||v[0]&2048)&&u!==(u=h[55].ip+"")&&I(a,u);const g={};v[2]&1048576&&(g.$$scope={dirty:v,ctx:h}),f.$set(g)},i(h){m||(L(f.$$.fragment,h),m=!0)},o(h){R(f.$$.fragment,h),m=!1},d(h){h&&k(e),_e(f)}}}function na(l){let e,t,n=(l[55].name||l[55].ip)+"",s,o,i,u=l[55].ip+"",a,_;return{c(){e=d("div"),t=d("span"),s=S(n),o=b(),i=d("span"),a=S(u),_=b(),c(t,"class","server-name svelte-cuxyqu"),c(i,"class","server-ip svelte-cuxyqu"),c(e,"class","confirm-server-item svelte-cuxyqu")},m(f,p){w(f,e,p),r(e,t),r(t,s),r(e,o),r(e,i),r(i,a),r(e,_)},p(f,p){p[0]&512&&n!==(n=(f[55].name||f[55].ip)+"")&&I(s,n),p[0]&512&&u!==(u=f[55].ip+"")&&I(a,u)},d(f){f&&k(e)}}}function vp(l){let e,t,n,s;const o=[dp,_p],i=[];function u(a,_){return a[8]==="cleanup"?0:a[8]==="missing"?1:-1}return~(e=u(l))&&(t=i[e]=o[e](l)),{c(){t&&t.c(),n=Fe()},m(a,_){~e&&i[e].m(a,_),w(a,n,_),s=!0},p(a,_){let f=e;e=u(a),e===f?~e&&i[e].p(a,_):(t&&(Te(),R(i[f],1,1,()=>{i[f]=null}),ze()),~e?(t=i[e],t?t.p(a,_):(t=i[e]=o[e](a),t.c()),L(t,1),t.m(n.parentNode,n)):t=null)},i(a){s||(L(t),s=!0)},o(a){R(t),s=!1},d(a){a&&k(n),~e&&i[e].d(a)}}}function hp(l){let e,t;return e=new Ue({props:{variant:"primary",$$slots:{default:[bp]},$$scope:{ctx:l}}}),e.$on("click",l[27]),{c(){de(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[2]&1048576&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(L(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function gp(l){let e,t;return e=new Ue({props:{variant:"primary",$$slots:{default:[kp]},$$scope:{ctx:l}}}),e.$on("click",l[26]),{c(){de(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[2]&1048576&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(L(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function bp(l){let e;return{c(){e=S("Proceed with available only")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function kp(l){let e;return{c(){e=S("Proceed")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function wp(l){let e;return{c(){e=S("Cancel")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function $p(l){let e,t,n,s,o,i;const u=[gp,hp],a=[];function _(f,p){return f[8]==="cleanup"?0:f[8]==="missing"&&f[11].length>0?1:-1}return~(t=_(l))&&(n=a[t]=u[t](l)),o=new Ue({props:{variant:"ghost",$$slots:{default:[wp]},$$scope:{ctx:l}}}),o.$on("click",l[48]),{c(){e=d("div"),n&&n.c(),s=b(),de(o.$$.fragment),c(e,"slot","footer")},m(f,p){w(f,e,p),~t&&a[t].m(e,null),r(e,s),fe(o,e,null),i=!0},p(f,p){let m=t;t=_(f),t===m?~t&&a[t].p(f,p):(n&&(Te(),R(a[m],1,1,()=>{a[m]=null}),ze()),~t?(n=a[t],n?n.p(f,p):(n=a[t]=u[t](f),n.c()),L(n,1),n.m(e,s)):n=null);const h={};p[2]&1048576&&(h.$$scope={dirty:p,ctx:f}),o.$set(h)},i(f){i||(L(n),L(o.$$.fragment,f),i=!0)},o(f){R(n),R(o.$$.fragment,f),i=!1},d(f){f&&k(e),~t&&a[t].d(),_e(o)}}}function yp(l){let e,t,n,s,o,i,u,a,_,f,p,m,h,v,g,C,y,$,q,z,D,P,T=l[20]&&Cr(l);u=new Ue({props:{variant:"ghost",$$slots:{default:[Ed]},$$scope:{ctx:l}}}),u.$on("click",l[33]),_=new ft({props:{padding:!1,$$slots:{default:[Fd]},$$scope:{ctx:l}}});function E(N){l[40](N)}let A={title:"⏪ Rollback",width:"600px",$$slots:{footer:[Qd],default:[Vd]},$$scope:{ctx:l}};l[1]!==void 0&&(A.open=l[1]),p=new ol({props:A}),Ft.push(()=>pl(p,"open",E)),p.$on("close",l[41]);function M(N){l[43](N)}let O={title:"⚙️ Deployment Config",width:"500px",$$slots:{footer:[np],default:[ep]},$$scope:{ctx:l}};l[13]!==void 0&&(O.open=l[13]),v=new ol({props:O}),Ft.push(()=>pl(v,"open",M)),v.$on("close",l[44]);function J(N){l[46](N)}let W={title:"📋 Deployment Logs",width:"700px",$$slots:{footer:[fp],default:[up]},$$scope:{ctx:l}};l[15]!==void 0&&(W.open=l[15]),y=new ol({props:W}),Ft.push(()=>pl(y,"open",J)),y.$on("close",l[47]);function F(N){l[49](N)}let B={title:l[8]==="cleanup"?"⚠️ Stop Orphan Containers":"⚠️ Servers Unavailable",width:"500px",$$slots:{footer:[$p],default:[vp]},$$scope:{ctx:l}};return l[7]!==void 0&&(B.open=l[7]),z=new ol({props:B}),Ft.push(()=>pl(z,"open",F)),z.$on("close",l[50]),{c(){e=d("div"),t=d("div"),n=d("h1"),n.textContent="Deployment History",s=b(),o=d("div"),T&&T.c(),i=b(),de(u.$$.fragment),a=b(),de(_.$$.fragment),f=b(),de(p.$$.fragment),h=b(),de(v.$$.fragment),C=b(),de(y.$$.fragment),q=b(),de(z.$$.fragment),c(n,"class","svelte-cuxyqu"),c(o,"class","header-actions svelte-cuxyqu"),c(t,"class","page-header svelte-cuxyqu"),c(e,"class","deployments-page svelte-cuxyqu")},m(N,j){w(N,e,j),r(e,t),r(t,n),r(t,s),r(t,o),T&&T.m(o,null),r(o,i),fe(u,o,null),r(e,a),fe(_,e,null),w(N,f,j),fe(p,N,j),w(N,h,j),fe(v,N,j),w(N,C,j),fe(y,N,j),w(N,q,j),fe(z,N,j),P=!0},p(N,j){N[20]?T?T.p(N,j):(T=Cr(N),T.c(),T.m(o,i)):T&&(T.d(1),T=null);const U={};j[2]&1048576&&(U.$$scope={dirty:j,ctx:N}),u.$set(U);const X={};j[0]&524289|j[2]&1048576&&(X.$$scope={dirty:j,ctx:N}),_.$set(X);const Z={};j[0]&126|j[2]&1048576&&(Z.$$scope={dirty:j,ctx:N}),!m&&j[0]&2&&(m=!0,Z.open=N[1],dl(()=>m=!1)),p.$set(Z);const ee={};j[0]&24576|j[2]&1048576&&(ee.$$scope={dirty:j,ctx:N}),!g&&j[0]&8192&&(g=!0,ee.open=N[13],dl(()=>g=!1)),v.$set(ee);const se={};j[0]&491520|j[2]&1048576&&(se.$$scope={dirty:j,ctx:N}),!$&&j[0]&32768&&($=!0,se.open=N[15],dl(()=>$=!1)),y.$set(se);const Q={};j[0]&256&&(Q.title=N[8]==="cleanup"?"⚠️ Stop Orphan Containers":"⚠️ Servers Unavailable"),j[0]&8064|j[2]&1048576&&(Q.$$scope={dirty:j,ctx:N}),!D&&j[0]&128&&(D=!0,Q.open=N[7],dl(()=>D=!1)),z.$set(Q)},i(N){P||(L(u.$$.fragment,N),L(_.$$.fragment,N),L(p.$$.fragment,N),L(v.$$.fragment,N),L(y.$$.fragment,N),L(z.$$.fragment,N),P=!0)},o(N){R(u.$$.fragment,N),R(_.$$.fragment,N),R(p.$$.fragment,N),R(v.$$.fragment,N),R(y.$$.fragment,N),R(z.$$.fragment,N),P=!1},d(N){N&&(k(e),k(f),k(h),k(C),k(q)),T&&T.d(),_e(u),_e(_),_e(p,N),_e(v,N),_e(y,N),_e(z,N)}}}function sa(l){return l?l.toLocaleTimeString():""}function Cp(l,e){return l?l.filter(t=>!(e.project&&t.project!==e.project||e.env&&t.environment!==e.env)):[]}function qp(l){const e=[...l],t=new Set;for(const n of e){const s=`${n.project}/${n.service||n.name}/${n.environment}`;n.status==="success"&&n.can_rollback&&!t.has(s)?(n.is_current_active=!0,t.add(s)):n.is_current_active=!1}return e}function tl(l){return l?new Date(l).toLocaleString():"-"}function Nl(l){switch(l){case"success":case"active":return"success";case"failed":case"error":return"danger";case"pending":case"deploying":return"warning";case"superseded":return"secondary";default:return"info"}}function il(l){const e=l.status||"unknown";return e==="rolled_back"?l.is_rollback?"failed":"superseded":e}function Sp(l,e,t){let n,s,o,i;_t(l,El,De=>t(31,o=De)),_t(l,bl,De=>t(32,i=De));let u=!1,a=!1,_=null,f=[],p=null,m=!1,h=[],v=!1,g="",C=[],y=[],$=[],q=null,z=!1,D=null,P=!1,T=null,E=[],A=!1,M=[],O=[];function J(De){t(14,D=De),t(13,z=!0)}function W(){if(!(D!=null&&D.config_snapshot))return;const De=new CustomEvent("redeploy",{detail:{deployment:D,config:D.config_snapshot},bubbles:!0});document.dispatchEvent(De),t(13,z=!1),ye.info("Config loaded - switch to Deploy tab")}async function F(De){t(16,T=De),t(15,P=!0),t(18,A=!0),t(17,E=[]);try{const Oe=await He("GET",`/infra/deployments/history/${De.id}/logs`);t(17,E=Oe.logs||[])}catch(Oe){ye.error("Failed to load logs: "+(Oe.message||Oe))}finally{t(18,A=!1)}}async function B(De){t(2,_=De);try{const Oe=new URLSearchParams({project:De.project||"",environment:De.environment||"",service_name:De.service_name||De.service||""}),ve=await He("GET",`/infra/deployments/rollback/preview?${Oe}`);t(3,f=(ve.recent_deployments||[]).filter(Ae=>Ae.id!==De.id&&Ae.status==="success"))}catch{t(3,f=[])}t(1,a=!0)}async function N(){if(!_||!p){ye.error("Select a deployment to rollback to");return}const De=f.find(Me=>Me.id===p);if(!De){ye.error("Target deployment not found");return}const Oe=_.project||"",ve=_.environment||"",Ae=_.service_name||_.service||"";try{const Me=new URLSearchParams({project:Oe,environment:ve,service_name:Ae}),Ee=await He("GET",`/infra/services/state?${Me}`),Ie=De.server_ips||[],lt=(Ee.server_ips||[]).filter(We=>!Ie.includes(We)),nt=(Ee.servers||[]).filter(We=>lt.includes(We.ip));if(Ie.length>0){const We=await He("POST",`/infra/services/check-servers?do_token=${Ot()}&server_ips=${Ie.join(",")}`,null);if(t(10,y=We.unavailable||[]),t(11,$=We.available||[]),y.length>0){t(8,g="missing"),t(12,q=De),t(7,v=!0);return}}if(nt.length>0){t(9,C=nt),t(8,g="cleanup"),t(12,q=De),t(7,v=!0);return}}catch(Me){console.log("Rollback pre-check:",Me.message||Me)}await ee()}async function j(){if(t(7,v=!1),g==="cleanup"&&C.length>0){const De=`${_.project}_${_.service||_.service_name}_${_.environment}`.replace(/[^a-zA-Z0-9_]/g,"_"),Oe=C.map(ve=>ve.ip);try{const ve=await He("POST",`/infra/services/cleanup?do_token=${Ot()}`,{server_ips:Oe,container_name:De});t(6,h=[...h,{message:`Cleanup: ${ve.cleaned} stopped`,type:"info",time:new Date}])}catch(ve){t(6,h=[...h,{message:`Cleanup warning: ${ve.message}`,type:"warning",time:new Date}])}}t(9,C=[]),t(10,y=[]),t(12,q=null),await ee()}let U=!1,X=[];async function Z(){t(7,v=!1),U=!0,X=$.map(De=>De.ip),t(10,y=[]),t(12,q=null),await ee()}async function ee(){t(6,h=[]),t(5,m=!0);const De=(Oe,ve="info")=>{t(6,h=[...h,{message:Oe,type:ve,time:new Date}])};try{const Oe=new URLSearchParams({project:_.project||"",environment:_.environment||"",service_name:_.service_name||_.service||""}).toString();De("Starting rollback...");let ve=!1,Ae="";const Me={deployment_id:p};if(U&&X.length>0&&(Me.server_ips=X,De(`Partial rollback to ${X.length} available server(s)`)),await en("POST",`/infra/deployments/rollback?${Oe}`,Me,Ee=>{Ee.type==="progress"||Ee.type==="start"?De(Ee.message,"info"):Ee.type==="server_complete"?De(`✅ ${Ee.ip}: Success`,"success"):Ee.type==="error"?(De(`❌ ${Ee.message||Ee.error}`,"error"),Ae=Ee.message||Ee.error||"Unknown error"):Ee.type==="complete"&&(ve=Ee.success,ve?De(`✅ ${Ee.message}`,"success"):(Ae=Ee.message||"Rollback failed",De(`❌ ${Ae}`,"error")))}),ve)ye.success("Rollback completed successfully"),await se();else throw new Error(Ae||"Rollback failed")}catch(Oe){De(`❌ Error: ${Oe.message||String(Oe)}`,"error"),ye.error("Rollback failed: "+(Oe.message||String(Oe)))}finally{t(5,m=!1),U=!1,X=[]}}function se(){bl.refresh()}function Q(){bl.refresh()}const G=[[]],H=()=>bl.refresh(),re=De=>J(De),V=De=>F(De),ae=De=>B(De),le=()=>{t(1,a=!1),t(6,h=[])};function K(){p=this.__value,t(4,p)}function me(De){a=De,t(1,a)}const ue=()=>t(1,a=!1),ie=()=>t(13,z=!1);function x(De){z=De,t(13,z)}const Y=()=>t(13,z=!1),he=()=>t(15,P=!1);function ke(De){P=De,t(15,P)}const Ge=()=>t(15,P=!1),rt=()=>{t(7,v=!1),t(12,q=null)};function kt(De){v=De,t(7,v)}const dt=()=>{t(7,v=!1),t(12,q=null)};return l.$$.update=()=>{l.$$.dirty[1]&2&&t(30,n=i||{loading:!1}),l.$$.dirty[0]&1073741824&&t(0,u=n.loading),l.$$.dirty[0]&1073741824&&t(20,s=n.lastFetched),l.$$.dirty[0]&1073741824&&n.data&&t(29,M=qp(n.data)),l.$$.dirty[0]&536870912|l.$$.dirty[1]&1&&t(19,O=Cp(M,o))},[u,a,_,f,p,m,h,v,g,C,y,$,q,z,D,P,T,E,A,O,s,J,W,F,B,N,j,Z,Q,M,n,o,i,H,re,V,ae,le,K,G,me,ue,ie,x,Y,he,ke,Ge,rt,kt,dt]}class Tp extends yt{constructor(e){super(),$t(this,e,Sp,yp,bt,{refresh:28},null,[-1,-1,-1])}get refresh(){return this.$$.ctx[28]}}function oa(l,e,t){var o,i,u;const n=l.slice();n[33]=e[t];const s=n[33].ip||((u=(i=(o=n[33].networks)==null?void 0:o.v4)==null?void 0:i[0])==null?void 0:u.ip_address);return n[34]=s,n}function ia(l,e,t){const n=l.slice();return n[37]=e[t],n}function ra(l,e,t){const n=l.slice();return n[40]=e[t],n}function aa(l,e,t){const n=l.slice();return n[37]=e[t],n}function ua(l,e,t){const n=l.slice();return n[40]=e[t],n}function ca(l){let e,t=l[40].label+"",n;return{c(){e=d("option"),n=S(t),e.__value=l[40].value,ne(e,e.__value)},m(s,o){w(s,e,o),r(e,n)},p:be,d(s){s&&k(e)}}}function fa(l){let e,t=l[37].charAt(0).toUpperCase()+l[37].slice(1)+"",n;return{c(){e=d("option"),n=S(t),e.__value=l[37],ne(e,e.__value)},m(s,o){w(s,e,o),r(e,n)},p:be,d(s){s&&k(e)}}}function zp(l){let e;return{c(){e=S("🔍 Get Credentials")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Dp(l){let e;return{c(){e=S("Looking up...")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Ep(l){let e;function t(o,i){return o[11]?Dp:zp}let n=t(l),s=n(l);return{c(){s.c(),e=Fe()},m(o,i){s.m(o,i),w(o,e,i)},p(o,i){n!==(n=t(o))&&(s.d(1),s=n(o),s&&(s.c(),s.m(e.parentNode,e)))},d(o){o&&k(e),s.d(o)}}}function _a(l){let e,t,n,s,o,i=l[10].service+"",u,a,_,f,p,m,h=l[10].env_var_name+"",v,g,C,y,$=l[10].connection_url+"",q,z,D,P,T,E,A,M,O,J,W,F,B,N=l[10].user&&da(l),j=l[10].password&&pa(l),U=l[10].database&&ma(l);function X(se,Q){if(Q[0]&1024&&(O=null),Q[0]&1024&&(J=null),Q[0]&1024&&(W=null),O==null&&(O=!!se[10].service.toLowerCase().includes("redis")),O)return Mp;if(J==null&&(J=!!se[10].service.toLowerCase().includes("postgres")),J)return Lp;if(W==null&&(W=!!se[10].service.toLowerCase().includes("mongo")),W)return Pp}let Z=X(l,[-1,-1]),ee=Z&&Z(l);return{c(){e=d("div"),t=d("div"),n=d("span"),n.textContent="✅",s=b(),o=d("span"),u=S(i),a=S(" credentials"),_=b(),f=d("div"),p=d("div"),m=d("span"),v=S(h),g=S(":"),C=b(),y=d("code"),q=S($),z=b(),N&&N.c(),D=b(),j&&j.c(),P=b(),U&&U.c(),T=b(),E=d("small"),E.textContent="Click any value to copy",A=b(),M=d("div"),ee&&ee.c(),c(n,"class","result-icon svelte-14omwo7"),c(o,"class","result-title svelte-14omwo7"),c(t,"class","result-header svelte-14omwo7"),c(m,"class","label svelte-14omwo7"),c(y,"class","value url clickable svelte-14omwo7"),c(p,"class","info-row full-width svelte-14omwo7"),c(f,"class","connection-info svelte-14omwo7"),c(E,"class","copy-hint svelte-14omwo7"),c(M,"class","cli-examples svelte-14omwo7"),c(e,"class","lookup-result svelte-14omwo7")},m(se,Q){w(se,e,Q),r(e,t),r(t,n),r(t,s),r(t,o),r(o,u),r(o,a),r(e,_),r(e,f),r(f,p),r(p,m),r(m,v),r(m,g),r(p,C),r(p,y),r(y,q),r(f,z),N&&N.m(f,null),r(f,D),j&&j.m(f,null),r(f,P),U&&U.m(f,null),r(e,T),r(e,E),r(e,A),r(e,M),ee&&ee.m(M,null),F||(B=te(y,"click",l[23]),F=!0)},p(se,Q){Q[0]&1024&&i!==(i=se[10].service+"")&&I(u,i),Q[0]&1024&&h!==(h=se[10].env_var_name+"")&&I(v,h),Q[0]&1024&&$!==($=se[10].connection_url+"")&&I(q,$),se[10].user?N?N.p(se,Q):(N=da(se),N.c(),N.m(f,D)):N&&(N.d(1),N=null),se[10].password?j?j.p(se,Q):(j=pa(se),j.c(),j.m(f,P)):j&&(j.d(1),j=null),se[10].database?U?U.p(se,Q):(U=ma(se),U.c(),U.m(f,null)):U&&(U.d(1),U=null),Z===(Z=X(se,Q))&&ee?ee.p(se,Q):(ee&&ee.d(1),ee=Z&&Z(se),ee&&(ee.c(),ee.m(M,null)))},d(se){se&&k(e),N&&N.d(),j&&j.d(),U&&U.d(),ee&&ee.d(),F=!1,B()}}}function da(l){let e,t,n,s,o=l[10].user+"",i,u,a;return{c(){e=d("div"),t=d("span"),t.textContent="User:",n=b(),s=d("code"),i=S(o),c(t,"class","label svelte-14omwo7"),c(s,"class","value clickable svelte-14omwo7"),c(e,"class","info-row svelte-14omwo7")},m(_,f){w(_,e,f),r(e,t),r(e,n),r(e,s),r(s,i),u||(a=te(s,"click",l[24]),u=!0)},p(_,f){f[0]&1024&&o!==(o=_[10].user+"")&&I(i,o)},d(_){_&&k(e),u=!1,a()}}}function pa(l){let e,t,n,s,o=l[10].password+"",i,u,a;return{c(){e=d("div"),t=d("span"),t.textContent="Password:",n=b(),s=d("code"),i=S(o),c(t,"class","label svelte-14omwo7"),c(s,"class","value clickable svelte-14omwo7"),c(e,"class","info-row svelte-14omwo7")},m(_,f){w(_,e,f),r(e,t),r(e,n),r(e,s),r(s,i),u||(a=te(s,"click",l[25]),u=!0)},p(_,f){f[0]&1024&&o!==(o=_[10].password+"")&&I(i,o)},d(_){_&&k(e),u=!1,a()}}}function ma(l){let e,t,n,s,o=l[10].database+"",i,u,a;return{c(){e=d("div"),t=d("span"),t.textContent="Database:",n=b(),s=d("code"),i=S(o),c(t,"class","label svelte-14omwo7"),c(s,"class","value clickable svelte-14omwo7"),c(e,"class","info-row svelte-14omwo7")},m(_,f){w(_,e,f),r(e,t),r(e,n),r(e,s),r(s,i),u||(a=te(s,"click",l[26]),u=!0)},p(_,f){f[0]&1024&&o!==(o=_[10].database+"")&&I(i,o)},d(_){_&&k(e),u=!1,a()}}}function Pp(l){let e,t,n=l[10].connection_url+"",s,o;return{c(){e=d("code"),t=S('mongosh "'),s=S(n),o=S('"'),c(e,"class","svelte-14omwo7")},m(i,u){w(i,e,u),r(e,t),r(e,s),r(e,o)},p(i,u){u[0]&1024&&n!==(n=i[10].connection_url+"")&&I(s,n)},d(i){i&&k(e)}}}function Lp(l){let e,t,n=l[10].connection_url+"",s,o;return{c(){e=d("code"),t=S('psql "'),s=S(n),o=S('"'),c(e,"class","svelte-14omwo7")},m(i,u){w(i,e,u),r(e,t),r(e,s),r(e,o)},p(i,u){u[0]&1024&&n!==(n=i[10].connection_url+"")&&I(s,n)},d(i){i&&k(e)}}}function Mp(l){let e,t,n=l[10].host+"",s,o,i=l[10].port+"",u,a,_=l[10].password+"",f;return{c(){e=d("code"),t=S("redis-cli -h "),s=S(n),o=S(" -p "),u=S(i),a=S(" -a "),f=S(_),c(e,"class","svelte-14omwo7")},m(p,m){w(p,e,m),r(e,t),r(e,s),r(e,o),r(e,u),r(e,a),r(e,f)},p(p,m){m[0]&1024&&n!==(n=p[10].host+"")&&I(s,n),m[0]&1024&&i!==(i=p[10].port+"")&&I(u,i),m[0]&1024&&_!==(_=p[10].password+"")&&I(f,_)},d(p){p&&k(e)}}}function jp(l){let e,t,n,s,o,i,u,a,_,f,p,m,h,v,g,C,y,$,q,z,D,P,T,E,A,M,O,J,W,F,B,N,j,U,X,Z,ee,se=pe(l[13]),Q=[];for(let V=0;V<se.length;V+=1)Q[V]=ca(ua(l,se,V));let G=pe(l[14]),H=[];for(let V=0;V<G.length;V+=1)H[V]=fa(aa(l,G,V));N=new Ue({props:{variant:"primary",type:"submit",disabled:l[11],$$slots:{default:[Ep]},$$scope:{ctx:l}}});let re=l[10]&&_a(l);return{c(){e=d("p"),e.innerHTML="For CLI tools, DB admin apps, or local dev. <strong>Apps get URLs auto-injected</strong> when you enable dependencies in Deploy tab.",t=b(),n=d("form"),s=d("div"),o=d("label"),o.textContent="Service Type *",i=b(),u=d("select"),a=d("option"),a.textContent="Select service...";for(let V=0;V<Q.length;V+=1)Q[V].c();_=b(),f=d("div"),p=d("div"),m=d("label"),m.textContent="Project *",h=b(),v=d("input"),g=b(),C=d("div"),y=d("label"),y.textContent="Environment",$=b(),q=d("select");for(let V=0;V<H.length;V+=1)H[V].c();z=b(),D=d("div"),P=d("div"),T=d("label"),T.textContent="Server IP *",E=b(),A=d("input"),M=b(),O=d("div"),J=d("label"),J.textContent="Port *",W=b(),F=d("input"),B=b(),de(N.$$.fragment),j=b(),re&&re.c(),U=Fe(),c(e,"class","description svelte-14omwo7"),c(o,"for","lookup-type"),c(o,"class","svelte-14omwo7"),a.__value="",ne(a,a.__value),c(u,"id","lookup-type"),u.required=!0,c(u,"class","svelte-14omwo7"),l[0]===void 0&&Xe(()=>l[18].call(u)),c(s,"class","form-group svelte-14omwo7"),c(m,"for","lookup-project"),c(m,"class","svelte-14omwo7"),c(v,"id","lookup-project"),c(v,"type","text"),c(v,"placeholder","myapp"),v.required=!0,c(v,"class","svelte-14omwo7"),c(p,"class","form-group svelte-14omwo7"),c(y,"for","lookup-env"),c(y,"class","svelte-14omwo7"),c(q,"id","lookup-env"),c(q,"class","svelte-14omwo7"),l[8]===void 0&&Xe(()=>l[20].call(q)),c(C,"class","form-group svelte-14omwo7"),c(f,"class","form-row svelte-14omwo7"),c(T,"for","lookup-host"),c(T,"class","svelte-14omwo7"),c(A,"id","lookup-host"),c(A,"type","text"),c(A,"placeholder","206.189.18.79"),A.required=!0,c(A,"class","svelte-14omwo7"),c(P,"class","form-group svelte-14omwo7"),c(J,"for","lookup-port"),c(J,"class","svelte-14omwo7"),c(F,"id","lookup-port"),c(F,"type","number"),c(F,"placeholder","8453"),F.required=!0,c(F,"class","svelte-14omwo7"),c(O,"class","form-group svelte-14omwo7"),c(D,"class","form-row svelte-14omwo7")},m(V,ae){w(V,e,ae),w(V,t,ae),w(V,n,ae),r(n,s),r(s,o),r(s,i),r(s,u),r(u,a);for(let le=0;le<Q.length;le+=1)Q[le]&&Q[le].m(u,null);je(u,l[0],!0),r(n,_),r(n,f),r(f,p),r(p,m),r(p,h),r(p,v),ne(v,l[7]),r(f,g),r(f,C),r(C,y),r(C,$),r(C,q);for(let le=0;le<H.length;le+=1)H[le]&&H[le].m(q,null);je(q,l[8],!0),r(n,z),r(n,D),r(D,P),r(P,T),r(P,E),r(P,A),ne(A,l[9]),r(D,M),r(D,O),r(O,J),r(O,W),r(O,F),ne(F,l[1]),r(n,B),fe(N,n,null),w(V,j,ae),re&&re.m(V,ae),w(V,U,ae),X=!0,Z||(ee=[te(u,"change",l[18]),te(v,"input",l[19]),te(q,"change",l[20]),te(A,"input",l[21]),te(F,"input",l[22]),te(n,"submit",l[16])],Z=!0)},p(V,ae){if(ae[0]&8192){se=pe(V[13]);let K;for(K=0;K<se.length;K+=1){const me=ua(V,se,K);Q[K]?Q[K].p(me,ae):(Q[K]=ca(me),Q[K].c(),Q[K].m(u,null))}for(;K<Q.length;K+=1)Q[K].d(1);Q.length=se.length}if(ae[0]&8193&&je(u,V[0]),ae[0]&128&&v.value!==V[7]&&ne(v,V[7]),ae[0]&16384){G=pe(V[14]);let K;for(K=0;K<G.length;K+=1){const me=aa(V,G,K);H[K]?H[K].p(me,ae):(H[K]=fa(me),H[K].c(),H[K].m(q,null))}for(;K<H.length;K+=1)H[K].d(1);H.length=G.length}ae[0]&16640&&je(q,V[8]),ae[0]&512&&A.value!==V[9]&&ne(A,V[9]),ae[0]&2&&Kt(F.value)!==V[1]&&ne(F,V[1]);const le={};ae[0]&2048&&(le.disabled=V[11]),ae[0]&2048|ae[1]&65536&&(le.$$scope={dirty:ae,ctx:V}),N.$set(le),V[10]?re?re.p(V,ae):(re=_a(V),re.c(),re.m(U.parentNode,U)):re&&(re.d(1),re=null)},i(V){X||(L(N.$$.fragment,V),X=!0)},o(V){R(N.$$.fragment,V),X=!1},d(V){V&&(k(e),k(t),k(n),k(j),k(U)),Le(Q,V),Le(H,V),_e(N),re&&re.d(V),Z=!1,Ve(ee)}}}function va(l){let e,t=l[40].label+"",n;return{c(){e=d("option"),n=S(t),e.__value=l[40].value,ne(e,e.__value)},m(s,o){w(s,e,o),r(e,n)},p:be,d(s){s&&k(e)}}}function ha(l){let e,t=l[37].charAt(0).toUpperCase()+l[37].slice(1)+"",n;return{c(){e=d("option"),n=S(t),e.__value=l[37],ne(e,e.__value)},m(s,o){w(s,e,o),r(e,n)},p:be,d(s){s&&k(e)}}}function ga(l){let e,t=(l[33].name||"unnamed")+"",n,s,o=l[34]+"",i,u,a;return{c(){e=d("option"),n=S(t),s=S(" ("),i=S(o),u=S(")"),e.__value=a=l[34],ne(e,e.__value)},m(_,f){w(_,e,f),r(e,n),r(e,s),r(e,i),r(e,u)},p(_,f){f[0]&4096&&t!==(t=(_[33].name||"unnamed")+"")&&I(n,t),f[0]&4096&&o!==(o=_[34]+"")&&I(i,o),f[0]&4096&&a!==(a=_[34])&&(e.__value=a,ne(e,e.__value))},d(_){_&&k(e)}}}function ba(l){let e,t=l[34]&&ga(l);return{c(){t&&t.c(),e=Fe()},m(n,s){t&&t.m(n,s),w(n,e,s)},p(n,s){n[34]?t?t.p(n,s):(t=ga(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&k(e),t&&t.d(n)}}}function Np(l){let e;return{c(){e=S("Use Deploy Tab Instead →")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Ap(l){let e;return{c(){e=S("Deploying...")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Rp(l){let e;function t(o,i){return o[6]?Ap:Np}let n=t(l),s=n(l);return{c(){s.c(),e=Fe()},m(o,i){s.m(o,i),w(o,e,i)},p(o,i){n!==(n=t(o))&&(s.d(1),s=n(o),s&&(s.c(),s.m(e.parentNode,e)))},d(o){o&&k(e),s.d(o)}}}function Op(l){let e,t,n,s,o,i,u,a,_,f,p,m,h,v,g,C,y,$,q,z,D,P,T,E,A,M,O,J,W,F,B,N,j,U=pe(l[13]),X=[];for(let G=0;G<U.length;G+=1)X[G]=va(ra(l,U,G));let Z=pe(l[14]),ee=[];for(let G=0;G<Z.length;G+=1)ee[G]=ha(ia(l,Z,G));let se=pe(l[12]||[]),Q=[];for(let G=0;G<se.length;G+=1)Q[G]=ba(oa(l,se,G));return J=new Ue({props:{variant:"secondary",type:"submit",disabled:l[6],$$slots:{default:[Rp]},$$scope:{ctx:l}}}),{c(){e=d("p"),e.textContent="Deploy stateful services with automatic configuration, persistence, and service mesh.",t=b(),n=d("form"),s=d("div"),o=d("label"),o.textContent="Service Type *",i=b(),u=d("select"),a=d("option"),a.textContent="Select service...";for(let G=0;G<X.length;G+=1)X[G].c();_=b(),f=d("div"),p=d("label"),p.textContent="Project *",m=b(),h=d("input"),v=b(),g=d("div"),C=d("label"),C.textContent="Environment",y=b(),$=d("select");for(let G=0;G<ee.length;G+=1)ee[G].c();q=b(),z=d("div"),D=d("label"),D.textContent="Target Server *",P=b(),T=d("select"),E=d("option"),E.textContent="Select server...";for(let G=0;G<Q.length;G+=1)Q[G].c();A=b(),M=d("small"),M.textContent="Servers from Infrastructure tab",O=b(),de(J.$$.fragment),W=b(),F=d("small"),F.textContent='Stateful deploys work via Deploy tab with "Stateful Service" type',c(e,"class","description svelte-14omwo7"),c(o,"for","svc-type"),c(o,"class","svelte-14omwo7"),a.__value="",ne(a,a.__value),c(u,"id","svc-type"),u.required=!0,c(u,"class","svelte-14omwo7"),l[2]===void 0&&Xe(()=>l[27].call(u)),c(s,"class","form-group svelte-14omwo7"),c(p,"for","svc-project"),c(p,"class","svelte-14omwo7"),c(h,"id","svc-project"),c(h,"type","text"),c(h,"placeholder","myapp"),h.required=!0,c(h,"class","svelte-14omwo7"),c(f,"class","form-group svelte-14omwo7"),c(C,"for","svc-env"),c(C,"class","svelte-14omwo7"),c($,"id","svc-env"),c($,"class","svelte-14omwo7"),l[4]===void 0&&Xe(()=>l[29].call($)),c(g,"class","form-group svelte-14omwo7"),c(D,"for","svc-server"),c(D,"class","svelte-14omwo7"),E.__value="",ne(E,E.__value),c(T,"id","svc-server"),T.required=!0,c(T,"class","svelte-14omwo7"),l[5]===void 0&&Xe(()=>l[30].call(T)),c(M,"class","svelte-14omwo7"),c(z,"class","form-group svelte-14omwo7"),c(F,"class","hint svelte-14omwo7")},m(G,H){w(G,e,H),w(G,t,H),w(G,n,H),r(n,s),r(s,o),r(s,i),r(s,u),r(u,a);for(let re=0;re<X.length;re+=1)X[re]&&X[re].m(u,null);je(u,l[2],!0),r(n,_),r(n,f),r(f,p),r(f,m),r(f,h),ne(h,l[3]),r(n,v),r(n,g),r(g,C),r(g,y),r(g,$);for(let re=0;re<ee.length;re+=1)ee[re]&&ee[re].m($,null);je($,l[4],!0),r(n,q),r(n,z),r(z,D),r(z,P),r(z,T),r(T,E);for(let re=0;re<Q.length;re+=1)Q[re]&&Q[re].m(T,null);je(T,l[5],!0),r(z,A),r(z,M),r(n,O),fe(J,n,null),r(n,W),r(n,F),B=!0,N||(j=[te(u,"change",l[27]),te(h,"input",l[28]),te($,"change",l[29]),te(T,"change",l[30]),te(n,"submit",l[15])],N=!0)},p(G,H){if(H[0]&8192){U=pe(G[13]);let V;for(V=0;V<U.length;V+=1){const ae=ra(G,U,V);X[V]?X[V].p(ae,H):(X[V]=va(ae),X[V].c(),X[V].m(u,null))}for(;V<X.length;V+=1)X[V].d(1);X.length=U.length}if(H[0]&8196&&je(u,G[2]),H[0]&8&&h.value!==G[3]&&ne(h,G[3]),H[0]&16384){Z=pe(G[14]);let V;for(V=0;V<Z.length;V+=1){const ae=ia(G,Z,V);ee[V]?ee[V].p(ae,H):(ee[V]=ha(ae),ee[V].c(),ee[V].m($,null))}for(;V<ee.length;V+=1)ee[V].d(1);ee.length=Z.length}if(H[0]&16400&&je($,G[4]),H[0]&4096){se=pe(G[12]||[]);let V;for(V=0;V<se.length;V+=1){const ae=oa(G,se,V);Q[V]?Q[V].p(ae,H):(Q[V]=ba(ae),Q[V].c(),Q[V].m(T,null))}for(;V<Q.length;V+=1)Q[V].d(1);Q.length=se.length}H[0]&4128&&je(T,G[5]);const re={};H[0]&64&&(re.disabled=G[6]),H[0]&64|H[1]&65536&&(re.$$scope={dirty:H,ctx:G}),J.$set(re)},i(G){B||(L(J.$$.fragment,G),B=!0)},o(G){R(J.$$.fragment,G),B=!1},d(G){G&&(k(e),k(t),k(n)),Le(X,G),Le(ee,G),Le(Q,G),_e(J),N=!1,Ve(j)}}}function Fp(l){let e;return{c(){e=d("div"),e.innerHTML='<div class="feature svelte-14omwo7"><strong class="svelte-14omwo7">🔐 Auto Credentials</strong> <p class="svelte-14omwo7">Deterministic passwords generated from project/env. Same inputs = same password.</p></div> <div class="feature svelte-14omwo7"><strong class="svelte-14omwo7">💾 Persistent Storage</strong> <p class="svelte-14omwo7">Data volumes mounted at /data. Survives container restarts and redeploys.</p></div> <div class="feature svelte-14omwo7"><strong class="svelte-14omwo7">🔀 Service Mesh</strong> <p class="svelte-14omwo7">Nginx proxy on internal ports. Apps connect to localhost:PORT.</p></div> <div class="feature svelte-14omwo7"><strong class="svelte-14omwo7">🔧 Auto-Inject</strong> <p class="svelte-14omwo7">Enable &quot;Auto-inject&quot; in Deploy tab to get DATABASE_URL automatically.</p></div>',c(e,"class","features-grid svelte-14omwo7")},m(t,n){w(t,e,n)},p:be,d(t){t&&k(e)}}}function Ip(l){let e,t,n,s,o,i,u,a;return n=new ft({props:{title:"🔑 Direct Access Credentials",$$slots:{default:[jp]},$$scope:{ctx:l}}}),o=new ft({props:{title:"🗄️ Deploy Database/Cache",$$slots:{default:[Op]},$$scope:{ctx:l}}}),u=new ft({props:{title:"ℹ️ How It Works",$$slots:{default:[Fp]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),de(n.$$.fragment),s=b(),de(o.$$.fragment),i=b(),de(u.$$.fragment),c(t,"class","services-grid svelte-14omwo7"),c(e,"class","services-page svelte-14omwo7")},m(_,f){w(_,e,f),r(e,t),fe(n,t,null),r(t,s),fe(o,t,null),r(e,i),fe(u,e,null),a=!0},p(_,f){const p={};f[0]&3971|f[1]&65536&&(p.$$scope={dirty:f,ctx:_}),n.$set(p);const m={};f[0]&4220|f[1]&65536&&(m.$$scope={dirty:f,ctx:_}),o.$set(m);const h={};f[1]&65536&&(h.$$scope={dirty:f,ctx:_}),u.$set(h)},i(_){a||(L(n.$$.fragment,_),L(o.$$.fragment,_),L(u.$$.fragment,_),a=!0)},o(_){R(n.$$.fragment,_),R(o.$$.fragment,_),R(u.$$.fragment,_),a=!1},d(_){_&&k(e),_e(n),_e(o),_e(u)}}}function Bp(l,e,t){let n;_t(l,pn,X=>t(12,n=X));let s="",o="",i="prod",u="",a=!1,_="",f="",p="prod",m="",h="",v=null,g=!1;const C=[{value:"postgres",label:"🐘 PostgreSQL",port:5432},{value:"redis",label:"⚡ Redis",port:6379},{value:"mysql",label:"🐬 MySQL",port:3306},{value:"mongo",label:"🍃 MongoDB",port:27017}],y=["prod","staging","dev"];kl(()=>{$()});async function $(){try{await Xt.refresh()}catch(X){console.error("Failed to load servers:",X)}}async function q(X){if(X.preventDefault(),!s||!o||!u){ye.error("Please fill in all required fields");return}t(6,a=!0);try{ye.error("Service deployment not yet implemented. Use Deploy tab instead.");return}catch(Z){ye.error("Deployment failed: "+Z.message)}finally{t(6,a=!1)}}async function z(X){if(X.preventDefault(),!_||!f||!m||!h){ye.error("Please fill in all required fields");return}t(11,g=!0),t(10,v=null);try{const Z=await He("GET",`/infra/services/${_}/connection?project=${encodeURIComponent(f)}&environment=${p}&host=${encodeURIComponent(m)}&port=${h}`);t(10,v=Z),ye.success("Connection info retrieved!")}catch(Z){ye.error("Lookup failed: "+Z.message)}finally{t(11,g=!1)}}function D(X){navigator.clipboard.writeText(X),ye.success("Copied to clipboard")}function P(){_=ct(this),t(0,_),t(13,C)}function T(){f=this.value,t(7,f)}function E(){p=ct(this),t(8,p),t(14,y)}function A(){m=this.value,t(9,m)}function M(){h=Kt(this.value),t(1,h)}const O=()=>D(v.connection_url),J=()=>D(v.user),W=()=>D(v.password),F=()=>D(v.database);function B(){s=ct(this),t(2,s),t(13,C)}function N(){o=this.value,t(3,o)}function j(){i=ct(this),t(4,i),t(14,y)}function U(){u=ct(this),t(5,u)}return l.$$.update=()=>{l.$$.dirty[0]&3&&_&&C.find(X=>X.value===_)},[_,h,s,o,i,u,a,f,p,m,v,g,n,C,y,q,z,D,P,T,E,A,M,O,J,W,F,B,N,j,U]}class Up extends yt{constructor(e){super(),$t(this,e,Bp,Ip,bt,{},null,[-1,-1])}}const{Boolean:Hp}=mu;function ka(l,e,t){const n=l.slice();return n[32]=e[t],n}function Gp(l){let e,t,n,s,o,i,u,a,_,f;return{c(){e=d("div"),t=d("label"),t.textContent="Theme",n=b(),s=d("select"),o=d("option"),o.textContent="🌙 Dark (Space)",i=d("option"),i.textContent="☀️ Light",u=b(),a=d("p"),a.textContent="Theme preference is saved to your browser.",c(t,"for","theme-select"),c(t,"class","svelte-16vnl3x"),o.__value="dark",ne(o,o.__value),i.__value="light",ne(i,i.__value),c(s,"id","theme-select"),c(s,"class","svelte-16vnl3x"),l[14]===void 0&&Xe(()=>l[21].call(s)),c(e,"class","form-group svelte-16vnl3x"),c(a,"class","hint svelte-16vnl3x")},m(p,m){w(p,e,m),r(e,t),r(e,n),r(e,s),r(s,o),r(s,i),je(s,l[14],!0),w(p,u,m),w(p,a,m),_||(f=[te(s,"change",l[21]),te(s,"change",l[22])],_=!0)},p(p,m){m[0]&16384&&je(s,p[14])},d(p){p&&(k(e),k(u),k(a)),_=!1,Ve(f)}}}function Vp(l){let e;return{c(){e=S("Save Token")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Wp(l){let e,t;return e=new Qe({props:{variant:"danger",$$slots:{default:[Yp]},$$scope:{ctx:l}}}),{c(){de(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[1]&16&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(L(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function Jp(l){let e,t;return e=new Qe({props:{variant:"warning",$$slots:{default:[Qp]},$$scope:{ctx:l}}}),{c(){de(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[1]&16&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(L(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function Kp(l){let e,t,n,s,o;return e=new Qe({props:{variant:"success",$$slots:{default:[Zp]},$$scope:{ctx:l}}}),{c(){de(e.$$.fragment),t=b(),n=d("span"),s=S(l[0]),c(n,"class","token-preview svelte-16vnl3x")},m(i,u){fe(e,i,u),w(i,t,u),w(i,n,u),r(n,s),o=!0},p(i,u){const a={};u[1]&16&&(a.$$scope={dirty:u,ctx:i}),e.$set(a),(!o||u[0]&1)&&I(s,i[0])},i(i){o||(L(e.$$.fragment,i),o=!0)},o(i){R(e.$$.fragment,i),o=!1},d(i){i&&(k(t),k(n)),_e(e,i)}}}function Yp(l){let e;return{c(){e=S("Invalid token")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Qp(l){let e;return{c(){e=S("Not configured")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Zp(l){let e;return{c(){e=S("✓ Connected")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Xp(l){let e,t,n,s,o,i,u,a,_,f,p,m,h,v,g;a=new Ue({props:{variant:"primary",type:"submit",$$slots:{default:[Vp]},$$scope:{ctx:l}}});const C=[Kp,Jp,Wp],y=[];function $(q,z){var D,P;return(D=q[1])!=null&&D.valid?0:(P=q[1])!=null&&P.missing?1:2}return p=$(l),m=y[p]=C[p](l),{c(){e=d("p"),e.innerHTML=`Get your token from 
      <a href="https://cloud.digitalocean.com/account/api/tokens" target="_blank" class="svelte-16vnl3x">DO Control Panel</a>.`,t=b(),n=d("div"),n.innerHTML='<div class="info-title svelte-16vnl3x">🔒 Browser Storage</div> <div class="info-text svelte-16vnl3x">Token stored in browser cookie. Passed with each API request. Never stored on server.</div>',s=b(),o=d("form"),i=d("div"),i.innerHTML='<label for="do-token" class="svelte-16vnl3x">DigitalOcean API Token</label> <input id="do-token" type="password" placeholder="dop_v1_xxxxx" class="svelte-16vnl3x"/>',u=b(),de(a.$$.fragment),_=b(),f=d("div"),m.c(),c(e,"class","description svelte-16vnl3x"),c(n,"class","info-box svelte-16vnl3x"),c(i,"class","form-group svelte-16vnl3x"),c(f,"class","token-status svelte-16vnl3x")},m(q,z){w(q,e,z),w(q,t,z),w(q,n,z),w(q,s,z),w(q,o,z),r(o,i),r(o,u),fe(a,o,null),w(q,_,z),w(q,f,z),y[p].m(f,null),h=!0,v||(g=te(o,"submit",l[15]),v=!0)},p(q,z){const D={};z[1]&16&&(D.$$scope={dirty:z,ctx:q}),a.$set(D);let P=p;p=$(q),p===P?y[p].p(q,z):(Te(),R(y[P],1,1,()=>{y[P]=null}),ze(),m=y[p],m?m.p(q,z):(m=y[p]=C[p](q),m.c()),L(m,1),m.m(f,null))},i(q){h||(L(a.$$.fragment,q),L(m),h=!0)},o(q){R(a.$$.fragment,q),R(m),h=!1},d(q){q&&(k(e),k(t),k(n),k(s),k(o),k(_),k(f)),_e(a),y[p].d(),v=!1,g()}}}function xp(l){let e;return{c(){e=S("Save Token")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function em(l){let e,t;return e=new Qe({props:{variant:"warning",$$slots:{default:[lm]},$$scope:{ctx:l}}}),{c(){de(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[1]&16&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(L(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function tm(l){let e,t,n,s,o;return e=new Qe({props:{variant:"success",$$slots:{default:[nm]},$$scope:{ctx:l}}}),{c(){de(e.$$.fragment),t=b(),n=d("span"),s=S(l[2]),c(n,"class","token-preview svelte-16vnl3x")},m(i,u){fe(e,i,u),w(i,t,u),w(i,n,u),r(n,s),o=!0},p(i,u){const a={};u[1]&16&&(a.$$scope={dirty:u,ctx:i}),e.$set(a),(!o||u[0]&4)&&I(s,i[2])},i(i){o||(L(e.$$.fragment,i),o=!0)},o(i){R(e.$$.fragment,i),o=!1},d(i){i&&(k(t),k(n)),_e(e,i)}}}function lm(l){let e;return{c(){e=S("Not configured")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function nm(l){let e;return{c(){e=S("✓ Connected")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function sm(l){let e,t,n,s,o,i,u,a,_,f,p,m,h;i=new Ue({props:{variant:"primary",type:"submit",$$slots:{default:[xp]},$$scope:{ctx:l}}});const v=[tm,em],g=[];function C(y,$){var q;return(q=y[3])!=null&&q.valid?0:1}return _=C(l),f=g[_]=v[_](l),{c(){e=d("p"),e.innerHTML=`Get your token from 
      <a href="https://dash.cloudflare.com/profile/api-tokens" target="_blank" class="svelte-16vnl3x">Cloudflare Dashboard</a>.`,t=b(),n=d("form"),s=d("div"),s.innerHTML='<label for="cf-token" class="svelte-16vnl3x">Cloudflare API Token</label> <input id="cf-token" type="password" placeholder="xxxxx" class="svelte-16vnl3x"/>',o=b(),de(i.$$.fragment),u=b(),a=d("div"),f.c(),c(e,"class","description svelte-16vnl3x"),c(s,"class","form-group svelte-16vnl3x"),c(a,"class","token-status svelte-16vnl3x")},m(y,$){w(y,e,$),w(y,t,$),w(y,n,$),r(n,s),r(n,o),fe(i,n,null),w(y,u,$),w(y,a,$),g[_].m(a,null),p=!0,m||(h=te(n,"submit",l[16]),m=!0)},p(y,$){const q={};$[1]&16&&(q.$$scope={dirty:$,ctx:y}),i.$set(q);let z=_;_=C(y),_===z?g[_].p(y,$):(Te(),R(g[z],1,1,()=>{g[z]=null}),ze(),f=g[_],f?f.p(y,$):(f=g[_]=v[_](y),f.c()),L(f,1),f.m(a,null))},i(y){p||(L(i.$$.fragment,y),L(f),p=!0)},o(y){R(i.$$.fragment,y),R(f),p=!1},d(y){y&&(k(e),k(t),k(n),k(u),k(a)),_e(i),g[_].d(),m=!1,h()}}}function om(l){let e;return{c(){e=S("Setup Domain")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function wa(l){let e,t=l[7].message+"",n;return{c(){e=d("div"),n=S(t),c(e,"class","result svelte-16vnl3x"),Ce(e,"success",l[7].success),Ce(e,"error",!l[7].success)},m(s,o){w(s,e,o),r(e,n)},p(s,o){o[0]&128&&t!==(t=s[7].message+"")&&I(n,t),o[0]&128&&Ce(e,"success",s[7].success),o[0]&128&&Ce(e,"error",!s[7].success)},d(s){s&&k(e)}}}function im(l){let e,t,n,s,o,i,u,a,_,f,p,m,h,v,g,C,y,$,q,z,D,P,T,E;q=new Ue({props:{variant:"primary",type:"submit",$$slots:{default:[om]},$$scope:{ctx:l}}});let A=l[7]&&wa(l);return{c(){e=d("p"),e.textContent='Point a domain to your server. With "Proxied" enabled, HTTPS works automatically.',t=b(),n=d("form"),s=d("div"),o=d("label"),o.textContent="Domain",i=b(),u=d("input"),a=b(),_=d("div"),f=d("label"),f.textContent="Server IP",p=b(),m=d("input"),h=b(),v=d("label"),g=d("input"),C=S(`
        Proxied (Cloudflare handles SSL)`),y=b(),$=d("div"),de(q.$$.fragment),z=b(),A&&A.c(),D=Fe(),c(e,"class","description svelte-16vnl3x"),c(o,"for","domain-name"),c(o,"class","svelte-16vnl3x"),c(u,"id","domain-name"),c(u,"type","text"),c(u,"placeholder","api.example.com"),u.required=!0,c(u,"class","svelte-16vnl3x"),c(s,"class","form-group svelte-16vnl3x"),c(f,"for","domain-ip"),c(f,"class","svelte-16vnl3x"),c(m,"id","domain-ip"),c(m,"type","text"),c(m,"placeholder","1.2.3.4"),m.required=!0,c(m,"class","svelte-16vnl3x"),c(_,"class","form-group svelte-16vnl3x"),c(g,"type","checkbox"),c(g,"class","svelte-16vnl3x"),c(v,"class","checkbox-label svelte-16vnl3x"),c($,"class","form-actions svelte-16vnl3x")},m(M,O){w(M,e,O),w(M,t,O),w(M,n,O),r(n,s),r(s,o),r(s,i),r(s,u),ne(u,l[4]),r(n,a),r(n,_),r(_,f),r(_,p),r(_,m),ne(m,l[5]),r(n,h),r(n,v),r(v,g),g.checked=l[6],r(v,C),r(n,y),r(n,$),fe(q,$,null),w(M,z,O),A&&A.m(M,O),w(M,D,O),P=!0,T||(E=[te(u,"input",l[23]),te(m,"input",l[24]),te(g,"change",l[25]),te(n,"submit",l[17])],T=!0)},p(M,O){O[0]&16&&u.value!==M[4]&&ne(u,M[4]),O[0]&32&&m.value!==M[5]&&ne(m,M[5]),O[0]&64&&(g.checked=M[6]);const J={};O[1]&16&&(J.$$scope={dirty:O,ctx:M}),q.$set(J),M[7]?A?A.p(M,O):(A=wa(M),A.c(),A.m(D.parentNode,D)):A&&(A.d(1),A=null)},i(M){P||(L(q.$$.fragment,M),P=!0)},o(M){R(q.$$.fragment,M),P=!1},d(M){M&&(k(e),k(t),k(n),k(z),k(D)),_e(q),A&&A.d(M),T=!1,Ve(E)}}}function rm(l){let e;return{c(){e=S("Setup DNS Round-Robin")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function $a(l){let e,t=l[11].message+"",n;return{c(){e=d("div"),n=S(t),c(e,"class","result svelte-16vnl3x"),Ce(e,"success",l[11].success),Ce(e,"error",!l[11].success)},m(s,o){w(s,e,o),r(e,n)},p(s,o){o[0]&2048&&t!==(t=s[11].message+"")&&I(n,t),o[0]&2048&&Ce(e,"success",s[11].success),o[0]&2048&&Ce(e,"error",!s[11].success)},d(s){s&&k(e)}}}function am(l){let e,t,n,s,o,i,u,a,_,f,p,m,h,v,g,C,y,$,q,z,D,P,T,E;q=new Ue({props:{variant:"primary",type:"submit",$$slots:{default:[rm]},$$scope:{ctx:l}}});let A=l[11]&&$a(l);return{c(){e=d("p"),e.innerHTML=`Simple load distribution via multiple A records. Cloudflare rotates between IPs at DNS level.
      <strong>FREE</strong>, but no health checks.`,t=b(),n=d("form"),s=d("div"),o=d("label"),o.textContent="Domain",i=b(),u=d("input"),a=b(),_=d("div"),f=d("label"),f.textContent="Server IPs (comma-separated)",p=b(),m=d("input"),h=b(),v=d("label"),g=d("input"),C=S(`
        Proxied (SSL + CDN)`),y=b(),$=d("div"),de(q.$$.fragment),z=b(),A&&A.c(),D=Fe(),c(e,"class","description svelte-16vnl3x"),c(o,"for","lb-domain"),c(o,"class","svelte-16vnl3x"),c(u,"id","lb-domain"),c(u,"type","text"),c(u,"placeholder","api.example.com"),u.required=!0,c(u,"class","svelte-16vnl3x"),c(s,"class","form-group svelte-16vnl3x"),c(f,"for","lb-ips"),c(f,"class","svelte-16vnl3x"),c(m,"id","lb-ips"),c(m,"type","text"),c(m,"placeholder","1.2.3.4, 5.6.7.8"),m.required=!0,c(m,"class","svelte-16vnl3x"),c(_,"class","form-group svelte-16vnl3x"),c(g,"type","checkbox"),c(g,"class","svelte-16vnl3x"),c(v,"class","checkbox-label svelte-16vnl3x"),c($,"class","form-actions svelte-16vnl3x")},m(M,O){w(M,e,O),w(M,t,O),w(M,n,O),r(n,s),r(s,o),r(s,i),r(s,u),ne(u,l[8]),r(n,a),r(n,_),r(_,f),r(_,p),r(_,m),ne(m,l[9]),r(n,h),r(n,v),r(v,g),g.checked=l[10],r(v,C),r(n,y),r(n,$),fe(q,$,null),w(M,z,O),A&&A.m(M,O),w(M,D,O),P=!0,T||(E=[te(u,"input",l[26]),te(m,"input",l[27]),te(g,"change",l[28]),te(n,"submit",l[18])],T=!0)},p(M,O){O[0]&256&&u.value!==M[8]&&ne(u,M[8]),O[0]&512&&m.value!==M[9]&&ne(m,M[9]),O[0]&1024&&(g.checked=M[10]);const J={};O[1]&16&&(J.$$scope={dirty:O,ctx:M}),q.$set(J),M[11]?A?A.p(M,O):(A=$a(M),A.c(),A.m(D.parentNode,D)):A&&(A.d(1),A=null)},i(M){P||(L(q.$$.fragment,M),P=!0)},o(M){R(q.$$.fragment,M),P=!1},d(M){M&&(k(e),k(t),k(n),k(z),k(D)),_e(q),A&&A.d(M),T=!1,Ve(E)}}}function um(l){let e,t,n=pe(l[12]),s=[];for(let i=0;i<n.length;i+=1)s[i]=ya(ka(l,n,i));const o=i=>R(s[i],1,1,()=>{s[i]=null});return{c(){e=d("div");for(let i=0;i<s.length;i+=1)s[i].c();c(e,"class","task-list svelte-16vnl3x")},m(i,u){w(i,e,u);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null);t=!0},p(i,u){if(u[0]&1052672){n=pe(i[12]);let a;for(a=0;a<n.length;a+=1){const _=ka(i,n,a);s[a]?(s[a].p(_,u),L(s[a],1)):(s[a]=ya(_),s[a].c(),L(s[a],1),s[a].m(e,null))}for(Te(),a=n.length;a<s.length;a+=1)o(a);ze()}},i(i){if(!t){for(let u=0;u<n.length;u+=1)L(s[u]);t=!0}},o(i){s=s.filter(Hp);for(let u=0;u<s.length;u+=1)R(s[u]);t=!1},d(i){i&&k(e),Le(s,i)}}}function cm(l){let e;return{c(){e=d("div"),e.textContent="No scheduled tasks",c(e,"class","empty-state svelte-16vnl3x")},m(t,n){w(t,e,n)},p:be,i:be,o:be,d(t){t&&k(e)}}}function fm(l){let e;return{c(){e=d("div"),e.textContent="Loading tasks...",c(e,"class","empty-state svelte-16vnl3x")},m(t,n){w(t,e,n)},p:be,i:be,o:be,d(t){t&&k(e)}}}function _m(l){let e=l[32].type+"",t;return{c(){t=S(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&4096&&e!==(e=n[32].type+"")&&I(t,e)},d(n){n&&k(t)}}}function dm(l){let e;return{c(){e=S("🗑️")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function ya(l){let e,t,n,s=l[32].name+"",o,i,u,a,_,f,p,m=l[32].interval+"",h,v,g,C,y,$;a=new Qe({props:{variant:"info",$$slots:{default:[_m]},$$scope:{ctx:l}}});function q(){return l[29](l[32])}return C=new Ue({props:{variant:"danger",size:"sm",$$slots:{default:[dm]},$$scope:{ctx:l}}}),C.$on("click",q),{c(){e=d("div"),t=d("div"),n=d("div"),o=S(s),i=b(),u=d("div"),de(a.$$.fragment),_=b(),f=d("span"),p=S("Every "),h=S(m),v=S(" min"),g=b(),de(C.$$.fragment),y=b(),c(n,"class","task-name svelte-16vnl3x"),c(u,"class","task-meta svelte-16vnl3x"),c(t,"class","task-info"),c(e,"class","task-item svelte-16vnl3x")},m(z,D){w(z,e,D),r(e,t),r(t,n),r(n,o),r(t,i),r(t,u),fe(a,u,null),r(u,_),r(u,f),r(f,p),r(f,h),r(f,v),r(e,g),fe(C,e,null),r(e,y),$=!0},p(z,D){l=z,(!$||D[0]&4096)&&s!==(s=l[32].name+"")&&I(o,s);const P={};D[0]&4096|D[1]&16&&(P.$$scope={dirty:D,ctx:l}),a.$set(P),(!$||D[0]&4096)&&m!==(m=l[32].interval+"")&&I(h,m);const T={};D[1]&16&&(T.$$scope={dirty:D,ctx:l}),C.$set(T)},i(z){$||(L(a.$$.fragment,z),L(C.$$.fragment,z),$=!0)},o(z){R(a.$$.fragment,z),R(C.$$.fragment,z),$=!1},d(z){z&&k(e),_e(a),_e(C)}}}function pm(l){let e,t,n,s,o,i;const u=[fm,cm,um],a=[];function _(f,p){return f[13]?0:f[12].length===0?1:2}return n=_(l),s=a[n]=u[n](l),{c(){e=d("p"),e.textContent="Schedule recurring tasks like health checks, auto-restart, and backups.",t=b(),s.c(),o=Fe(),c(e,"class","description svelte-16vnl3x")},m(f,p){w(f,e,p),w(f,t,p),a[n].m(f,p),w(f,o,p),i=!0},p(f,p){let m=n;n=_(f),n===m?a[n].p(f,p):(Te(),R(a[m],1,1,()=>{a[m]=null}),ze(),s=a[n],s?s.p(f,p):(s=a[n]=u[n](f),s.c()),L(s,1),s.m(o.parentNode,o))},i(f){i||(L(s),i=!0)},o(f){R(s),i=!1},d(f){f&&(k(e),k(t),k(o)),a[n].d(f)}}}function mm(l){let e;return{c(){e=S("↻ Refresh")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function vm(l){let e,t;return e=new Ue({props:{slot:"header",variant:"ghost",size:"sm",$$slots:{default:[mm]},$$scope:{ctx:l}}}),e.$on("click",l[19]),{c(){de(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[1]&16&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(L(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function hm(l){let e,t,n,s,o,i,u,a,_,f,p,m,h;return t=new ft({props:{title:"🎨 Appearance",$$slots:{default:[Gp]},$$scope:{ctx:l}}}),s=new ft({props:{title:"⚙️ DigitalOcean Credentials",$$slots:{default:[Xp]},$$scope:{ctx:l}}}),i=new ft({props:{title:"☁️ Cloudflare Credentials",$$slots:{default:[sm]},$$scope:{ctx:l}}}),a=new ft({props:{title:"🌐 Domain Setup",$$slots:{default:[im]},$$scope:{ctx:l}}}),f=new ft({props:{title:"🌐 DNS Round-Robin (Cloudflare)",$$slots:{default:[am]},$$scope:{ctx:l}}}),m=new ft({props:{title:"⏰ Task Scheduler",$$slots:{header:[vm],default:[pm]},$$scope:{ctx:l}}}),{c(){e=d("div"),de(t.$$.fragment),n=b(),de(s.$$.fragment),o=b(),de(i.$$.fragment),u=b(),de(a.$$.fragment),_=b(),de(f.$$.fragment),p=b(),de(m.$$.fragment),c(e,"class","settings-page svelte-16vnl3x")},m(v,g){w(v,e,g),fe(t,e,null),r(e,n),fe(s,e,null),r(e,o),fe(i,e,null),r(e,u),fe(a,e,null),r(e,_),fe(f,e,null),r(e,p),fe(m,e,null),h=!0},p(v,g){const C={};g[0]&16384|g[1]&16&&(C.$$scope={dirty:g,ctx:v}),t.$set(C);const y={};g[0]&3|g[1]&16&&(y.$$scope={dirty:g,ctx:v}),s.$set(y);const $={};g[0]&12|g[1]&16&&($.$$scope={dirty:g,ctx:v}),i.$set($);const q={};g[0]&240|g[1]&16&&(q.$$scope={dirty:g,ctx:v}),a.$set(q);const z={};g[0]&3840|g[1]&16&&(z.$$scope={dirty:g,ctx:v}),f.$set(z);const D={};g[0]&12288|g[1]&16&&(D.$$scope={dirty:g,ctx:v}),m.$set(D)},i(v){h||(L(t.$$.fragment,v),L(s.$$.fragment,v),L(i.$$.fragment,v),L(a.$$.fragment,v),L(f.$$.fragment,v),L(m.$$.fragment,v),h=!0)},o(v){R(t.$$.fragment,v),R(s.$$.fragment,v),R(i.$$.fragment,v),R(a.$$.fragment,v),R(f.$$.fragment,v),R(m.$$.fragment,v),h=!1},d(v){v&&k(e),_e(t),_e(s),_e(i),_e(a),_e(f),_e(m)}}}function gm(l,e,t){let n;_t(l,$n,X=>t(14,n=X));let s="",o=null,i="",u=null,a="",_="",f=!0,p=null,m="",h="",v=!0,g=null,C=[],y=!1;kl(()=>{$(),q(),E()});async function $(){const X=Ot();if(X){t(0,s=X.substring(0,10)+"...");try{await He("GET","/infra/snapshots"),t(1,o={valid:!0})}catch{t(1,o={valid:!1})}}else t(1,o={valid:!1,missing:!0})}async function q(){const X=Tn();X?(t(2,i=X.substring(0,10)+"..."),t(3,u={valid:!0})):t(3,u={valid:!1,missing:!0})}async function z(X){X.preventDefault();const Z=X.target.querySelector("input"),ee=Z.value;if(!ee){ye.error("Token is required");return}m1(ee),Z.value="",ye.success("DigitalOcean token saved"),await $(),Xt.refresh(),Nn.refresh(),dn.refresh(),bl.refresh()}async function D(X){X.preventDefault();const Z=X.target.querySelector("input"),ee=Z.value;if(!ee){ye.error("Token is required");return}v1(ee),Z.value="",ye.success("Cloudflare token saved"),await q()}async function P(X){X.preventDefault();try{const Z=await He("POST","/infra/cloudflare/domain",{domain:a,ip:_,proxied:f});t(7,p={success:!0,message:"Domain configured successfully"}),ye.success("Domain setup complete")}catch(Z){t(7,p={success:!1,message:Z.message}),ye.error(Z.message)}}async function T(X){X.preventDefault();try{const Z=h.split(",").map(se=>se.trim()).filter(Boolean),ee=await He("POST","/infra/cloudflare/lb",{domain:m,server_ips:Z,proxied:v});t(11,g={success:!0,message:`Created load balancer with ${Z.length} servers`}),ye.success("Load balancer configured")}catch(Z){t(11,g={success:!1,message:Z.message}),ye.error(Z.message)}}async function E(){t(13,y=!0);try{const X=await He("GET","/infra/scheduler/tasks");t(12,C=X.tasks||X||[])}catch{t(12,C=[])}finally{t(13,y=!1)}}async function A(X){if(confirm("Delete this scheduled task?"))try{await He("DELETE",`/infra/scheduler/tasks/${X}`),ye.success("Task deleted"),await E()}catch(Z){ye.error(Z.message)}}function M(){n=ct(this),$n.set(n)}const O=()=>$n.set(n);function J(){a=this.value,t(4,a)}function W(){_=this.value,t(5,_)}function F(){f=this.checked,t(6,f)}function B(){m=this.value,t(8,m)}function N(){h=this.value,t(9,h)}function j(){v=this.checked,t(10,v)}return[s,o,i,u,a,_,f,p,m,h,v,g,C,y,n,z,D,P,T,E,A,M,O,J,W,F,B,N,j,X=>A(X.id)]}class bm extends yt{constructor(e){super(),$t(this,e,gm,hm,bt,{},null,[-1,-1])}}function Ca(l,e,t){const n=l.slice();n[21]=e[t];const s=n[1].filter(function(...a){return l[17](n[21],...a)});n[22]=s;const o=n[21].domain;n[23]=o;const i=n[22].length>1;return n[24]=i,n}function qa(l,e,t){const n=l.slice();return n[27]=e[t],n}function Sa(l,e,t){const n=l.slice();return n[21]=e[t],n}function Ta(l,e,t){const n=l.slice();return n[32]=e[t],n}function km(l){let e,t,n,s,o,i,u,a,_,f,p,m,h,v,g,C,y,$,q=l[1].length+"",z,D,P,T,E,A,M,O,J=l[7].length+"",W,F,B,N;const j=[qm,Cm],U=[];function X(Z,ee){return Z[11]?1:0}return m=X(l),h=U[m]=j[m](l),{c(){e=d("div"),t=d("div"),n=d("div"),n.innerHTML='<span class="summary-icon svelte-odhywp">🔀</span> <span>Nginx Sidecar</span>',s=b(),o=d("div"),i=S(l[3]),u=S("/"),a=S(l[2]),_=b(),f=d("div"),f.textContent="servers with nginx",p=b(),h.c(),v=b(),g=d("div"),C=d("div"),C.innerHTML='<span class="summary-icon svelte-odhywp">🤖</span> <span>Node Agents</span>',y=b(),$=d("div"),z=S(q),D=b(),P=d("div"),P.textContent="servers monitored",T=b(),E=d("div"),A=d("div"),A.innerHTML='<span class="summary-icon svelte-odhywp">📦</span> <span>Services</span>',M=b(),O=d("div"),W=S(J),F=b(),B=d("div"),B.textContent="deployed services",c(n,"class","summary-header svelte-odhywp"),c(o,"class","summary-value svelte-odhywp"),c(f,"class","summary-label svelte-odhywp"),c(t,"class","summary-card svelte-odhywp"),Ce(t,"ok",l[11]),Ce(t,"warn",!l[11]),c(C,"class","summary-header svelte-odhywp"),c($,"class","summary-value svelte-odhywp"),c(P,"class","summary-label svelte-odhywp"),c(g,"class","summary-card info svelte-odhywp"),c(A,"class","summary-header svelte-odhywp"),c(O,"class","summary-value svelte-odhywp"),c(B,"class","summary-label svelte-odhywp"),c(E,"class","summary-card info svelte-odhywp"),c(e,"class","summary-grid svelte-odhywp")},m(Z,ee){w(Z,e,ee),r(e,t),r(t,n),r(t,s),r(t,o),r(o,i),r(o,u),r(o,a),r(t,_),r(t,f),r(t,p),U[m].m(t,null),r(e,v),r(e,g),r(g,C),r(g,y),r(g,$),r($,z),r(g,D),r(g,P),r(e,T),r(e,E),r(E,A),r(E,M),r(E,O),r(O,W),r(E,F),r(E,B),N=!0},p(Z,ee){(!N||ee[0]&8)&&I(i,Z[3]),(!N||ee[0]&4)&&I(a,Z[2]);let se=m;m=X(Z),m===se?U[m].p(Z,ee):(Te(),R(U[se],1,1,()=>{U[se]=null}),ze(),h=U[m],h?h.p(Z,ee):(h=U[m]=j[m](Z),h.c()),L(h,1),h.m(t,null)),(!N||ee[0]&2048)&&Ce(t,"ok",Z[11]),(!N||ee[0]&2048)&&Ce(t,"warn",!Z[11]),(!N||ee[0]&2)&&q!==(q=Z[1].length+"")&&I(z,q),(!N||ee[0]&128)&&J!==(J=Z[7].length+"")&&I(W,J)},i(Z){N||(L(h),N=!0)},o(Z){R(h),N=!1},d(Z){Z&&k(e),U[m].d()}}}function wm(l){let e;return{c(){e=d("div"),e.innerHTML='<p>No services deployed yet</p> <p class="hint svelte-odhywp">Deploy your first service to see the architecture</p>',c(e,"class","empty-state svelte-odhywp")},m(t,n){w(t,e,n)},p:be,i:be,o:be,d(t){t&&k(e)}}}function $m(l){let e,t,n,s,o,i;return{c(){e=d("div"),t=d("p"),n=S("Failed to load: "),s=S(l[9]),o=b(),i=d("p"),i.textContent="Check your connection and try refreshing",c(i,"class","hint svelte-odhywp"),c(e,"class","empty-state svelte-odhywp")},m(u,a){w(u,e,a),r(e,t),r(t,n),r(t,s),r(e,o),r(e,i)},p(u,a){a[0]&512&&I(s,u[9])},i:be,o:be,d(u){u&&k(e)}}}function ym(l){let e;return{c(){e=d("div"),e.textContent="Loading architecture...",c(e,"class","empty-state svelte-odhywp")},m(t,n){w(t,e,n)},p:be,i:be,o:be,d(t){t&&k(e)}}}function Cm(l){let e;return{c(){e=d("div"),e.textContent="✅ All servers OK",c(e,"class","summary-ok svelte-odhywp")},m(t,n){w(t,e,n)},p:be,i:be,o:be,d(t){t&&k(e)}}}function qm(l){let e,t;return e=new Ue({props:{variant:"warning",size:"sm",$$slots:{default:[Sm]},$$scope:{ctx:l}}}),e.$on("click",l[13]),{c(){de(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[0]&12|s[1]&16&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(L(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function Sm(l){let e,t=l[2]-l[3]+"",n,s;return{c(){e=S("🔧 Fix "),n=S(t),s=S(" server(s)")},m(o,i){w(o,e,i),w(o,n,i),w(o,s,i)},p(o,i){i[0]&12&&t!==(t=o[2]-o[3]+"")&&I(n,t)},d(o){o&&(k(e),k(n),k(s))}}}function Tm(l){let e,t,n,s;const o=[ym,$m,wm,km],i=[];function u(a,_){return a[6]&&!a[10]?0:a[9]?1:a[7].length===0&&a[1].length===0?2:3}return e=u(l),t=i[e]=o[e](l),{c(){t.c(),n=Fe()},m(a,_){i[e].m(a,_),w(a,n,_),s=!0},p(a,_){let f=e;e=u(a),e===f?i[e].p(a,_):(Te(),R(i[f],1,1,()=>{i[f]=null}),ze(),t=i[e],t?t.p(a,_):(t=i[e]=o[e](a),t.c()),L(t,1),t.m(n.parentNode,n))},i(a){s||(L(t),s=!0)},o(a){R(t),s=!1},d(a){a&&k(n),i[e].d(a)}}}function za(l){let e,t=l[32]+"",n,s;return{c(){e=d("option"),n=S(t),e.__value=s=l[32],ne(e,e.__value)},m(o,i){w(o,e,i),r(e,n)},p(o,i){i[0]&4096&&t!==(t=o[32]+"")&&I(n,t),i[0]&4096&&s!==(s=o[32])&&(e.__value=s,ne(e,e.__value))},d(o){o&&k(e)}}}function Da(l){let e,t,n=Na(l[8])+"",s;return{c(){e=d("span"),t=S("Updated "),s=S(n),c(e,"class","last-updated svelte-odhywp")},m(o,i){w(o,e,i),r(e,t),r(e,s)},p(o,i){i[0]&256&&n!==(n=Na(o[8])+"")&&I(s,n)},d(o){o&&k(e)}}}function zm(l){let e;return{c(){e=S("↻ Refresh")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Dm(l){let e,t,n,s,o,i,u,a,_,f,p,m,h,v,g,C=pe(l[12]||[]),y=[];for(let q=0;q<C.length;q+=1)y[q]=za(Ta(l,C,q));let $=l[8]&&Da(l);return m=new Ue({props:{variant:"ghost",size:"sm",$$slots:{default:[zm]},$$scope:{ctx:l}}}),m.$on("click",l[0]),{c(){e=d("div"),t=d("select"),n=d("option"),n.textContent="All Projects";for(let q=0;q<y.length;q+=1)y[q].c();s=b(),o=d("select"),i=d("option"),i.textContent="All Envs",u=d("option"),u.textContent="prod",a=d("option"),a.textContent="staging",_=d("option"),_.textContent="dev",f=b(),$&&$.c(),p=b(),de(m.$$.fragment),n.__value="",ne(n,n.__value),c(t,"class","svelte-odhywp"),l[4]===void 0&&Xe(()=>l[15].call(t)),i.__value="",ne(i,i.__value),u.__value="prod",ne(u,u.__value),a.__value="staging",ne(a,a.__value),_.__value="dev",ne(_,_.__value),c(o,"class","svelte-odhywp"),l[5]===void 0&&Xe(()=>l[16].call(o)),c(e,"slot","header"),c(e,"class","filters svelte-odhywp")},m(q,z){w(q,e,z),r(e,t),r(t,n);for(let D=0;D<y.length;D+=1)y[D]&&y[D].m(t,null);je(t,l[4],!0),r(e,s),r(e,o),r(o,i),r(o,u),r(o,a),r(o,_),je(o,l[5],!0),r(e,f),$&&$.m(e,null),r(e,p),fe(m,e,null),h=!0,v||(g=[te(t,"change",l[15]),te(t,"change",l[14]),te(o,"change",l[16]),te(o,"change",l[14])],v=!0)},p(q,z){if(z[0]&4096){C=pe(q[12]||[]);let P;for(P=0;P<C.length;P+=1){const T=Ta(q,C,P);y[P]?y[P].p(T,z):(y[P]=za(T),y[P].c(),y[P].m(t,null))}for(;P<y.length;P+=1)y[P].d(1);y.length=C.length}z[0]&4112&&je(t,q[4]),z[0]&32&&je(o,q[5]),q[8]?$?$.p(q,z):($=Da(q),$.c(),$.m(e,p)):$&&($.d(1),$=null);const D={};z[1]&16&&(D.$$scope={dirty:z,ctx:q}),m.$set(D)},i(q){h||(L(m.$$.fragment,q),h=!0)},o(q){R(m.$$.fragment,q),h=!1},d(q){q&&k(e),Le(y,q),$&&$.d(),_e(m),v=!1,Ve(g)}}}function Em(l){let e,t,n=pe(l[7]),s=[];for(let i=0;i<n.length;i+=1)s[i]=Ea(Sa(l,n,i));const o=i=>R(s[i],1,1,()=>{s[i]=null});return{c(){e=d("div");for(let i=0;i<s.length;i+=1)s[i].c();c(e,"class","list svelte-odhywp")},m(i,u){w(i,e,u);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null);t=!0},p(i,u){if(u[0]&128){n=pe(i[7]);let a;for(a=0;a<n.length;a+=1){const _=Sa(i,n,a);s[a]?(s[a].p(_,u),L(s[a],1)):(s[a]=Ea(_),s[a].c(),L(s[a],1),s[a].m(e,null))}for(Te(),a=n.length;a<s.length;a+=1)o(a);ze()}},i(i){if(!t){for(let u=0;u<n.length;u+=1)L(s[u]);t=!0}},o(i){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)R(s[u]);t=!1},d(i){i&&k(e),Le(s,i)}}}function Pm(l){let e;return{c(){e=d("div"),e.textContent="No services found",c(e,"class","empty-panel svelte-odhywp")},m(t,n){w(t,e,n)},p:be,i:be,o:be,d(t){t&&k(e)}}}function Lm(l){let e=l[21].type+"",t;return{c(){t=S(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&128&&e!==(e=n[21].type+"")&&I(t,e)},d(n){n&&k(t)}}}function Ea(l){var B,N;let e,t,n=rn(l[21])+"",s,o,i,u,a=l[21].service+"",_,f,p,m=l[21].project+"",h,v,g=l[21].env+"",C,y,$,q,z=(((B=l[21].servers)==null?void 0:B.length)||0)+"",D,P,T,E,A=(((N=l[21].ports)==null?void 0:N.join(", "))||"-")+"",M,O,J,W,F;return J=new Qe({props:{variant:l[21].type==="stateful"?"warning":"info",$$slots:{default:[Lm]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),s=S(n),o=b(),i=d("div"),u=d("div"),_=S(a),f=b(),p=d("div"),h=S(m),v=S(" / "),C=S(g),y=b(),$=d("div"),q=d("div"),D=S(z),P=S(" server(s)"),T=b(),E=d("div"),M=S(A),O=b(),de(J.$$.fragment),W=b(),c(t,"class","item-icon svelte-odhywp"),c(u,"class","item-name svelte-odhywp"),c(p,"class","item-meta svelte-odhywp"),c(i,"class","item-info svelte-odhywp"),c(E,"class","ports svelte-odhywp"),c($,"class","item-stats svelte-odhywp"),c(e,"class","list-item svelte-odhywp")},m(j,U){w(j,e,U),r(e,t),r(t,s),r(e,o),r(e,i),r(i,u),r(u,_),r(i,f),r(i,p),r(p,h),r(p,v),r(p,C),r(e,y),r(e,$),r($,q),r(q,D),r(q,P),r($,T),r($,E),r(E,M),r(e,O),fe(J,e,null),r(e,W),F=!0},p(j,U){var Z,ee;(!F||U[0]&128)&&n!==(n=rn(j[21])+"")&&I(s,n),(!F||U[0]&128)&&a!==(a=j[21].service+"")&&I(_,a),(!F||U[0]&128)&&m!==(m=j[21].project+"")&&I(h,m),(!F||U[0]&128)&&g!==(g=j[21].env+"")&&I(C,g),(!F||U[0]&128)&&z!==(z=(((Z=j[21].servers)==null?void 0:Z.length)||0)+"")&&I(D,z),(!F||U[0]&128)&&A!==(A=(((ee=j[21].ports)==null?void 0:ee.join(", "))||"-")+"")&&I(M,A);const X={};U[0]&128&&(X.variant=j[21].type==="stateful"?"warning":"info"),U[0]&128|U[1]&16&&(X.$$scope={dirty:U,ctx:j}),J.$set(X)},i(j){F||(L(J.$$.fragment,j),F=!0)},o(j){R(J.$$.fragment,j),F=!1},d(j){j&&k(e),_e(J)}}}function Mm(l){let e,t,n,s;const o=[Pm,Em],i=[];function u(a,_){return a[7].length===0?0:1}return e=u(l),t=i[e]=o[e](l),{c(){t.c(),n=Fe()},m(a,_){i[e].m(a,_),w(a,n,_),s=!0},p(a,_){let f=e;e=u(a),e===f?i[e].p(a,_):(Te(),R(i[f],1,1,()=>{i[f]=null}),ze(),t=i[e],t?t.p(a,_):(t=i[e]=o[e](a),t.c()),L(t,1),t.m(n.parentNode,n))},i(a){s||(L(t),s=!0)},o(a){R(t),s=!1},d(a){a&&k(n),i[e].d(a)}}}function jm(l){let e,t,n=pe(l[1]),s=[];for(let i=0;i<n.length;i+=1)s[i]=Pa(qa(l,n,i));const o=i=>R(s[i],1,1,()=>{s[i]=null});return{c(){e=d("div");for(let i=0;i<s.length;i+=1)s[i].c();c(e,"class","list svelte-odhywp")},m(i,u){w(i,e,u);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null);t=!0},p(i,u){if(u[0]&2){n=pe(i[1]);let a;for(a=0;a<n.length;a+=1){const _=qa(i,n,a);s[a]?(s[a].p(_,u),L(s[a],1)):(s[a]=Pa(_),s[a].c(),L(s[a],1),s[a].m(e,null))}for(Te(),a=n.length;a<s.length;a+=1)o(a);ze()}},i(i){if(!t){for(let u=0;u<n.length;u+=1)L(s[u]);t=!0}},o(i){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)R(s[u]);t=!1},d(i){i&&k(e),Le(s,i)}}}function Nm(l){let e;return{c(){e=d("div"),e.textContent="No servers found",c(e,"class","empty-panel svelte-odhywp")},m(t,n){w(t,e,n)},p:be,i:be,o:be,d(t){t&&k(e)}}}function Am(l){let e=an(l[27])?"🔀 nginx":"⚠️ no nginx",t;return{c(){t=S(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&2&&e!==(e=an(n[27])?"🔀 nginx":"⚠️ no nginx")&&I(t,e)},d(n){n&&k(t)}}}function Rm(l){let e,t=(l[27].agent_version||"?")+"",n;return{c(){e=S("🤖 v"),n=S(t)},m(s,o){w(s,e,o),w(s,n,o)},p(s,o){o[0]&2&&t!==(t=(s[27].agent_version||"?")+"")&&I(n,t)},d(s){s&&(k(e),k(n))}}}function Pa(l){let e,t,n=l[27].status==="online"?"🟢":"🔴",s,o,i,u,a=l[27].ip+"",_,f,p,m=(l[27].containers||0)+"",h,v,g,C,y,$,q,z,D;return y=new Qe({props:{variant:an(l[27])?"success":"warning",$$slots:{default:[Am]},$$scope:{ctx:l}}}),q=new Qe({props:{variant:"info",$$slots:{default:[Rm]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),s=S(n),o=b(),i=d("div"),u=d("code"),_=S(a),f=b(),p=d("div"),h=S(m),v=S(" container(s)"),g=b(),C=d("div"),de(y.$$.fragment),$=b(),de(q.$$.fragment),z=b(),c(t,"class","item-icon svelte-odhywp"),c(u,"class","server-ip svelte-odhywp"),c(p,"class","item-meta svelte-odhywp"),c(i,"class","item-info svelte-odhywp"),c(C,"class","item-badges svelte-odhywp"),c(e,"class","list-item svelte-odhywp")},m(P,T){w(P,e,T),r(e,t),r(t,s),r(e,o),r(e,i),r(i,u),r(u,_),r(i,f),r(i,p),r(p,h),r(p,v),r(e,g),r(e,C),fe(y,C,null),r(C,$),fe(q,C,null),r(e,z),D=!0},p(P,T){(!D||T[0]&2)&&n!==(n=P[27].status==="online"?"🟢":"🔴")&&I(s,n),(!D||T[0]&2)&&a!==(a=P[27].ip+"")&&I(_,a),(!D||T[0]&2)&&m!==(m=(P[27].containers||0)+"")&&I(h,m);const E={};T[0]&2&&(E.variant=an(P[27])?"success":"warning"),T[0]&2|T[1]&16&&(E.$$scope={dirty:T,ctx:P}),y.$set(E);const A={};T[0]&2|T[1]&16&&(A.$$scope={dirty:T,ctx:P}),q.$set(A)},i(P){D||(L(y.$$.fragment,P),L(q.$$.fragment,P),D=!0)},o(P){R(y.$$.fragment,P),R(q.$$.fragment,P),D=!1},d(P){P&&k(e),_e(y),_e(q)}}}function Om(l){let e,t,n,s;const o=[Nm,jm],i=[];function u(a,_){return a[1].length===0?0:1}return e=u(l),t=i[e]=o[e](l),{c(){t.c(),n=Fe()},m(a,_){i[e].m(a,_),w(a,n,_),s=!0},p(a,_){let f=e;e=u(a),e===f?i[e].p(a,_):(Te(),R(i[f],1,1,()=>{i[f]=null}),ze(),t=i[e],t?t.p(a,_):(t=i[e]=o[e](a),t.c()),L(t,1),t.m(n.parentNode,n))},i(a){s||(L(t),s=!0)},o(a){R(t),s=!1},d(a){a&&k(n),i[e].d(a)}}}function Fm(l){let e,t,n=pe(l[7]),s=[];for(let i=0;i<n.length;i+=1)s[i]=ja(Ca(l,n,i));const o=i=>R(s[i],1,1,()=>{s[i]=null});return{c(){e=d("div");for(let i=0;i<s.length;i+=1)s[i].c();c(e,"class","traffic-flow svelte-odhywp")},m(i,u){w(i,e,u);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null);t=!0},p(i,u){if(u[0]&130){n=pe(i[7]);let a;for(a=0;a<n.length;a+=1){const _=Ca(i,n,a);s[a]?(s[a].p(_,u),L(s[a],1)):(s[a]=ja(_),s[a].c(),L(s[a],1),s[a].m(e,null))}for(Te(),a=n.length;a<s.length;a+=1)o(a);ze()}},i(i){if(!t){for(let u=0;u<n.length;u+=1)L(s[u]);t=!0}},o(i){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)R(s[u]);t=!1},d(i){i&&k(e),Le(s,i)}}}function Im(l){let e;return{c(){e=d("div"),e.textContent="Deploy services to see traffic flow",c(e,"class","empty-panel svelte-odhywp")},m(t,n){w(t,e,n)},p:be,i:be,o:be,d(t){t&&k(e)}}}function Bm(l){let e=l[21].env+"",t;return{c(){t=S(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&128&&e!==(e=n[21].env+"")&&I(t,e)},d(n){n&&k(t)}}}function La(l){let e,t,n,s,o,i,u=l[21].domain+"",a,_,f;return{c(){e=d("div"),t=d("span"),t.textContent="☁️",n=b(),s=d("span"),s.textContent="Cloudflare",o=b(),i=d("span"),a=S(u),_=b(),f=d("div"),f.textContent="→",c(t,"class","svelte-odhywp"),c(s,"class","node-label svelte-odhywp"),c(i,"class","node-detail svelte-odhywp"),c(e,"class","flow-node cloudflare svelte-odhywp"),c(f,"class","flow-arrow svelte-odhywp")},m(p,m){w(p,e,m),r(e,t),r(e,n),r(e,s),r(e,o),r(e,i),r(i,a),w(p,_,m),w(p,f,m)},p(p,m){m[0]&128&&u!==(u=p[21].domain+"")&&I(a,u)},d(p){p&&(k(e),k(_),k(f))}}}function Um(l){let e;return{c(){e=S("Server")},m(t,n){w(t,e,n)},p:be,d(t){t&&k(e)}}}function Hm(l){let e,t=l[22].length+"",n,s;return{c(){e=S("⚖️ Load Balanced ("),n=S(t),s=S(")")},m(o,i){w(o,e,i),w(o,n,i),w(o,s,i)},p(o,i){i[0]&130&&t!==(t=o[22].length+"")&&I(n,t)},d(o){o&&(k(e),k(n),k(s))}}}function Ma(l){let e,t,n,s=l[21].domain+"",o,i;return{c(){e=d("span"),t=S("Domain: "),n=d("a"),o=S(s),c(n,"href",i="https://"+l[21].domain),c(n,"target","_blank"),c(n,"class","svelte-odhywp")},m(u,a){w(u,e,a),r(e,t),r(e,n),r(n,o)},p(u,a){a[0]&128&&s!==(s=u[21].domain+"")&&I(o,s),a[0]&128&&i!==(i="https://"+u[21].domain)&&c(n,"href",i)},d(u){u&&k(e)}}}function ja(l){let e,t,n,s=rn(l[21])+"",o,i,u,a=l[21].service+"",_,f,p,m,h,v,g,C,y,$,q,z,D,P,T,E,A,M,O,J,W,F,B,N,j=(l[21].host_port||"8000")+"",U,X,Z,ee,se,Q,G,H=(l[21].container_name||l[21].id)+"",re,V,ae;p=new Qe({props:{variant:l[21].env==="prod"?"danger":"info",$$slots:{default:[Bm]},$$scope:{ctx:l}}});let le=l[23]&&La(l);function K(x,Y){return x[24]?Hm:Um}let me=K(l),ue=me(l),ie=l[23]&&Ma(l);return{c(){e=d("div"),t=d("div"),n=d("span"),o=S(s),i=b(),u=d("span"),_=S(a),f=b(),de(p.$$.fragment),m=b(),h=d("div"),le&&le.c(),v=b(),g=d("div"),C=d("span"),C.textContent="🖥️",y=b(),$=d("span"),ue.c(),q=b(),z=d("div"),z.textContent="→",D=b(),P=d("div"),P.innerHTML='<span class="svelte-odhywp">🔀</span> <span class="node-label svelte-odhywp">nginx</span> <span class="node-detail svelte-odhywp">:443</span>',T=b(),E=d("div"),E.textContent="→",A=b(),M=d("div"),O=d("span"),O.textContent="🐳",J=b(),W=d("span"),W.textContent="Container",F=b(),B=d("span"),N=S(":"),U=S(j),X=b(),Z=d("div"),ie&&ie.c(),ee=b(),se=d("span"),Q=S("Container: "),G=d("code"),re=S(H),V=b(),c(n,"class","flow-icon svelte-odhywp"),c(u,"class","flow-name svelte-odhywp"),c(t,"class","flow-header svelte-odhywp"),c(C,"class","svelte-odhywp"),c($,"class","node-label svelte-odhywp"),c(g,"class","flow-node server svelte-odhywp"),c(z,"class","flow-arrow svelte-odhywp"),c(P,"class","flow-node nginx svelte-odhywp"),c(E,"class","flow-arrow svelte-odhywp"),c(O,"class","svelte-odhywp"),c(W,"class","node-label svelte-odhywp"),c(B,"class","node-detail svelte-odhywp"),c(M,"class","flow-node container svelte-odhywp"),c(h,"class","flow-path svelte-odhywp"),c(G,"class","svelte-odhywp"),c(Z,"class","flow-details svelte-odhywp"),c(e,"class","flow-card svelte-odhywp")},m(x,Y){w(x,e,Y),r(e,t),r(t,n),r(n,o),r(t,i),r(t,u),r(u,_),r(t,f),fe(p,t,null),r(e,m),r(e,h),le&&le.m(h,null),r(h,v),r(h,g),r(g,C),r(g,y),r(g,$),ue.m($,null),r(h,q),r(h,z),r(h,D),r(h,P),r(h,T),r(h,E),r(h,A),r(h,M),r(M,O),r(M,J),r(M,W),r(M,F),r(M,B),r(B,N),r(B,U),r(e,X),r(e,Z),ie&&ie.m(Z,null),r(Z,ee),r(Z,se),r(se,Q),r(se,G),r(G,re),r(e,V),ae=!0},p(x,Y){(!ae||Y[0]&128)&&s!==(s=rn(x[21])+"")&&I(o,s),(!ae||Y[0]&128)&&a!==(a=x[21].service+"")&&I(_,a);const he={};Y[0]&128&&(he.variant=x[21].env==="prod"?"danger":"info"),Y[0]&128|Y[1]&16&&(he.$$scope={dirty:Y,ctx:x}),p.$set(he),x[23]?le?le.p(x,Y):(le=La(x),le.c(),le.m(h,v)):le&&(le.d(1),le=null),me===(me=K(x))&&ue?ue.p(x,Y):(ue.d(1),ue=me(x),ue&&(ue.c(),ue.m($,null))),(!ae||Y[0]&128)&&j!==(j=(x[21].host_port||"8000")+"")&&I(U,j),x[23]?ie?ie.p(x,Y):(ie=Ma(x),ie.c(),ie.m(Z,ee)):ie&&(ie.d(1),ie=null),(!ae||Y[0]&128)&&H!==(H=(x[21].container_name||x[21].id)+"")&&I(re,H)},i(x){ae||(L(p.$$.fragment,x),ae=!0)},o(x){R(p.$$.fragment,x),ae=!1},d(x){x&&k(e),_e(p),le&&le.d(),ue.d(),ie&&ie.d()}}}function Gm(l){let e,t,n,s;const o=[Im,Fm],i=[];function u(a,_){return a[7].length===0?0:1}return e=u(l),t=i[e]=o[e](l),{c(){t.c(),n=Fe()},m(a,_){i[e].m(a,_),w(a,n,_),s=!0},p(a,_){let f=e;e=u(a),e===f?i[e].p(a,_):(Te(),R(i[f],1,1,()=>{i[f]=null}),ze(),t=i[e],t?t.p(a,_):(t=i[e]=o[e](a),t.c()),L(t,1),t.m(n.parentNode,n))},i(a){s||(L(t),s=!0)},o(a){R(t),s=!1},d(a){a&&k(n),i[e].d(a)}}}function Vm(l){let e;return{c(){e=d("span"),e.textContent="Request path from client to container",c(e,"slot","header"),c(e,"class","subtitle svelte-odhywp")},m(t,n){w(t,e,n)},p:be,d(t){t&&k(e)}}}function Wm(l){let e,t,n,s,o,i,u,a,_,f;return t=new ft({props:{title:"🏗️ Architecture View",$$slots:{header:[Dm],default:[Tm]},$$scope:{ctx:l}}}),o=new ft({props:{title:"📦 Services",padding:!1,$$slots:{default:[Mm]},$$scope:{ctx:l}}}),u=new ft({props:{title:"🖥️ Servers",padding:!1,$$slots:{default:[Om]},$$scope:{ctx:l}}}),_=new ft({props:{title:"🚦 Traffic Flow",$$slots:{header:[Vm],default:[Gm]},$$scope:{ctx:l}}}),{c(){e=d("div"),de(t.$$.fragment),n=b(),s=d("div"),de(o.$$.fragment),i=b(),de(u.$$.fragment),a=b(),de(_.$$.fragment),c(s,"class","panels-grid svelte-odhywp"),c(e,"class","architecture-page svelte-odhywp")},m(p,m){w(p,e,m),fe(t,e,null),r(e,n),r(e,s),fe(o,s,null),r(s,i),fe(u,s,null),r(e,a),fe(_,e,null),f=!0},p(p,m){const h={};m[0]&8190|m[1]&16&&(h.$$scope={dirty:m,ctx:p}),t.$set(h);const v={};m[0]&128|m[1]&16&&(v.$$scope={dirty:m,ctx:p}),o.$set(v);const g={};m[0]&2|m[1]&16&&(g.$$scope={dirty:m,ctx:p}),u.$set(g);const C={};m[0]&130|m[1]&16&&(C.$$scope={dirty:m,ctx:p}),_.$set(C)},i(p){f||(L(t.$$.fragment,p),L(o.$$.fragment,p),L(u.$$.fragment,p),L(_.$$.fragment,p),f=!0)},o(p){R(t.$$.fragment,p),R(o.$$.fragment,p),R(u.$$.fragment,p),R(_.$$.fragment,p),f=!1},d(p){p&&k(e),_e(t),_e(o),_e(u),_e(_)}}}function Na(l){return l?l.toLocaleTimeString():""}function rn(l){switch(l.type){case"stateful":return"🗄️";case"frontend":return"🌐";case"api":return"⚡";case"worker":return"⚙️";default:return"📦"}}function an(l){return l.nginx_status==="running"}function Jm(l,e,t){let n,s,o,i;_t(l,An,E=>t(12,i=E));let u="",a="",_=!1,f=[],p=[],m=[],h=null,v=null,g=!1,C=null;kl(()=>{g||(y(),C=setInterval(y,6e4))}),Yc(()=>{C&&clearInterval(C)});async function y(){g||t(6,_=!0),t(9,v=null);try{const E=Ot();if(!E)throw new Error("DigitalOcean token required");const A=await He("POST","/infra/architecture",{project:u||null,environment:a||null,do_token:E});t(7,f=A.nodes||[]),t(1,p=A.servers||[]),m=A.infrastructure||[],t(8,h=new Date),t(10,g=!0)}catch(E){t(9,v=E.message),g||ye.error("Failed to load architecture: "+E.message)}finally{t(6,_=!1)}}async function $(){const E=p.filter(A=>A.nginx_status!=="running").map(A=>A.ip);if(E.length===0){ye.info("All servers already have nginx running");return}ye.info(`Fixing ${E.length} server(s)...`);try{await He("POST","/infra/nginx/ensure",{server_ips:E}),ye.success("Nginx sidecar installed"),architectureStore.refresh()}catch(A){ye.error(A.message)}}function q(){y()}function z(){y()}function D(){u=ct(this),t(4,u)}function P(){a=ct(this),t(5,a)}const T=(E,A)=>{var M;return(M=E.servers)==null?void 0:M.includes(A.ip)};return l.$$.update=()=>{l.$$.dirty[0]&2&&t(3,n=p.filter(E=>E.nginx_status==="running").length),l.$$.dirty[0]&2&&t(2,s=p.length),l.$$.dirty[0]&12&&t(11,o=n===s)},[z,p,s,n,u,a,_,f,h,v,g,o,i,$,q,D,P,T]}class Km extends yt{constructor(e){super(),$t(this,e,Jm,Wm,bt,{refresh:0},null,[-1,-1])}get refresh(){return this.$$.ctx[0]}}function Aa(l,e,t){const n=l.slice();return n[28]=e[t],n}function Ra(l,e,t){const n=l.slice();return n[31]=e[t][0],n[32]=e[t][1],n}function Oa(l,e,t){const n=l.slice();return n[28]=e[t],n[36]=t,n}function Fa(l,e,t){const n=l.slice();return n[37]=e[t],n}function Ia(l,e,t){const n=l.slice();return n[40]=e[t],n}function Ba(l,e,t){const n=l.slice();return n[43]=e[t],n}function Ua(l,e,t){const n=l.slice();return n[46]=e[t],n}function Ym(l){let e=l[0]?"⏳":"🔄",t,n;return{c(){t=S(e),n=S(" Refresh")},m(s,o){w(s,t,o),w(s,n,o)},p(s,o){o[0]&1&&e!==(e=s[0]?"⏳":"🔄")&&I(t,e)},d(s){s&&(k(t),k(n))}}}function Ha(l){let e,t,n,s,o,i,u,a,_,f,p,m,h;return t=new ft({props:{$$slots:{default:[Qm]},$$scope:{ctx:l}}}),s=new ft({props:{$$slots:{default:[Zm]},$$scope:{ctx:l}}}),i=new ft({props:{$$slots:{default:[Xm]},$$scope:{ctx:l}}}),a=new ft({props:{$$slots:{default:[xm]},$$scope:{ctx:l}}}),f=new ft({props:{$$slots:{default:[ev]},$$scope:{ctx:l}}}),m=new ft({props:{$$slots:{default:[tv]},$$scope:{ctx:l}}}),{c(){e=d("div"),de(t.$$.fragment),n=b(),de(s.$$.fragment),o=b(),de(i.$$.fragment),u=b(),de(a.$$.fragment),_=b(),de(f.$$.fragment),p=b(),de(m.$$.fragment),c(e,"class","overview-grid svelte-1h2u9b7")},m(v,g){w(v,e,g),fe(t,e,null),r(e,n),fe(s,e,null),r(e,o),fe(i,e,null),r(e,u),fe(a,e,null),r(e,_),fe(f,e,null),r(e,p),fe(m,e,null),h=!0},p(v,g){const C={};g[0]&2|g[1]&262144&&(C.$$scope={dirty:g,ctx:v}),t.$set(C);const y={};g[0]&2|g[1]&262144&&(y.$$scope={dirty:g,ctx:v}),s.$set(y);const $={};g[0]&2|g[1]&262144&&($.$$scope={dirty:g,ctx:v}),i.$set($);const q={};g[0]&2|g[1]&262144&&(q.$$scope={dirty:g,ctx:v}),a.$set(q);const z={};g[0]&2|g[1]&262144&&(z.$$scope={dirty:g,ctx:v}),f.$set(z);const D={};g[0]&2|g[1]&262144&&(D.$$scope={dirty:g,ctx:v}),m.$set(D)},i(v){h||(L(t.$$.fragment,v),L(s.$$.fragment,v),L(i.$$.fragment,v),L(a.$$.fragment,v),L(f.$$.fragment,v),L(m.$$.fragment,v),h=!0)},o(v){R(t.$$.fragment,v),R(s.$$.fragment,v),R(i.$$.fragment,v),R(a.$$.fragment,v),R(f.$$.fragment,v),R(m.$$.fragment,v),h=!1},d(v){v&&k(e),_e(t),_e(s),_e(i),_e(a),_e(f),_e(m)}}}function Qm(l){let e,t,n,s,o=l[1].total_requests.toLocaleString()+"",i;return{c(){e=d("div"),t=d("span"),t.textContent="Total Requests",n=b(),s=d("span"),i=S(o),c(t,"class","label svelte-1h2u9b7"),c(s,"class","value svelte-1h2u9b7"),c(e,"class","stat svelte-1h2u9b7")},m(u,a){w(u,e,a),r(e,t),r(e,n),r(e,s),r(s,i)},p(u,a){a[0]&2&&o!==(o=u[1].total_requests.toLocaleString()+"")&&I(i,o)},d(u){u&&k(e)}}}function Zm(l){let e,t,n,s,o=Et(l[1].avg_latency_ms)+"",i;return{c(){e=d("div"),t=d("span"),t.textContent="Avg Latency",n=b(),s=d("span"),i=S(o),c(t,"class","label svelte-1h2u9b7"),c(s,"class","value svelte-1h2u9b7"),c(e,"class","stat svelte-1h2u9b7")},m(u,a){w(u,e,a),r(e,t),r(e,n),r(e,s),r(s,i)},p(u,a){a[0]&2&&o!==(o=Et(u[1].avg_latency_ms)+"")&&I(i,o)},d(u){u&&k(e)}}}function Xm(l){let e,t,n,s,o=Et(l[1].p95_latency_ms)+"",i;return{c(){e=d("div"),t=d("span"),t.textContent="P95 Latency",n=b(),s=d("span"),i=S(o),c(t,"class","label svelte-1h2u9b7"),c(s,"class","value svelte-1h2u9b7"),c(e,"class","stat svelte-1h2u9b7")},m(u,a){w(u,e,a),r(e,t),r(e,n),r(e,s),r(s,i)},p(u,a){a[0]&2&&o!==(o=Et(u[1].p95_latency_ms)+"")&&I(i,o)},d(u){u&&k(e)}}}function xm(l){let e,t,n,s,o=l[1].error_rate+"",i,u;return{c(){e=d("div"),t=d("span"),t.textContent="Error Rate",n=b(),s=d("span"),i=S(o),u=S("%"),c(t,"class","label svelte-1h2u9b7"),c(s,"class","value svelte-1h2u9b7"),c(e,"class","stat svelte-1h2u9b7"),Ce(e,"error",l[1].error_rate>5)},m(a,_){w(a,e,_),r(e,t),r(e,n),r(e,s),r(s,i),r(s,u)},p(a,_){_[0]&2&&o!==(o=a[1].error_rate+"")&&I(i,o),_[0]&2&&Ce(e,"error",a[1].error_rate>5)},d(a){a&&k(e)}}}function ev(l){let e,t,n,s,o=l[1].slow_count+"",i,u,a;return{c(){e=d("div"),t=d("span"),t.textContent="Slow Requests",n=b(),s=d("span"),i=S(o),c(t,"class","label svelte-1h2u9b7"),c(s,"class","value svelte-1h2u9b7"),c(e,"class","stat clickable svelte-1h2u9b7")},m(_,f){w(_,e,f),r(e,t),r(e,n),r(e,s),r(s,i),u||(a=[te(e,"click",l[15]),te(e,"keypress",l[15])],u=!0)},p(_,f){f[0]&2&&o!==(o=_[1].slow_count+"")&&I(i,o)},d(_){_&&k(e),u=!1,Ve(a)}}}function tv(l){let e,t,n,s,o=l[1].error_count+"",i,u,a;return{c(){e=d("div"),t=d("span"),t.textContent="5xx Errors",n=b(),s=d("span"),i=S(o),c(t,"class","label svelte-1h2u9b7"),c(s,"class","value svelte-1h2u9b7"),c(e,"class","stat clickable svelte-1h2u9b7")},m(_,f){w(_,e,f),r(e,t),r(e,n),r(e,s),r(s,i),u||(a=[te(e,"click",l[18]),te(e,"keypress",l[19])],u=!0)},p(_,f){f[0]&2&&o!==(o=_[1].error_count+"")&&I(i,o)},d(_){_&&k(e),u=!1,Ve(a)}}}function Ga(l){let e,t;return e=new ft({props:{$$slots:{default:[lv]},$$scope:{ctx:l}}}),{c(){de(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[0]&2|s[1]&262144&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(L(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function Va(l){let e,t,n=l[46].path+"",s,o,i,u=Et(l[46].avg_ms)+"",a,_,f,p=l[46].count+"",m,h;return{c(){e=d("tr"),t=d("td"),s=S(n),o=b(),i=d("td"),a=S(u),_=b(),f=d("td"),m=S(p),h=b(),c(t,"class","path svelte-1h2u9b7"),c(i,"class","svelte-1h2u9b7"),c(f,"class","svelte-1h2u9b7"),c(e,"class","svelte-1h2u9b7")},m(v,g){w(v,e,g),r(e,t),r(t,s),r(e,o),r(e,i),r(i,a),r(e,_),r(e,f),r(f,m),r(e,h)},p(v,g){g[0]&2&&n!==(n=v[46].path+"")&&I(s,n),g[0]&2&&u!==(u=Et(v[46].avg_ms)+"")&&I(a,u),g[0]&2&&p!==(p=v[46].count+"")&&I(m,p)},d(v){v&&k(e)}}}function lv(l){let e,t,n,s,o,i,u=pe(l[1].slow_endpoints.slice(0,5)),a=[];for(let _=0;_<u.length;_+=1)a[_]=Va(Ua(l,u,_));return{c(){e=d("h3"),e.textContent="🐢 Slowest Endpoints",t=b(),n=d("table"),s=d("thead"),s.innerHTML='<tr class="svelte-1h2u9b7"><th class="svelte-1h2u9b7">Path</th> <th class="svelte-1h2u9b7">Avg</th> <th class="svelte-1h2u9b7">Count</th></tr>',o=b(),i=d("tbody");for(let _=0;_<a.length;_+=1)a[_].c();c(e,"class","svelte-1h2u9b7"),c(n,"class","mini-table svelte-1h2u9b7")},m(_,f){w(_,e,f),w(_,t,f),w(_,n,f),r(n,s),r(n,o),r(n,i);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(i,null)},p(_,f){if(f[0]&2){u=pe(_[1].slow_endpoints.slice(0,5));let p;for(p=0;p<u.length;p+=1){const m=Ua(_,u,p);a[p]?a[p].p(m,f):(a[p]=Va(m),a[p].c(),a[p].m(i,null))}for(;p<a.length;p+=1)a[p].d(1);a.length=u.length}},d(_){_&&(k(e),k(t),k(n)),Le(a,_)}}}function Wa(l){let e,t=l[43]+"",n,s,o=l[43]===l[6]?"(current)":"",i,u;return{c(){e=d("option"),n=S(t),s=b(),i=S(o),e.__value=u=l[43],ne(e,e.__value)},m(a,_){w(a,e,_),r(e,n),r(e,s),r(e,i)},p(a,_){_[0]&32&&t!==(t=a[43]+"")&&I(n,t),_[0]&96&&o!==(o=a[43]===a[6]?"(current)":"")&&I(i,o),_[0]&32&&u!==(u=a[43])&&(e.__value=u,ne(e,e.__value))},d(a){a&&k(e)}}}function nv(l){let e;return{c(){e=S("Apply")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function sv(l){let e;return{c(){e=S("View")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Ja(l){var Q;let e,t,n=iu(l[40].timestamp)+"",s,o,i,u=(l[40].service_name||"-")+"",a,_,f,p,m=l[40].method+"",h,v,g,C,y=(((Q=l[40].path)==null?void 0:Q.length)>40?l[40].path.slice(0,40)+"...":l[40].path)+"",$,q,z,D,P,T=(l[40].status_code||"-")+"",E,A,M,O,J=Et(l[40].duration_ms)+"",W,F,B,N=l[40].span_count+"",j,U,X,Z,ee;function se(){return l[24](l[40])}return Z=new Ue({props:{size:"small",$$slots:{default:[sv]},$$scope:{ctx:l}}}),Z.$on("click",se),{c(){var G;e=d("tr"),t=d("td"),s=S(n),o=b(),i=d("td"),a=S(u),_=b(),f=d("td"),p=d("span"),h=S(m),g=b(),C=d("td"),$=S(y),z=b(),D=d("td"),P=d("span"),E=S(T),M=b(),O=d("td"),W=S(J),F=b(),B=d("td"),j=S(N),U=b(),X=d("td"),de(Z.$$.fragment),c(t,"class","time svelte-1h2u9b7"),c(i,"class","service svelte-1h2u9b7"),c(p,"class",v="method "+((G=l[40].method)==null?void 0:G.toLowerCase())+" svelte-1h2u9b7"),c(f,"class","svelte-1h2u9b7"),c(C,"class","path svelte-1h2u9b7"),c(C,"title",q=l[40].path),c(P,"class",A="status status-"+un(l[40].status_code)+" svelte-1h2u9b7"),c(D,"class","svelte-1h2u9b7"),c(O,"class","svelte-1h2u9b7"),Ce(O,"slow",l[40].duration_ms>1e3),c(B,"class","svelte-1h2u9b7"),c(X,"class","svelte-1h2u9b7"),c(e,"class","svelte-1h2u9b7"),Ce(e,"error",l[40].status_code>=500),Ce(e,"warning",l[40].status_code>=400&&l[40].status_code<500)},m(G,H){w(G,e,H),r(e,t),r(t,s),r(e,o),r(e,i),r(i,a),r(e,_),r(e,f),r(f,p),r(p,h),r(e,g),r(e,C),r(C,$),r(e,z),r(e,D),r(D,P),r(P,E),r(e,M),r(e,O),r(O,W),r(e,F),r(e,B),r(B,j),r(e,U),r(e,X),fe(Z,X,null),ee=!0},p(G,H){var V,ae;l=G,(!ee||H[0]&4)&&n!==(n=iu(l[40].timestamp)+"")&&I(s,n),(!ee||H[0]&4)&&u!==(u=(l[40].service_name||"-")+"")&&I(a,u),(!ee||H[0]&4)&&m!==(m=l[40].method+"")&&I(h,m),(!ee||H[0]&4&&v!==(v="method "+((V=l[40].method)==null?void 0:V.toLowerCase())+" svelte-1h2u9b7"))&&c(p,"class",v),(!ee||H[0]&4)&&y!==(y=(((ae=l[40].path)==null?void 0:ae.length)>40?l[40].path.slice(0,40)+"...":l[40].path)+"")&&I($,y),(!ee||H[0]&4&&q!==(q=l[40].path))&&c(C,"title",q),(!ee||H[0]&4)&&T!==(T=(l[40].status_code||"-")+"")&&I(E,T),(!ee||H[0]&4&&A!==(A="status status-"+un(l[40].status_code)+" svelte-1h2u9b7"))&&c(P,"class",A),(!ee||H[0]&4)&&J!==(J=Et(l[40].duration_ms)+"")&&I(W,J),(!ee||H[0]&4)&&Ce(O,"slow",l[40].duration_ms>1e3),(!ee||H[0]&4)&&N!==(N=l[40].span_count+"")&&I(j,N);const re={};H[1]&262144&&(re.$$scope={dirty:H,ctx:l}),Z.$set(re),(!ee||H[0]&4)&&Ce(e,"error",l[40].status_code>=500),(!ee||H[0]&4)&&Ce(e,"warning",l[40].status_code>=400&&l[40].status_code<500)},i(G){ee||(L(Z.$$.fragment,G),ee=!0)},o(G){R(Z.$$.fragment,G),ee=!1},d(G){G&&k(e),_e(Z)}}}function Ka(l){let e;return{c(){e=d("tr"),e.innerHTML='<td colspan="8" class="empty svelte-1h2u9b7">No requests found</td>',c(e,"class","svelte-1h2u9b7")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function ov(l){let e,t,n,s,o,i,u,a,_,f=pe(l[2]),p=[];for(let v=0;v<f.length;v+=1)p[v]=Ja(Ia(l,f,v));const m=v=>R(p[v],1,1,()=>{p[v]=null});let h=l[2].length===0&&Ka();return{c(){e=d("h3"),e.textContent="📋 Recent Requests",t=b(),n=d("div"),s=d("table"),o=d("thead"),o.innerHTML='<tr class="svelte-1h2u9b7"><th class="svelte-1h2u9b7">Time</th> <th class="svelte-1h2u9b7">Service</th> <th class="svelte-1h2u9b7">Method</th> <th class="svelte-1h2u9b7">Path</th> <th class="svelte-1h2u9b7">Status</th> <th class="svelte-1h2u9b7">Duration</th> <th class="svelte-1h2u9b7">Spans</th> <th class="svelte-1h2u9b7">Actions</th></tr>',i=b(),u=d("tbody");for(let v=0;v<p.length;v+=1)p[v].c();a=b(),h&&h.c(),c(e,"class","svelte-1h2u9b7"),c(s,"class","svelte-1h2u9b7"),c(n,"class","table-container svelte-1h2u9b7")},m(v,g){w(v,e,g),w(v,t,g),w(v,n,g),r(n,s),r(s,o),r(s,i),r(s,u);for(let C=0;C<p.length;C+=1)p[C]&&p[C].m(u,null);r(u,a),h&&h.m(u,null),_=!0},p(v,g){if(g[0]&8196){f=pe(v[2]);let C;for(C=0;C<f.length;C+=1){const y=Ia(v,f,C);p[C]?(p[C].p(y,g),L(p[C],1)):(p[C]=Ja(y),p[C].c(),L(p[C],1),p[C].m(u,a))}for(Te(),C=f.length;C<p.length;C+=1)m(C);ze()}v[2].length===0?h||(h=Ka(),h.c(),h.m(u,null)):h&&(h.d(1),h=null)},i(v){if(!_){for(let g=0;g<f.length;g+=1)L(p[g]);_=!0}},o(v){p=p.filter(Boolean);for(let g=0;g<p.length;g+=1)R(p[g]);_=!1},d(v){v&&(k(e),k(t),k(n)),Le(p,v),h&&h.d()}}}function Ya(l){let e,t;return e=new ol({props:{open:!0,title:"Request Detail",width:"800px",$$slots:{default:[iv]},$$scope:{ctx:l}}}),e.$on("close",l[25]),{c(){de(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[0]&8|s[1]&262144&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(L(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function Qa(l){let e,t=l[3].service_name+"",n;return{c(){e=d("span"),n=S(t),c(e,"class","service-badge svelte-1h2u9b7")},m(s,o){w(s,e,o),r(e,n)},p(s,o){o[0]&8&&t!==(t=s[3].service_name+"")&&I(n,t)},d(s){s&&k(e)}}}function Za(l){let e,t,n=l[3].error+"",s;return{c(){e=d("div"),t=S("⚠️ "),s=S(n),c(e,"class","error-box svelte-1h2u9b7")},m(o,i){w(o,e,i),r(e,t),r(e,s)},p(o,i){i[0]&8&&n!==(n=o[3].error+"")&&I(s,n)},d(o){o&&k(e)}}}function Xa(l){let e,t,n=l[3].user_id+"",s;return{c(){e=d("span"),t=S("User: "),s=S(n)},m(o,i){w(o,e,i),r(e,t),r(e,s)},p(o,i){i[0]&8&&n!==(n=o[3].user_id+"")&&I(s,n)},d(o){o&&k(e)}}}function xa(l){let e,t,n,s=l[37].name+"",o,i,u,a,_,f=Et(l[37].duration_ms)+"",p,m;return{c(){e=d("div"),t=d("div"),n=S("└─ "),o=S(s),u=b(),a=d("div"),_=d("div"),p=S(f),m=b(),c(t,"class","span-name svelte-1h2u9b7"),c(t,"title",i=l[37].name),c(_,"class","span-bar child-bar svelte-1h2u9b7"),It(_,"width",cn(l[37],l[3].total_ms)+"%"),Ce(_,"error",l[37].error),c(a,"class","span-bar-container svelte-1h2u9b7"),c(e,"class","span-row child svelte-1h2u9b7")},m(h,v){w(h,e,v),r(e,t),r(t,n),r(t,o),r(e,u),r(e,a),r(a,_),r(_,p),r(e,m)},p(h,v){v[0]&8&&s!==(s=h[37].name+"")&&I(o,s),v[0]&8&&i!==(i=h[37].name)&&c(t,"title",i),v[0]&8&&f!==(f=Et(h[37].duration_ms)+"")&&I(p,f),v[0]&8&&It(_,"width",cn(h[37],h[3].total_ms)+"%"),v[0]&8&&Ce(_,"error",h[37].error)},d(h){h&&k(e)}}}function eu(l){let e,t,n=l[28].name+"",s,o,i,u,a,_=Et(l[28].duration_ms)+"",f,p,m,h=pe(l[28].children||[]),v=[];for(let g=0;g<h.length;g+=1)v[g]=xa(Fa(l,h,g));return{c(){e=d("div"),t=d("div"),s=S(n),i=b(),u=d("div"),a=d("div"),f=S(_),p=b();for(let g=0;g<v.length;g+=1)v[g].c();m=Fe(),c(t,"class","span-name svelte-1h2u9b7"),c(t,"title",o=l[28].name),c(a,"class","span-bar svelte-1h2u9b7"),It(a,"width",cn(l[28],l[3].total_ms)+"%"),Ce(a,"error",l[28].error),c(u,"class","span-bar-container svelte-1h2u9b7"),c(e,"class","span-row svelte-1h2u9b7")},m(g,C){w(g,e,C),r(e,t),r(t,s),r(e,i),r(e,u),r(u,a),r(a,f),w(g,p,C);for(let y=0;y<v.length;y+=1)v[y]&&v[y].m(g,C);w(g,m,C)},p(g,C){if(C[0]&8&&n!==(n=g[28].name+"")&&I(s,n),C[0]&8&&o!==(o=g[28].name)&&c(t,"title",o),C[0]&8&&_!==(_=Et(g[28].duration_ms)+"")&&I(f,_),C[0]&8&&It(a,"width",cn(g[28],g[3].total_ms)+"%"),C[0]&8&&Ce(a,"error",g[28].error),C[0]&8){h=pe(g[28].children||[]);let y;for(y=0;y<h.length;y+=1){const $=Fa(g,h,y);v[y]?v[y].p($,C):(v[y]=xa($),v[y].c(),v[y].m(m.parentNode,m))}for(;y<v.length;y+=1)v[y].d(1);v.length=h.length}},d(g){g&&(k(e),k(p),k(m)),Le(v,g)}}}function tu(l){let e,t,n,s=pe(l[3].spans),o=[];for(let i=0;i<s.length;i+=1)o[i]=ou(Aa(l,s,i));return{c(){e=d("h4"),e.textContent="Span Details",t=b(),n=d("div");for(let i=0;i<o.length;i+=1)o[i].c();c(e,"class","svelte-1h2u9b7"),c(n,"class","spans-details svelte-1h2u9b7")},m(i,u){w(i,e,u),w(i,t,u),w(i,n,u);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(n,null)},p(i,u){if(u[0]&8){s=pe(i[3].spans);let a;for(a=0;a<s.length;a+=1){const _=Aa(i,s,a);o[a]?o[a].p(_,u):(o[a]=ou(_),o[a].c(),o[a].m(n,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=s.length}},d(i){i&&(k(e),k(t),k(n)),Le(o,i)}}}function lu(l){let e;return{c(){e=d("span"),e.textContent="ERROR",c(e,"class","error-badge svelte-1h2u9b7")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function nu(l){let e,t,n=l[31]+"",s,o,i,u,a=(typeof l[32]=="object"?JSON.stringify(l[32]):l[32])+"",_;return{c(){e=d("div"),t=d("span"),s=S(n),o=S(":"),i=b(),u=d("span"),_=S(a),c(t,"class","key svelte-1h2u9b7"),c(u,"class","value svelte-1h2u9b7"),c(e,"class","attr svelte-1h2u9b7")},m(f,p){w(f,e,p),r(e,t),r(t,s),r(t,o),r(e,i),r(e,u),r(u,_)},p(f,p){p[0]&8&&n!==(n=f[31]+"")&&I(s,n),p[0]&8&&a!==(a=(typeof f[32]=="object"?JSON.stringify(f[32]):f[32])+"")&&I(_,a)},d(f){f&&k(e)}}}function su(l){let e,t,n,s,o=l[28].error+"",i;return{c(){e=d("div"),t=d("span"),t.textContent="error:",n=b(),s=d("span"),i=S(o),c(t,"class","key svelte-1h2u9b7"),c(s,"class","value svelte-1h2u9b7"),c(e,"class","attr error svelte-1h2u9b7")},m(u,a){w(u,e,a),r(e,t),r(e,n),r(e,s),r(s,i)},p(u,a){a[0]&8&&o!==(o=u[28].error+"")&&I(i,o)},d(u){u&&k(e)}}}function ou(l){let e,t,n,s=l[28].kind+"",o,i,u=l[28].name+"",a,_,f=Et(l[28].duration_ms)+"",p,m,h,v,g,C,y=l[28].error&&lu(),$=pe(Object.entries(l[28].attributes)),q=[];for(let D=0;D<$.length;D+=1)q[D]=nu(Ra(l,$,D));let z=l[28].error&&su(l);return{c(){e=d("details"),t=d("summary"),n=d("span"),o=S(s),i=b(),a=S(u),_=S(" - "),p=S(f),m=b(),y&&y.c(),h=b(),v=d("div");for(let D=0;D<q.length;D+=1)q[D].c();g=b(),z&&z.c(),C=b(),c(n,"class","span-kind svelte-1h2u9b7"),c(t,"class","svelte-1h2u9b7"),c(v,"class","span-attrs svelte-1h2u9b7"),c(e,"class","svelte-1h2u9b7")},m(D,P){w(D,e,P),r(e,t),r(t,n),r(n,o),r(t,i),r(t,a),r(t,_),r(t,p),r(t,m),y&&y.m(t,null),r(e,h),r(e,v);for(let T=0;T<q.length;T+=1)q[T]&&q[T].m(v,null);r(v,g),z&&z.m(v,null),r(e,C)},p(D,P){if(P[0]&8&&s!==(s=D[28].kind+"")&&I(o,s),P[0]&8&&u!==(u=D[28].name+"")&&I(a,u),P[0]&8&&f!==(f=Et(D[28].duration_ms)+"")&&I(p,f),D[28].error?y||(y=lu(),y.c(),y.m(t,null)):y&&(y.d(1),y=null),P[0]&8){$=pe(Object.entries(D[28].attributes));let T;for(T=0;T<$.length;T+=1){const E=Ra(D,$,T);q[T]?q[T].p(E,P):(q[T]=nu(E),q[T].c(),q[T].m(v,g))}for(;T<q.length;T+=1)q[T].d(1);q.length=$.length}D[28].error?z?z.p(D,P):(z=su(D),z.c(),z.m(v,null)):z&&(z.d(1),z=null)},d(D){D&&k(e),y&&y.d(),Le(q,D),z&&z.d()}}}function iv(l){let e,t,n,s,o=l[3].method+"",i,u,a,_,f=l[3].path+"",p,m,h,v=l[3].status_code+"",g,C,y,$,q=Et(l[3].duration_ms)+"",z,D,P,T,E,A,M,O=l[3].request_id+"",J,W,F,B,N,j=l[3].timestamp+"",U,X,Z,ee,se=l[3].spans.length+"",Q,G,H,re,V,ae=l[3].service_name&&Qa(l),le=l[3].error&&Za(l),K=l[3].user_id&&Xa(l),me=pe(l[3].spans),ue=[];for(let x=0;x<me.length;x+=1)ue[x]=eu(Oa(l,me,x));let ie=l[3].spans.length>0&&tu(l);return{c(){var x;e=d("div"),t=d("div"),ae&&ae.c(),n=b(),s=d("span"),i=S(o),a=b(),_=d("span"),p=S(f),m=b(),h=d("span"),g=S(v),y=b(),$=d("span"),z=S(q),D=b(),le&&le.c(),P=b(),T=d("div"),E=d("span"),A=S("Request ID: "),M=d("code"),J=S(O),W=b(),K&&K.c(),F=b(),B=d("span"),N=S("Time: "),U=S(j),X=b(),Z=d("h4"),ee=S("Timeline ("),Q=S(se),G=S(" spans)"),H=b(),re=d("div");for(let Y=0;Y<ue.length;Y+=1)ue[Y].c();V=b(),ie&&ie.c(),c(s,"class",u="method "+((x=l[3].method)==null?void 0:x.toLowerCase())+" svelte-1h2u9b7"),c(_,"class","path svelte-1h2u9b7"),c(h,"class",C="status status-"+un(l[3].status_code)+" svelte-1h2u9b7"),c($,"class","duration svelte-1h2u9b7"),c(t,"class","trace-header svelte-1h2u9b7"),c(M,"class","svelte-1h2u9b7"),c(T,"class","trace-meta svelte-1h2u9b7"),c(Z,"class","svelte-1h2u9b7"),c(re,"class","spans-timeline svelte-1h2u9b7"),c(e,"class","trace-detail svelte-1h2u9b7")},m(x,Y){w(x,e,Y),r(e,t),ae&&ae.m(t,null),r(t,n),r(t,s),r(s,i),r(t,a),r(t,_),r(_,p),r(t,m),r(t,h),r(h,g),r(t,y),r(t,$),r($,z),r(e,D),le&&le.m(e,null),r(e,P),r(e,T),r(T,E),r(E,A),r(E,M),r(M,J),r(T,W),K&&K.m(T,null),r(T,F),r(T,B),r(B,N),r(B,U),r(e,X),r(e,Z),r(Z,ee),r(Z,Q),r(Z,G),r(e,H),r(e,re);for(let he=0;he<ue.length;he+=1)ue[he]&&ue[he].m(re,null);r(e,V),ie&&ie.m(e,null)},p(x,Y){var he;if(x[3].service_name?ae?ae.p(x,Y):(ae=Qa(x),ae.c(),ae.m(t,n)):ae&&(ae.d(1),ae=null),Y[0]&8&&o!==(o=x[3].method+"")&&I(i,o),Y[0]&8&&u!==(u="method "+((he=x[3].method)==null?void 0:he.toLowerCase())+" svelte-1h2u9b7")&&c(s,"class",u),Y[0]&8&&f!==(f=x[3].path+"")&&I(p,f),Y[0]&8&&v!==(v=x[3].status_code+"")&&I(g,v),Y[0]&8&&C!==(C="status status-"+un(x[3].status_code)+" svelte-1h2u9b7")&&c(h,"class",C),Y[0]&8&&q!==(q=Et(x[3].duration_ms)+"")&&I(z,q),x[3].error?le?le.p(x,Y):(le=Za(x),le.c(),le.m(e,P)):le&&(le.d(1),le=null),Y[0]&8&&O!==(O=x[3].request_id+"")&&I(J,O),x[3].user_id?K?K.p(x,Y):(K=Xa(x),K.c(),K.m(T,F)):K&&(K.d(1),K=null),Y[0]&8&&j!==(j=x[3].timestamp+"")&&I(U,j),Y[0]&8&&se!==(se=x[3].spans.length+"")&&I(Q,se),Y[0]&8){me=pe(x[3].spans);let ke;for(ke=0;ke<me.length;ke+=1){const Ge=Oa(x,me,ke);ue[ke]?ue[ke].p(Ge,Y):(ue[ke]=eu(Ge),ue[ke].c(),ue[ke].m(re,null))}for(;ke<ue.length;ke+=1)ue[ke].d(1);ue.length=me.length}x[3].spans.length>0?ie?ie.p(x,Y):(ie=tu(x),ie.c(),ie.m(e,null)):ie&&(ie.d(1),ie=null)},d(x){x&&k(e),ae&&ae.d(),le&&le.d(),K&&K.d(),Le(ue,x),ie&&ie.d()}}}function rv(l){var V,ae;let e,t,n,s,o,i,u,a,_,f,p,m,h,v,g,C,y,$,q,z,D,P,T,E,A,M,O,J,W,F,B,N,j,U,X,Z,ee;m=new Ue({props:{disabled:l[0],$$slots:{default:[Ym]},$$scope:{ctx:l}}}),m.$on("click",l[14]);let se=l[1]&&Ha(l),Q=((ae=(V=l[1])==null?void 0:V.slow_endpoints)==null?void 0:ae.length)>0&&Ga(l),G=pe(l[5]),H=[];for(let le=0;le<G.length;le+=1)H[le]=Wa(Ba(l,G,le));F=new Ue({props:{size:"small",$$slots:{default:[nv]},$$scope:{ctx:l}}}),F.$on("click",l[12]),N=new ft({props:{$$slots:{default:[ov]},$$scope:{ctx:l}}});let re=l[4]&&l[3]&&Ya(l);return{c(){e=d("div"),t=d("div"),n=d("h2"),n.textContent="🔍 Telemetry Dashboard",s=b(),o=d("div"),i=d("select"),u=d("option"),u.textContent="Last 1 hour",a=d("option"),a.textContent="Last 6 hours",_=d("option"),_.textContent="Last 24 hours",f=d("option"),f.textContent="Last 7 days",p=b(),de(m.$$.fragment),h=b(),se&&se.c(),v=b(),Q&&Q.c(),g=b(),C=d("div"),y=d("select"),$=d("option"),$.textContent="All services";for(let le=0;le<H.length;le+=1)H[le].c();q=b(),z=d("input"),D=b(),P=d("input"),T=b(),E=d("select"),A=d("option"),A.textContent="All status",M=d("option"),M.textContent="2xx Success",O=d("option"),O.textContent="4xx Client Error",J=d("option"),J.textContent="5xx Server Error",W=b(),de(F.$$.fragment),B=b(),de(N.$$.fragment),j=b(),re&&re.c(),U=Fe(),c(n,"class","svelte-1h2u9b7"),u.__value=1,ne(u,u.__value),a.__value=6,ne(a,a.__value),_.__value=24,ne(_,_.__value),f.__value=168,ne(f,f.__value),c(i,"class","svelte-1h2u9b7"),l[8]===void 0&&Xe(()=>l[17].call(i)),c(o,"class","controls svelte-1h2u9b7"),c(t,"class","header svelte-1h2u9b7"),$.__value="",ne($,$.__value),c(y,"title","Filter by service"),c(y,"class","svelte-1h2u9b7"),l[7]===void 0&&Xe(()=>l[20].call(y)),c(z,"type","text"),c(z,"placeholder","Path prefix (e.g., /api/v1/infra)"),c(z,"class","svelte-1h2u9b7"),c(P,"type","number"),c(P,"placeholder","Min ms"),c(P,"class","svelte-1h2u9b7"),A.__value="",ne(A,A.__value),M.__value="2xx",ne(M,M.__value),O.__value="4xx",ne(O,O.__value),J.__value="5xx",ne(J,J.__value),c(E,"class","svelte-1h2u9b7"),l[11]===void 0&&Xe(()=>l[23].call(E)),c(C,"class","filters svelte-1h2u9b7"),c(e,"class","telemetry svelte-1h2u9b7")},m(le,K){w(le,e,K),r(e,t),r(t,n),r(t,s),r(t,o),r(o,i),r(i,u),r(i,a),r(i,_),r(i,f),je(i,l[8],!0),r(o,p),fe(m,o,null),r(e,h),se&&se.m(e,null),r(e,v),Q&&Q.m(e,null),r(e,g),r(e,C),r(C,y),r(y,$);for(let me=0;me<H.length;me+=1)H[me]&&H[me].m(y,null);je(y,l[7],!0),r(C,q),r(C,z),ne(z,l[9]),r(C,D),r(C,P),ne(P,l[10]),r(C,T),r(C,E),r(E,A),r(E,M),r(E,O),r(E,J),je(E,l[11],!0),r(C,W),fe(F,C,null),r(e,B),fe(N,e,null),w(le,j,K),re&&re.m(le,K),w(le,U,K),X=!0,Z||(ee=[te(i,"change",l[17]),te(i,"change",l[14]),te(y,"change",l[20]),te(y,"change",l[14]),te(z,"input",l[21]),te(z,"change",l[12]),te(P,"input",l[22]),te(P,"change",l[12]),te(E,"change",l[23]),te(E,"change",l[12])],Z=!0)},p(le,K){var x,Y;K[0]&256&&je(i,le[8]);const me={};if(K[0]&1&&(me.disabled=le[0]),K[0]&1|K[1]&262144&&(me.$$scope={dirty:K,ctx:le}),m.$set(me),le[1]?se?(se.p(le,K),K[0]&2&&L(se,1)):(se=Ha(le),se.c(),L(se,1),se.m(e,v)):se&&(Te(),R(se,1,1,()=>{se=null}),ze()),((Y=(x=le[1])==null?void 0:x.slow_endpoints)==null?void 0:Y.length)>0?Q?(Q.p(le,K),K[0]&2&&L(Q,1)):(Q=Ga(le),Q.c(),L(Q,1),Q.m(e,g)):Q&&(Te(),R(Q,1,1,()=>{Q=null}),ze()),K[0]&96){G=pe(le[5]);let he;for(he=0;he<G.length;he+=1){const ke=Ba(le,G,he);H[he]?H[he].p(ke,K):(H[he]=Wa(ke),H[he].c(),H[he].m(y,null))}for(;he<H.length;he+=1)H[he].d(1);H.length=G.length}K[0]&160&&je(y,le[7]),K[0]&512&&z.value!==le[9]&&ne(z,le[9]),K[0]&1024&&Kt(P.value)!==le[10]&&ne(P,le[10]),K[0]&2048&&je(E,le[11]);const ue={};K[1]&262144&&(ue.$$scope={dirty:K,ctx:le}),F.$set(ue);const ie={};K[0]&4|K[1]&262144&&(ie.$$scope={dirty:K,ctx:le}),N.$set(ie),le[4]&&le[3]?re?(re.p(le,K),K[0]&24&&L(re,1)):(re=Ya(le),re.c(),L(re,1),re.m(U.parentNode,U)):re&&(Te(),R(re,1,1,()=>{re=null}),ze())},i(le){X||(L(m.$$.fragment,le),L(se),L(Q),L(F.$$.fragment,le),L(N.$$.fragment,le),L(re),X=!0)},o(le){R(m.$$.fragment,le),R(se),R(Q),R(F.$$.fragment,le),R(N.$$.fragment,le),R(re),X=!1},d(le){le&&(k(e),k(j),k(U)),_e(m),se&&se.d(),Q&&Q.d(),Le(H,le),_e(F),_e(N),re&&re.d(le),Z=!1,Ve(ee)}}}let av=50;function Et(l){return l?l<1e3?`${Math.round(l)}ms`:`${(l/1e3).toFixed(2)}s`:"-"}function iu(l){return l?new Date(l).toLocaleTimeString():"-"}function un(l){return l?l<300?"green":l<400?"blue":l<500?"yellow":"red":"gray"}function cn(l,e){return!l.duration_ms||!e?0:Math.max(2,l.duration_ms/e*100)}function uv(l,e,t){let n=!0,s=null,o=[],i=null,u=!1,a=[],_="",f="",p=24,m="",h="",v="";async function g(){try{const B=await He("GET","/admin/telemetry/services");t(5,a=B.services||[]),t(6,_=B.current||"unknown")}catch(B){console.warn("Could not load services:",B),t(5,a=[])}}async function C(){try{const B=new URLSearchParams({hours:p.toString()});m&&B.set("path_prefix",m),f&&B.set("service_name",f),t(1,s=await He("GET",`/admin/telemetry/overview?${B}`))}catch(B){ye.error(`Failed to load overview: ${B.message}`)}}async function y(){try{const B=new URLSearchParams({hours:p.toString(),limit:av.toString()});m&&B.set("path_prefix",m),h&&B.set("min_duration_ms",h),v&&B.set("status_class",v),f&&B.set("service_name",f),t(2,o=await He("GET",`/admin/telemetry/requests?${B}`))}catch(B){ye.error(`Failed to load requests: ${B.message}`)}}async function $(B){try{t(3,i=await He("GET",`/admin/telemetry/requests/${B}`)),t(4,u=!0)}catch(N){ye.error(`Failed to load trace: ${N.message}`)}}async function q(){t(0,n=!0),await Promise.all([g(),C(),y()]),t(0,n=!1)}async function z(){try{const B=new URLSearchParams({hours:p.toString(),threshold_ms:"1000",limit:"50"});f&&B.set("service_name",f),t(2,o=await He("GET",`/admin/telemetry/slow?${B}`)),ye.info("Showing slow requests (>1s)")}catch(B){ye.error(`Failed to load slow requests: ${B.message}`)}}async function D(B="5xx"){try{const N=new URLSearchParams({hours:p.toString(),status_class:B,limit:"50"});f&&N.set("service_name",f),t(2,o=await He("GET",`/admin/telemetry/errors?${N}`)),ye.info(`Showing ${B} errors`)}catch(N){ye.error(`Failed to load errors: ${N.message}`)}}kl(()=>{q()});function P(){p=ct(this),t(8,p)}const T=()=>D("5xx"),E=()=>D("5xx");function A(){f=ct(this),t(7,f),t(5,a)}function M(){m=this.value,t(9,m)}function O(){h=Kt(this.value),t(10,h)}function J(){v=ct(this),t(11,v)}return[n,s,o,i,u,a,_,f,p,m,h,v,y,$,q,z,D,P,T,E,A,M,O,J,B=>$(B.request_id),()=>t(4,u=!1)]}class cv extends yt{constructor(e){super(),$t(this,e,uv,rv,bt,{},null,[-1,-1])}}function fv(l){let e,t,n,s,o,i,u,a,_,f,p,m,h,v,g,C,y,$,q,z,D,P,T,E,A;n=new Qf({props:{title:"Deploy Dashboard"}}),u=new u1({props:{tabs:l[9],active:l[0],scrollable:!0}}),u.$on("change",l[12]);let M=l[8]&&ru(l),O={};m=new $_({props:O}),l[15](m),g=new zd({});let J={};$=new Tp({props:J}),l[16]($);let W={};D=new Km({props:W}),l[17](D);const F=[vv,mv,pv],B=[];function N(j,U){return j[0]==="services"?0:j[0]==="settings"?1:j[0]==="telemetry"&&j[1]?2:-1}return~(T=N(l))&&(E=B[T]=F[T](l)),{c(){e=d("div"),t=d("div"),de(n.$$.fragment),s=b(),o=d("div"),o.textContent=`${gv}`,i=b(),de(u.$$.fragment),a=b(),M&&M.c(),_=b(),f=d("main"),p=d("div"),de(m.$$.fragment),h=b(),v=d("div"),de(g.$$.fragment),C=b(),y=d("div"),de($.$$.fragment),q=b(),z=d("div"),de(D.$$.fragment),P=b(),E&&E.c(),c(o,"class","version-badge svelte-1jnwr0w"),c(o,"title","Build timestamp"),Ce(p,"hidden",l[0]!=="infra"),Ce(v,"hidden",l[0]!=="deploy"),Ce(y,"hidden",l[0]!=="deployments"),Ce(z,"hidden",l[0]!=="architecture"),c(f,"class","content glass"),c(t,"class","container"),c(e,"class","app")},m(j,U){w(j,e,U),r(e,t),fe(n,t,null),r(t,s),r(t,o),r(t,i),fe(u,t,null),r(t,a),M&&M.m(t,null),r(t,_),r(t,f),r(f,p),fe(m,p,null),r(f,h),r(f,v),fe(g,v,null),r(f,C),r(f,y),fe($,y,null),r(f,q),r(f,z),fe(D,z,null),r(f,P),~T&&B[T].m(f,null),A=!0},p(j,U){const X={};U&512&&(X.tabs=j[9]),U&1&&(X.active=j[0]),u.$set(X),j[8]?M?(M.p(j,U),U&256&&L(M,1)):(M=ru(j),M.c(),L(M,1),M.m(t,_)):M&&(Te(),R(M,1,1,()=>{M=null}),ze());const Z={};m.$set(Z),(!A||U&1)&&Ce(p,"hidden",j[0]!=="infra"),(!A||U&1)&&Ce(v,"hidden",j[0]!=="deploy");const ee={};$.$set(ee),(!A||U&1)&&Ce(y,"hidden",j[0]!=="deployments");const se={};D.$set(se),(!A||U&1)&&Ce(z,"hidden",j[0]!=="architecture");let Q=T;T=N(j),T!==Q&&(E&&(Te(),R(B[Q],1,1,()=>{B[Q]=null}),ze()),~T?(E=B[T],E||(E=B[T]=F[T](j),E.c()),L(E,1),E.m(f,null)):E=null)},i(j){A||(L(n.$$.fragment,j),L(u.$$.fragment,j),L(M),L(m.$$.fragment,j),L(g.$$.fragment,j),L($.$$.fragment,j),L(D.$$.fragment,j),L(E),A=!0)},o(j){R(n.$$.fragment,j),R(u.$$.fragment,j),R(M),R(m.$$.fragment,j),R(g.$$.fragment,j),R($.$$.fragment,j),R(D.$$.fragment,j),R(E),A=!1},d(j){j&&k(e),_e(n),_e(u),M&&M.d(),l[15](null),_e(m),_e(g),l[16](null),_e($),l[17](null),_e(D),~T&&B[T].d()}}}function _v(l){let e,t;const n=[{title:"Deploy Dashboard"},{subtitle:"Sign in to manage your infrastructure"},p1.internal,{allowSignup:!0}];let s={};for(let o=0;o<n.length;o+=1)s=uu(s,n[o]);return e=new jf({props:s}),e.$on("success",l[11]),{c(){de(e.$$.fragment)},m(o,i){fe(e,o,i),t=!0},p(o,i){const u={};e.$set(u)},i(o){t||(L(e.$$.fragment,o),t=!0)},o(o){R(e.$$.fragment,o),t=!1},d(o){_e(e,o)}}}function dv(l){let e;return{c(){e=d("div"),e.innerHTML='<div class="spinner"></div>',c(e,"class","loading-screen")},m(t,n){w(t,e,n)},p:be,i:be,o:be,d(t){t&&k(e)}}}function ru(l){let e,t;return e=new T1({props:{showTail:l[7],showContainer:l[6]}}),e.$on("change",l[13]),e.$on("refresh",l[14]),{c(){de(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s&128&&(o.showTail=n[7]),s&64&&(o.showContainer=n[6]),e.$set(o)},i(n){t||(L(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function pv(l){let e,t;return e=new cv({}),{c(){de(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},i(n){t||(L(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function mv(l){let e,t;return e=new bm({}),{c(){de(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},i(n){t||(L(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function vv(l){let e,t;return e=new Up({}),{c(){de(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},i(n){t||(L(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function hv(l){let e,t,n,s,o,i;e=new d1({});const u=[dv,_v,fv],a=[];function _(f,p){return f[2]?!f[10].token||!f[10].user?1:2:0}return n=_(l),s=a[n]=u[n](l),{c(){de(e.$$.fragment),t=b(),s.c(),o=Fe()},m(f,p){fe(e,f,p),w(f,t,p),a[n].m(f,p),w(f,o,p),i=!0},p(f,[p]){let m=n;n=_(f),n===m?a[n].p(f,p):(Te(),R(a[m],1,1,()=>{a[m]=null}),ze(),s=a[n],s?s.p(f,p):(s=a[n]=u[n](f),s.c()),L(s,1),s.m(o.parentNode,o))},i(f){i||(L(e.$$.fragment,f),L(s),i=!0)},o(f){R(e.$$.fragment,f),R(s),i=!1},d(f){f&&(k(t),k(o)),_e(e,f),a[n].d(f)}}}const gv="2026-01-20 11:00 UTC";function bv(l,e,t){let n,s,o,i,u,a,_;_t(l,Rs,A=>t(0,u=A)),_t(l,wt,A=>t(10,a=A)),_t(l,uf,A=>t(1,_=A));let f=!1,p,m,h;const v=[{id:"infra",label:"Infrastructure"},{id:"deploy",label:"Deploy"},{id:"deployments",label:"Deployments"},{id:"architecture",label:"Architecture"},{id:"services",label:"Services"},{id:"settings",label:"Settings"}],g=[{id:"telemetry",label:"🔍 Telemetry",admin:!0}];kl(async()=>{const A=await C();t(2,f=!0),A&&y()});async function C(){const A=a;if(!A.token||A.token.trim()==="")return!1;try{const M=await Dl("GET","/auth/me");return wt.setUser(M),!0}catch{return wt.logout(),!1}}function y(){Xt.refresh(),Nn.refresh(),dn.refresh(),bl.refresh()}async function $(A){const{user:M,token:O}=A.detail;qn(O),wt.setUser(M),y()}function q(A){Rs.set(A.detail)}function z(){D()}function D(){switch(u){case"infra":p==null||p.refresh(),Xt.refresh();break;case"deployments":m==null||m.refresh();break;case"architecture":h==null||h.refresh();break}}function P(A){Ft[A?"unshift":"push"](()=>{p=A,t(3,p)})}function T(A){Ft[A?"unshift":"push"](()=>{m=A,t(4,m)})}function E(A){Ft[A?"unshift":"push"](()=>{h=A,t(5,h)})}return l.$$.update=()=>{l.$$.dirty&2&&t(9,n=_?[...v,...g]:v),l.$$.dirty&1&&t(8,s=u==="deployments")},t(7,o=!1),t(6,i=!1),[u,_,f,p,m,h,i,o,s,n,a,$,q,z,D,P,T,E]}class kv extends yt{constructor(e){super(),$t(this,e,bv,hv,bt,{})}}new kv({target:document.getElementById("app")});
