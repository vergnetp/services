var Zf=Object.defineProperty;var Xf=(l,e,t)=>e in l?Zf(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var _l=(l,e,t)=>Xf(l,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function ge(){}const yu=l=>l;function Su(l,e){for(const t in e)l[t]=e[t];return l}function qu(l){return l()}function In(){return Object.create(null)}function Ge(l){l.forEach(qu)}function _n(l){return typeof l=="function"}function Ct(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}let Ql;function nn(l,e){return l===e?!0:(Ql||(Ql=document.createElement("a")),Ql.href=e,l===Ql.href)}function xf(l){return Object.keys(l).length===0}function Dn(l,...e){if(l==null){for(const n of e)n(void 0);return ge}const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Al(l){let e;return Dn(l,t=>e=t)(),e}function vt(l,e,t){l.$$.on_destroy.push(Dn(e,t))}function Mt(l,e,t,n){if(l){const s=ju(l,e,t,n);return l[0](s)}}function ju(l,e,t,n){return l[1]&&n?Su(t.ctx.slice(),l[1](n(e))):t.ctx}function Ot(l,e,t,n){if(l[2]&&n){const s=l[2](n(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const o=[],i=Math.max(e.dirty.length,s.length);for(let u=0;u<i;u+=1)o[u]=e.dirty[u]|s[u];return o}return e.dirty|s}return e.dirty}function It(l,e,t,n,s,o){if(s){const i=ju(e,t,n,o);l.p(i,s)}}function Ft(l){if(l.ctx.length>32){const e=[],t=l.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function Tu(l){const e={};for(const t in l)e[t]=!0;return e}function Fn(l){const e=typeof l=="string"&&l.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[l,"px"]}const zu=typeof window<"u";let ec=zu?()=>window.performance.now():()=>Date.now(),En=zu?l=>requestAnimationFrame(l):ge;const Ll=new Set;function Du(l){Ll.forEach(e=>{e.c(l)||(Ll.delete(e),e.f())}),Ll.size!==0&&En(Du)}function tc(l){let e;return Ll.size===0&&En(Du),{promise:new Promise(t=>{Ll.add(e={c:l,f:t})}),abort(){Ll.delete(e)}}}const Eu=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function r(l,e){l.appendChild(e)}function Lu(l){if(!l)return document;const e=l.getRootNode?l.getRootNode():l.ownerDocument;return e&&e.host?e:l.ownerDocument}function lc(l){const e=d("style");return e.textContent="/* empty */",nc(Lu(l),e),e.sheet}function nc(l,e){return r(l.head||l,e),e.sheet}function w(l,e,t){l.insertBefore(e,t||null)}function k(l){l.parentNode&&l.parentNode.removeChild(l)}function Ne(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function d(l){return document.createElement(l)}function Pl(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function q(l){return document.createTextNode(l)}function b(){return q(" ")}function Oe(){return q("")}function ee(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function sc(l){return function(e){return e.preventDefault(),l.call(this,e)}}function Un(l){return function(e){return e.stopPropagation(),l.call(this,e)}}function f(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function dn(l){let e;return{p(...t){e=t,e.forEach(n=>l.push(n))},r(){e.forEach(t=>l.splice(l.indexOf(t),1))}}}function Kt(l){return l===""?null:+l}function oc(l){return Array.from(l.childNodes)}function U(l,e){e=""+e,l.data!==e&&(l.data=e)}function te(l,e){l.value=e??""}function Pt(l,e,t,n){t==null?l.style.removeProperty(e):l.style.setProperty(e,t,"")}function Ee(l,e,t){for(let n=0;n<l.options.length;n+=1){const s=l.options[n];if(s.__value===e){s.selected=!0;return}}(!t||e!==void 0)&&(l.selectedIndex=-1)}function ut(l){const e=l.querySelector(":checked");return e&&e.__value}function we(l,e,t){l.classList.toggle(e,!!t)}function Pu(l,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(l,{detail:e,bubbles:t,cancelable:n})}class ic{constructor(e=!1){_l(this,"is_svg",!1);_l(this,"e");_l(this,"n");_l(this,"t");_l(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=Pl(t.nodeName):this.e=d(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)w(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(k)}}const sn=new Map;let on=0;function rc(l){let e=5381,t=l.length;for(;t--;)e=(e<<5)-e^l.charCodeAt(t);return e>>>0}function ac(l,e){const t={stylesheet:lc(e),rules:{}};return sn.set(l,t),t}function Bn(l,e,t,n,s,o,i,u=0){const a=16.666/n;let c=`{
`;for(let S=0;S<=1;S+=a){const C=e+(t-e)*o(S);c+=S*100+`%{${i(C,1-C)}}
`}const _=c+`100% {${i(t,1-t)}}
}`,p=`__svelte_${rc(_)}_${u}`,m=Lu(l),{stylesheet:h,rules:v}=sn.get(m)||ac(m,l);v[p]||(v[p]=!0,h.insertRule(`@keyframes ${p} ${_}`,h.cssRules.length));const g=l.style.animation||"";return l.style.animation=`${g?`${g}, `:""}${p} ${n}ms linear ${s}ms 1 both`,on+=1,p}function uc(l,e){const t=(l.style.animation||"").split(", "),n=t.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),s=t.length-n.length;s&&(l.style.animation=n.join(", "),on-=s,on||fc())}function fc(){En(()=>{on||(sn.forEach(l=>{const{ownerNode:e}=l.stylesheet;e&&k(e)}),sn.clear())})}let Wl;function Gl(l){Wl=l}function Ln(){if(!Wl)throw new Error("Function called outside component initialization");return Wl}function kl(l){Ln().$$.on_mount.push(l)}function cc(l){Ln().$$.on_destroy.push(l)}function Ml(){const l=Ln();return(e,t,{cancelable:n=!1}={})=>{const s=l.$$.callbacks[e];if(s){const o=Pu(e,t,{cancelable:n});return s.slice().forEach(i=>{i.call(l,o)}),!o.defaultPrevented}return!0}}function rn(l,e){const t=l.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const Tl=[],Ut=[];let Nl=[];const yn=[],_c=Promise.resolve();let Sn=!1;function dc(){Sn||(Sn=!0,_c.then(Nu))}function Qe(l){Nl.push(l)}function dl(l){yn.push(l)}const wn=new Set;let Sl=0;function Nu(){if(Sl!==0)return;const l=Wl;do{try{for(;Sl<Tl.length;){const e=Tl[Sl];Sl++,Gl(e),pc(e.$$)}}catch(e){throw Tl.length=0,Sl=0,e}for(Gl(null),Tl.length=0,Sl=0;Ut.length;)Ut.pop()();for(let e=0;e<Nl.length;e+=1){const t=Nl[e];wn.has(t)||(wn.add(t),t())}Nl.length=0}while(Tl.length);for(;yn.length;)yn.pop()();Sn=!1,wn.clear(),Gl(l)}function pc(l){if(l.fragment!==null){l.update(),Ge(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(Qe)}}function mc(l){const e=[],t=[];Nl.forEach(n=>l.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Nl=e}let Hl;function vc(){return Hl||(Hl=Promise.resolve(),Hl.then(()=>{Hl=null})),Hl}function $n(l,e,t){l.dispatchEvent(Pu(`${e?"intro":"outro"}${t}`))}const xl=new Set;let sl;function qe(){sl={r:0,c:[],p:sl}}function je(){sl.r||Ge(sl.c),sl=sl.p}function P(l,e){l&&l.i&&(xl.delete(l),l.i(e))}function M(l,e,t,n){if(l&&l.o){if(xl.has(l))return;xl.add(l),sl.c.push(()=>{xl.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}const hc={duration:0};function El(l,e,t,n){let o=e(l,t,{direction:"both"}),i=n?0:1,u=null,a=null,c=null,_;function p(){c&&uc(l,c)}function m(v,g){const S=v.b-i;return g*=Math.abs(S),{a:i,b:v.b,d:S,duration:g,start:v.start,end:v.start+g,group:v.group}}function h(v){const{delay:g=0,duration:S=300,easing:C=yu,tick:$=ge,css:y}=o||hc,T={start:ec()+g,b:v};v||(T.group=sl,sl.r+=1),"inert"in l&&(v?_!==void 0&&(l.inert=_):(_=l.inert,l.inert=!0)),u||a?a=T:(y&&(p(),c=Bn(l,i,v,S,g,C,y)),v&&$(0,1),u=m(T,S),Qe(()=>$n(l,v,"start")),tc(z=>{if(a&&z>a.start&&(u=m(a,S),a=null,$n(l,u.b,"start"),y&&(p(),c=Bn(l,i,u.b,u.duration,0,C,o.css))),u){if(z>=u.end)$(i=u.b,1-i),$n(l,u.b,"end"),a||(u.b?p():--u.group.r||Ge(u.group.c)),u=null;else if(z>=u.start){const E=z-u.start;i=u.a+u.d*C(E/u.duration),$(i,1-i)}}return!!(u||a)}))}return{run(v){_n(o)?vc().then(()=>{o=o({direction:v?"in":"out"}),h(v)}):h(v)},end(){p(),u=a=null}}}function de(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function Ru(l,e){M(l,1,1,()=>{e.delete(l.key)})}function Au(l,e,t,n,s,o,i,u,a,c,_,p){let m=l.length,h=o.length,v=m;const g={};for(;v--;)g[l[v].key]=v;const S=[],C=new Map,$=new Map,y=[];for(v=h;v--;){const j=p(s,o,v),D=t(j);let I=i.get(D);I?y.push(()=>I.p(j,e)):(I=c(D,j),I.c()),C.set(D,S[v]=I),D in g&&$.set(D,Math.abs(v-g[D]))}const T=new Set,z=new Set;function E(j){P(j,1),j.m(u,_),i.set(j.key,j),_=j.first,h--}for(;m&&h;){const j=S[h-1],D=l[m-1],I=j.key,N=D.key;j===D?(_=j.first,m--,h--):C.has(N)?!i.has(I)||T.has(I)?E(j):z.has(N)?m--:$.get(I)>$.get(N)?(z.add(I),E(j)):(T.add(N),m--):(a(D,i),m--)}for(;m--;){const j=l[m];C.has(j.key)||a(j,i)}for(;h;)E(S[h-1]);return Ge(y),S}function pl(l,e,t){const n=l.$$.props[e];n!==void 0&&(l.$$.bound[n]=t,t(l.$$.ctx[n]))}function _e(l){l&&l.c()}function fe(l,e,t){const{fragment:n,after_update:s}=l.$$;n&&n.m(e,t),Qe(()=>{const o=l.$$.on_mount.map(qu).filter(_n);l.$$.on_destroy?l.$$.on_destroy.push(...o):Ge(o),l.$$.on_mount=[]}),s.forEach(Qe)}function ce(l,e){const t=l.$$;t.fragment!==null&&(mc(t.after_update),Ge(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function gc(l,e){l.$$.dirty[0]===-1&&(Tl.push(l),dc(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function St(l,e,t,n,s,o,i=null,u=[-1]){const a=Wl;Gl(l);const c=l.$$={fragment:null,ctx:[],props:o,update:ge,not_equal:s,bound:In(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:In(),dirty:u,skip_bound:!1,root:e.target||a.$$.root};i&&i(c.root);let _=!1;if(c.ctx=t?t(l,e.props||{},(p,m,...h)=>{const v=h.length?h[0]:m;return c.ctx&&s(c.ctx[p],c.ctx[p]=v)&&(!c.skip_bound&&c.bound[p]&&c.bound[p](v),_&&gc(l,p)),m}):[],c.update(),_=!0,Ge(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const p=oc(e.target);c.fragment&&c.fragment.l(p),p.forEach(k)}else c.fragment&&c.fragment.c();e.intro&&P(l.$$.fragment),fe(l,e.target,e.anchor),Nu()}Gl(a)}class qt{constructor(){_l(this,"$$");_l(this,"$$set")}$destroy(){ce(this,1),this.$destroy=ge}$on(e,t){if(!_n(t))return ge;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!xf(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const bc="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(bc);const ql=[];function kc(l,e){return{subscribe:nl(l,e).subscribe}}function nl(l,e=ge){let t;const n=new Set;function s(u){if(Ct(l,u)&&(l=u,t)){const a=!ql.length;for(const c of n)c[1](),ql.push(c,l);if(a){for(let c=0;c<ql.length;c+=2)ql[c][0](ql[c+1]);ql.length=0}}}function o(u){s(u(l))}function i(u,a=ge){const c=[u,a];return n.add(c),n.size===1&&(t=e(s,o)||ge),u(l),()=>{n.delete(c),n.size===0&&t&&(t(),t=null)}}return{set:s,update:o,subscribe:i}}function ml(l,e,t){const n=!Array.isArray(l),s=n?[l]:l;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const o=e.length<2;return kc(t,(i,u)=>{let a=!1;const c=[];let _=0,p=ge;const m=()=>{if(_)return;p();const v=e(n?c[0]:c,i,u);o?i(v):p=_n(v)?v:ge},h=s.map((v,g)=>Dn(v,S=>{c[g]=S,_&=~(1<<g),a&&m()},()=>{_|=1<<g}));return a=!0,m(),function(){Ge(h),p(),a=!1}})}function Mu(l,e,t=7){if(typeof document>"u")return;const n=new Date(Date.now()+t*864e5).toUTCString();document.cookie=`${l}=${encodeURIComponent(e)}; expires=${n}; path=/; SameSite=Strict`}function Pn(l){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(^| )"+l+"=([^;]+)"));return e?decodeURIComponent(e[2]):null}function wc(l){typeof document>"u"||(document.cookie=`${l}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/; SameSite=Strict`)}const en="jwt_token";function $c(){const l=Pn(en),{subscribe:e,set:t,update:n}=nl({token:l,user:null,loading:!1,error:null});return{subscribe:e,setToken(s){Mu(en,s,7),n(o=>({...o,token:s,error:null}))},setUser(s){n(o=>({...o,user:s}))},setError(s){n(o=>({...o,error:s,loading:!1}))},setLoading(s){n(o=>({...o,loading:s}))},logout(){wc(en),t({token:null,user:null,loading:!1,error:null})},clearError(){n(s=>({...s,error:null}))}}}const bt=$c();ml(bt,l=>!!l.token&&!!l.user);ml(bt,l=>l.user);let Ou=[];function Cc(l){Ou=l.map(e=>e.toLowerCase())}const yc=ml(bt,l=>{var e;return(e=l.user)!=null&&e.email?l.user.role==="admin"?!0:Ou.includes(l.user.email.toLowerCase()):!1});function Hn(){return Pn(en)}function qn(l){bt.setToken(l)}function Sc(){bt.logout()}function Iu(l){return Pn(l)}function Fu(l,e,t=30){Mu(l,e,t)}let Uu={baseUrl:"/api/v1",onUnauthorized:null};function qc(l,e={}){const t=e.config||Uu,n=Al(bt),s={"Content-Type":"application/json"},o=l.startsWith("/auth/login")||l.startsWith("/auth/register");return n.token&&!o&&!e.skipAuth&&(s.Authorization=`Bearer ${n.token}`),e.headers&&Object.assign(s,e.headers),{url:t.baseUrl+l,headers:s}}async function jc(l,e={}){const t=e.config||Uu;if(l.status===401){let n="Authentication failed";try{const o=await l.json();n=o.detail||o.error||o.message||n}catch{}throw Al(bt).token&&(bt.logout(),n="Session expired - please login again"),t.onUnauthorized&&t.onUnauthorized(n),new Error(n)}if(!l.ok){const n=await l.json().catch(()=>({detail:"Request failed"}));throw new Error(n.detail||n.error||n.message||"Request failed")}}async function Tc(l,e,t=null,n={}){const{url:s,headers:o}=qc(e,n),i={method:l,headers:o};t&&(i.body=JSON.stringify(t));const u=await fetch(s,i);if(await jc(u,n),u.status===204)return null;const a=await u.json();return a&&a.success===!0&&a.data!==void 0?a.data:a}async function zl(l,e,t=null,n={}){return Tc(l,e,t,n)}function zc(l){let e,t,n,s,o,i,u=l[3]&&Gn();const a=l[9].default,c=Mt(a,l,l[8],null);return{c(){e=d("button"),u&&u.c(),t=b(),c&&c.c(),f(e,"type",l[4]),f(e,"title",l[6]),f(e,"aria-label",l[7]),f(e,"class",n="btn btn-"+l[0]+" btn-"+l[1]+" svelte-1umzi1p"),e.disabled=l[2]},m(_,p){w(_,e,p),u&&u.m(e,null),r(e,t),c&&c.m(e,null),s=!0,o||(i=ee(e,"click",l[11]),o=!0)},p(_,p){_[3]?u||(u=Gn(),u.c(),u.m(e,t)):u&&(u.d(1),u=null),c&&c.p&&(!s||p&256)&&It(c,a,_,_[8],s?Ot(a,_[8],p,null):Ft(_[8]),null),(!s||p&16)&&f(e,"type",_[4]),(!s||p&64)&&f(e,"title",_[6]),(!s||p&128)&&f(e,"aria-label",_[7]),(!s||p&3&&n!==(n="btn btn-"+_[0]+" btn-"+_[1]+" svelte-1umzi1p"))&&f(e,"class",n),(!s||p&4)&&(e.disabled=_[2])},i(_){s||(P(c,_),s=!0)},o(_){M(c,_),s=!1},d(_){_&&k(e),u&&u.d(),c&&c.d(_),o=!1,i()}}}function Dc(l){let e,t,n,s,o,i,u=l[3]&&Wn();const a=l[9].default,c=Mt(a,l,l[8],null);return{c(){e=d("a"),u&&u.c(),t=b(),c&&c.c(),f(e,"href",l[5]),f(e,"title",l[6]),f(e,"aria-label",l[7]),f(e,"class",n="btn btn-"+l[0]+" btn-"+l[1]+" svelte-1umzi1p"),we(e,"disabled",l[2])},m(_,p){w(_,e,p),u&&u.m(e,null),r(e,t),c&&c.m(e,null),s=!0,o||(i=ee(e,"click",l[10]),o=!0)},p(_,p){_[3]?u||(u=Wn(),u.c(),u.m(e,t)):u&&(u.d(1),u=null),c&&c.p&&(!s||p&256)&&It(c,a,_,_[8],s?Ot(a,_[8],p,null):Ft(_[8]),null),(!s||p&32)&&f(e,"href",_[5]),(!s||p&64)&&f(e,"title",_[6]),(!s||p&128)&&f(e,"aria-label",_[7]),(!s||p&3&&n!==(n="btn btn-"+_[0]+" btn-"+_[1]+" svelte-1umzi1p"))&&f(e,"class",n),(!s||p&7)&&we(e,"disabled",_[2])},i(_){s||(P(c,_),s=!0)},o(_){M(c,_),s=!1},d(_){_&&k(e),u&&u.d(),c&&c.d(_),o=!1,i()}}}function Gn(l){let e;return{c(){e=d("span"),f(e,"class","spinner svelte-1umzi1p")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Wn(l){let e;return{c(){e=d("span"),f(e,"class","spinner svelte-1umzi1p")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Ec(l){let e,t,n,s;const o=[Dc,zc],i=[];function u(a,c){return a[5]?0:1}return e=u(l),t=i[e]=o[e](l),{c(){t.c(),n=Oe()},m(a,c){i[e].m(a,c),w(a,n,c),s=!0},p(a,[c]){let _=e;e=u(a),e===_?i[e].p(a,c):(qe(),M(i[_],1,1,()=>{i[_]=null}),je(),t=i[e],t?t.p(a,c):(t=i[e]=o[e](a),t.c()),P(t,1),t.m(n.parentNode,n))},i(a){s||(P(t),s=!0)},o(a){M(t),s=!1},d(a){a&&k(n),i[e].d(a)}}}function Lc(l,e,t){let{$$slots:n={},$$scope:s}=e,{variant:o="default"}=e,{size:i="md"}=e,{disabled:u=!1}=e,{loading:a=!1}=e,{type:c="button"}=e,{href:_=null}=e,{title:p=void 0}=e,{ariaLabel:m=void 0}=e;function h(g){rn.call(this,l,g)}function v(g){rn.call(this,l,g)}return l.$$set=g=>{"variant"in g&&t(0,o=g.variant),"size"in g&&t(1,i=g.size),"disabled"in g&&t(2,u=g.disabled),"loading"in g&&t(3,a=g.loading),"type"in g&&t(4,c=g.type),"href"in g&&t(5,_=g.href),"title"in g&&t(6,p=g.title),"ariaLabel"in g&&t(7,m=g.ariaLabel),"$$scope"in g&&t(8,s=g.$$scope)},[o,i,u,a,c,_,p,m,s,n,h,v]}class Fe extends qt{constructor(e){super(),St(this,e,Lc,Ec,Ct,{variant:0,size:1,disabled:2,loading:3,type:4,href:5,title:6,ariaLabel:7})}}const Pc=l=>({}),Vn=l=>({}),Nc=l=>({}),Jn=l=>({});function Kn(l,e,t){const n=l.slice();return n[57]=e[t],n[58]=e,n[59]=t,n}function Yn(l,e,t){const n=l.slice();return n[60]=e[t],n}function Qn(l,e,t){const n=l.slice();return n[63]=e[t],n}const Rc=l=>({}),Zn=l=>({}),Ac=l=>({}),Xn=l=>({});function xn(l){let e;function t(o,i){return o[2]?Oc:Mc}let n=t(l),s=n(l);return{c(){s.c(),e=Oe()},m(o,i){s.m(o,i),w(o,e,i)},p(o,i){n===(n=t(o))&&s?s.p(o,i):(s.d(1),s=n(o),s&&(s.c(),s.m(e.parentNode,e)))},d(o){o&&k(e),s.d(o)}}}function Mc(l){let e;return{c(){e=d("span"),f(e,"class","brand-dot svelte-18o6zjb")},m(t,n){w(t,e,n)},p:ge,d(t){t&&k(e)}}}function Oc(l){let e,t;return{c(){e=d("img"),nn(e.src,t=l[2])||f(e,"src",t),f(e,"alt",l[0]),f(e,"class","auth-logo svelte-18o6zjb")},m(n,s){w(n,e,s)},p(n,s){s[0]&4&&!nn(e.src,t=n[2])&&f(e,"src",t),s[0]&1&&f(e,"alt",n[0])},d(n){n&&k(e)}}}function Ic(l){let e,t,n,s,o,i,u,a=l[3]&&xn(l);return{c(){e=d("div"),a&&a.c(),t=b(),n=d("h1"),s=q(l[0]),o=b(),i=d("p"),u=q(l[1]),f(n,"class","svelte-18o6zjb"),f(i,"class","subtitle svelte-18o6zjb"),f(e,"class","auth-header svelte-18o6zjb")},m(c,_){w(c,e,_),a&&a.m(e,null),r(e,t),r(e,n),r(n,s),r(e,o),r(e,i),r(i,u)},p(c,_){c[3]?a?a.p(c,_):(a=xn(c),a.c(),a.m(e,t)):a&&(a.d(1),a=null),_[0]&1&&U(s,c[0]),_[0]&2&&U(u,c[1])},d(c){c&&k(e),a&&a.d()}}}function es(l){let e,t,n,s=de(l[6]),o=[];for(let u=0;u<s.length;u+=1)o[u]=ts(Qn(l,s,u));let i=!l[7]&&ls();return{c(){e=d("div");for(let u=0;u<o.length;u+=1)o[u].c();t=b(),i&&i.c(),n=Oe(),f(e,"class","social-login svelte-18o6zjb")},m(u,a){w(u,e,a);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null);w(u,t,a),i&&i.m(u,a),w(u,n,a)},p(u,a){if(a[0]&67371072|a[1]&1){s=de(u[6]);let c;for(c=0;c<s.length;c+=1){const _=Qn(u,s,c);o[c]?o[c].p(_,a):(o[c]=ts(_),o[c].c(),o[c].m(e,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=s.length}u[7]?i&&(i.d(1),i=null):i||(i=ls(),i.c(),i.m(n.parentNode,n))},d(u){u&&(k(e),k(t),k(n)),Ne(o,u),i&&i.d(u)}}}function ts(l){let e,t,n=(l[26][l[63]]||"")+"",s,o=l[63].charAt(0).toUpperCase()+l[63].slice(1)+"",i,u,a,c,_;function p(){return l[43](l[63])}return{c(){e=d("button"),t=d("span"),s=q(`
            Continue with `),i=q(o),u=b(),f(t,"class","social-icon svelte-18o6zjb"),f(e,"class",a="btn-social btn-social-"+l[63]+" svelte-18o6zjb"),e.disabled=l[18]},m(m,h){w(m,e,h),r(e,t),t.innerHTML=n,r(e,s),r(e,i),r(e,u),c||(_=ee(e,"click",p),c=!0)},p(m,h){l=m,h[0]&64&&n!==(n=(l[26][l[63]]||"")+"")&&(t.innerHTML=n),h[0]&64&&o!==(o=l[63].charAt(0).toUpperCase()+l[63].slice(1)+"")&&U(i,o),h[0]&64&&a!==(a="btn-social btn-social-"+l[63]+" svelte-18o6zjb")&&f(e,"class",a),h[0]&262144&&(e.disabled=l[18])},d(m){m&&k(e),c=!1,_()}}}function ls(l){let e;return{c(){e=d("div"),e.innerHTML='<span class="svelte-18o6zjb">or</span>',f(e,"class","divider svelte-18o6zjb")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function ns(l){let e,t,n,s,o,i,u,a=l[10]&&l[27][l[10]]&&ss(l),c=!l[7]&&os();return{c(){e=d("button"),a&&a.c(),t=b(),n=q(l[9]),s=b(),c&&c.c(),o=Oe(),f(e,"class","btn-sso svelte-18o6zjb"),e.disabled=l[18]},m(_,p){w(_,e,p),a&&a.m(e,null),r(e,t),r(e,n),w(_,s,p),c&&c.m(_,p),w(_,o,p),i||(u=ee(e,"click",l[32]),i=!0)},p(_,p){_[10]&&_[27][_[10]]?a?a.p(_,p):(a=ss(_),a.c(),a.m(e,t)):a&&(a.d(1),a=null),p[0]&512&&U(n,_[9]),p[0]&262144&&(e.disabled=_[18]),_[7]?c&&(c.d(1),c=null):c||(c=os(),c.c(),c.m(o.parentNode,o))},d(_){_&&(k(e),k(s),k(o)),a&&a.d(),c&&c.d(_),i=!1,u()}}}function ss(l){let e,t=l[27][l[10]]+"";return{c(){e=d("span"),f(e,"class","sso-icon svelte-18o6zjb")},m(n,s){w(n,e,s),e.innerHTML=t},p(n,s){s[0]&1024&&t!==(t=n[27][n[10]]+"")&&(e.innerHTML=t)},d(n){n&&k(e)}}}function os(l){let e;return{c(){e=d("div"),e.innerHTML='<span class="svelte-18o6zjb">or use email</span>',f(e,"class","divider svelte-18o6zjb")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function is(l){let e,t,n,s,o,i=l[4]&&rs(l);const u=[Uc,Fc],a=[];function c(_,p){return _[17]==="login"?0:1}return t=c(l),n=a[t]=u[t](l),{c(){i&&i.c(),e=b(),n.c(),s=Oe()},m(_,p){i&&i.m(_,p),w(_,e,p),a[t].m(_,p),w(_,s,p),o=!0},p(_,p){_[4]?i?i.p(_,p):(i=rs(_),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null);let m=t;t=c(_),t===m?a[t].p(_,p):(qe(),M(a[m],1,1,()=>{a[m]=null}),je(),n=a[t],n?n.p(_,p):(n=a[t]=u[t](_),n.c()),P(n,1),n.m(s.parentNode,s))},i(_){o||(P(n),o=!0)},o(_){M(n),o=!1},d(_){_&&(k(e),k(s)),i&&i.d(_),a[t].d(_)}}}function rs(l){let e,t,n,s,o,i;return{c(){e=d("div"),t=d("button"),t.textContent="Sign In",n=b(),s=d("button"),s.textContent="Sign Up",f(t,"class","tab svelte-18o6zjb"),we(t,"active",l[17]==="login"),f(s,"class","tab svelte-18o6zjb"),we(s,"active",l[17]==="signup"),f(e,"class","tabs svelte-18o6zjb")},m(u,a){w(u,e,a),r(e,t),r(e,n),r(e,s),o||(i=[ee(t,"click",l[44]),ee(s,"click",l[45])],o=!0)},p(u,a){a[0]&131072&&we(t,"active",u[17]==="login"),a[0]&131072&&we(s,"active",u[17]==="signup")},d(u){u&&k(e),o=!1,Ge(i)}}}function Fc(l){let e,t,n,s,o,i,u,a,c,_,p,m,h,v,g,S,C,$,y,T,z,E,j=de(l[15]),D=[];for(let N=0;N<j.length;N+=1)D[N]=us(Kn(l,j,N));let I=l[11]&&fs(l);return y=new Fe({props:{type:"submit",variant:"primary",loading:l[18],disabled:l[18],$$slots:{default:[Wc]},$$scope:{ctx:l}}}),{c(){e=d("form"),t=d("div"),n=d("label"),n.textContent="Email",s=b(),o=d("input"),i=b(),u=d("div"),a=d("label"),a.textContent="Password",c=b(),_=d("input"),p=b(),m=d("div"),h=d("label"),h.textContent="Confirm Password",v=b(),g=d("input"),S=b();for(let N=0;N<D.length;N+=1)D[N].c();C=b(),I&&I.c(),$=b(),_e(y.$$.fragment),f(n,"for","signup-email"),f(n,"class","svelte-18o6zjb"),f(o,"type","email"),f(o,"id","signup-email"),f(o,"placeholder","you@example.com"),o.required=!0,o.disabled=l[18],f(o,"autocomplete","email"),f(o,"class","svelte-18o6zjb"),f(t,"class","form-group svelte-18o6zjb"),f(a,"for","signup-password"),f(a,"class","svelte-18o6zjb"),f(_,"type","password"),f(_,"id","signup-password"),f(_,"placeholder","••••••••"),_.required=!0,_.disabled=l[18],f(_,"autocomplete","new-password"),f(_,"class","svelte-18o6zjb"),f(u,"class","form-group svelte-18o6zjb"),f(h,"for","signup-confirm"),f(h,"class","svelte-18o6zjb"),f(g,"type","password"),f(g,"id","signup-confirm"),f(g,"placeholder","••••••••"),g.required=!0,g.disabled=l[18],f(g,"autocomplete","new-password"),f(g,"class","svelte-18o6zjb"),f(m,"class","form-group svelte-18o6zjb"),f(e,"class","svelte-18o6zjb")},m(N,A){w(N,e,A),r(e,t),r(t,n),r(t,s),r(t,o),te(o,l[22]),r(e,i),r(e,u),r(u,a),r(u,c),r(u,_),te(_,l[23]),r(e,p),r(e,m),r(m,h),r(m,v),r(m,g),te(g,l[24]),r(e,S);for(let Y=0;Y<D.length;Y+=1)D[Y]&&D[Y].m(e,null);r(e,C),I&&I.m(e,null),r(e,$),fe(y,e,null),T=!0,z||(E=[ee(o,"input",l[48]),ee(_,"input",l[49]),ee(g,"input",l[50]),ee(e,"submit",l[30])],z=!0)},p(N,A){if((!T||A[0]&262144)&&(o.disabled=N[18]),A[0]&4194304&&o.value!==N[22]&&te(o,N[22]),(!T||A[0]&262144)&&(_.disabled=N[18]),A[0]&8388608&&_.value!==N[23]&&te(_,N[23]),(!T||A[0]&262144)&&(g.disabled=N[18]),A[0]&16777216&&g.value!==N[24]&&te(g,N[24]),A[0]&360448){j=de(N[15]);let F;for(F=0;F<j.length;F+=1){const O=Kn(N,j,F);D[F]?D[F].p(O,A):(D[F]=us(O),D[F].c(),D[F].m(e,C))}for(;F<D.length;F+=1)D[F].d(1);D.length=j.length}N[11]?I?I.p(N,A):(I=fs(N),I.c(),I.m(e,$)):I&&(I.d(1),I=null);const Y={};A[0]&262144&&(Y.loading=N[18]),A[0]&262144&&(Y.disabled=N[18]),A[1]&16777216&&(Y.$$scope={dirty:A,ctx:N}),y.$set(Y)},i(N){T||(P(y.$$.fragment,N),T=!0)},o(N){M(y.$$.fragment,N),T=!1},d(N){N&&k(e),Ne(D,N),I&&I.d(),ce(y),z=!1,Ge(E)}}}function Uc(l){let e,t,n,s,o,i,u,a,c,_,p,m,h,v,g,S,C=l[5]&&cs(l);return h=new Fe({props:{type:"submit",variant:"primary",loading:l[18],disabled:l[18],$$slots:{default:[Vc]},$$scope:{ctx:l}}}),{c(){e=d("form"),t=d("div"),n=d("label"),n.textContent="Email",s=b(),o=d("input"),i=b(),u=d("div"),a=d("label"),a.textContent="Password",c=b(),_=d("input"),p=b(),C&&C.c(),m=b(),_e(h.$$.fragment),f(n,"for","login-email"),f(n,"class","svelte-18o6zjb"),f(o,"type","email"),f(o,"id","login-email"),f(o,"placeholder","you@example.com"),o.required=!0,o.disabled=l[18],f(o,"autocomplete","email"),f(o,"class","svelte-18o6zjb"),f(t,"class","form-group svelte-18o6zjb"),f(a,"for","login-password"),f(a,"class","svelte-18o6zjb"),f(_,"type","password"),f(_,"id","login-password"),f(_,"placeholder","••••••••"),_.required=!0,_.disabled=l[18],f(_,"autocomplete","current-password"),f(_,"class","svelte-18o6zjb"),f(u,"class","form-group svelte-18o6zjb"),f(e,"class","svelte-18o6zjb")},m($,y){w($,e,y),r(e,t),r(t,n),r(t,s),r(t,o),te(o,l[20]),r(e,i),r(e,u),r(u,a),r(u,c),r(u,_),te(_,l[21]),r(e,p),C&&C.m(e,null),r(e,m),fe(h,e,null),v=!0,g||(S=[ee(o,"input",l[46]),ee(_,"input",l[47]),ee(e,"submit",l[29])],g=!0)},p($,y){(!v||y[0]&262144)&&(o.disabled=$[18]),y[0]&1048576&&o.value!==$[20]&&te(o,$[20]),(!v||y[0]&262144)&&(_.disabled=$[18]),y[0]&2097152&&_.value!==$[21]&&te(_,$[21]),$[5]?C?C.p($,y):(C=cs($),C.c(),C.m(e,m)):C&&(C.d(1),C=null);const T={};y[0]&262144&&(T.loading=$[18]),y[0]&262144&&(T.disabled=$[18]),y[1]&16777216&&(T.$$scope={dirty:y,ctx:$}),h.$set(T)},i($){v||(P(h.$$.fragment,$),v=!0)},o($){M(h.$$.fragment,$),v=!1},d($){$&&k(e),C&&C.d(),ce(h),g=!1,Ge(S)}}}function Bc(l){let e,t,n,s,o,i;function u(){l[53].call(e,l[57])}return{c(){e=d("input"),f(e,"type","text"),f(e,"id",t="signup-"+l[57].name),f(e,"placeholder",n=l[57].placeholder||""),e.required=s=l[57].required,e.disabled=l[18],f(e,"class","svelte-18o6zjb")},m(a,c){w(a,e,c),te(e,l[16][l[57].name]),o||(i=ee(e,"input",u),o=!0)},p(a,c){l=a,c[0]&32768&&t!==(t="signup-"+l[57].name)&&f(e,"id",t),c[0]&32768&&n!==(n=l[57].placeholder||"")&&f(e,"placeholder",n),c[0]&32768&&s!==(s=l[57].required)&&(e.required=s),c[0]&262144&&(e.disabled=l[18]),c[0]&98304&&e.value!==l[16][l[57].name]&&te(e,l[16][l[57].name])},d(a){a&&k(e),o=!1,i()}}}function Hc(l){let e,t,n,s,o,i;function u(){l[52].call(e,l[57])}return{c(){e=d("textarea"),f(e,"id",t="signup-"+l[57].name),f(e,"placeholder",n=l[57].placeholder||""),e.required=s=l[57].required,e.disabled=l[18],f(e,"rows","3"),f(e,"class","svelte-18o6zjb")},m(a,c){w(a,e,c),te(e,l[16][l[57].name]),o||(i=ee(e,"input",u),o=!0)},p(a,c){l=a,c[0]&32768&&t!==(t="signup-"+l[57].name)&&f(e,"id",t),c[0]&32768&&n!==(n=l[57].placeholder||"")&&f(e,"placeholder",n),c[0]&32768&&s!==(s=l[57].required)&&(e.required=s),c[0]&262144&&(e.disabled=l[18]),c[0]&98304&&te(e,l[16][l[57].name])},d(a){a&&k(e),o=!1,i()}}}function Gc(l){let e,t,n,s,o,i,u=de(l[57].options),a=[];for(let _=0;_<u.length;_+=1)a[_]=as(Yn(l,u,_));function c(){l[51].call(e,l[57])}return{c(){e=d("select"),t=d("option"),t.textContent="Select...";for(let _=0;_<a.length;_+=1)a[_].c();t.__value="",te(t,t.__value),f(e,"id",n="signup-"+l[57].name),e.required=s=l[57].required,e.disabled=l[18],f(e,"class","svelte-18o6zjb"),l[16][l[57].name]===void 0&&Qe(c)},m(_,p){w(_,e,p),r(e,t);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(e,null);Ee(e,l[16][l[57].name],!0),o||(i=ee(e,"change",c),o=!0)},p(_,p){if(l=_,p[0]&32768){u=de(l[57].options);let m;for(m=0;m<u.length;m+=1){const h=Yn(l,u,m);a[m]?a[m].p(h,p):(a[m]=as(h),a[m].c(),a[m].m(e,null))}for(;m<a.length;m+=1)a[m].d(1);a.length=u.length}p[0]&32768&&n!==(n="signup-"+l[57].name)&&f(e,"id",n),p[0]&32768&&s!==(s=l[57].required)&&(e.required=s),p[0]&262144&&(e.disabled=l[18]),p[0]&98304&&Ee(e,l[16][l[57].name])},d(_){_&&k(e),Ne(a,_),o=!1,i()}}}function as(l){let e,t=l[60]+"",n,s;return{c(){e=d("option"),n=q(t),e.__value=s=l[60],te(e,e.__value)},m(o,i){w(o,e,i),r(e,n)},p(o,i){i[0]&32768&&t!==(t=o[60]+"")&&U(n,t),i[0]&32768&&s!==(s=o[60])&&(e.__value=s,te(e,e.__value))},d(o){o&&k(e)}}}function us(l){let e,t,n=l[57].label+"",s,o,i,u;function a(p,m){return p[57].type==="select"&&p[57].options?Gc:p[57].type==="textarea"?Hc:Bc}let c=a(l),_=c(l);return{c(){e=d("div"),t=d("label"),s=q(n),i=b(),_.c(),u=b(),f(t,"for",o="signup-"+l[57].name),f(t,"class","svelte-18o6zjb"),f(e,"class","form-group svelte-18o6zjb")},m(p,m){w(p,e,m),r(e,t),r(t,s),r(e,i),_.m(e,null),r(e,u)},p(p,m){m[0]&32768&&n!==(n=p[57].label+"")&&U(s,n),m[0]&32768&&o!==(o="signup-"+p[57].name)&&f(t,"for",o),c===(c=a(p))&&_?_.p(p,m):(_.d(1),_=c(p),_&&(_.c(),_.m(e,u)))},d(p){p&&k(e),_.d()}}}function fs(l){let e,t,n,s,o,i,u,a,c,_,p,m,h;return{c(){e=d("label"),t=d("input"),n=b(),s=d("span"),o=q(l[14]),i=b(),u=d("a"),a=q("Terms"),c=q(` and 
                `),_=d("a"),p=q("Privacy Policy"),f(t,"type","checkbox"),t.disabled=l[18],f(t,"class","svelte-18o6zjb"),f(u,"href",l[12]),f(u,"target","_blank"),f(u,"class","svelte-18o6zjb"),f(_,"href",l[13]),f(_,"target","_blank"),f(_,"class","svelte-18o6zjb"),f(e,"class","terms-checkbox svelte-18o6zjb")},m(v,g){w(v,e,g),r(e,t),t.checked=l[25],r(e,n),r(e,s),r(s,o),r(s,i),r(s,u),r(u,a),r(s,c),r(s,_),r(_,p),m||(h=ee(t,"change",l[54]),m=!0)},p(v,g){g[0]&262144&&(t.disabled=v[18]),g[0]&33554432&&(t.checked=v[25]),g[0]&16384&&U(o,v[14]),g[0]&4096&&f(u,"href",v[12]),g[0]&8192&&f(_,"href",v[13])},d(v){v&&k(e),m=!1,h()}}}function Wc(l){let e;return{c(){e=q("Create Account")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function cs(l){let e,t,n;return{c(){e=d("button"),e.textContent="Forgot password?",f(e,"type","button"),f(e,"class","link-btn forgot-link svelte-18o6zjb")},m(s,o){w(s,e,o),t||(n=ee(e,"click",l[33]),t=!0)},p:ge,d(s){s&&k(e),t=!1,n()}}}function Vc(l){let e;return{c(){e=q("Sign In")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function _s(l){let e,t;return{c(){e=d("p"),t=q(l[19]),f(e,"class","error-message svelte-18o6zjb")},m(n,s){w(n,e,s),r(e,t)},p(n,s){s[0]&524288&&U(t,n[19])},d(n){n&&k(e)}}}function Jc(l){let e,t,n,s,o,i,u,a,c,_;const p=l[42].header,m=Mt(p,l,l[55],Xn),h=m||Ic(l),v=l[42]["before-form"],g=Mt(v,l,l[55],Zn);let S=l[6].length>0&&es(l),C=l[8]&&ns(l),$=!l[7]&&is(l),y=l[19]&&_s(l);const T=l[42]["after-form"],z=Mt(T,l,l[55],Jn),E=l[42].footer,j=Mt(E,l,l[55],Vn);return{c(){e=d("div"),t=d("div"),h&&h.c(),n=b(),g&&g.c(),s=b(),S&&S.c(),o=b(),C&&C.c(),i=b(),$&&$.c(),u=b(),y&&y.c(),a=b(),z&&z.c(),c=b(),j&&j.c(),f(t,"class","auth-card glass svelte-18o6zjb"),f(e,"class","auth-container svelte-18o6zjb")},m(D,I){w(D,e,I),r(e,t),h&&h.m(t,null),r(t,n),g&&g.m(t,null),r(t,s),S&&S.m(t,null),r(t,o),C&&C.m(t,null),r(t,i),$&&$.m(t,null),r(t,u),y&&y.m(t,null),r(t,a),z&&z.m(t,null),r(t,c),j&&j.m(t,null),_=!0},p(D,I){m?m.p&&(!_||I[1]&16777216)&&It(m,p,D,D[55],_?Ot(p,D[55],I,Ac):Ft(D[55]),Xn):h&&h.p&&(!_||I[0]&15)&&h.p(D,_?I:[-1,-1,-1]),g&&g.p&&(!_||I[1]&16777216)&&It(g,v,D,D[55],_?Ot(v,D[55],I,Rc):Ft(D[55]),Zn),D[6].length>0?S?S.p(D,I):(S=es(D),S.c(),S.m(t,o)):S&&(S.d(1),S=null),D[8]?C?C.p(D,I):(C=ns(D),C.c(),C.m(t,i)):C&&(C.d(1),C=null),D[7]?$&&(qe(),M($,1,1,()=>{$=null}),je()):$?($.p(D,I),I[0]&128&&P($,1)):($=is(D),$.c(),P($,1),$.m(t,u)),D[19]?y?y.p(D,I):(y=_s(D),y.c(),y.m(t,a)):y&&(y.d(1),y=null),z&&z.p&&(!_||I[1]&16777216)&&It(z,T,D,D[55],_?Ot(T,D[55],I,Nc):Ft(D[55]),Jn),j&&j.p&&(!_||I[1]&16777216)&&It(j,E,D,D[55],_?Ot(E,D[55],I,Pc):Ft(D[55]),Vn)},i(D){_||(P(h,D),P(g,D),P($),P(z,D),P(j,D),_=!0)},o(D){M(h,D),M(g,D),M($),M(z,D),M(j,D),_=!1},d(D){D&&k(e),h&&h.d(D),g&&g.d(D),S&&S.d(),C&&C.d(),$&&$.d(),y&&y.d(),z&&z.d(D),j&&j.d(D)}}}function Kc(l,e,t){let{$$slots:n={},$$scope:s}=e,{title:o="Welcome"}=e,{subtitle:i="Sign in to your account"}=e,{logo:u=null}=e,{showLogo:a=!0}=e,{allowSignup:c=!0}=e,{allowPasswordReset:_=!0}=e,{requireEmailVerification:p=!1}=e,{socialProviders:m=[]}=e,{socialOnly:h=!1}=e,{ssoEnabled:v=!1}=e,{ssoButtonText:g="Sign in with SSO"}=e,{ssoProvider:S=null}=e,{ssoUrl:C="/api/v1/auth/sso"}=e,{showTerms:$=!1}=e,{termsUrl:y="/terms"}=e,{privacyUrl:T="/privacy"}=e,{termsText:z="I agree to the"}=e,{signupFields:E=[]}=e,{apiBase:j="/api/v1"}=e,{loginEndpoint:D="/auth/login"}=e,{registerEndpoint:I="/auth/register"}=e,{meEndpoint:N="/auth/me"}=e,{onSuccess:A=null}=e,{onError:Y=null}=e;const F=Ml();let O="login",H=!1,L=null,R="",B="",V="",Q="",G="",oe=!1,x={};const W={google:'<svg viewBox="0 0 24 24" fill="currentColor"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/></svg>',github:'<svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/></svg>',microsoft:'<svg viewBox="0 0 24 24" fill="currentColor"><path d="M11.4 11.4H0V0h11.4v11.4z" fill="#F25022"/><path d="M24 11.4H12.6V0H24v11.4z" fill="#7FBA00"/><path d="M11.4 24H0V12.6h11.4V24z" fill="#00A4EF"/><path d="M24 24H12.6V12.6H24V24z" fill="#FFB900"/></svg>',apple:'<svg viewBox="0 0 24 24" fill="currentColor"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"/></svg>',facebook:'<svg viewBox="0 0 24 24" fill="#1877F2"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>'},J={okta:'<svg viewBox="0 0 24 24" fill="currentColor"><circle cx="12" cy="12" r="10" fill="#007DC1"/><path d="M12 6a6 6 0 100 12 6 6 0 000-12zm0 9a3 3 0 110-6 3 3 0 010 6z" fill="white"/></svg>',azure:'<svg viewBox="0 0 24 24" fill="currentColor"><path d="M13.05 4.24L6.56 18.05l2.97.01 1.42-3.22h5.09l-.96 3.21h3.03L13.05 4.24z" fill="#0078D4"/></svg>'};function ae(ve){t(17,O=ve),t(19,L=null)}async function K(ve){ve.preventDefault(),t(18,H=!0),t(19,L=null);try{const Me=await zl("POST",D,{username:R,password:B},{skipAuth:!0}),Re=(Me==null?void 0:Me.access_token)||(Me==null?void 0:Me.token);if(!Re)throw new Error("Login failed - no token returned");qn(Re);let Pe=Me==null?void 0:Me.user;if(Pe||(Pe=await zl("GET",N)),!Pe)throw new Error("Login failed - no user info");bt.setUser(Pe);const Ue={user:Pe,token:Re};F("success",Ue),A&&A(Ue)}catch(Me){t(19,L=Me.message),F("error",{error:Me.message,type:"login"}),Y&&Y({error:Me.message,type:"login"})}finally{t(18,H=!1)}}async function ie(ve){if(ve.preventDefault(),Q!==G){t(19,L="Passwords do not match");return}if($&&!oe){t(19,L="Please accept the terms and conditions");return}t(18,H=!0),t(19,L=null);try{const Me={username:V,email:V,password:Q,...x};await zl("POST",I,Me,{skipAuth:!0});const Re=await zl("POST",D,{username:V,password:Q},{skipAuth:!0}),Pe=(Re==null?void 0:Re.access_token)||(Re==null?void 0:Re.token);if(!Pe)throw new Error("Signup failed - no token returned");qn(Pe);let Ue=Re==null?void 0:Re.user;if(Ue||(Ue=await zl("GET",N)),!Ue)throw new Error("Signup failed - no user info");bt.setUser(Ue);const lt={user:Ue,token:Pe};F("success",lt),A&&A(lt)}catch(Me){t(19,L=Me.message),F("error",{error:Me.message,type:"signup"}),Y&&Y({error:Me.message,type:"signup"})}finally{t(18,H=!1)}}async function ue(ve){window.location.href=`${j}/auth/oauth/${ve}`}async function le(){window.location.href=C}function me(){F("passwordReset",{email:R})}const re=ve=>ue(ve),ne=()=>ae("login"),X=()=>ae("signup");function Z(){R=this.value,t(20,R)}function be(){B=this.value,t(21,B)}function $e(){V=this.value,t(22,V)}function We(){Q=this.value,t(23,Q)}function ft(){G=this.value,t(24,G)}function ht(ve){x[ve.name]=ut(this),t(16,x),t(15,E),t(15,E)}function mt(ve){x[ve.name]=this.value,t(16,x),t(15,E),t(15,E)}function De(ve){x[ve.name]=this.value,t(16,x),t(15,E),t(15,E)}function Ie(){oe=this.checked,t(25,oe)}return l.$$set=ve=>{"title"in ve&&t(0,o=ve.title),"subtitle"in ve&&t(1,i=ve.subtitle),"logo"in ve&&t(2,u=ve.logo),"showLogo"in ve&&t(3,a=ve.showLogo),"allowSignup"in ve&&t(4,c=ve.allowSignup),"allowPasswordReset"in ve&&t(5,_=ve.allowPasswordReset),"requireEmailVerification"in ve&&t(34,p=ve.requireEmailVerification),"socialProviders"in ve&&t(6,m=ve.socialProviders),"socialOnly"in ve&&t(7,h=ve.socialOnly),"ssoEnabled"in ve&&t(8,v=ve.ssoEnabled),"ssoButtonText"in ve&&t(9,g=ve.ssoButtonText),"ssoProvider"in ve&&t(10,S=ve.ssoProvider),"ssoUrl"in ve&&t(35,C=ve.ssoUrl),"showTerms"in ve&&t(11,$=ve.showTerms),"termsUrl"in ve&&t(12,y=ve.termsUrl),"privacyUrl"in ve&&t(13,T=ve.privacyUrl),"termsText"in ve&&t(14,z=ve.termsText),"signupFields"in ve&&t(15,E=ve.signupFields),"apiBase"in ve&&t(36,j=ve.apiBase),"loginEndpoint"in ve&&t(37,D=ve.loginEndpoint),"registerEndpoint"in ve&&t(38,I=ve.registerEndpoint),"meEndpoint"in ve&&t(39,N=ve.meEndpoint),"onSuccess"in ve&&t(40,A=ve.onSuccess),"onError"in ve&&t(41,Y=ve.onError),"$$scope"in ve&&t(55,s=ve.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&98304&&E.forEach(ve=>{ve.name in x||t(16,x[ve.name]=ve.default||"",x)})},[o,i,u,a,c,_,m,h,v,g,S,$,y,T,z,E,x,O,H,L,R,B,V,Q,G,oe,W,J,ae,K,ie,ue,le,me,p,C,j,D,I,N,A,Y,n,re,ne,X,Z,be,$e,We,ft,ht,mt,De,Ie,s]}class Yc extends qt{constructor(e){super(),St(this,e,Kc,Jc,Ct,{title:0,subtitle:1,logo:2,showLogo:3,allowSignup:4,allowPasswordReset:5,requireEmailVerification:34,socialProviders:6,socialOnly:7,ssoEnabled:8,ssoButtonText:9,ssoProvider:10,ssoUrl:35,showTerms:11,termsUrl:12,privacyUrl:13,termsText:14,signupFields:15,apiBase:36,loginEndpoint:37,registerEndpoint:38,meEndpoint:39,onSuccess:40,onError:41},null,[-1,-1,-1])}}const Nn="theme",ds="dark";function Qc(){return typeof localStorage>"u"?ds:localStorage.getItem(Nn)||ds}function jn(l){typeof document<"u"&&document.documentElement.setAttribute("data-theme",l)}function Zc(){const l=Qc(),{subscribe:e,set:t}=nl(l);return jn(l),{subscribe:e,set(n){typeof localStorage<"u"&&localStorage.setItem(Nn,n),jn(n),t(n)}}}const Bu=Zc();function Xc(){Bu.update(l=>{const e=l==="dark"?"light":"dark";return typeof localStorage<"u"&&localStorage.setItem(Nn,e),jn(e),e})}function xc(l){let e,t;return{c(){e=Pl("svg"),t=Pl("path"),f(t,"d","M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"),f(e,"viewBox","0 0 24 24"),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"stroke-width","2"),f(e,"class","svelte-8jsmst")},m(n,s){w(n,e,s),r(e,t)},d(n){n&&k(e)}}}function e1(l){let e,t,n;return{c(){e=Pl("svg"),t=Pl("circle"),n=Pl("path"),f(t,"cx","12"),f(t,"cy","12"),f(t,"r","5"),f(n,"d","M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"),f(e,"viewBox","0 0 24 24"),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"stroke-width","2"),f(e,"class","svelte-8jsmst")},m(s,o){w(s,e,o),r(e,t),r(e,n)},d(s){s&&k(e)}}}function t1(l){let e,t,n,s;function o(a,c){return a[0]==="dark"?e1:xc}let i=o(l),u=i(l);return{c(){e=d("button"),u.c(),f(e,"class","theme-toggle svelte-8jsmst"),f(e,"title",t=l[0]==="dark"?"Switch to light mode":"Switch to dark mode"),f(e,"aria-label","Toggle theme")},m(a,c){w(a,e,c),u.m(e,null),n||(s=ee(e,"click",Xc),n=!0)},p(a,[c]){i!==(i=o(a))&&(u.d(1),u=i(a),u&&(u.c(),u.m(e,null))),c&1&&t!==(t=a[0]==="dark"?"Switch to light mode":"Switch to dark mode")&&f(e,"title",t)},i:ge,o:ge,d(a){a&&k(e),u.d(),n=!1,s()}}}function l1(l,e,t){let n;return vt(l,Bu,s=>t(0,n=s)),[n]}class n1 extends qt{constructor(e){super(),St(this,e,l1,t1,Ct,{})}}const s1=l=>({}),ps=l=>({}),o1=l=>({}),ms=l=>({});function vs(l){let e;function t(o,i){return o[1]?r1:i1}let n=t(l),s=n(l);return{c(){s.c(),e=Oe()},m(o,i){s.m(o,i),w(o,e,i)},p(o,i){n===(n=t(o))&&s?s.p(o,i):(s.d(1),s=n(o),s&&(s.c(),s.m(e.parentNode,e)))},d(o){o&&k(e),s.d(o)}}}function i1(l){let e;return{c(){e=d("span"),f(e,"class","brand-dot svelte-x14ysc")},m(t,n){w(t,e,n)},p:ge,d(t){t&&k(e)}}}function r1(l){let e,t;return{c(){e=d("img"),nn(e.src,t=l[1])||f(e,"src",t),f(e,"alt",l[0]),f(e,"class","header-logo svelte-x14ysc")},m(n,s){w(n,e,s)},p(n,s){s&2&&!nn(e.src,t=n[1])&&f(e,"src",t),s&1&&f(e,"alt",n[0])},d(n){n&&k(e)}}}function hs(l){let e;return{c(){e=d("span"),e.textContent="MOCK",f(e,"class","mock-badge svelte-x14ysc")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function gs(l){let e,t;return e=new n1({}),{c(){_e(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function bs(l){let e,t=(l[8].user.email||l[8].user.username)+"",n;return{c(){e=d("span"),n=q(t),f(e,"class","user-email svelte-x14ysc")},m(s,o){w(s,e,o),r(e,n)},p(s,o){o&256&&t!==(t=(s[8].user.email||s[8].user.username)+"")&&U(n,t)},d(s){s&&k(e)}}}function ks(l){let e,t;return e=new Fe({props:{variant:"ghost",size:"sm",$$slots:{default:[a1]},$$scope:{ctx:l}}}),e.$on("click",l[9]),{c(){_e(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s&4160&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function a1(l){let e;return{c(){e=q(l[6])},m(t,n){w(t,e,n)},p(t,n){n&64&&U(e,t[6])},d(t){t&&k(e)}}}function u1(l){let e,t,n,s,o,i,u,a,c,_,p,m,h,v=l[2]&&vs(l);const g=l[11]["after-title"],S=Mt(g,l,l[12],ms),C=l[11].actions,$=Mt(C,l,l[12],ps);let y=l[7]&&hs(),T=l[4]&&gs(),z=l[3]&&l[8].user&&bs(l),E=l[5]&&l[8].token&&ks(l);return{c(){e=d("header"),t=d("div"),v&&v.c(),n=b(),s=d("h1"),o=q(l[0]),i=b(),S&&S.c(),u=b(),a=d("div"),$&&$.c(),c=b(),y&&y.c(),_=b(),T&&T.c(),p=b(),z&&z.c(),m=b(),E&&E.c(),f(s,"class","svelte-x14ysc"),f(t,"class","header-brand svelte-x14ysc"),f(a,"class","header-actions svelte-x14ysc"),f(e,"class","header glass svelte-x14ysc")},m(j,D){w(j,e,D),r(e,t),v&&v.m(t,null),r(t,n),r(t,s),r(s,o),r(t,i),S&&S.m(t,null),r(e,u),r(e,a),$&&$.m(a,null),r(a,c),y&&y.m(a,null),r(a,_),T&&T.m(a,null),r(a,p),z&&z.m(a,null),r(a,m),E&&E.m(a,null),h=!0},p(j,[D]){j[2]?v?v.p(j,D):(v=vs(j),v.c(),v.m(t,n)):v&&(v.d(1),v=null),(!h||D&1)&&U(o,j[0]),S&&S.p&&(!h||D&4096)&&It(S,g,j,j[12],h?Ot(g,j[12],D,o1):Ft(j[12]),ms),$&&$.p&&(!h||D&4096)&&It($,C,j,j[12],h?Ot(C,j[12],D,s1):Ft(j[12]),ps),j[7]?y||(y=hs(),y.c(),y.m(a,_)):y&&(y.d(1),y=null),j[4]?T?D&16&&P(T,1):(T=gs(),T.c(),P(T,1),T.m(a,p)):T&&(qe(),M(T,1,1,()=>{T=null}),je()),j[3]&&j[8].user?z?z.p(j,D):(z=bs(j),z.c(),z.m(a,m)):z&&(z.d(1),z=null),j[5]&&j[8].token?E?(E.p(j,D),D&288&&P(E,1)):(E=ks(j),E.c(),P(E,1),E.m(a,null)):E&&(qe(),M(E,1,1,()=>{E=null}),je())},i(j){h||(P(S,j),P($,j),P(T),P(E),h=!0)},o(j){M(S,j),M($,j),M(T),M(E),h=!1},d(j){j&&k(e),v&&v.d(),S&&S.d(j),$&&$.d(j),y&&y.d(),T&&T.d(),z&&z.d(),E&&E.d()}}}function f1(l,e,t){var C,$;let n;vt(l,bt,y=>t(8,n=y));let{$$slots:s={},$$scope:o}=e,{title:i="Dashboard"}=e,{logo:u=null}=e,{showLogo:a=!0}=e,{showUser:c=!0}=e,{showThemeToggle:_=!1}=e,{showLogout:p=!0}=e,{logoutText:m="Logout"}=e,{showMockBadge:h=!1}=e;const v=Ml();let g=h;try{typeof window<"u"&&(g=h||(($=(C=import.meta)==null?void 0:C.env)==null?void 0:$.VITE_MOCK_API)==="1"||localStorage.getItem("mockApi")==="1")}catch{g=h}function S(){Sc(),v("logout")}return l.$$set=y=>{"title"in y&&t(0,i=y.title),"logo"in y&&t(1,u=y.logo),"showLogo"in y&&t(2,a=y.showLogo),"showUser"in y&&t(3,c=y.showUser),"showThemeToggle"in y&&t(4,_=y.showThemeToggle),"showLogout"in y&&t(5,p=y.showLogout),"logoutText"in y&&t(6,m=y.logoutText),"showMockBadge"in y&&t(10,h=y.showMockBadge),"$$scope"in y&&t(12,o=y.$$scope)},[i,u,a,c,_,p,m,g,n,S,h,s,o]}class c1 extends qt{constructor(e){super(),St(this,e,f1,u1,Ct,{title:0,logo:1,showLogo:2,showUser:3,showThemeToggle:4,showLogout:5,logoutText:6,showMockBadge:10})}}function _1(l){let e,t,n;const s=l[2].default,o=Mt(s,l,l[1],null);return{c(){e=d("span"),o&&o.c(),f(e,"class",t="badge badge-"+l[0]+" svelte-1d0la3i")},m(i,u){w(i,e,u),o&&o.m(e,null),n=!0},p(i,[u]){o&&o.p&&(!n||u&2)&&It(o,s,i,i[1],n?Ot(s,i[1],u,null):Ft(i[1]),null),(!n||u&1&&t!==(t="badge badge-"+i[0]+" svelte-1d0la3i"))&&f(e,"class",t)},i(i){n||(P(o,i),n=!0)},o(i){M(o,i),n=!1},d(i){i&&k(e),o&&o.d(i)}}}function d1(l,e,t){let{$$slots:n={},$$scope:s}=e,{variant:o="info"}=e;return l.$$set=i=>{"variant"in i&&t(0,o=i.variant),"$$scope"in i&&t(1,s=i.$$scope)},[o,s,n]}class et extends qt{constructor(e){super(),St(this,e,d1,_1,Ct,{variant:0})}}const p1=l=>({}),ws=l=>({}),m1=l=>({}),$s=l=>({});function Cs(l){let e,t,n,s=l[0]&&ys(l);const o=l[5].header,i=Mt(o,l,l[4],$s);return{c(){e=d("div"),s&&s.c(),t=b(),i&&i.c(),f(e,"class","card-header svelte-1qbuf8h")},m(u,a){w(u,e,a),s&&s.m(e,null),r(e,t),i&&i.m(e,null),n=!0},p(u,a){u[0]?s?s.p(u,a):(s=ys(u),s.c(),s.m(e,t)):s&&(s.d(1),s=null),i&&i.p&&(!n||a&16)&&It(i,o,u,u[4],n?Ot(o,u[4],a,m1):Ft(u[4]),$s)},i(u){n||(P(i,u),n=!0)},o(u){M(i,u),n=!1},d(u){u&&k(e),s&&s.d(),i&&i.d(u)}}}function ys(l){let e,t;return{c(){e=d("span"),t=q(l[0]),f(e,"class","card-title svelte-1qbuf8h")},m(n,s){w(n,e,s),r(e,t)},p(n,s){s&1&&U(t,n[0])},d(n){n&&k(e)}}}function Ss(l){let e,t;const n=l[5].footer,s=Mt(n,l,l[4],ws);return{c(){e=d("div"),s&&s.c(),f(e,"class","card-footer svelte-1qbuf8h")},m(o,i){w(o,e,i),s&&s.m(e,null),t=!0},p(o,i){s&&s.p&&(!t||i&16)&&It(s,n,o,o[4],t?Ot(n,o[4],i,p1):Ft(o[4]),ws)},i(o){t||(P(s,o),t=!0)},o(o){M(s,o),t=!1},d(o){o&&k(e),s&&s.d(o)}}}function v1(l){let e,t,n,s,o,i=(l[0]||l[3].header)&&Cs(l);const u=l[5].default,a=Mt(u,l,l[4],null);let c=l[3].footer&&Ss(l);return{c(){e=d("div"),i&&i.c(),t=b(),n=d("div"),a&&a.c(),s=b(),c&&c.c(),f(n,"class","card-body svelte-1qbuf8h"),f(e,"class","card svelte-1qbuf8h"),we(e,"glass",l[1]),we(e,"no-padding",!l[2])},m(_,p){w(_,e,p),i&&i.m(e,null),r(e,t),r(e,n),a&&a.m(n,null),r(e,s),c&&c.m(e,null),o=!0},p(_,[p]){_[0]||_[3].header?i?(i.p(_,p),p&9&&P(i,1)):(i=Cs(_),i.c(),P(i,1),i.m(e,t)):i&&(qe(),M(i,1,1,()=>{i=null}),je()),a&&a.p&&(!o||p&16)&&It(a,u,_,_[4],o?Ot(u,_[4],p,null):Ft(_[4]),null),_[3].footer?c?(c.p(_,p),p&8&&P(c,1)):(c=Ss(_),c.c(),P(c,1),c.m(e,null)):c&&(qe(),M(c,1,1,()=>{c=null}),je()),(!o||p&2)&&we(e,"glass",_[1]),(!o||p&4)&&we(e,"no-padding",!_[2])},i(_){o||(P(i),P(a,_),P(c),o=!0)},o(_){M(i),M(a,_),M(c),o=!1},d(_){_&&k(e),i&&i.d(),a&&a.d(_),c&&c.d()}}}function h1(l,e,t){let{$$slots:n={},$$scope:s}=e;const o=Tu(n);let{title:i=""}=e,{glass:u=!1}=e,{padding:a=!0}=e;return l.$$set=c=>{"title"in c&&t(0,i=c.title),"glass"in c&&t(1,u=c.glass),"padding"in c&&t(2,a=c.padding),"$$scope"in c&&t(4,s=c.$$scope)},[i,u,a,o,s,n]}class dt extends qt{constructor(e){super(),St(this,e,h1,v1,Ct,{title:0,glass:1,padding:2})}}function Hu(l){const e=l-1;return e*e*e+1}function qs(l,{delay:e=0,duration:t=400,easing:n=yu}={}){const s=+getComputedStyle(l).opacity;return{delay:e,duration:t,easing:n,css:o=>`opacity: ${o*s}`}}function js(l,{delay:e=0,duration:t=400,easing:n=Hu,x:s=0,y:o=0,opacity:i=0}={}){const u=getComputedStyle(l),a=+u.opacity,c=u.transform==="none"?"":u.transform,_=a*(1-i),[p,m]=Fn(s),[h,v]=Fn(o);return{delay:e,duration:t,easing:n,css:(g,S)=>`
			transform: ${c} translate(${(1-g)*p}${m}, ${(1-g)*h}${v});
			opacity: ${a-_*S}`}}function Ts(l,{delay:e=0,duration:t=400,easing:n=Hu,start:s=0,opacity:o=0}={}){const i=getComputedStyle(l),u=+i.opacity,a=i.transform==="none"?"":i.transform,c=1-s,_=u*(1-o);return{delay:e,duration:t,easing:n,css:(p,m)=>`
			transform: ${a} scale(${1-c*m});
			opacity: ${u-_*m}
		`}}const g1=l=>({}),zs=l=>({}),b1=l=>({}),Ds=l=>({});function Es(l){let e,t,n,s,o,i,u,a,c,_,p=(l[1]||l[6].header)&&Ls(l);const m=l[9].default,h=Mt(m,l,l[8],null);let v=l[6].footer&&Ns(l);return{c(){e=d("div"),t=d("div"),p&&p.c(),n=b(),s=d("div"),h&&h.c(),o=b(),v&&v.c(),f(s,"class","modal-body svelte-f0wwwf"),f(t,"class","modal svelte-f0wwwf"),Pt(t,"max-width",l[2]),f(e,"class","modal-overlay svelte-f0wwwf"),f(e,"role","dialog"),f(e,"aria-modal","true")},m(g,S){w(g,e,S),r(e,t),p&&p.m(t,null),r(t,n),r(t,s),h&&h.m(s,null),r(t,o),v&&v.m(t,null),a=!0,c||(_=ee(e,"click",l[4]),c=!0)},p(g,S){g[1]||g[6].header?p?(p.p(g,S),S&66&&P(p,1)):(p=Ls(g),p.c(),P(p,1),p.m(t,n)):p&&(qe(),M(p,1,1,()=>{p=null}),je()),h&&h.p&&(!a||S&256)&&It(h,m,g,g[8],a?Ot(m,g[8],S,null):Ft(g[8]),null),g[6].footer?v?(v.p(g,S),S&64&&P(v,1)):(v=Ns(g),v.c(),P(v,1),v.m(t,null)):v&&(qe(),M(v,1,1,()=>{v=null}),je()),(!a||S&4)&&Pt(t,"max-width",g[2])},i(g){a||(P(p),P(h,g),P(v),g&&Qe(()=>{a&&(i||(i=El(t,Ts,{duration:200,start:.95},!0)),i.run(1))}),g&&Qe(()=>{a&&(u||(u=El(e,qs,{duration:150},!0)),u.run(1))}),a=!0)},o(g){M(p),M(h,g),M(v),g&&(i||(i=El(t,Ts,{duration:200,start:.95},!1)),i.run(0)),g&&(u||(u=El(e,qs,{duration:150},!1)),u.run(0)),a=!1},d(g){g&&k(e),p&&p.d(),h&&h.d(g),v&&v.d(),g&&i&&i.end(),g&&u&&u.end(),c=!1,_()}}}function Ls(l){let e,t,n,s,o,i,u,a=l[1]&&Ps(l);const c=l[9].header,_=Mt(c,l,l[8],Ds);return{c(){e=d("div"),a&&a.c(),t=b(),_&&_.c(),n=b(),s=d("button"),s.innerHTML='<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-f0wwwf"><path d="M18 6L6 18M6 6l12 12"></path></svg>',f(s,"class","modal-close svelte-f0wwwf"),f(s,"aria-label","Close"),f(e,"class","modal-header svelte-f0wwwf")},m(p,m){w(p,e,m),a&&a.m(e,null),r(e,t),_&&_.m(e,null),r(e,n),r(e,s),o=!0,i||(u=ee(s,"click",l[3]),i=!0)},p(p,m){p[1]?a?a.p(p,m):(a=Ps(p),a.c(),a.m(e,t)):a&&(a.d(1),a=null),_&&_.p&&(!o||m&256)&&It(_,c,p,p[8],o?Ot(c,p[8],m,b1):Ft(p[8]),Ds)},i(p){o||(P(_,p),o=!0)},o(p){M(_,p),o=!1},d(p){p&&k(e),a&&a.d(),_&&_.d(p),i=!1,u()}}}function Ps(l){let e,t;return{c(){e=d("h3"),t=q(l[1]),f(e,"class","svelte-f0wwwf")},m(n,s){w(n,e,s),r(e,t)},p(n,s){s&2&&U(t,n[1])},d(n){n&&k(e)}}}function Ns(l){let e,t;const n=l[9].footer,s=Mt(n,l,l[8],zs);return{c(){e=d("div"),s&&s.c(),f(e,"class","modal-footer svelte-f0wwwf")},m(o,i){w(o,e,i),s&&s.m(e,null),t=!0},p(o,i){s&&s.p&&(!t||i&256)&&It(s,n,o,o[8],t?Ot(n,o[8],i,g1):Ft(o[8]),zs)},i(o){t||(P(s,o),t=!0)},o(o){M(s,o),t=!1},d(o){o&&k(e),s&&s.d(o)}}}function k1(l){let e,t,n,s,o=l[0]&&Es(l);return{c(){o&&o.c(),e=Oe()},m(i,u){o&&o.m(i,u),w(i,e,u),t=!0,n||(s=ee(window,"keydown",l[5]),n=!0)},p(i,[u]){i[0]?o?(o.p(i,u),u&1&&P(o,1)):(o=Es(i),o.c(),P(o,1),o.m(e.parentNode,e)):o&&(qe(),M(o,1,1,()=>{o=null}),je())},i(i){t||(P(o),t=!0)},o(i){M(o),t=!1},d(i){i&&k(e),o&&o.d(i),n=!1,s()}}}function w1(l,e,t){let{$$slots:n={},$$scope:s}=e;const o=Tu(n);let{open:i=!1}=e,{title:u=""}=e,{width:a="500px"}=e,{closeOnOverlay:c=!0}=e;const _=Ml();function p(){t(0,i=!1),_("close")}function m(v){c&&v.target===v.currentTarget&&p()}function h(v){v.key==="Escape"&&p()}return l.$$set=v=>{"open"in v&&t(0,i=v.open),"title"in v&&t(1,u=v.title),"width"in v&&t(2,a=v.width),"closeOnOverlay"in v&&t(7,c=v.closeOnOverlay),"$$scope"in v&&t(8,s=v.$$scope)},[i,u,a,p,m,h,o,c,s,n]}class ol extends qt{constructor(e){super(),St(this,e,w1,k1,Ct,{open:0,title:1,width:2,closeOnOverlay:7})}}function Rs(l,e,t){const n=l.slice();return n[6]=e[t],n}function As(l){let e,t=l[6].icon+"",n;return{c(){e=d("span"),n=q(t),f(e,"class","tab-icon svelte-1po08a6")},m(s,o){w(s,e,o),r(e,n)},p(s,o){o&2&&t!==(t=s[6].icon+"")&&U(n,t)},d(s){s&&k(e)}}}function Ms(l){let e,t,n=l[6].label+"",s,o,i,u,a=l[6].icon&&As(l);function c(){return l[4](l[6])}return{c(){e=d("button"),a&&a.c(),t=b(),s=q(n),o=b(),f(e,"class","tab svelte-1po08a6"),we(e,"active",l[0]===l[6].id)},m(_,p){w(_,e,p),a&&a.m(e,null),r(e,t),r(e,s),r(e,o),i||(u=ee(e,"click",c),i=!0)},p(_,p){l=_,l[6].icon?a?a.p(l,p):(a=As(l),a.c(),a.m(e,t)):a&&(a.d(1),a=null),p&2&&n!==(n=l[6].label+"")&&U(s,n),p&3&&we(e,"active",l[0]===l[6].id)},d(_){_&&k(e),a&&a.d(),i=!1,u()}}}function $1(l){let e,t=de(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Ms(Rs(l,t,s));return{c(){e=d("div");for(let s=0;s<n.length;s+=1)n[s].c();f(e,"class","tabs svelte-1po08a6"),we(e,"scrollable",l[2])},m(s,o){w(s,e,o);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(s,[o]){if(o&11){t=de(s[1]);let i;for(i=0;i<t.length;i+=1){const u=Rs(s,t,i);n[i]?n[i].p(u,o):(n[i]=Ms(u),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}o&4&&we(e,"scrollable",s[2])},i:ge,o:ge,d(s){s&&k(e),Ne(n,s)}}}function C1(l,e,t){let{tabs:n=[]}=e,{active:s=""}=e,{scrollable:o=!0}=e;const i=Ml();function u(c){t(0,s=c),i("change",c)}const a=c=>u(c.id);return l.$$set=c=>{"tabs"in c&&t(1,n=c.tabs),"active"in c&&t(0,s=c.active),"scrollable"in c&&t(2,o=c.scrollable)},[s,n,o,u,a]}class y1 extends qt{constructor(e){super(),St(this,e,C1,$1,Ct,{tabs:1,active:0,scrollable:2})}}function S1(){const{subscribe:l,update:e}=nl([]);let t=0;function n(o,i="info",u=3e3){const a={id:++t,message:o,type:i};return e(c=>[...c,a]),u>0&&setTimeout(()=>s(a.id),u),a.id}function s(o){e(i=>i.filter(u=>u.id!==o))}return{subscribe:l,success:(o,i)=>n(o,"success",i),error:(o,i)=>n(o,"error",i??5e3),warning:(o,i)=>n(o,"warning",i),info:(o,i)=>n(o,"info",i),add:n,remove:s}}const ke=S1();function Os(l,e,t){const n=l.slice();return n[2]=e[t],n}function Is(l,e){let t,n,s=e[2].message+"",o,i,u,a,c,_,p,m,h;function v(){return e[1](e[2])}return{key:l,first:null,c(){t=d("div"),n=d("span"),o=q(s),i=b(),u=d("button"),u.textContent="×",a=b(),f(n,"class","toast-message svelte-1l5lsfn"),f(u,"class","toast-close svelte-1l5lsfn"),f(t,"class",c="toast toast-"+e[2].type+" svelte-1l5lsfn"),this.first=t},m(g,S){w(g,t,S),r(t,n),r(n,o),r(t,i),r(t,u),r(t,a),p=!0,m||(h=ee(u,"click",v),m=!0)},p(g,S){e=g,(!p||S&1)&&s!==(s=e[2].message+"")&&U(o,s),(!p||S&1&&c!==(c="toast toast-"+e[2].type+" svelte-1l5lsfn"))&&f(t,"class",c)},i(g){p||(g&&Qe(()=>{p&&(_||(_=El(t,js,{x:100,duration:200},!0)),_.run(1))}),p=!0)},o(g){g&&(_||(_=El(t,js,{x:100,duration:200},!1)),_.run(0)),p=!1},d(g){g&&k(t),g&&_&&_.end(),m=!1,h()}}}function q1(l){let e,t=[],n=new Map,s,o=de(l[0]);const i=u=>u[2].id;for(let u=0;u<o.length;u+=1){let a=Os(l,o,u),c=i(a);n.set(c,t[u]=Is(c,a))}return{c(){e=d("div");for(let u=0;u<t.length;u+=1)t[u].c();f(e,"class","toast-container svelte-1l5lsfn")},m(u,a){w(u,e,a);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null);s=!0},p(u,[a]){a&1&&(o=de(u[0]),qe(),t=Au(t,a,i,1,u,o,n,e,Ru,Is,null,Os),je())},i(u){if(!s){for(let a=0;a<o.length;a+=1)P(t[a]);s=!0}},o(u){for(let a=0;a<t.length;a+=1)M(t[a]);s=!1},d(u){u&&k(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function j1(l,e,t){let n;return vt(l,ke,o=>t(0,n=o)),[n,o=>ke.remove(o.id)]}class T1 extends qt{constructor(e){super(),St(this,e,j1,q1,Ct,{})}}const z1={internal:{allowSignup:!1,allowPasswordReset:!1,socialProviders:[],ssoEnabled:!1,showTerms:!1,subtitle:"Sign in to continue"}};Cc(["vergnetp@yahoo.fr"]);function Lt(){return Iu("do_token_local")}function D1(l){Fu("do_token_local",l,30)}function Tn(){return Iu("cf_token_local")}function E1(l){Fu("cf_token_local",l,30)}const Gu="/api/v1",Wu=["/infra/servers","/infra/snapshots","/infra/setup","/infra/deploy","/infra/registry","/infra/agent","/infra/architecture","/infra/fleet","/infra/projects","/infra/containers","/infra/services","/infra/deployments"];function Vu(l){return!l||typeof l!="string"?!1:l.split(".").length===3}function Ju(l,e={}){const t=Al(bt),n={"Content-Type":"application/json"},s=l.startsWith("/auth/login")||l.startsWith("/auth/register");if(t.token&&t.token.trim()!==""&&!s&&!e.skipAuth){if(!Vu(t.token))return console.error("Invalid JWT format detected - token may be corrupted"),bt.logout(),{error:"Session corrupted - please login again",url:null,headers:null};n.Authorization=`Bearer ${t.token}`}let o=Gu+l;if(!e.skipDoToken&&(l.startsWith("/infra/")||Wu.some(u=>l.startsWith(u)))){const u=Lt();if(!u)return{error:"DO token not set",url:null,headers:null};const a=o.includes("?")?"&":"?";o+=`${a}do_token=${encodeURIComponent(u)}`}return{url:o,headers:n,error:null}}async function Rn(l){if(l.status===401){let e="Authentication failed";try{const n=await l.json();e=n.detail||n.error||n.message||e}catch{}throw Al(bt).token&&(bt.logout(),e="Session expired - please login again"),new Error(e)}if(!l.ok){const e=await l.json().catch(()=>({detail:"Request failed"}));throw new Error(e.detail||e.error||e.message||"Request failed")}}async function He(l,e,t=null,n={}){const{url:s,headers:o,error:i}=Ju(e,n);if(i)return console.debug(`Skipping ${e} - ${i}`),null;const u={method:l,headers:o};t&&(u.body=JSON.stringify(t));const a=await fetch(s,u);if(await Rn(a),a.status===204)return null;const c=await a.json();return c&&c.success===!0&&c.data!==void 0?c.data:c}async function tn(l,e,t=null,n,s={}){const{url:o,headers:i,error:u}=Ju(e,s);if(u)throw new Error(u);const a={method:l,headers:i};t&&(a.body=JSON.stringify(t));const c=await fetch(o,a);await Rn(c);const _=c.body.getReader(),p=new TextDecoder;let m="";for(;;){const{done:h,value:v}=await _.read();if(h)break;m+=p.decode(v,{stream:!0});const g=m.split(`
`);m=g.pop()||"";for(const S of g)if(S.startsWith("data: "))try{const C=JSON.parse(S.slice(6));n(C)}catch{}}}async function L1(l,e,t,n={}){const s=Al(bt);if(s.token&&!Vu(s.token))throw console.error("Invalid JWT format detected - token may be corrupted"),bt.logout(),new Error("Session corrupted - please login again");let o=Gu+l;if(!n.skipDoToken&&Wu.some(m=>l.startsWith(m))){const m=Lt();if(!m)throw new Error("DO token not set");const h=o.includes("?")?"&":"?";o+=`${h}do_token=${encodeURIComponent(m)}`}const u={};s.token&&(u.Authorization=`Bearer ${s.token}`);const a=await fetch(o,{method:"POST",headers:u,body:e});await Rn(a);const c=a.body.getReader(),_=new TextDecoder;let p="";for(;;){const{done:m,value:h}=await c.read();if(m)break;p+=_.decode(h,{stream:!0});const v=p.split(`
`);p=v.pop()||"";for(const g of v)if(g.startsWith("data: "))try{const S=JSON.parse(g.slice(6));t(S)}catch{}}}function P1(l,e,t={}){const{refreshInterval:n=0,revalidateOnFocus:s=!0,revalidateOnMount:o=!0,dedupingInterval:i=2e3,initialData:u=null}=t,a=nl({data:u,error:null,loading:!1,lastFetched:null});let c=0,_=null,p=null,m=0;async function h(y=!1){const T=Date.now();return!y&&_&&T-c<i||(c=T,a.update(z=>{var E;return{...z,loading:z.data===null||((E=z.data)==null?void 0:E.length)===0}}),_=(async()=>{try{const z=await e();return a.set({data:z,error:null,loading:!1,lastFetched:new Date}),z}catch(z){throw a.update(E=>({...E,error:z.message||"Fetch failed",loading:!1})),z}finally{_=null}})()),_}function v(){document.visibilityState==="visible"&&s&&h()}function g(){n>0&&!p&&(p=setInterval(()=>h(),n))}function S(){p&&(clearInterval(p),p=null)}const{subscribe:C}=a;function $(y){m++,m===1&&(s&&typeof document<"u"&&document.addEventListener("visibilitychange",v),o&&h(),g());const T=C(y);return()=>{T(),m--,m===0&&(typeof document<"u"&&document.removeEventListener("visibilitychange",v),S())}}return{subscribe:$,refresh:()=>h(!0),mutate:y=>a.update(T=>({...T,data:y})),get:()=>Al(a)}}function pn(l,e={}){const{transform:t=s=>s,...n}=e;return P1(l,async()=>{const s=await He("GET",l);return t(s)},n)}function N1(l,e={}){const{transform:t=a=>a,...n}=e,s=nl({data:null,error:null,loading:!1,lastFetched:null});let o=null,i=null;async function u(a){const c=l(a);if(!c){s.set({data:null,error:null,loading:!1,lastFetched:null});return}return i&&JSON.stringify(a)===JSON.stringify(o)||(o=a,s.update(_=>({..._,loading:!0})),i=(async()=>{try{const _=await He("GET",c),p=t(_);return s.set({data:p,error:null,loading:!1,lastFetched:new Date}),p}catch(_){throw s.update(p=>({...p,error:_.message||"Fetch failed",loading:!1})),_}finally{i=null}})()),i}return{subscribe:s.subscribe,fetch:u,refresh:()=>o&&u(o),clear:()=>{o=null,s.set({data:null,error:null,loading:!1,lastFetched:null})}}}const Fs=nl("infra");function R1(){const{subscribe:l,set:e}=nl(null);return typeof window<"u"&&e(Lt()),{subscribe:l,refresh(){e(Lt())},set(t){e(t)}}}const An=R1(),Dl=nl({project:"",env:"",server:"",container:"",range:"30d",tail:!1}),xt=pn("/infra/servers",{transform:l=>(l==null?void 0:l.servers)||l||[],refreshInterval:6e4,revalidateOnFocus:!0,initialData:[]}),Mn=pn("/infra/projects",{transform:l=>(l==null?void 0:l.projects)||[],refreshInterval:12e4,initialData:[]}),mn=pn("/infra/snapshots",{transform:l=>(l==null?void 0:l.snapshots)||[],refreshInterval:6e4,initialData:[]}),bl=pn("/infra/deployments/history",{transform:l=>(l==null?void 0:l.deployments)||[],refreshInterval:3e4,initialData:[]}),zn=N1(l=>l!=null&&l.server?`/infra/agent/${l.server}/containers`:null,{transform:l=>{const e=(l==null?void 0:l.containers)||l||[];return(Array.isArray(e)?e:[]).map(t=>({id:t.ID||t.Id||t.id,name:t.Names||t.Name||t.name||"unknown",image:t.Image||t.image,status:t.Status||t.State||t.status,state:t.State||t.state}))}}),vn=ml(xt,l=>(l==null?void 0:l.data)||[]),On=ml(Mn,l=>(l==null?void 0:l.data)||[]),A1=ml(mn,l=>(l==null?void 0:l.data)||[]),Ku=ml(bl,l=>(l==null?void 0:l.data)||[]),M1=ml(zn,l=>(l==null?void 0:l.data)||[]),O1="2.6.2";function I1(){const l=typeof localStorage<"u"&&localStorage.getItem("theme")||"dark",{subscribe:e,set:t}=nl(l);return typeof document<"u"&&document.documentElement.setAttribute("data-theme",l),{subscribe:e,set(n){typeof localStorage<"u"&&localStorage.setItem("theme",n),typeof document<"u"&&document.documentElement.setAttribute("data-theme",n),t(n)}}}const Cn=I1();function Us(l,e,t){const n=l.slice();return n[20]=e[t],n}function Bs(l,e,t){var o,i,u;const n=l.slice();n[23]=e[t];const s=n[23].ip||((u=(i=(o=n[23].networks)==null?void 0:o.v4)==null?void 0:i[0])==null?void 0:u.ip_address);return n[24]=s,n}function Hs(l,e,t){const n=l.slice();return n[27]=e[t],n}function Gs(l,e,t){const n=l.slice();return n[30]=e[t],n}function Ws(l){let e,t=l[30]+"",n,s;return{c(){e=d("option"),n=q(t),e.__value=s=l[30],te(e,e.__value)},m(o,i){w(o,e,i),r(e,n)},p(o,i){i[0]&16&&t!==(t=o[30]+"")&&U(n,t),i[0]&16&&s!==(s=o[30])&&(e.__value=s,te(e,e.__value))},d(o){o&&k(e)}}}function Vs(l){let e,t=l[27]+"",n,s;return{c(){e=d("option"),n=q(t),e.__value=s=l[27],te(e,e.__value)},m(o,i){w(o,e,i),r(e,n)},p(o,i){i[0]&8&&t!==(t=o[27]+"")&&U(n,t),i[0]&8&&s!==(s=o[27])&&(e.__value=s,te(e,e.__value))},d(o){o&&k(e)}}}function Js(l){let e,t=(l[23].name||"unnamed")+"",n,s,o=l[24]+"",i,u,a;return{c(){e=d("option"),n=q(t),s=q(" ("),i=q(o),u=q(")"),e.__value=a=l[23].id,te(e,e.__value)},m(c,_){w(c,e,_),r(e,n),r(e,s),r(e,i),r(e,u)},p(c,_){_[0]&32&&t!==(t=(c[23].name||"unnamed")+"")&&U(n,t),_[0]&32&&o!==(o=c[24]+"")&&U(i,o),_[0]&32&&a!==(a=c[23].id)&&(e.__value=a,te(e,e.__value))},d(c){c&&k(e)}}}function Ks(l){let e,t=l[24]&&l[23].id&&Js(l);return{c(){t&&t.c(),e=Oe()},m(n,s){t&&t.m(n,s),w(n,e,s)},p(n,s){n[24]&&n[23].id?t?t.p(n,s):(t=Js(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&k(e),t&&t.d(n)}}}function Ys(l){let e,t,n,s,o,i,u,a,c=de(l[6]||[]),_=[];for(let p=0;p<c.length;p+=1)_[p]=Qs(Us(l,c,p));return{c(){e=d("div"),t=d("label"),t.textContent="Container:",n=b(),s=d("select"),o=d("option"),o.textContent="(All)";for(let p=0;p<_.length;p+=1)_[p].c();f(t,"class","svelte-1wvrz0m"),o.__value="",te(o,o.__value),f(s,"class","svelte-1wvrz0m"),f(e,"class","scope-field svelte-1wvrz0m")},m(p,m){w(p,e,m),r(e,t),r(e,n),r(e,s),r(s,o);for(let h=0;h<_.length;h+=1)_[h]&&_[h].m(s,null);Ee(s,l[2].container),u||(a=ee(s,"change",l[16]),u=!0)},p(p,m){if(m[0]&64){c=de(p[6]||[]);let h;for(h=0;h<c.length;h+=1){const v=Us(p,c,h);_[h]?_[h].p(v,m):(_[h]=Qs(v),_[h].c(),_[h].m(s,null))}for(;h<_.length;h+=1)_[h].d(1);_.length=c.length}m[0]&20&&i!==(i=p[2].container)&&Ee(s,p[2].container)},d(p){p&&k(e),Ne(_,p),u=!1,a()}}}function Qs(l){let e,t=l[20].name+"",n,s;return{c(){e=d("option"),n=q(t),e.__value=s=l[20].name,te(e,e.__value)},m(o,i){w(o,e,i),r(e,n)},p(o,i){i[0]&64&&t!==(t=o[20].name+"")&&U(n,t),i[0]&64&&s!==(s=o[20].name)&&(e.__value=s,te(e,e.__value))},d(o){o&&k(e)}}}function Zs(l){let e,t,n,s,o,i;return{c(){e=d("label"),t=d("input"),s=q(`
      Tail`),f(t,"type","checkbox"),t.checked=n=l[2].tail,f(t,"class","svelte-1wvrz0m"),f(e,"class","tail-toggle svelte-1wvrz0m")},m(u,a){w(u,e,a),r(e,t),r(e,s),o||(i=ee(t,"change",l[18]),o=!0)},p(u,a){a[0]&20&&n!==(n=u[2].tail)&&(t.checked=n)},d(u){u&&k(e),o=!1,i()}}}function F1(l){let e,t,n,s,o,i,u,a,c,_,p,m,h,v,g,S,C,$,y,T,z,E,j,D,I,N,A,Y,F,O,H,L,R,B,V,Q,G,oe,x,W,J,ae,K=de(l[4]),ie=[];for(let Z=0;Z<K.length;Z+=1)ie[Z]=Ws(Gs(l,K,Z));let ue=de(l[3]),le=[];for(let Z=0;Z<ue.length;Z+=1)le[Z]=Vs(Hs(l,ue,Z));let me=de(l[5]||[]),re=[];for(let Z=0;Z<me.length;Z+=1)re[Z]=Ks(Bs(l,me,Z));let ne=l[1]&&l[2].server&&Ys(l),X=l[0]&&Zs(l);return{c(){e=d("div"),t=d("div"),n=d("div"),n.innerHTML='<span class="brand-dot svelte-1wvrz0m"></span> <span>cc</span>',s=b(),o=d("div"),i=d("label"),i.textContent="Project:",u=b(),a=d("select"),c=d("option"),c.textContent="All";for(let Z=0;Z<ie.length;Z+=1)ie[Z].c();p=b(),m=d("div"),h=d("label"),h.textContent="Env:",v=b(),g=d("select"),S=d("option"),S.textContent="All";for(let Z=0;Z<le.length;Z+=1)le[Z].c();$=b(),y=d("div"),T=d("label"),T.textContent="Server:",z=b(),E=d("select"),j=d("option"),j.textContent="(Fleet)";for(let Z=0;Z<re.length;Z+=1)re[Z].c();I=b(),ne&&ne.c(),N=b(),A=d("div"),Y=d("label"),Y.textContent="Last",F=b(),O=d("select"),H=d("option"),H.textContent="15m",L=d("option"),L.textContent="1h",R=d("option"),R.textContent="6h",B=d("option"),B.textContent="24h",V=d("option"),V.textContent="7d",Q=d("option"),Q.textContent="30d",oe=b(),x=d("button"),x.innerHTML='<svg viewBox="0 0 24 24" fill="none" class="svelte-1wvrz0m"><path d="M20 12a8 8 0 1 1-2.34-5.66" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path><path d="M20 4v6h-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>',W=b(),X&&X.c(),f(n,"class","scope-brand svelte-1wvrz0m"),f(i,"class","svelte-1wvrz0m"),c.__value="",te(c,c.__value),f(a,"class","svelte-1wvrz0m"),f(o,"class","scope-field svelte-1wvrz0m"),f(h,"class","svelte-1wvrz0m"),S.__value="",te(S,S.__value),f(g,"class","svelte-1wvrz0m"),f(m,"class","scope-field svelte-1wvrz0m"),f(T,"class","svelte-1wvrz0m"),j.__value="",te(j,j.__value),f(E,"class","svelte-1wvrz0m"),f(y,"class","scope-field svelte-1wvrz0m"),f(Y,"class","svelte-1wvrz0m"),H.__value="15m",te(H,H.__value),L.__value="1h",te(L,L.__value),R.__value="6h",te(R,R.__value),B.__value="24h",te(B,B.__value),V.__value="7d",te(V,V.__value),Q.__value="30d",te(Q,Q.__value),f(O,"class","svelte-1wvrz0m"),f(A,"class","scope-field svelte-1wvrz0m"),f(x,"class","iconbtn svelte-1wvrz0m"),f(x,"title","Refresh"),f(t,"class","scope-bar-inner svelte-1wvrz0m"),f(e,"class","scope-bar glass svelte-1wvrz0m")},m(Z,be){w(Z,e,be),r(e,t),r(t,n),r(t,s),r(t,o),r(o,i),r(o,u),r(o,a),r(a,c);for(let $e=0;$e<ie.length;$e+=1)ie[$e]&&ie[$e].m(a,null);Ee(a,l[2].project),r(t,p),r(t,m),r(m,h),r(m,v),r(m,g),r(g,S);for(let $e=0;$e<le.length;$e+=1)le[$e]&&le[$e].m(g,null);Ee(g,l[2].env),r(t,$),r(t,y),r(y,T),r(y,z),r(y,E),r(E,j);for(let $e=0;$e<re.length;$e+=1)re[$e]&&re[$e].m(E,null);Ee(E,l[2].server),r(t,I),ne&&ne.m(t,null),r(t,N),r(t,A),r(A,Y),r(A,F),r(A,O),r(O,H),r(O,L),r(O,R),r(O,B),r(O,V),r(O,Q),Ee(O,l[2].range),r(t,oe),r(t,x),r(e,W),X&&X.m(e,null),J||(ae=[ee(a,"change",l[13]),ee(g,"change",l[14]),ee(E,"change",l[15]),ee(O,"change",l[17]),ee(x,"click",l[10])],J=!0)},p(Z,be){if(be[0]&16){K=de(Z[4]);let $e;for($e=0;$e<K.length;$e+=1){const We=Gs(Z,K,$e);ie[$e]?ie[$e].p(We,be):(ie[$e]=Ws(We),ie[$e].c(),ie[$e].m(a,null))}for(;$e<ie.length;$e+=1)ie[$e].d(1);ie.length=K.length}if(be[0]&20&&_!==(_=Z[2].project)&&Ee(a,Z[2].project),be[0]&8){ue=de(Z[3]);let $e;for($e=0;$e<ue.length;$e+=1){const We=Hs(Z,ue,$e);le[$e]?le[$e].p(We,be):(le[$e]=Vs(We),le[$e].c(),le[$e].m(g,null))}for(;$e<le.length;$e+=1)le[$e].d(1);le.length=ue.length}if(be[0]&20&&C!==(C=Z[2].env)&&Ee(g,Z[2].env),be[0]&32){me=de(Z[5]||[]);let $e;for($e=0;$e<me.length;$e+=1){const We=Bs(Z,me,$e);re[$e]?re[$e].p(We,be):(re[$e]=Ks(We),re[$e].c(),re[$e].m(E,null))}for(;$e<re.length;$e+=1)re[$e].d(1);re.length=me.length}be[0]&20&&D!==(D=Z[2].server)&&Ee(E,Z[2].server),Z[1]&&Z[2].server?ne?ne.p(Z,be):(ne=Ys(Z),ne.c(),ne.m(t,N)):ne&&(ne.d(1),ne=null),be[0]&20&&G!==(G=Z[2].range)&&Ee(O,Z[2].range),Z[0]?X?X.p(Z,be):(X=Zs(Z),X.c(),X.m(e,null)):X&&(X.d(1),X=null)},i:ge,o:ge,d(Z){Z&&k(e),Ne(ie,Z),Ne(le,Z),Ne(re,Z),ne&&ne.d(),X&&X.d(),J=!1,Ge(ae)}}}function U1(l,e,t){let n,s,o,i,u,a,c;vt(l,Dl,j=>t(2,o=j)),vt(l,Ku,j=>t(11,i=j)),vt(l,On,j=>t(12,u=j)),vt(l,vn,j=>t(5,a=j)),vt(l,M1,j=>t(6,c=j));let{showTail:_=!1}=e,{showContainer:p=!1}=e;const m=Ml();function h(j,D){Dl.update(I=>({...I,[j]:D})),m("change")}function v(j){Dl.update(D=>({...D,server:j,container:""})),m("change")}function g(j){Dl.update(D=>({...D,tail:j})),m("change")}function S(){m("refresh")}const C=j=>h("project",j.target.value),$=j=>h("env",j.target.value),y=j=>v(j.target.value),T=j=>h("container",j.target.value),z=j=>h("range",j.target.value),E=j=>g(j.target.checked);return l.$$set=j=>{"showTail"in j&&t(0,_=j.showTail),"showContainer"in j&&t(1,p=j.showContainer)},l.$$.update=()=>{l.$$.dirty[0]&6144&&t(4,n=[...new Set([...u||[],...(i||[]).map(j=>j.project).filter(Boolean)])].sort()),l.$$.dirty[0]&2048&&t(3,s=[...new Set(["prod","staging","uat","test","dev",...(i||[]).map(j=>j.environment).filter(Boolean)])].sort()),l.$$.dirty[0]&4&&(o.server?zn.fetch({server:o.server}):(zn.clear(),o.container&&Dl.update(j=>({...j,container:""}))))},[_,p,o,s,n,a,c,h,v,g,S,i,u,C,$,y,T,z,E]}class B1 extends qt{constructor(e){super(),St(this,e,U1,F1,Ct,{showTail:0,showContainer:1},null,[-1,-1])}}function Xs(l,e,t){const n=l.slice();n[29]=e[t];const s=X1(n[29]);n[30]=s;const o=ln(n[30]);n[31]=o;const i=x1(n[29]);n[32]=i;const u=n[8][n[30]];return n[33]=u,n}function xs(l){let e;return{c(){e=d("span"),e.textContent="⚠",f(e,"class","health-warn svelte-3mbtsx"),f(e,"title","High resource usage")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function eo(l){let e;return{c(){e=d("span"),e.textContent="⚠️",f(e,"class","agent-warn svelte-3mbtsx"),f(e,"title","Agent outdated")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function H1(l){let e;return{c(){e=d("span"),e.textContent="offline",f(e,"class","metric-inline offline svelte-3mbtsx")},m(t,n){w(t,e,n)},p:ge,d(t){t&&k(e)}}}function G1(l){let e,t,n,s,o;return{c(){e=d("span"),t=b(),n=d("span"),s=b(),o=d("span"),f(e,"class","metric-skeleton svelte-3mbtsx"),f(n,"class","metric-skeleton svelte-3mbtsx"),f(o,"class","metric-skeleton svelte-3mbtsx")},m(i,u){w(i,e,u),w(i,t,u),w(i,n,u),w(i,s,u),w(i,o,u)},p:ge,d(i){i&&(k(e),k(t),k(n),k(s),k(o))}}}function W1(l){let e,t,n=l[3].cpu.toFixed(0)+"",s,o,i,u,a,c,_=l[3].mem.toFixed(0)+"",p,m,h,v,g,S,C=l[3].disk.toFixed(0)+"",$,y,T,z,E,j=(l[3].netIn||l[3].netOut)&&to(l);return{c(){e=d("span"),t=q("CPU "),s=q(n),o=q("%"),u=b(),a=d("span"),c=q("MEM "),p=q(_),m=q("%"),v=b(),g=d("span"),S=q("DISK "),$=q(C),y=q("%"),z=b(),j&&j.c(),E=Oe(),f(e,"class",i="metric-inline "+jl(l[3].cpu)+" svelte-3mbtsx"),f(a,"class",h="metric-inline "+jl(l[3].mem)+" svelte-3mbtsx"),f(g,"class",T="metric-inline "+jl(l[3].disk)+" svelte-3mbtsx")},m(D,I){w(D,e,I),r(e,t),r(e,s),r(e,o),w(D,u,I),w(D,a,I),r(a,c),r(a,p),r(a,m),w(D,v,I),w(D,g,I),r(g,S),r(g,$),r(g,y),w(D,z,I),j&&j.m(D,I),w(D,E,I)},p(D,I){I[0]&8&&n!==(n=D[3].cpu.toFixed(0)+"")&&U(s,n),I[0]&8&&i!==(i="metric-inline "+jl(D[3].cpu)+" svelte-3mbtsx")&&f(e,"class",i),I[0]&8&&_!==(_=D[3].mem.toFixed(0)+"")&&U(p,_),I[0]&8&&h!==(h="metric-inline "+jl(D[3].mem)+" svelte-3mbtsx")&&f(a,"class",h),I[0]&8&&C!==(C=D[3].disk.toFixed(0)+"")&&U($,C),I[0]&8&&T!==(T="metric-inline "+jl(D[3].disk)+" svelte-3mbtsx")&&f(g,"class",T),D[3].netIn||D[3].netOut?j?j.p(D,I):(j=to(D),j.c(),j.m(E.parentNode,E)):j&&(j.d(1),j=null)},d(D){D&&(k(e),k(u),k(a),k(v),k(g),k(z),k(E)),j&&j.d(D)}}}function to(l){let e,t,n=Zl(l[3].netIn)+"",s,o,i=Zl(l[3].netOut)+"",u;return{c(){e=d("span"),t=q("↓"),s=q(n),o=q(" ↑"),u=q(i),f(e,"class","metric-inline net svelte-3mbtsx")},m(a,c){w(a,e,c),r(e,t),r(e,s),r(e,o),r(e,u)},p(a,c){c[0]&8&&n!==(n=Zl(a[3].netIn)+"")&&U(s,n),c[0]&8&&i!==(i=Zl(a[3].netOut)+"")&&U(u,i)},d(a){a&&k(e)}}}function lo(l){let e,t;return e=new et({props:{variant:"info",$$slots:{default:[V1]},$$scope:{ctx:l}}}),{c(){_e(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[0]&1|s[1]&32&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function V1(l){let e=l[0].project+"",t;return{c(){t=q(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&1&&e!==(e=n[0].project+"")&&U(t,e)},d(n){n&&k(t)}}}function J1(l){let e,t=de(l[6]),n=[];for(let s=0;s<t.length;s+=1)n[s]=no(Xs(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=Oe()},m(s,o){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(s,o);w(s,e,o)},p(s,o){if(o[0]&459072){t=de(s[6]);let i;for(i=0;i<t.length;i+=1){const u=Xs(s,t,i);n[i]?n[i].p(u,o):(n[i]=no(u),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(s){s&&k(e),Ne(n,s)}}}function K1(l){let e;return{c(){e=d("span"),e.textContent="No containers",f(e,"class","empty-text svelte-3mbtsx")},m(t,n){w(t,e,n)},p:ge,d(t){t&&k(e)}}}function Y1(l){let e;return{c(){e=d("span"),e.textContent="Loading...",f(e,"class","loading-text svelte-3mbtsx")},m(t,n){w(t,e,n)},p:ge,d(t){t&&k(e)}}}function no(l){let e,t,n,s,o,i=l[31]+"",u,a,c,_,p=l[33]==="restart"?"...":"↻",m,h,v,g,S,C,$,y,T,z,E,j;function D(){return l[23](l[30])}function I(){return l[24](l[30])}function N(){return l[25](l[30])}return{c(){e=d("div"),t=d("span"),s=b(),o=d("span"),u=q(i),a=b(),c=d("div"),_=d("button"),m=q(p),v=b(),g=d("button"),g.textContent="📋",S=b(),C=d("button"),$=q("×"),T=b(),f(t,"class",n="container-status "+so(l[32])+" svelte-3mbtsx"),f(o,"class","container-name svelte-3mbtsx"),f(_,"class","pill-btn svelte-3mbtsx"),f(_,"title","Restart"),_.disabled=h=l[33],f(g,"class","pill-btn svelte-3mbtsx"),f(g,"title","Logs"),f(C,"class","pill-btn danger svelte-3mbtsx"),f(C,"title","Remove"),C.disabled=y=l[33],f(c,"class","container-actions svelte-3mbtsx"),f(e,"class","container-pill svelte-3mbtsx"),f(e,"title",z=l[30]),we(e,"busy",l[33])},m(A,Y){w(A,e,Y),r(e,t),r(e,s),r(e,o),r(o,u),r(e,a),r(e,c),r(c,_),r(_,m),r(c,v),r(c,g),r(c,S),r(c,C),r(C,$),r(e,T),E||(j=[ee(_,"click",D),ee(g,"click",I),ee(C,"click",N)],E=!0)},p(A,Y){l=A,Y[0]&64&&n!==(n="container-status "+so(l[32])+" svelte-3mbtsx")&&f(t,"class",n),Y[0]&64&&i!==(i=l[31]+"")&&U(u,i),Y[0]&320&&p!==(p=l[33]==="restart"?"...":"↻")&&U(m,p),Y[0]&320&&h!==(h=l[33])&&(_.disabled=h),Y[0]&320&&y!==(y=l[33])&&(C.disabled=y),Y[0]&64&&z!==(z=l[30])&&f(e,"title",z),Y[0]&320&&we(e,"busy",l[33])},d(A){A&&k(e),E=!1,Ge(j)}}}function Q1(l){var ne;let e,t,n,s,o,i,u,a=(l[0].name||"Unnamed")+"",c,_,p,m,h,v,g,S=(((ne=l[0].region)==null?void 0:ne.slug)||l[0].region||"")+"",C,$,y,T,z,E,j,D,I,N,A,Y,F,O=l[7]||l[9]?"...":"↻",H,L,R,B,V,Q,G,oe,x,W=l[11]&&xs(),J=l[12]&&eo();function ae(X,Z){if(X[4]&&X[3])return W1;if(X[4]&&X[9])return G1;if(!X[4])return H1}let K=ae(l),ie=K&&K(l),ue=l[1]&&l[0].project&&lo(l);function le(X,Z){return X[7]&&X[6].length===0?Y1:X[6].length===0&&X[2]?K1:J1}let me=le(l),re=me(l);return{c(){e=d("div"),t=d("div"),n=d("div"),s=d("span"),i=b(),u=d("span"),c=q(a),_=b(),W&&W.c(),p=b(),m=d("code"),h=q(l[13]),v=b(),g=d("span"),C=q(S),$=b(),J&&J.c(),y=b(),T=d("div"),ie&&ie.c(),z=b(),E=d("span"),j=q("£"),D=q(l[10]),I=q("/mo"),N=b(),A=d("div"),ue&&ue.c(),Y=b(),F=d("button"),H=q(O),R=b(),B=d("button"),B.textContent="🗑️",V=b(),Q=d("div"),re.c(),f(s,"class",o="status-dot "+l[14](l[5])+" svelte-3mbtsx"),f(u,"class","server-name svelte-3mbtsx"),f(m,"class","server-ip svelte-3mbtsx"),f(g,"class","server-meta svelte-3mbtsx"),f(n,"class","server-info svelte-3mbtsx"),f(E,"class","metric-inline cost svelte-3mbtsx"),f(T,"class","server-metrics-inline svelte-3mbtsx"),f(F,"class","icon-btn svelte-3mbtsx"),f(F,"title","Refresh"),F.disabled=L=l[7]||l[9],f(B,"class","icon-btn danger svelte-3mbtsx"),f(B,"title","Destroy"),f(A,"class","server-actions svelte-3mbtsx"),f(t,"class","server-header svelte-3mbtsx"),f(Q,"class","containers svelte-3mbtsx"),f(e,"class","server-card svelte-3mbtsx")},m(X,Z){w(X,e,Z),r(e,t),r(t,n),r(n,s),r(n,i),r(n,u),r(u,c),r(n,_),W&&W.m(n,null),r(n,p),r(n,m),r(m,h),r(n,v),r(n,g),r(g,C),r(n,$),J&&J.m(n,null),r(t,y),r(t,T),ie&&ie.m(T,null),r(T,z),r(T,E),r(E,j),r(E,D),r(E,I),r(t,N),r(t,A),ue&&ue.m(A,null),r(A,Y),r(A,F),r(F,H),r(A,R),r(A,B),r(e,V),r(e,Q),re.m(Q,null),G=!0,oe||(x=[ee(F,"click",l[19]),ee(B,"click",l[22])],oe=!0)},p(X,Z){var be;(!G||Z[0]&32&&o!==(o="status-dot "+X[14](X[5])+" svelte-3mbtsx"))&&f(s,"class",o),(!G||Z[0]&1)&&a!==(a=(X[0].name||"Unnamed")+"")&&U(c,a),X[11]?W||(W=xs(),W.c(),W.m(n,p)):W&&(W.d(1),W=null),(!G||Z[0]&8192)&&U(h,X[13]),(!G||Z[0]&1)&&S!==(S=(((be=X[0].region)==null?void 0:be.slug)||X[0].region||"")+"")&&U(C,S),X[12]?J||(J=eo(),J.c(),J.m(n,null)):J&&(J.d(1),J=null),K===(K=ae(X))&&ie?ie.p(X,Z):(ie&&ie.d(1),ie=K&&K(X),ie&&(ie.c(),ie.m(T,z))),(!G||Z[0]&1024)&&U(D,X[10]),X[1]&&X[0].project?ue?(ue.p(X,Z),Z[0]&3&&P(ue,1)):(ue=lo(X),ue.c(),P(ue,1),ue.m(A,Y)):ue&&(qe(),M(ue,1,1,()=>{ue=null}),je()),(!G||Z[0]&640)&&O!==(O=X[7]||X[9]?"...":"↻")&&U(H,O),(!G||Z[0]&640&&L!==(L=X[7]||X[9]))&&(F.disabled=L),me===(me=le(X))&&re?re.p(X,Z):(re.d(1),re=me(X),re&&(re.c(),re.m(Q,null)))},i(X){G||(P(ue),G=!0)},o(X){M(ue),G=!1},d(X){X&&k(e),W&&W.d(),J&&J.d(),ie&&ie.d(),ue&&ue.d(),re.d(),oe=!1,Ge(x)}}}function Z1(l){return l.includes("4gb")?24:l.includes("2gb")?12:l.includes("1gb")?6:l.includes("512mb")?4:6}function so(l){if(!l)return"gray";const e=l.toLowerCase();return e==="running"?"green":e==="exited"||e==="stopped"?"yellow":e==="restarting"?"blue":"red"}function jl(l){return l>=90?"danger":l>=70?"warning":"ok"}function X1(l){return l.Names&&typeof l.Names=="string"?l.Names.replace(/^\//,""):Array.isArray(l.Names)&&l.Names.length>0?l.Names[0].replace(/^\//,""):l.Name?l.Name.replace(/^\//,""):l.name?l.name:l.ID?l.ID.substring(0,12):l.Id?l.Id.substring(0,12):"unknown"}function x1(l){return l.State||l.state||l.Status||"unknown"}function ln(l){if(!l)return"unknown";const e=l.split("-");return e.length>=3&&e[0].length<=10?e.slice(2).join("-"):l}function Zl(l){return l?l<1024?`${l}B`:l<1048576?`${(l/1024).toFixed(0)}K`:l<1073741824?`${(l/1048576).toFixed(1)}M`:`${(l/1073741824).toFixed(1)}G`:"0"}function e_(l,e,t){let n,s,o,i,u,a,c,_;vt(l,An,L=>t(21,_=L));let{server:p}=e,{showProject:m=!1}=e;const h=Ml();let v=[],g=!1,S=!1,C={},$=null,y=!1;function T(L){switch(L){case"active":case"online":return"green";case"new":case"starting":return"blue";case"off":case"stopped":return"yellow";default:return"red"}}function z(L){h(L,{server:p})}async function E(){if(!(!o||!_||!p.id)){t(7,g=!0);try{const L=await He("GET",`/infra/agent/${p.id}/containers?do_token=${_}`);t(6,v=L.containers||[]),t(2,S=!0)}catch(L){console.error("Failed to load containers:",L),t(6,v=[])}finally{t(7,g=!1)}}}async function j(){var L,R,B,V,Q;if(!(!o||!_||!p.id)){t(9,y=!0);try{const G=await He("GET",`/infra/agent/${p.id}/metrics?do_token=${_}`);t(3,$={cpu:((L=G.system)==null?void 0:L.load_1m)||0,mem:((R=G.system)==null?void 0:R.mem_percent)||0,disk:((B=G.system)==null?void 0:B.disk_percent)||0,netIn:((V=G.system)==null?void 0:V.net_in_bytes)||0,netOut:((Q=G.system)==null?void 0:Q.net_out_bytes)||0})}catch(G){console.error("Failed to load metrics:",G)}finally{t(9,y=!1)}}}async function D(L){if(!(!_||!p.id)){t(8,C[L]="restart",C);try{await He("POST",`/infra/agent/${p.id}/containers/${L}/restart?do_token=${_}`),ke.success(`Restarted ${ln(L)}`),await E()}catch(R){ke.error(`Failed: ${R.message}`)}finally{t(8,C[L]=null,C)}}}async function I(L){if(!(!_||!p.id)&&confirm(`Remove "${ln(L)}"?`)){t(8,C[L]="remove",C);try{await He("POST",`/infra/agent/${p.id}/containers/${L}/stop?do_token=${_}`).catch(()=>{}),await He("POST",`/infra/agent/${p.id}/containers/${L}/remove?do_token=${_}`),ke.success(`Removed ${ln(L)}`),await E()}catch(R){ke.error(`Failed: ${R.message}`)}finally{t(8,C[L]=null,C)}}}function N(L){h("viewLogs",{server:p,containerName:L})}async function A(){await Promise.all([E(),j()])}const Y=()=>z("destroy"),F=L=>D(L),O=L=>N(L),H=L=>I(L);return l.$$set=L=>{"server"in L&&t(0,p=L.server),"showProject"in L&&t(1,m=L.showProject)},l.$$.update=()=>{var L,R,B;l.$$.dirty[0]&1&&t(13,n=p.ip||((B=(R=(L=p.networks)==null?void 0:L.v4)==null?void 0:R[0])==null?void 0:B.ip_address)||"N/A"),l.$$.dirty[0]&1&&t(5,s=p.status||"unknown"),l.$$.dirty[0]&32&&t(4,o=s==="active"||s==="online"),l.$$.dirty[0]&1&&t(20,i=p.agent_version),l.$$.dirty[0]&1048576&&t(12,u=i&&i!==O1),l.$$.dirty[0]&8&&t(11,a=$&&($.cpu>80||$.mem>80||$.disk>80)),l.$$.dirty[0]&1&&t(10,c=Z1(p.size_slug||p.size||"")),l.$$.dirty[0]&2097172&&o&&!S&&_&&(E(),j())},[p,m,S,$,o,s,v,g,C,y,c,a,u,n,T,z,D,I,N,A,i,_,Y,F,O,H]}class t_ extends qt{constructor(e){super(),St(this,e,e_,Q1,Ct,{server:0,showProject:1},null,[-1,-1])}}function oo(l,e,t){const n=l.slice();return n[92]=e[t],n}function io(l,e,t){const n=l.slice();return n[95]=e[t],n}function ro(l,e,t){const n=l.slice();return n[92]=e[t],n}function ao(l,e,t){const n=l.slice();return n[100]=e[t],n}function uo(l,e,t){const n=l.slice();return n[103]=e[t],n}function fo(l,e,t){const n=l.slice();return n[106]=e[t],n}function co(l,e,t){const n=l.slice();return n[106]=e[t],n}function _o(l,e,t){const n=l.slice();return n[111]=e[t],n}function po(l,e,t){const n=l.slice();return n[114]=e[t],n}function mo(l,e,t){const n=l.slice();return n[117]=e[t],n}function vo(l){let e,t=l[117]+"",n,s;return{c(){e=d("option"),n=q(t),e.__value=s=l[117],te(e,e.__value)},m(o,i){w(o,e,i),r(e,n)},p(o,i){i[1]&8&&t!==(t=o[117]+"")&&U(n,t),i[1]&8&&s!==(s=o[117])&&(e.__value=s,te(e,e.__value))},d(o){o&&k(e)}}}function ho(l){let e,t=l[114]+"",n,s;return{c(){e=d("option"),n=q(t),e.__value=s=l[114],te(e,e.__value)},m(o,i){w(o,e,i),r(e,n)},p(o,i){i[1]&4&&t!==(t=o[114]+"")&&U(n,t),i[1]&4&&s!==(s=o[114])&&(e.__value=s,te(e,e.__value))},d(o){o&&k(e)}}}function go(l){let e,t,n,s;const o=[s_,n_,l_],i=[];function u(a,c){return a[29]?0:a[32].length?2:1}return t=u(l),n=i[t]=o[t](l),{c(){e=d("div"),n.c(),f(e,"class","section-content svelte-kvdz4s")},m(a,c){w(a,e,c),i[t].m(e,null),s=!0},p(a,c){let _=t;t=u(a),t===_?i[t].p(a,c):(qe(),M(i[_],1,1,()=>{i[_]=null}),je(),n=i[t],n?n.p(a,c):(n=i[t]=o[t](a),n.c()),P(n,1),n.m(e,null))},i(a){s||(P(n),s=!0)},o(a){M(n),s=!1},d(a){a&&k(e),i[t].d()}}}function l_(l){let e=[],t=new Map,n,s,o=de(l[32]);const i=u=>u[111].id;for(let u=0;u<o.length;u+=1){let a=_o(l,o,u),c=i(a);t.set(c,e[u]=bo(c,a))}return{c(){for(let u=0;u<e.length;u+=1)e[u].c();n=Oe()},m(u,a){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(u,a);w(u,n,a),s=!0},p(u,a){a[1]&6146&&(o=de(u[32]),qe(),e=Au(e,a,i,1,u,o,t,n.parentNode,Ru,bo,n,_o),je())},i(u){if(!s){for(let a=0;a<o.length;a+=1)P(e[a]);s=!0}},o(u){for(let a=0;a<e.length;a+=1)M(e[a]);s=!1},d(u){u&&k(n);for(let a=0;a<e.length;a+=1)e[a].d(u)}}}function n_(l){let e;function t(o,i){return o[1]||o[2]?i_:o_}let n=t(l),s=n(l);return{c(){e=d("div"),s.c(),f(e,"class","empty-msg svelte-kvdz4s")},m(o,i){w(o,e,i),s.m(e,null)},p(o,i){n!==(n=t(o))&&(s.d(1),s=n(o),s&&(s.c(),s.m(e,null)))},i:ge,o:ge,d(o){o&&k(e),s.d()}}}function s_(l){let e;return{c(){e=d("div"),e.innerHTML='<div class="skeleton-card svelte-kvdz4s"></div> <div class="skeleton-card svelte-kvdz4s"></div>',f(e,"class","loading-skeleton svelte-kvdz4s")},m(t,n){w(t,e,n)},p:ge,i:ge,o:ge,d(t){t&&k(e)}}}function bo(l,e){let t,n,s;return n=new t_({props:{server:e[111]}}),n.$on("destroy",e[42]),n.$on("viewLogs",e[43]),{key:l,first:null,c(){t=Oe(),_e(n.$$.fragment),this.first=t},m(o,i){w(o,t,i),fe(n,o,i),s=!0},p(o,i){e=o;const u={};i[1]&2&&(u.server=e[111]),n.$set(u)},i(o){s||(P(n.$$.fragment,o),s=!0)},o(o){M(n.$$.fragment,o),s=!1},d(o){o&&k(t),ce(n,o)}}}function o_(l){let e;return{c(){e=q('No servers. Click "+ Add" to provision.')},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function i_(l){let e;return{c(){e=q("No servers match filters")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function ko(l){let e,t,n,s,o,i,u,a;const c=[u_,a_,r_],_=[];function p(g,S){return g[20]===null?0:g[20].exists?1:2}o=p(l),i=_[o]=c[o](l);function m(g,S){return g[5]?p_:g[4].length?__:d_}let h=m(l),v=h(l);return{c(){e=d("div"),t=d("div"),n=d("span"),n.textContent="Base Snapshot:",s=b(),i.c(),u=b(),v.c(),f(n,"class","base-label svelte-kvdz4s"),f(t,"class","base-snapshot-row svelte-kvdz4s"),f(e,"class","section-content svelte-kvdz4s")},m(g,S){w(g,e,S),r(e,t),r(t,n),r(t,s),_[o].m(t,null),r(e,u),v.m(e,null),a=!0},p(g,S){let C=o;o=p(g),o===C?_[o].p(g,S):(qe(),M(_[C],1,1,()=>{_[C]=null}),je(),i=_[o],i?i.p(g,S):(i=_[o]=c[o](g),i.c()),P(i,1),i.m(t,null)),h===(h=m(g))&&v?v.p(g,S):(v.d(1),v=h(g),v&&(v.c(),v.m(e,null)))},i(g){a||(P(i),a=!0)},o(g){M(i),a=!1},d(g){g&&k(e),_[o].d(),v.d()}}}function r_(l){let e,t,n,s;return e=new et({props:{variant:"warning",$$slots:{default:[f_]},$$scope:{ctx:l}}}),{c(){_e(e.$$.fragment),t=b(),n=d("span"),n.textContent='Use "+ Build" to create',f(n,"class","base-hint svelte-kvdz4s")},m(o,i){fe(e,o,i),w(o,t,i),w(o,n,i),s=!0},p(o,i){const u={};i[3]&134217728&&(u.$$scope={dirty:i,ctx:o}),e.$set(u)},i(o){s||(P(e.$$.fragment,o),s=!0)},o(o){M(e.$$.fragment,o),s=!1},d(o){o&&(k(t),k(n)),ce(e,o)}}}function a_(l){let e,t;return e=new et({props:{variant:"success",$$slots:{default:[c_]},$$scope:{ctx:l}}}),{c(){_e(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[0]&1048576|s[3]&134217728&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function u_(l){let e;return{c(){e=d("span"),e.textContent="checking...",f(e,"class","base-status checking svelte-kvdz4s")},m(t,n){w(t,e,n)},p:ge,i:ge,o:ge,d(t){t&&k(e)}}}function f_(l){let e;return{c(){e=q("Not found")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function c_(l){let e,t=l[20].name+"",n;return{c(){e=q("✓ "),n=q(t)},m(s,o){w(s,e,o),w(s,n,o)},p(s,o){o[0]&1048576&&t!==(t=s[20].name+"")&&U(n,t)},d(s){s&&(k(e),k(n))}}}function __(l){let e,t=de(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=wo(co(l,t,s));return{c(){e=d("div");for(let s=0;s<n.length;s+=1)n[s].c();f(e,"class","snapshots-grid svelte-kvdz4s")},m(s,o){w(s,e,o);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(s,o){if(o[0]&16|o[1]&256){t=de(s[4]);let i;for(i=0;i<t.length;i+=1){const u=co(s,t,i);n[i]?n[i].p(u,o):(n[i]=wo(u),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(s){s&&k(e),Ne(n,s)}}}function d_(l){let e;return{c(){e=d("div"),e.textContent="No custom snapshots",f(e,"class","empty-msg svelte-kvdz4s")},m(t,n){w(t,e,n)},p:ge,d(t){t&&k(e)}}}function p_(l){let e;return{c(){e=d("div"),e.textContent="Loading...",f(e,"class","empty-msg svelte-kvdz4s")},m(t,n){w(t,e,n)},p:ge,d(t){t&&k(e)}}}function wo(l){let e,t,n=l[106].name+"",s,o,i,u=Ro(l[106].size_gigabytes*1024*1024*1024)+"",a,c,_=Ao(l[106].created_at)+"",p,m,h,v,g,S;function C(){return l[62](l[106])}return{c(){e=d("div"),t=d("span"),s=q(n),o=b(),i=d("span"),a=q(u),c=q(" • "),p=q(_),m=b(),h=d("button"),h.textContent="×",v=b(),f(t,"class","snap-name svelte-kvdz4s"),f(i,"class","snap-meta svelte-kvdz4s"),f(h,"class","pill-del svelte-kvdz4s"),f(h,"title","Delete"),f(e,"class","snapshot-pill svelte-kvdz4s")},m($,y){w($,e,y),r(e,t),r(t,s),r(e,o),r(e,i),r(i,a),r(i,c),r(i,p),r(e,m),r(e,h),r(e,v),g||(S=ee(h,"click",C),g=!0)},p($,y){l=$,y[0]&16&&n!==(n=l[106].name+"")&&U(s,n),y[0]&16&&u!==(u=Ro(l[106].size_gigabytes*1024*1024*1024)+"")&&U(a,u),y[0]&16&&_!==(_=Ao(l[106].created_at)+"")&&U(p,_)},d($){$&&k(e),g=!1,S()}}}function $o(l){let e,t=l[106].name+"",n,s;return{c(){e=d("option"),n=q(t),e.__value=s=l[106].id,te(e,e.__value)},m(o,i){w(o,e,i),r(e,n)},p(o,i){i[0]&16&&t!==(t=o[106].name+"")&&U(n,t),i[0]&16&&s!==(s=o[106].id)&&(e.__value=s,te(e,e.__value))},d(o){o&&k(e)}}}function Co(l){let e;return{c(){e=d("option"),e.textContent="No base snapshot - create one first",e.__value="",te(e,e.__value)},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function yo(l){let e,t=l[103].label+"",n;return{c(){e=d("option"),n=q(t),e.__value=l[103].value,te(e,e.__value)},m(s,o){w(s,e,o),r(e,n)},p:ge,d(s){s&&k(e)}}}function So(l){let e,t=(l[100].description||l[100].slug)+"",n,s;return{c(){e=d("option"),n=q(t),e.__value=s=l[100].slug,te(e,e.__value)},m(o,i){w(o,e,i),r(e,n)},p(o,i){i[0]&268435456&&t!==(t=(o[100].description||o[100].slug)+"")&&U(n,t),i[0]&268435456&&s!==(s=o[100].slug)&&(e.__value=s,te(e,e.__value))},d(o){o&&k(e)}}}function qo(l){let e,t,n,s,o,i=de(l[9]),u=[];for(let c=0;c<i.length;c+=1)u[c]=jo(ro(l,i,c));let a=l[10]&&To();return{c(){e=d("div"),t=d("label"),t.textContent="📋 Progress",n=b(),s=d("div");for(let c=0;c<u.length;c+=1)u[c].c();o=b(),a&&a.c(),f(t,"class","svelte-kvdz4s"),f(s,"class","operation-logs svelte-kvdz4s"),f(e,"class","operation-logs-section svelte-kvdz4s")},m(c,_){w(c,e,_),r(e,t),r(e,n),r(e,s);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(s,null);r(s,o),a&&a.m(s,null)},p(c,_){if(_[0]&512){i=de(c[9]);let p;for(p=0;p<i.length;p+=1){const m=ro(c,i,p);u[p]?u[p].p(m,_):(u[p]=jo(m),u[p].c(),u[p].m(s,o))}for(;p<u.length;p+=1)u[p].d(1);u.length=i.length}c[10]?a||(a=To(),a.c(),a.m(s,null)):a&&(a.d(1),a=null)},d(c){c&&k(e),Ne(u,c),a&&a.d()}}}function jo(l){let e,t=l[92].message+"",n,s;return{c(){e=d("div"),n=q(t),f(e,"class",s="log-entry log-"+l[92].type+" svelte-kvdz4s")},m(o,i){w(o,e,i),r(e,n)},p(o,i){i[0]&512&&t!==(t=o[92].message+"")&&U(n,t),i[0]&512&&s!==(s="log-entry log-"+o[92].type+" svelte-kvdz4s")&&f(e,"class",s)},d(o){o&&k(e)}}}function To(l){let e;return{c(){e=d("div"),e.innerHTML='<span class="spinner svelte-kvdz4s">⏳</span> Provisioning...',f(e,"class","log-entry log-info svelte-kvdz4s")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function m_(l){let e,t,n,s,o,i,u=l[4].filter(Oo).length===0,a,c,_,p,m,h,v,g,S,C,$,y,T,z,E=de(l[4].filter(Io)),j=[];for(let O=0;O<E.length;O+=1)j[O]=$o(fo(l,E,O));let D=u&&Co(),I=de(l[37]),N=[];for(let O=0;O<I.length;O+=1)N[O]=yo(uo(l,I,O));let A=de(l[28]),Y=[];for(let O=0;O<A.length;O+=1)Y[O]=So(ao(l,A,O));let F=(l[9].length>0||l[10])&&qo(l);return{c(){e=d("div"),t=d("div"),n=d("label"),n.textContent="Snapshot",s=b(),o=d("select");for(let O=0;O<j.length;O+=1)j[O].c();i=Oe(),D&&D.c(),a=b(),c=d("div"),_=d("label"),_.textContent="Region",p=b(),m=d("select");for(let O=0;O<N.length;O+=1)N[O].c();h=b(),v=d("div"),g=d("label"),g.textContent="Size",S=b(),C=d("select");for(let O=0;O<Y.length;O+=1)Y[O].c();$=b(),F&&F.c(),y=Oe(),f(n,"class","svelte-kvdz4s"),o.disabled=l[10],f(o,"class","svelte-kvdz4s"),l[27].snapshot_id===void 0&&Qe(()=>l[64].call(o)),f(t,"class","form-group full svelte-kvdz4s"),f(_,"class","svelte-kvdz4s"),m.disabled=l[10],f(m,"class","svelte-kvdz4s"),l[27].region===void 0&&Qe(()=>l[65].call(m)),f(c,"class","form-group svelte-kvdz4s"),f(g,"class","svelte-kvdz4s"),C.disabled=l[10],f(C,"class","svelte-kvdz4s"),l[27].size===void 0&&Qe(()=>l[66].call(C)),f(v,"class","form-group svelte-kvdz4s"),f(e,"class","form-grid svelte-kvdz4s")},m(O,H){w(O,e,H),r(e,t),r(t,n),r(t,s),r(t,o);for(let L=0;L<j.length;L+=1)j[L]&&j[L].m(o,null);r(o,i),D&&D.m(o,null),Ee(o,l[27].snapshot_id,!0),r(e,a),r(e,c),r(c,_),r(c,p),r(c,m);for(let L=0;L<N.length;L+=1)N[L]&&N[L].m(m,null);Ee(m,l[27].region,!0),r(e,h),r(e,v),r(v,g),r(v,S),r(v,C);for(let L=0;L<Y.length;L+=1)Y[L]&&Y[L].m(C,null);Ee(C,l[27].size,!0),w(O,$,H),F&&F.m(O,H),w(O,y,H),T||(z=[ee(o,"change",l[64]),ee(m,"change",l[65]),ee(C,"change",l[66])],T=!0)},p(O,H){if(H[0]&16){E=de(O[4].filter(Io));let L;for(L=0;L<E.length;L+=1){const R=fo(O,E,L);j[L]?j[L].p(R,H):(j[L]=$o(R),j[L].c(),j[L].m(o,i))}for(;L<j.length;L+=1)j[L].d(1);j.length=E.length}if(H[0]&16&&(u=O[4].filter(Oo).length===0),u?D||(D=Co(),D.c(),D.m(o,null)):D&&(D.d(1),D=null),H[0]&1024&&(o.disabled=O[10]),H[0]&134217744&&Ee(o,O[27].snapshot_id),H[1]&64){I=de(O[37]);let L;for(L=0;L<I.length;L+=1){const R=uo(O,I,L);N[L]?N[L].p(R,H):(N[L]=yo(R),N[L].c(),N[L].m(m,null))}for(;L<N.length;L+=1)N[L].d(1);N.length=I.length}if(H[0]&1024&&(m.disabled=O[10]),H[0]&134217744&&Ee(m,O[27].region),H[0]&268435456){A=de(O[28]);let L;for(L=0;L<A.length;L+=1){const R=ao(O,A,L);Y[L]?Y[L].p(R,H):(Y[L]=So(R),Y[L].c(),Y[L].m(C,null))}for(;L<Y.length;L+=1)Y[L].d(1);Y.length=A.length}H[0]&1024&&(C.disabled=O[10]),H[0]&134217744&&Ee(C,O[27].size),O[9].length>0||O[10]?F?F.p(O,H):(F=qo(O),F.c(),F.m(y.parentNode,y)):F&&(F.d(1),F=null)},d(O){O&&(k(e),k($),k(y)),Ne(j,O),D&&D.d(),Ne(N,O),Ne(Y,O),F&&F.d(O),T=!1,Ge(z)}}}function v_(l){let e=l[9].length>0?"Close":"Cancel",t;return{c(){t=q(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&512&&e!==(e=n[9].length>0?"Close":"Cancel")&&U(t,e)},d(n){n&&k(t)}}}function h_(l){let e;return{c(){e=q("🚀 Provision")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function g_(l){let e;return{c(){e=q("⏳ Provisioning...")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function b_(l){let e;function t(o,i){return o[10]?g_:h_}let n=t(l),s=n(l);return{c(){s.c(),e=Oe()},m(o,i){s.m(o,i),w(o,e,i)},p(o,i){n!==(n=t(o))&&(s.d(1),s=n(o),s&&(s.c(),s.m(e.parentNode,e)))},d(o){o&&k(e),s.d(o)}}}function k_(l){let e,t,n,s,o;return t=new Fe({props:{variant:"ghost",$$slots:{default:[v_]},$$scope:{ctx:l}}}),t.$on("click",l[63]),s=new Fe({props:{variant:"primary",disabled:l[10]||!l[27].snapshot_id,$$slots:{default:[b_]},$$scope:{ctx:l}}}),s.$on("click",l[41]),{c(){e=d("div"),_e(t.$$.fragment),n=b(),_e(s.$$.fragment),f(e,"slot","footer")},m(i,u){w(i,e,u),fe(t,e,null),r(e,n),fe(s,e,null),o=!0},p(i,u){const a={};u[0]&512|u[3]&134217728&&(a.$$scope={dirty:u,ctx:i}),t.$set(a);const c={};u[0]&134218752&&(c.disabled=i[10]||!i[27].snapshot_id),u[0]&1024|u[3]&134217728&&(c.$$scope={dirty:u,ctx:i}),s.$set(c)},i(i){o||(P(t.$$.fragment,i),P(s.$$.fragment,i),o=!0)},o(i){M(t.$$.fragment,i),M(s.$$.fragment,i),o=!1},d(i){i&&k(e),ce(t),ce(s)}}}function w_(l){let e=l[23]?"...":"↻",t;return{c(){t=q(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&8388608&&e!==(e=n[23]?"...":"↻")&&U(t,e)},d(n){n&&k(t)}}}function $_(l){let e,t,n,s,o,i,u,a,c,_,p,m,h,v,g,S,C,$,y,T,z=(l[30]||"No logs")+"",E,j,D,I;return $=new Fe({props:{variant:"ghost",size:"sm",disabled:l[23],$$slots:{default:[w_]},$$scope:{ctx:l}}}),$.$on("click",l[44]),{c(){e=d("div"),t=d("div"),n=d("input"),s=b(),o=d("div"),i=d("label"),i.textContent="Lines:",u=b(),a=d("select"),c=d("option"),c.textContent="100",_=d("option"),_.textContent="200",p=d("option"),p.textContent="500",m=d("option"),m.textContent="1000",h=b(),v=d("label"),g=d("input"),S=q(`
      Auto-refresh`),C=b(),_e($.$$.fragment),y=b(),T=d("pre"),E=q(z),f(n,"type","text"),f(n,"placeholder","Search logs..."),f(n,"class","svelte-kvdz4s"),f(t,"class","logs-search svelte-kvdz4s"),f(i,"class","svelte-kvdz4s"),c.__value=100,te(c,c.__value),_.__value=200,te(_,_.__value),p.__value=500,te(p,p.__value),m.__value=1e3,te(m,m.__value),f(a,"class","svelte-kvdz4s"),l[24]===void 0&&Qe(()=>l[71].call(a)),f(o,"class","logs-tail svelte-kvdz4s"),f(g,"type","checkbox"),f(g,"class","svelte-kvdz4s"),f(v,"class","logs-auto svelte-kvdz4s"),f(e,"class","logs-toolbar svelte-kvdz4s"),f(T,"class","logs-content large svelte-kvdz4s")},m(N,A){w(N,e,A),r(e,t),r(t,n),te(n,l[6]),r(e,s),r(e,o),r(o,i),r(o,u),r(o,a),r(a,c),r(a,_),r(a,p),r(a,m),Ee(a,l[24],!0),r(e,h),r(e,v),r(v,g),g.checked=l[25],r(v,S),r(e,C),fe($,e,null),w(N,y,A),w(N,T,A),r(T,E),j=!0,D||(I=[ee(n,"input",l[70]),ee(a,"change",l[71]),ee(a,"change",l[44]),ee(g,"change",l[72]),ee(g,"change",l[45])],D=!0)},p(N,A){A[0]&64&&n.value!==N[6]&&te(n,N[6]),A[0]&16777216&&Ee(a,N[24]),A[0]&33554432&&(g.checked=N[25]);const Y={};A[0]&8388608&&(Y.disabled=N[23]),A[0]&8388608|A[3]&134217728&&(Y.$$scope={dirty:A,ctx:N}),$.$set(Y),(!j||A[0]&1073741824)&&z!==(z=(N[30]||"No logs")+"")&&U(E,z)},i(N){j||(P($.$$.fragment,N),j=!0)},o(N){M($.$$.fragment,N),j=!1},d(N){N&&(k(e),k(y),k(T)),ce($),D=!1,Ge(I)}}}function C_(l){let e;return{c(){e=q("Close")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function y_(l){var c;let e,t,n=(((c=l[30])==null?void 0:c.split(`
`).length)||0)+"",s,o,i,u,a;return u=new Fe({props:{variant:"ghost",$$slots:{default:[C_]},$$scope:{ctx:l}}}),u.$on("click",l[69]),{c(){e=d("div"),t=d("span"),s=q(n),o=q(" lines"),i=b(),_e(u.$$.fragment),f(t,"class","logs-count svelte-kvdz4s"),f(e,"slot","footer")},m(_,p){w(_,e,p),r(e,t),r(t,s),r(t,o),r(e,i),fe(u,e,null),a=!0},p(_,p){var h;(!a||p[0]&1073741824)&&n!==(n=(((h=_[30])==null?void 0:h.split(`
`).length)||0)+"")&&U(s,n);const m={};p[3]&134217728&&(m.$$scope={dirty:p,ctx:_}),u.$set(m)},i(_){a||(P(u.$$.fragment,_),a=!0)},o(_){M(u.$$.fragment,_),a=!1},d(_){_&&k(e),ce(u)}}}function S_(l){let e,t,n,s,o,i,u,a,c,_,p,m,h,v,g,S,C,$,y,T,z,E,j,D,I,N,A,Y,F=de(l[35]),O=[];for(let H=0;H<F.length;H+=1)O[H]=zo(io(l,F,H));return{c(){e=d("form"),t=d("div"),n=d("label"),n.textContent="Snapshot Name *",s=b(),o=d("input"),i=b(),u=d("div"),a=d("label"),a.textContent="Base Image",c=b(),_=d("select");for(let H=0;H<O.length;H+=1)O[H].c();p=b(),m=d("div"),h=d("label"),h.textContent="Pre-install",v=b(),g=d("div"),S=d("label"),C=d("input"),$=q(" Docker"),y=b(),T=d("label"),z=d("input"),E=q(" Nginx"),j=b(),D=d("label"),I=d("input"),N=q(" Certbot"),f(n,"for","snap-name"),f(n,"class","svelte-kvdz4s"),f(o,"id","snap-name"),f(o,"type","text"),f(o,"placeholder","my-custom-snapshot"),o.disabled=l[13],f(o,"class","svelte-kvdz4s"),f(t,"class","form-group svelte-kvdz4s"),f(a,"for","base-image"),f(a,"class","svelte-kvdz4s"),f(_,"id","base-image"),_.disabled=l[13],f(_,"class","svelte-kvdz4s"),l[16]===void 0&&Qe(()=>l[78].call(_)),f(u,"class","form-group svelte-kvdz4s"),f(h,"class","svelte-kvdz4s"),f(C,"type","checkbox"),C.disabled=l[13],f(C,"class","svelte-kvdz4s"),f(S,"class","checkbox-item svelte-kvdz4s"),f(z,"type","checkbox"),z.disabled=l[13],f(z,"class","svelte-kvdz4s"),f(T,"class","checkbox-item svelte-kvdz4s"),f(I,"type","checkbox"),I.disabled=l[13],f(I,"class","svelte-kvdz4s"),f(D,"class","checkbox-item svelte-kvdz4s"),f(g,"class","checkbox-list svelte-kvdz4s"),f(m,"class","form-group svelte-kvdz4s")},m(H,L){w(H,e,L),r(e,t),r(t,n),r(t,s),r(t,o),te(o,l[15]),r(e,i),r(e,u),r(u,a),r(u,c),r(u,_);for(let R=0;R<O.length;R+=1)O[R]&&O[R].m(_,null);Ee(_,l[16],!0),r(e,p),r(e,m),r(m,h),r(m,v),r(m,g),r(g,S),r(S,C),C.checked=l[17],r(S,$),r(g,y),r(g,T),r(T,z),z.checked=l[18],r(T,E),r(g,j),r(g,D),r(D,I),I.checked=l[19],r(D,N),A||(Y=[ee(o,"input",l[77]),ee(_,"change",l[78]),ee(C,"change",l[79]),ee(z,"change",l[80]),ee(I,"change",l[81]),ee(e,"submit",sc(l[40]))],A=!0)},p(H,L){if(L[0]&8192&&(o.disabled=H[13]),L[0]&32768&&o.value!==H[15]&&te(o,H[15]),L[1]&16){F=de(H[35]);let R;for(R=0;R<F.length;R+=1){const B=io(H,F,R);O[R]?O[R].p(B,L):(O[R]=zo(B),O[R].c(),O[R].m(_,null))}for(;R<O.length;R+=1)O[R].d(1);O.length=F.length}L[0]&8192&&(_.disabled=H[13]),L[0]&65536|L[1]&16&&Ee(_,H[16]),L[0]&8192&&(C.disabled=H[13]),L[0]&131072&&(C.checked=H[17]),L[0]&8192&&(z.disabled=H[13]),L[0]&262144&&(z.checked=H[18]),L[0]&8192&&(I.disabled=H[13]),L[0]&524288&&(I.checked=H[19])},i:ge,o:ge,d(H){H&&k(e),Ne(O,H),A=!1,Ge(Y)}}}function q_(l){var i;let e,t,n,s,o=((i=l[20])==null?void 0:i.exists)&&Do(l);return{c(){e=d("div"),t=d("p"),t.textContent="Creates the default base snapshot with Docker, Nginx, Certbot pre-installed. Required for provisioning new servers.",n=b(),o&&o.c(),f(t,"class","svelte-kvdz4s"),f(e,"class","snap-type-info svelte-kvdz4s")},m(u,a){w(u,e,a),r(e,t),r(e,n),o&&o.m(e,null),s=!0},p(u,a){var c;(c=u[20])!=null&&c.exists?o?(o.p(u,a),a[0]&1048576&&P(o,1)):(o=Do(u),o.c(),P(o,1),o.m(e,null)):o&&(qe(),M(o,1,1,()=>{o=null}),je())},i(u){s||(P(o),s=!0)},o(u){M(o),s=!1},d(u){u&&k(e),o&&o.d()}}}function zo(l){let e,t=l[95].label+"",n;return{c(){e=d("option"),n=q(t),e.__value=l[95].value,te(e,e.__value)},m(s,o){w(s,e,o),r(e,n)},p:ge,d(s){s&&k(e)}}}function Do(l){let e,t;return e=new et({props:{variant:"warning",$$slots:{default:[j_]},$$scope:{ctx:l}}}),{c(){_e(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[0]&1048576|s[3]&134217728&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function j_(l){let e,t=l[20].name+"",n;return{c(){e=q("⚠️ Base snapshot already exists: "),n=q(t)},m(s,o){w(s,e,o),w(s,n,o)},p(s,o){o[0]&1048576&&t!==(t=s[20].name+"")&&U(n,t)},d(s){s&&(k(e),k(n))}}}function Eo(l){let e,t,n,s,o,i=de(l[8]),u=[];for(let c=0;c<i.length;c+=1)u[c]=Lo(oo(l,i,c));let a=l[13]&&Po();return{c(){e=d("div"),t=d("label"),t.textContent="📋 Progress",n=b(),s=d("div");for(let c=0;c<u.length;c+=1)u[c].c();o=b(),a&&a.c(),f(t,"class","svelte-kvdz4s"),f(s,"class","operation-logs svelte-kvdz4s"),f(e,"class","operation-logs-section svelte-kvdz4s")},m(c,_){w(c,e,_),r(e,t),r(e,n),r(e,s);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(s,null);r(s,o),a&&a.m(s,null)},p(c,_){if(_[0]&256){i=de(c[8]);let p;for(p=0;p<i.length;p+=1){const m=oo(c,i,p);u[p]?u[p].p(m,_):(u[p]=Lo(m),u[p].c(),u[p].m(s,o))}for(;p<u.length;p+=1)u[p].d(1);u.length=i.length}c[13]?a||(a=Po(),a.c(),a.m(s,null)):a&&(a.d(1),a=null)},d(c){c&&k(e),Ne(u,c),a&&a.d()}}}function Lo(l){let e,t=l[92].message+"",n,s;return{c(){e=d("div"),n=q(t),f(e,"class",s="log-entry log-"+l[92].type+" svelte-kvdz4s")},m(o,i){w(o,e,i),r(e,n)},p(o,i){i[0]&256&&t!==(t=o[92].message+"")&&U(n,t),i[0]&256&&s!==(s="log-entry log-"+o[92].type+" svelte-kvdz4s")&&f(e,"class",s)},d(o){o&&k(e)}}}function Po(l){let e;return{c(){e=d("div"),e.innerHTML='<span class="spinner svelte-kvdz4s">⏳</span> Working...',f(e,"class","log-entry log-info svelte-kvdz4s")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function T_(l){let e,t,n,s,o,i,u,a,c,_,p,m,h,v;const g=[q_,S_],S=[];function C(y,T){return y[14]==="base"?0:1}a=C(l),c=S[a]=g[a](l);let $=(l[8].length>0||l[13])&&Eo(l);return{c(){e=d("div"),t=d("button"),n=q("🏗️ Base Snapshot"),s=b(),o=d("button"),i=q("📸 Custom Snapshot"),u=b(),c.c(),_=b(),$&&$.c(),p=Oe(),f(t,"class","snap-type-btn svelte-kvdz4s"),t.disabled=l[13],we(t,"active",l[14]==="base"),f(o,"class","snap-type-btn svelte-kvdz4s"),o.disabled=l[13],we(o,"active",l[14]==="custom"),f(e,"class","snap-type-selector svelte-kvdz4s")},m(y,T){w(y,e,T),r(e,t),r(t,n),r(e,s),r(e,o),r(o,i),w(y,u,T),S[a].m(y,T),w(y,_,T),$&&$.m(y,T),w(y,p,T),m=!0,h||(v=[ee(t,"click",l[75]),ee(o,"click",l[76])],h=!0)},p(y,T){(!m||T[0]&8192)&&(t.disabled=y[13]),(!m||T[0]&16384)&&we(t,"active",y[14]==="base"),(!m||T[0]&8192)&&(o.disabled=y[13]),(!m||T[0]&16384)&&we(o,"active",y[14]==="custom");let z=a;a=C(y),a===z?S[a].p(y,T):(qe(),M(S[z],1,1,()=>{S[z]=null}),je(),c=S[a],c?c.p(y,T):(c=S[a]=g[a](y),c.c()),P(c,1),c.m(_.parentNode,_)),y[8].length>0||y[13]?$?$.p(y,T):($=Eo(y),$.c(),$.m(p.parentNode,p)):$&&($.d(1),$=null)},i(y){m||(P(c),m=!0)},o(y){M(c),m=!1},d(y){y&&(k(e),k(u),k(_),k(p)),S[a].d(y),$&&$.d(y),h=!1,Ge(v)}}}function z_(l){let e=l[8].length>0?"Close":"Cancel",t;return{c(){t=q(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&256&&e!==(e=n[8].length>0?"Close":"Cancel")&&U(t,e)},d(n){n&&k(t)}}}function D_(l){let e;return{c(){e=q("🔨 Build")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function E_(l){let e;return{c(){e=q("⏳ Building...")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function L_(l){let e;function t(o,i){return o[13]?E_:D_}let n=t(l),s=n(l);return{c(){s.c(),e=Oe()},m(o,i){s.m(o,i),w(o,e,i)},p(o,i){n!==(n=t(o))&&(s.d(1),s=n(o),s&&(s.c(),s.m(e.parentNode,e)))},d(o){o&&k(e),s.d(o)}}}function P_(l){let e,t,n,s,o;return t=new Fe({props:{variant:"ghost",$$slots:{default:[z_]},$$scope:{ctx:l}}}),t.$on("click",l[74]),s=new Fe({props:{variant:"primary",disabled:l[13],$$slots:{default:[L_]},$$scope:{ctx:l}}}),s.$on("click",l[40]),{c(){e=d("div"),_e(t.$$.fragment),n=b(),_e(s.$$.fragment),f(e,"slot","footer")},m(i,u){w(i,e,u),fe(t,e,null),r(e,n),fe(s,e,null),o=!0},p(i,u){const a={};u[0]&256|u[3]&134217728&&(a.$$scope={dirty:u,ctx:i}),t.$set(a);const c={};u[0]&8192&&(c.disabled=i[13]),u[0]&8192|u[3]&134217728&&(c.$$scope={dirty:u,ctx:i}),s.$set(c)},i(i){o||(P(t.$$.fragment,i),P(s.$$.fragment,i),o=!0)},o(i){M(t.$$.fragment,i),M(s.$$.fragment,i),o=!1},d(i){i&&k(e),ce(t),ce(s)}}}function N_(l){let e,t,n,s,o,i,u,a,c,_,p,m,h,v,g,S,C,$,y=Mo(l[7])+"",T,z,E,j,D,I,N,A=l[32].length+"",Y,F,O,H=l[32].length===1?"SERVER":"SERVERS",L,R,B,V,Q=l[31].containerCount+"",G,oe,x,W=l[31].containerCount===1?"CONTAINER":"CONTAINERS",J,ae,K,ie,ue,le=l[31].monthlyCost+"",me,re,ne,X,Z,be,$e=l[31].healthyContainers+"",We,ft,ht=l[31].containerCount+"",mt,De,Ie,ve,Me,Re,Pe,Ue,lt,st=l[11]?"▼":"▶",ot,Ye,it,yt=Xl(l[32].length,"Server")+"",jt,Yt,tt,Bt,Se,Je,Ke,rt,he,Le,ct,Ht,Wt=l[3]?"▼":"▶",Ze,Vt,vl,rl=Xl(l[4].length,"Snapshot")+"",hl,wl,Jt,el,al,Te,ye,Xe,Tt,Qt,Gt,xe,zt,$l,Zt,Rt,gt,Ol,Il,ul=de(l[34]),Dt=[];for(let ze=0;ze<ul.length;ze+=1)Dt[ze]=vo(mo(l,ul,ze));let fl=de(l[33]),Et=[];for(let ze=0;ze<fl.length;ze+=1)Et[ze]=ho(po(l,fl,ze));let kt=l[11]&&go(l),wt=l[3]&&ko(l);function gn(ze){l[67](ze)}let Vl={title:"Provision Server",width:"500px",$$slots:{footer:[k_],default:[m_]},$$scope:{ctx:l}};l[26]!==void 0&&(Vl.open=l[26]),Tt=new ol({props:Vl}),Ut.push(()=>pl(Tt,"open",gn)),Tt.$on("close",l[68]);function bn(ze){l[73](ze)}let Jl={title:l[22],width:"1000px",$$slots:{footer:[y_],default:[$_]},$$scope:{ctx:l}};l[21]!==void 0&&(Jl.open=l[21]),xe=new ol({props:Jl}),Ut.push(()=>pl(xe,"open",bn));function kn(ze){l[82](ze)}let Kl={title:"Build Snapshot",width:"600px",$$slots:{footer:[P_],default:[T_]},$$scope:{ctx:l}};return l[12]!==void 0&&(Kl.open=l[12]),Zt=new ol({props:Kl}),Ut.push(()=>pl(Zt,"open",kn)),Zt.$on("close",l[83]),{c(){e=d("div"),t=d("div"),n=d("div"),s=d("label"),s.textContent="Project",o=b(),i=d("select"),u=d("option"),u.textContent="All";for(let ze=0;ze<Dt.length;ze+=1)Dt[ze].c();a=b(),c=d("div"),_=d("label"),_.textContent="Env",p=b(),m=d("select"),h=d("option"),h.textContent="All";for(let ze=0;ze<Et.length;ze+=1)Et[ze].c();v=b(),g=d("div"),S=b(),C=d("span"),$=q("Updated "),T=q(y),z=b(),E=d("button"),E.textContent="↻",j=b(),D=d("div"),I=d("div"),N=d("span"),Y=q(A),F=b(),O=d("span"),L=q(H),R=b(),B=d("div"),V=d("span"),G=q(Q),oe=b(),x=d("span"),J=q(W),ae=b(),K=d("div"),ie=d("span"),ue=q("£"),me=q(le),re=b(),ne=d("span"),ne.textContent="/MONTH",X=b(),Z=d("div"),be=d("span"),We=q($e),ft=q("/"),mt=q(ht),Ie=b(),ve=d("span"),ve.textContent="HEALTHY",Me=b(),Re=d("div"),Pe=d("div"),Ue=d("div"),lt=d("span"),ot=q(st),Ye=b(),it=d("span"),jt=q(yt),Yt=b(),tt=d("div"),Bt=d("button"),Bt.textContent="↻",Se=b(),Je=d("button"),Je.textContent="+ Add",Ke=b(),kt&&kt.c(),rt=b(),he=d("div"),Le=d("div"),ct=d("div"),Ht=d("span"),Ze=q(Wt),Vt=b(),vl=d("span"),hl=q(rl),wl=b(),Jt=d("div"),el=d("button"),el.textContent="↻",al=b(),Te=d("button"),Te.textContent="+ Build",ye=b(),wt&&wt.c(),Xe=b(),_e(Tt.$$.fragment),Gt=b(),_e(xe.$$.fragment),$l=b(),_e(Zt.$$.fragment),f(s,"class","svelte-kvdz4s"),u.__value="",te(u,u.__value),f(i,"class","svelte-kvdz4s"),l[1]===void 0&&Qe(()=>l[57].call(i)),f(n,"class","filter-group svelte-kvdz4s"),f(_,"class","svelte-kvdz4s"),h.__value="",te(h,h.__value),f(m,"class","svelte-kvdz4s"),l[2]===void 0&&Qe(()=>l[58].call(m)),f(c,"class","filter-group svelte-kvdz4s"),f(g,"class","filter-spacer svelte-kvdz4s"),f(C,"class","last-updated svelte-kvdz4s"),f(E,"class","filter-refresh svelte-kvdz4s"),f(E,"title","Refresh"),f(t,"class","filter-bar svelte-kvdz4s"),f(N,"class","banner-value svelte-kvdz4s"),f(O,"class","banner-label svelte-kvdz4s"),f(I,"class","banner-metric svelte-kvdz4s"),f(V,"class","banner-value svelte-kvdz4s"),f(x,"class","banner-label svelte-kvdz4s"),f(B,"class","banner-metric svelte-kvdz4s"),f(ie,"class","banner-value svelte-kvdz4s"),f(ne,"class","banner-label svelte-kvdz4s"),f(K,"class","banner-metric svelte-kvdz4s"),f(be,"class",De="banner-value "+(l[31].unhealthyContainers>0?"warning":"success")+" svelte-kvdz4s"),f(ve,"class","banner-label svelte-kvdz4s"),f(Z,"class","banner-metric svelte-kvdz4s"),f(D,"class","summary-banner svelte-kvdz4s"),f(lt,"class","expand-icon svelte-kvdz4s"),f(Ue,"class","section-title svelte-kvdz4s"),f(Bt,"class","section-btn svelte-kvdz4s"),f(Je,"class","section-btn primary svelte-kvdz4s"),f(tt,"class","section-actions svelte-kvdz4s"),f(Pe,"class","section-header svelte-kvdz4s"),f(Re,"class","section svelte-kvdz4s"),we(Re,"expanded",l[11]),f(Ht,"class","expand-icon svelte-kvdz4s"),f(ct,"class","section-title svelte-kvdz4s"),f(el,"class","section-btn svelte-kvdz4s"),f(Te,"class","section-btn primary svelte-kvdz4s"),f(Jt,"class","section-actions svelte-kvdz4s"),f(Le,"class","section-header svelte-kvdz4s"),f(he,"class","section svelte-kvdz4s"),we(he,"expanded",l[3]),f(e,"class","infrastructure svelte-kvdz4s")},m(ze,Be){w(ze,e,Be),r(e,t),r(t,n),r(n,s),r(n,o),r(n,i),r(i,u);for(let At=0;At<Dt.length;At+=1)Dt[At]&&Dt[At].m(i,null);Ee(i,l[1],!0),r(t,a),r(t,c),r(c,_),r(c,p),r(c,m),r(m,h);for(let At=0;At<Et.length;At+=1)Et[At]&&Et[At].m(m,null);Ee(m,l[2],!0),r(t,v),r(t,g),r(t,S),r(t,C),r(C,$),r(C,T),r(t,z),r(t,E),r(e,j),r(e,D),r(D,I),r(I,N),r(N,Y),r(I,F),r(I,O),r(O,L),r(D,R),r(D,B),r(B,V),r(V,G),r(B,oe),r(B,x),r(x,J),r(D,ae),r(D,K),r(K,ie),r(ie,ue),r(ie,me),r(K,re),r(K,ne),r(D,X),r(D,Z),r(Z,be),r(be,We),r(be,ft),r(be,mt),r(Z,Ie),r(Z,ve),r(e,Me),r(e,Re),r(Re,Pe),r(Pe,Ue),r(Ue,lt),r(lt,ot),r(Ue,Ye),r(Ue,it),r(it,jt),r(Pe,Yt),r(Pe,tt),r(tt,Bt),r(tt,Se),r(tt,Je),r(Re,Ke),kt&&kt.m(Re,null),r(e,rt),r(e,he),r(he,Le),r(Le,ct),r(ct,Ht),r(Ht,Ze),r(ct,Vt),r(ct,vl),r(vl,hl),r(Le,wl),r(Le,Jt),r(Jt,el),r(Jt,al),r(Jt,Te),r(he,ye),wt&&wt.m(he,null),w(ze,Xe,Be),fe(Tt,ze,Be),w(ze,Gt,Be),fe(xe,ze,Be),w(ze,$l,Be),fe(Zt,ze,Be),gt=!0,Ol||(Il=[ee(i,"change",l[57]),ee(m,"change",l[58]),ee(E,"click",l[0]),ee(Bt,"click",l[0]),ee(Je,"click",l[59]),ee(tt,"click",Un(l[56])),ee(Pe,"click",l[60]),ee(el,"click",l[38]),ee(Te,"click",l[36]),ee(Jt,"click",Un(l[55])),ee(Le,"click",l[61])],Ol=!0)},p(ze,Be){if(Be[1]&8){ul=de(ze[34]);let _t;for(_t=0;_t<ul.length;_t+=1){const gl=mo(ze,ul,_t);Dt[_t]?Dt[_t].p(gl,Be):(Dt[_t]=vo(gl),Dt[_t].c(),Dt[_t].m(i,null))}for(;_t<Dt.length;_t+=1)Dt[_t].d(1);Dt.length=ul.length}if(Be[0]&2|Be[1]&8&&Ee(i,ze[1]),Be[1]&4){fl=de(ze[33]);let _t;for(_t=0;_t<fl.length;_t+=1){const gl=po(ze,fl,_t);Et[_t]?Et[_t].p(gl,Be):(Et[_t]=ho(gl),Et[_t].c(),Et[_t].m(m,null))}for(;_t<Et.length;_t+=1)Et[_t].d(1);Et.length=fl.length}Be[0]&4|Be[1]&4&&Ee(m,ze[2]),(!gt||Be[0]&128)&&y!==(y=Mo(ze[7])+"")&&U(T,y),(!gt||Be[1]&2)&&A!==(A=ze[32].length+"")&&U(Y,A),(!gt||Be[1]&2)&&H!==(H=ze[32].length===1?"SERVER":"SERVERS")&&U(L,H),(!gt||Be[1]&1)&&Q!==(Q=ze[31].containerCount+"")&&U(G,Q),(!gt||Be[1]&1)&&W!==(W=ze[31].containerCount===1?"CONTAINER":"CONTAINERS")&&U(J,W),(!gt||Be[1]&1)&&le!==(le=ze[31].monthlyCost+"")&&U(me,le),(!gt||Be[1]&1)&&$e!==($e=ze[31].healthyContainers+"")&&U(We,$e),(!gt||Be[1]&1)&&ht!==(ht=ze[31].containerCount+"")&&U(mt,ht),(!gt||Be[1]&1&&De!==(De="banner-value "+(ze[31].unhealthyContainers>0?"warning":"success")+" svelte-kvdz4s"))&&f(be,"class",De),(!gt||Be[0]&2048)&&st!==(st=ze[11]?"▼":"▶")&&U(ot,st),(!gt||Be[1]&2)&&yt!==(yt=Xl(ze[32].length,"Server")+"")&&U(jt,yt),ze[11]?kt?(kt.p(ze,Be),Be[0]&2048&&P(kt,1)):(kt=go(ze),kt.c(),P(kt,1),kt.m(Re,null)):kt&&(qe(),M(kt,1,1,()=>{kt=null}),je()),(!gt||Be[0]&2048)&&we(Re,"expanded",ze[11]),(!gt||Be[0]&8)&&Wt!==(Wt=ze[3]?"▼":"▶")&&U(Ze,Wt),(!gt||Be[0]&16)&&rl!==(rl=Xl(ze[4].length,"Snapshot")+"")&&U(hl,rl),ze[3]?wt?(wt.p(ze,Be),Be[0]&8&&P(wt,1)):(wt=ko(ze),wt.c(),P(wt,1),wt.m(he,null)):wt&&(qe(),M(wt,1,1,()=>{wt=null}),je()),(!gt||Be[0]&8)&&we(he,"expanded",ze[3]);const At={};Be[0]&469763600|Be[3]&134217728&&(At.$$scope={dirty:Be,ctx:ze}),!Qt&&Be[0]&67108864&&(Qt=!0,At.open=ze[26],dl(()=>Qt=!1)),Tt.$set(At);const Cl={};Be[0]&4194304&&(Cl.title=ze[22]),Be[0]&1134559296|Be[3]&134217728&&(Cl.$$scope={dirty:Be,ctx:ze}),!zt&&Be[0]&2097152&&(zt=!0,Cl.open=ze[21],dl(()=>zt=!1)),xe.$set(Cl);const Fl={};Be[0]&2093312|Be[3]&134217728&&(Fl.$$scope={dirty:Be,ctx:ze}),!Rt&&Be[0]&4096&&(Rt=!0,Fl.open=ze[12],dl(()=>Rt=!1)),Zt.$set(Fl)},i(ze){gt||(P(kt),P(wt),P(Tt.$$.fragment,ze),P(xe.$$.fragment,ze),P(Zt.$$.fragment,ze),gt=!0)},o(ze){M(kt),M(wt),M(Tt.$$.fragment,ze),M(xe.$$.fragment,ze),M(Zt.$$.fragment,ze),gt=!1},d(ze){ze&&(k(e),k(Xe),k(Gt),k($l)),Ne(Dt,ze),Ne(Et,ze),kt&&kt.d(),wt&&wt.d(),ce(Tt,ze),ce(xe,ze),ce(Zt,ze),Ol=!1,Ge(Il)}}}function No(l){return l!=null&&l.length?l.reduce((e,t)=>{const n=t.size_slug||t.size||"";return n.includes("4gb")?e+24:n.includes("2gb")?e+12:n.includes("1gb")?e+6:n.includes("512mb")?e+4:e+6},0):0}function Xl(l,e,t=null){return l===1?`${l} ${e}`:`${l} ${t||e+"s"}`}function Ro(l){if(!l)return"0 B";const e=1024,t=["B","KB","MB","GB"],n=Math.floor(Math.log(l)/Math.log(e));return parseFloat((l/Math.pow(e,n)).toFixed(1))+" "+t[n]}function Ao(l){return l?new Date(l).toLocaleDateString("en-GB",{day:"2-digit",month:"short"}):""}function Mo(l){if(!l)return"never";const t=Math.floor((new Date-l)/1e3);return t<5?"just now":t<60?`${t}s ago`:t<3600?`${Math.floor(t/60)}m ago`:l.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})}const Oo=l=>{var e;return(e=l.name)==null?void 0:e.startsWith("base-")},Io=l=>{var e;return(e=l.name)==null?void 0:e.startsWith("base-")};function R_(l,e,t){let n,s,o,i,u,a,c,_,p,m,h,v;vt(l,vn,Te=>t(50,_=Te)),vt(l,An,Te=>t(51,p=Te)),vt(l,xt,Te=>t(52,m=Te)),vt(l,Ku,Te=>t(53,h=Te)),vt(l,On,Te=>t(54,v=Te));let g="",S="",C=null,$=[],y=[],T=!1,z=!0,E=!1,j=[],D=!1,I=!1,N=!1,A="custom",Y="",F="ubuntu-22-04-x64",O=!0,H=!0,L=!0,R=null;const B=[{value:"ubuntu-22-04-x64",label:"Ubuntu 22.04 LTS"},{value:"ubuntu-20-04-x64",label:"Ubuntu 20.04 LTS"},{value:"debian-11-x64",label:"Debian 11"},{value:"debian-12-x64",label:"Debian 12"}];function V(){t(14,A=R!=null&&R.exists?"custom":"base"),t(12,I=!0)}let Q=null;async function G(){if(p)try{t(47,Q=await He("GET",`/infra/fleet/health?do_token=${p}`))}catch(Te){console.error("Failed to load fleet health:",Te)}finally{}}let oe=!1,x="",W="",J=!1,ae=null,K=null,ie="",ue=200,le=!1,me=null,re=!1,ne={region:"lon1",size:"s-2vcpu-2gb",snapshot_id:""};const X=[{value:"lon1",label:"London 1"},{value:"fra1",label:"Frankfurt 1"},{value:"ams3",label:"Amsterdam 3"},{value:"nyc1",label:"New York 1"},{value:"nyc3",label:"New York 3"},{value:"sfo3",label:"San Francisco 3"},{value:"sgp1",label:"Singapore 1"},{value:"blr1",label:"Bangalore 1"},{value:"tor1",label:"Toronto 1"},{value:"syd1",label:"Sydney 1"}];let Z=[{slug:"s-1vcpu-512mb-10gb",memory:512,vcpus:1,price_monthly:4,description:"$4/mo - 512MB / 1 vCPU"},{slug:"s-1vcpu-1gb",memory:1024,vcpus:1,price_monthly:6,description:"$6/mo - 1GB / 1 vCPU"},{slug:"s-2vcpu-2gb",memory:2048,vcpus:2,price_monthly:18,description:"$18/mo - 2GB / 2 vCPU"},{slug:"s-2vcpu-4gb",memory:4096,vcpus:2,price_monthly:24,description:"$24/mo - 4GB / 2 vCPU"},{slug:"s-4vcpu-8gb",memory:8192,vcpus:4,price_monthly:48,description:"$48/mo - 8GB / 4 vCPU"}];async function be(){var Te;try{const ye=await He("GET","/infra/sizes");((Te=ye.sizes)==null?void 0:Te.length)>0&&t(28,Z=ye.sizes)}catch{console.warn("Using fallback sizes")}}kl(()=>{be()});async function $e(){t(5,D=!0);try{const Te=await He("GET",`/infra/snapshots?do_token=${p}`);t(4,j=Te.snapshots||[]),We()}catch(Te){console.error("Failed to load snapshots:",Te)}finally{t(5,D=!1)}}function We(){const Te=j.find(ye=>{var Xe;return(Xe=ye.name)==null?void 0:Xe.toLowerCase().startsWith("base-")});Te?t(20,R={exists:!0,name:Te.name,created_at:Te.created_at}):t(20,R={exists:!1})}async function ft(Te,ye){if(confirm(`Delete snapshot "${ye}"?`))try{await He("DELETE",`/infra/snapshots/${Te}?do_token=${p}`),ke.success(`Deleted ${ye}`),t(4,j=j.filter(Xe=>Xe.id!==Te))}catch(Xe){ke.error(`Failed: ${Xe.message}`)}}async function ht(){t(13,N=!0),t(8,$=[]);const Te=(ye,Xe="info")=>{t(8,$=[...$,{message:ye,type:Xe,time:new Date}])};try{if(A==="base")Te("Starting base snapshot creation..."),await tn("POST",`/infra/setup/init/stream?do_token=${p}`,{},ye=>{var Xe;ye.type==="log"?Te(ye.message||((Xe=ye.data)==null?void 0:Xe.message),"info"):ye.type==="progress"?ye.message&&Te(ye.message,"info"):ye.type==="error"?Te(ye.message||ye.error,"error"):ye.type==="done"||ye.type==="complete"?ye.success?Te("✅ Base snapshot created successfully!","success"):Te(`❌ ${ye.message||ye.error||"Failed"}`,"error"):ye.message&&Te(ye.message,"info")}),await We(),await $e(),ke.success("Base snapshot created!");else{if(!Y){ke.error("Snapshot name required"),t(13,N=!1);return}if(Y.toLowerCase().startsWith("base-")){ke.error('Custom snapshots cannot start with "base-"'),t(13,N=!1);return}Te(`Starting custom snapshot "${Y}"...`),await tn("POST",`/infra/snapshots/ensure/stream?do_token=${p}`,{name:Y,base_image:F,install_docker:O,install_nginx:H,install_certbot:L},ye=>{var Xe;ye.type==="log"?Te(ye.message||((Xe=ye.data)==null?void 0:Xe.message),"info"):ye.type==="progress"?ye.message&&Te(ye.message,"info"):ye.type==="error"?Te(ye.message||ye.error,"error"):ye.type==="done"||ye.type==="complete"?ye.success?Te("✅ Snapshot created successfully!","success"):Te(`❌ ${ye.message||ye.error||"Failed"}`,"error"):ye.message&&Te(ye.message,"info")}),await $e(),ke.success("Custom snapshot created!"),t(15,Y="")}}catch(ye){Te(`❌ Error: ${ye.message}`,"error"),ke.error(ye.message)}finally{t(13,N=!1)}}async function mt(){t(10,T=!0),t(9,y=[]);const Te=(ye,Xe="info")=>{t(9,y=[...y,{message:ye,type:Xe,time:new Date}])};try{Te("Starting provisioning..."),await tn("POST",`/infra/servers/provision/stream?do_token=${p}`,{snapshot_id:ne.snapshot_id||null,region:ne.region,size:ne.size},ye=>{var Xe;ye.type==="log"?Te(ye.message||((Xe=ye.data)==null?void 0:Xe.message),"info"):ye.type==="progress"?Te(ye.message||`Progress: ${ye.percent||""}%`,"info"):ye.type==="error"?Te(ye.message||ye.error,"error"):ye.type==="done"||ye.type==="complete"?ye.success?Te(`✅ Server provisioned! IP: ${ye.ip||"pending"}`,"success"):Te(`❌ ${ye.message||ye.error||"Failed"}`,"error"):ye.message&&Te(ye.message,"info")}),ke.success("Server provisioned"),xt.refresh()}catch(ye){Te(`❌ Error: ${ye.message}`,"error"),ke.error("Failed: "+ye.message)}finally{t(10,T=!1)}}async function De(Te){const{server:ye}=Te.detail;if(Te.type==="destroy"&&confirm(`Destroy ${ye.name}? This cannot be undone.`))try{await He("DELETE",`/infra/servers/${ye.id}?do_token=${p}`),ke.success(`Destroyed ${ye.name}`),xt.refresh()}catch(Tt){ke.error(`Failed: ${Tt.message}`)}}async function Ie(Te){var Qt,Gt,xe;const{server:ye,containerName:Xe}=Te.detail,Tt=ye.ip||((xe=(Gt=(Qt=ye.networks)==null?void 0:Qt.v4)==null?void 0:Gt[0])==null?void 0:xe.ip_address)||"unknown";ae=ye.id,K=Xe,t(22,x=`📋 ${Xe} @ ${Tt}`),t(48,W=""),t(6,ie=""),t(21,oe=!0),t(23,J=!0);try{const zt=await He("GET",`/infra/agent/${ye.id}/containers/${Xe}/logs?do_token=${p}&tail=${ue}`);t(48,W=zt.logs||"No logs available")}catch(zt){t(48,W=`Error: ${zt.message}`)}finally{t(23,J=!1)}}async function ve(){if(!(!ae||!K)){t(23,J=!0);try{const Te=await He("GET",`/infra/agent/${ae}/containers/${K}/logs?do_token=${p}&tail=${ue}`);t(48,W=Te.logs||"No logs available")}catch(Te){t(48,W=`Error: ${Te.message}`)}finally{t(23,J=!1)}}}function Me(){le?me=setInterval(ve,3e3):Re()}function Re(){me&&(clearInterval(me),me=null),t(25,le=!1)}function Pe(){xt.refresh(),t(7,C=new Date)}function Ue(Te){rn.call(this,l,Te)}function lt(Te){rn.call(this,l,Te)}function st(){g=ut(this),t(1,g),t(34,n),t(50,_),t(54,v),t(53,h)}function ot(){S=ut(this),t(2,S),t(33,s),t(50,_)}const Ye=()=>t(26,re=!0),it=()=>t(11,z=!z),yt=()=>t(3,E=!E),jt=Te=>ft(Te.id,Te.name),Yt=()=>{t(26,re=!1),t(9,y=[])};function tt(){ne.snapshot_id=ut(this),t(27,ne),t(4,j)}function Bt(){ne.region=ut(this),t(27,ne),t(4,j)}function Se(){ne.size=ut(this),t(27,ne),t(4,j)}function Je(Te){re=Te,t(26,re)}const Ke=()=>{t(26,re=!1),t(9,y=[])},rt=()=>{t(21,oe=!1),Re()};function he(){ie=this.value,t(6,ie)}function Le(){ue=ut(this),t(24,ue)}function ct(){le=this.checked,t(25,le)}function Ht(Te){oe=Te,t(21,oe)}const Wt=()=>{t(12,I=!1),t(8,$=[])},Ze=()=>t(14,A="base"),Vt=()=>t(14,A="custom");function vl(){Y=this.value,t(15,Y)}function rl(){F=ut(this),t(16,F),t(35,B)}function hl(){O=this.checked,t(17,O)}function wl(){H=this.checked,t(18,H)}function Jt(){L=this.checked,t(19,L)}function el(Te){I=Te,t(12,I)}const al=()=>{t(12,I=!1),t(8,$=[])};return l.$$.update=()=>{var Te,ye,Xe,Tt,Qt,Gt;l.$$.dirty[1]&13107200&&t(34,n=[...new Set([...(_||[]).map(xe=>xe.project).filter(Boolean),...v||[],...(h||[]).map(xe=>xe.project).filter(Boolean)])].sort()),l.$$.dirty[1]&524288&&t(33,s=[...new Set([...(_||[]).map(xe=>xe.env||xe.environment).filter(Boolean),"prod","staging","dev"])].sort()),l.$$.dirty[0]&6|l.$$.dirty[1]&524288&&t(32,o=(_||[]).filter(xe=>!(g&&xe.project!==g||S&&(xe.env||xe.environment)!==S))),l.$$.dirty[0]&56&&E&&j.length===0&&!D&&$e(),l.$$.dirty[1]&589824&&t(31,i=Q?{serverCount:((Te=Q.summary)==null?void 0:Te.total)||(_==null?void 0:_.length)||0,containerCount:((ye=Q.servers)==null?void 0:ye.reduce((xe,zt)=>xe+(zt.containers||0),0))||0,healthyContainers:((Xe=Q.servers)==null?void 0:Xe.reduce((xe,zt)=>xe+(zt.healthy||0),0))||0,unhealthyContainers:((Tt=Q.servers)==null?void 0:Tt.reduce((xe,zt)=>xe+(zt.unhealthy||0),0))||0,monthlyCost:No(_),health:((Qt=Q.summary)==null?void 0:Qt.healthy)===((Gt=Q.summary)==null?void 0:Gt.total)?"healthy":"degraded"}:{serverCount:(_==null?void 0:_.length)||0,containerCount:0,healthyContainers:0,unhealthyContainers:0,monthlyCost:No(_),health:"unknown"}),l.$$.dirty[1]&1114112&&!Q&&p&&G(),l.$$.dirty[0]&64|l.$$.dirty[1]&131072&&t(30,u=ie?W.split(`
`).filter(xe=>xe.toLowerCase().includes(ie.toLowerCase())).join(`
`):W),l.$$.dirty[1]&2097152&&t(49,a=m||{loading:!1}),l.$$.dirty[1]&262144&&t(29,c=a.loading),l.$$.dirty[1]&524288&&_&&t(7,C=new Date)},[Pe,g,S,E,j,D,ie,C,$,y,T,z,I,N,A,Y,F,O,H,L,R,oe,x,J,ue,le,re,ne,Z,c,u,i,o,s,n,B,V,X,$e,ft,ht,mt,De,Ie,ve,Me,Re,Q,W,a,_,p,m,h,v,Ue,lt,st,ot,Ye,it,yt,jt,Yt,tt,Bt,Se,Je,Ke,rt,he,Le,ct,Ht,Wt,Ze,Vt,vl,rl,hl,wl,Jt,el,al]}class A_ extends qt{constructor(e){super(),St(this,e,R_,N_,Ct,{refresh:0},null,[-1,-1,-1,-1])}get refresh(){return this.$$.ctx[0]}}const M_="modulepreload",O_=function(l){return"/static/"+l},Fo={},Uo=function(e,t,n){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),u=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(t.map(a=>{if(a=O_(a),a in Fo)return;Fo[a]=!0;const c=a.endsWith(".css"),_=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${_}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":M_,c||(p.as="script"),p.crossOrigin="",p.href=a,u&&p.setAttribute("nonce",u),document.head.appendChild(p),c)return new Promise((m,h)=>{p.addEventListener("load",m),p.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})}))}function o(i){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=i,window.dispatchEvent(u),!u.defaultPrevented)throw i}return s.then(i=>{for(const u of i||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})},{Boolean:hn}=Eu;function Bo(l,e,t){const n=l.slice();return n[179]=e[t],n}function Ho(l,e,t){const n=l.slice();return n[179]=e[t],n}function Go(l,e,t){const n=l.slice();return n[179]=e[t],n}function Wo(l,e,t){const n=l.slice();return n[179]=e[t],n}function Vo(l,e,t){const n=l.slice();return n[83]=e[t],n}function Jo(l,e,t){const n=l.slice();return n[190]=e[t],n}function Ko(l,e,t){const n=l.slice();return n[193]=e[t],n}function Yo(l,e,t){const n=l.slice();return n[196]=e[t],n}function Qo(l,e,t){var o,i,u;const n=l.slice();n[179]=e[t];const s=n[179].ip||((u=(i=(o=n[179].networks)==null?void 0:o.v4)==null?void 0:i[0])==null?void 0:u.ip_address);return n[199]=s,n}function Zo(l,e,t){var o,i,u;const n=l.slice();n[179]=e[t];const s=n[179].ip||((u=(i=(o=n[179].networks)==null?void 0:o.v4)==null?void 0:i[0])==null?void 0:u.ip_address);return n[199]=s,n}function Xo(l,e,t){const n=l.slice();return n[204]=e[t],n[206]=t,n}function I_(l){const e=l.slice(),t=e[28].find(s=>s.isMain);e[207]=t;const n=e[28].filter(s=>!s.isMain).length;return e[208]=n,e}function xo(l,e,t){const n=l.slice();return n[204]=e[t],n[206]=t,n}function ei(l,e,t){const n=l.slice();return n[210]=e[t],n}function ti(l,e,t){const n=l.slice();return n[213]=e[t],n}function li(l,e,t){const n=l.slice();return n[216]=e[t],n}function ni(l){let e,t,n,s,o,i,u,a,c,_;function p(){return l[86](l[216])}return{c(){e=d("label"),t=d("input"),s=b(),o=d("span"),o.textContent=`${l[216].label}`,i=b(),u=d("span"),u.textContent=`${l[216].description}`,a=b(),f(t,"type","radio"),f(t,"name","deployType"),t.checked=n=l[0]===l[216].value,f(t,"class","svelte-1hrwlue"),f(o,"class","dt-label svelte-1hrwlue"),f(u,"class","dt-desc svelte-1hrwlue"),f(e,"class","deploy-type-option svelte-1hrwlue"),we(e,"active",l[0]===l[216].value)},m(m,h){w(m,e,h),r(e,t),r(e,s),r(e,o),r(e,i),r(e,u),r(e,a),c||(_=ee(t,"change",p),c=!0)},p(m,h){l=m,h[0]&1&&n!==(n=l[0]===l[216].value)&&(t.checked=n),h[0]&1|h[1]&536870912&&we(e,"active",l[0]===l[216].value)},d(m){m&&k(e),c=!1,_()}}}function si(l){let e,t,n;return{c(){e=d("small"),t=q("Usually same as type: "),n=q(l[1]),f(e,"class","svelte-1hrwlue")},m(s,o){w(s,e,o),r(e,t),r(e,n)},p(s,o){o[0]&2&&U(n,s[1])},d(s){s&&k(e)}}}function oi(l){let e,t=l[213]+"",n;return{c(){e=d("option"),n=q(t),e.__value=l[213],te(e,e.__value)},m(s,o){w(s,e,o),r(e,n)},p:ge,d(s){s&&k(e)}}}function ii(l){var h;let e,t,n,s,o,i,u,a=((h=l[2].find(l[92]))==null?void 0:h.image)+"",c,_,p=de(l[2]),m=[];for(let v=0;v<p.length;v+=1)m[v]=ri(ei(l,p,v));return{c(){e=d("div"),t=d("label"),t.textContent="Service Type *",n=b(),s=d("div");for(let v=0;v<m.length;v+=1)m[v].c();o=b(),i=d("small"),u=q("Image: "),c=q(a),_=q(" • Data persisted to /data"),f(t,"class","svelte-1hrwlue"),f(s,"class","stateful-type-selector svelte-1hrwlue"),f(i,"class","svelte-1hrwlue"),f(e,"class","form-group svelte-1hrwlue")},m(v,g){w(v,e,g),r(e,t),r(e,n),r(e,s);for(let S=0;S<m.length;S+=1)m[S]&&m[S].m(s,null);r(e,o),r(e,i),r(i,u),r(i,c),r(i,_)},p(v,g){var S;if(g[0]&6){p=de(v[2]);let C;for(C=0;C<p.length;C+=1){const $=ei(v,p,C);m[C]?m[C].p($,g):(m[C]=ri($),m[C].c(),m[C].m(s,null))}for(;C<m.length;C+=1)m[C].d(1);m.length=p.length}g[0]&6&&a!==(a=((S=v[2].find(v[92]))==null?void 0:S.image)+"")&&U(c,a)},d(v){v&&k(e),Ne(m,v)}}}function ri(l){let e,t,n,s=!1,o,i,u=l[210].label+"",a,c,_,p,m=l[210].port+"",h,v,g,S,C;return g=dn(l[91][1]),{c(){e=d("label"),t=d("input"),o=b(),i=d("span"),a=q(u),c=b(),_=d("span"),p=q("Port "),h=q(m),v=b(),f(t,"type","radio"),t.__value=n=l[210].value,te(t,t.__value),f(t,"class","svelte-1hrwlue"),f(i,"class","st-label svelte-1hrwlue"),f(_,"class","st-port svelte-1hrwlue"),f(e,"class","stateful-option svelte-1hrwlue"),we(e,"active",l[1]===l[210].value),g.p(t)},m($,y){w($,e,y),r(e,t),t.checked=t.__value===l[1],r(e,o),r(e,i),r(i,a),r(e,c),r(e,_),r(_,p),r(_,h),r(e,v),S||(C=ee(t,"change",l[90]),S=!0)},p($,y){y[0]&4&&n!==(n=$[210].value)&&(t.__value=n,te(t,t.__value),s=!0),(s||y[0]&6)&&(t.checked=t.__value===$[1]),y[0]&4&&u!==(u=$[210].label+"")&&U(a,u),y[0]&4&&m!==(m=$[210].port+"")&&U(h,m),y[0]&6&&we(e,"active",$[1]===$[210].value)},d($){$&&k(e),g.r(),S=!1,C()}}}function ai(l){let e,t,n,s,o,i,u,a,c,_,p,m,h,v,g,S,C,$,y,T,z,E,j,D,I,N,A,Y,F,O,H,L,R,B,V,Q,G,oe,x,W,J,ae,K,ie;s=new Fe({props:{variant:"ghost",size:"sm",title:"Load saved config",$$slots:{default:[F_]},$$scope:{ctx:l}}}),s.$on("click",l[63]),i=new Fe({props:{variant:"ghost",size:"sm",title:"Save current settings",$$slots:{default:[U_]},$$scope:{ctx:l}}}),i.$on("click",l[64]),a=new Fe({props:{variant:"ghost",size:"sm",title:"Edit exclusion patterns",$$slots:{default:[B_]},$$scope:{ctx:l}}}),a.$on("click",l[65]);let ue=l[53]&&ui(l),le=l[54]&&fi(l),me=l[15]==="code"&&ci(l),re=l[15]==="git"&&bi(l),ne=l[15]==="image"&&$i(l),X=l[15]==="image_file"&&Ci(l);return ae=dn(l[91][0]),{c(){e=d("div"),t=d("span"),t.textContent="Config:",n=b(),_e(s.$$.fragment),o=b(),_e(i.$$.fragment),u=b(),_e(a.$$.fragment),c=b(),ue&&ue.c(),_=b(),le&&le.c(),p=b(),m=d("div"),h=d("label"),h.innerHTML='Tags <small class="svelte-1hrwlue">(comma-separated)</small>',v=b(),g=d("input"),S=b(),C=d("div"),$=d("label"),$.textContent="Source Type *",y=b(),T=d("div"),z=d("label"),E=d("input"),j=q(`
              📁 Local Code`),D=b(),I=d("label"),N=d("input"),A=q(`
              📦 Git Repo`),Y=b(),F=d("label"),O=d("input"),H=q(`
              🐳 Registry`),L=b(),R=d("label"),B=d("input"),V=q(`
              📦 Local Image`),Q=b(),me&&me.c(),G=b(),re&&re.c(),oe=b(),ne&&ne.c(),x=b(),X&&X.c(),W=Oe(),f(t,"class","config-label svelte-1hrwlue"),f(e,"class","config-bar svelte-1hrwlue"),f(h,"for","deploy-tags"),f(h,"class","svelte-1hrwlue"),f(g,"id","deploy-tags"),f(g,"type","text"),f(g,"placeholder","api, backend, v2"),f(g,"class","svelte-1hrwlue"),f(m,"class","form-group svelte-1hrwlue"),f($,"class","svelte-1hrwlue"),f(E,"type","radio"),E.__value="code",te(E,E.__value),f(E,"class","svelte-1hrwlue"),f(z,"class","source-option svelte-1hrwlue"),we(z,"active",l[15]==="code"),f(N,"type","radio"),N.__value="git",te(N,N.__value),f(N,"class","svelte-1hrwlue"),f(I,"class","source-option svelte-1hrwlue"),we(I,"active",l[15]==="git"),f(O,"type","radio"),O.__value="image",te(O,O.__value),f(O,"class","svelte-1hrwlue"),f(F,"class","source-option svelte-1hrwlue"),we(F,"active",l[15]==="image"),f(B,"type","radio"),B.__value="image_file",te(B,B.__value),f(B,"class","svelte-1hrwlue"),f(R,"class","source-option svelte-1hrwlue"),we(R,"active",l[15]==="image_file"),f(T,"class","source-radio-group svelte-1hrwlue"),f(C,"class","form-group svelte-1hrwlue"),ae.p(E,N,O,B)},m(Z,be){w(Z,e,be),r(e,t),r(e,n),fe(s,e,null),r(e,o),fe(i,e,null),r(e,u),fe(a,e,null),r(e,c),ue&&ue.m(e,null),w(Z,_,be),le&&le.m(Z,be),w(Z,p,be),w(Z,m,be),r(m,h),r(m,v),r(m,g),te(g,l[14]),w(Z,S,be),w(Z,C,be),r(C,$),r(C,y),r(C,T),r(T,z),r(z,E),E.checked=E.__value===l[15],r(z,j),r(T,D),r(T,I),r(I,N),N.checked=N.__value===l[15],r(I,A),r(T,Y),r(T,F),r(F,O),O.checked=O.__value===l[15],r(F,H),r(T,L),r(T,R),r(R,B),B.checked=B.__value===l[15],r(R,V),w(Z,Q,be),me&&me.m(Z,be),w(Z,G,be),re&&re.m(Z,be),w(Z,oe,be),ne&&ne.m(Z,be),w(Z,x,be),X&&X.m(Z,be),w(Z,W,be),J=!0,K||(ie=[ee(g,"input",l[94]),ee(E,"change",l[95]),ee(N,"change",l[96]),ee(O,"change",l[97]),ee(B,"change",l[98])],K=!0)},p(Z,be){const $e={};be[7]&4&&($e.$$scope={dirty:be,ctx:Z}),s.$set($e);const We={};be[7]&4&&(We.$$scope={dirty:be,ctx:Z}),i.$set(We);const ft={};be[7]&4&&(ft.$$scope={dirty:be,ctx:Z}),a.$set(ft),Z[53]?ue?ue.p(Z,be):(ue=ui(Z),ue.c(),ue.m(e,null)):ue&&(ue.d(1),ue=null),Z[54]?le?(le.p(Z,be),be[1]&8388608&&P(le,1)):(le=fi(Z),le.c(),P(le,1),le.m(p.parentNode,p)):le&&(qe(),M(le,1,1,()=>{le=null}),je()),be[0]&16384&&g.value!==Z[14]&&te(g,Z[14]),be[0]&32768&&(E.checked=E.__value===Z[15]),(!J||be[0]&32768)&&we(z,"active",Z[15]==="code"),be[0]&32768&&(N.checked=N.__value===Z[15]),(!J||be[0]&32768)&&we(I,"active",Z[15]==="git"),be[0]&32768&&(O.checked=O.__value===Z[15]),(!J||be[0]&32768)&&we(F,"active",Z[15]==="image"),be[0]&32768&&(B.checked=B.__value===Z[15]),(!J||be[0]&32768)&&we(R,"active",Z[15]==="image_file"),Z[15]==="code"?me?(me.p(Z,be),be[0]&32768&&P(me,1)):(me=ci(Z),me.c(),P(me,1),me.m(G.parentNode,G)):me&&(qe(),M(me,1,1,()=>{me=null}),je()),Z[15]==="git"?re?(re.p(Z,be),be[0]&32768&&P(re,1)):(re=bi(Z),re.c(),P(re,1),re.m(oe.parentNode,oe)):re&&(qe(),M(re,1,1,()=>{re=null}),je()),Z[15]==="image"?ne?ne.p(Z,be):(ne=$i(Z),ne.c(),ne.m(x.parentNode,x)):ne&&(ne.d(1),ne=null),Z[15]==="image_file"?X?X.p(Z,be):(X=Ci(Z),X.c(),X.m(W.parentNode,W)):X&&(X.d(1),X=null)},i(Z){J||(P(s.$$.fragment,Z),P(i.$$.fragment,Z),P(a.$$.fragment,Z),P(le),P(me),P(re),J=!0)},o(Z){M(s.$$.fragment,Z),M(i.$$.fragment,Z),M(a.$$.fragment,Z),M(le),M(me),M(re),J=!1},d(Z){Z&&(k(e),k(_),k(p),k(m),k(S),k(C),k(Q),k(G),k(oe),k(x),k(W)),ce(s),ce(i),ce(a),ue&&ue.d(),le&&le.d(Z),me&&me.d(Z),re&&re.d(Z),ne&&ne.d(Z),X&&X.d(Z),ae.r(),K=!1,Ge(ie)}}}function F_(l){let e;return{c(){e=q("📥 Load")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function U_(l){let e;return{c(){e=q("💾 Save")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function B_(l){let e;return{c(){e=q("🚫 Exclusions")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function ui(l){let e,t;return{c(){e=d("span"),t=q(l[53]),f(e,"class","config-status svelte-1hrwlue")},m(n,s){w(n,e,s),r(e,t)},p(n,s){s[1]&4194304&&U(t,n[53])},d(n){n&&k(e)}}}function fi(l){let e,t,n,s,o,i,u,a,c,_,p,m;return o=new Fe({props:{variant:"ghost",size:"sm",$$slots:{default:[H_]},$$scope:{ctx:l}}}),o.$on("click",l[66]),{c(){e=d("div"),t=d("div"),n=d("label"),n.textContent="Exclusion Patterns",s=b(),_e(o.$$.fragment),i=b(),u=d("textarea"),a=b(),c=d("small"),c.textContent="One pattern per line. Applied to folder uploads and git clones.",f(n,"class","svelte-1hrwlue"),f(t,"class","exclude-header svelte-1hrwlue"),f(u,"rows","6"),f(u,"placeholder","node_modules/ __pycache__/ *.pyc .git/"),f(u,"class","svelte-1hrwlue"),f(c,"class","svelte-1hrwlue"),f(e,"class","exclude-editor svelte-1hrwlue")},m(h,v){w(h,e,v),r(e,t),r(t,n),r(t,s),fe(o,t,null),r(e,i),r(e,u),te(u,l[55]),r(e,a),r(e,c),_=!0,p||(m=ee(u,"input",l[93]),p=!0)},p(h,v){const g={};v[7]&4&&(g.$$scope={dirty:v,ctx:h}),o.$set(g),v[1]&16777216&&te(u,h[55])},i(h){_||(P(o.$$.fragment,h),_=!0)},o(h){M(o.$$.fragment,h),_=!1},d(h){h&&k(e),ce(o),p=!1,m()}}}function H_(l){let e;return{c(){e=q("Reset to Defaults")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function ci(l){let e,t,n,s,o,i,u,a,c,_,p,m,h,v,g,S,C,$,y,T,z,E,j,D,I,N=l[31]&&_i(),A=l[28].length>0&&di(l);p=new Fe({props:{size:"sm",$$slots:{default:[W_]},$$scope:{ctx:l}}}),p.$on("click",l[70]);function Y(R,B){return B[0]&268435456&&(S=null),R[28].length===0?J_:(S==null&&(S=!R[28].some(Fd)),S?V_:vi)}function F(R,B){return B===vi?I_(R):R}let O=Y(l,[-1,-1,-1,-1,-1,-1,-1,-1]),H=O(F(l,O)),L=l[34]&&gi(l);return{c(){e=d("div"),t=d("div"),n=d("label"),n.textContent="Build Folders",s=b(),o=d("div"),N&&N.c(),i=b(),u=d("input"),a=b(),A&&A.c(),c=b(),_=d("div"),_e(p.$$.fragment),m=b(),h=d("span"),h.textContent="or drag & drop folders here",v=b(),g=d("div"),H.c(),C=b(),$=d("label"),y=d("input"),T=b(),z=d("span"),z.textContent="Remember folder configuration for this service",E=b(),L&&L.c(),f(n,"class","svelte-1hrwlue"),f(u,"type","file"),f(u,"webkitdirectory",""),f(u,"directory",""),u.multiple=!0,Pt(u,"display","none"),f(u,"class","svelte-1hrwlue"),f(h,"class","drop-hint svelte-1hrwlue"),f(_,"class","folder-actions svelte-1hrwlue"),f(o,"class","folder-drop-zone svelte-1hrwlue"),we(o,"dragover",l[31]),f(g,"class","code-selection-info svelte-1hrwlue"),we(g,"success",l[28].some(dr)),we(g,"warning",l[28].length>0&&!l[28].some(pr)),f(y,"type","checkbox"),f(y,"class","svelte-1hrwlue"),f($,"class","checkbox-label small-check svelte-1hrwlue"),f(t,"class","form-group svelte-1hrwlue"),f(e,"class","source-config svelte-1hrwlue")},m(R,B){w(R,e,B),r(e,t),r(t,n),r(t,s),r(t,o),N&&N.m(o,null),r(o,i),r(o,u),l[99](u),r(o,a),A&&A.m(o,null),r(o,c),r(o,_),fe(p,_,null),r(_,m),r(_,h),r(t,v),r(t,g),H.m(g,null),r(t,C),r(t,$),r($,y),y.checked=l[30],r($,T),r($,z),r(e,E),L&&L.m(e,null),j=!0,D||(I=[ee(u,"change",l[71]),ee(o,"dragenter",l[72]),ee(o,"dragleave",l[73]),ee(o,"dragover",Id),ee(o,"drop",l[74]),ee(y,"change",l[102])],D=!0)},p(R,B){R[31]?N||(N=_i(),N.c(),N.m(o,i)):N&&(N.d(1),N=null),R[28].length>0?A?(A.p(R,B),B[0]&268435456&&P(A,1)):(A=di(R),A.c(),P(A,1),A.m(o,c)):A&&(qe(),M(A,1,1,()=>{A=null}),je());const V={};B[7]&4&&(V.$$scope={dirty:B,ctx:R}),p.$set(V),(!j||B[1]&1)&&we(o,"dragover",R[31]),O===(O=Y(R,B))&&H?H.p(F(R,O),B):(H.d(1),H=O(F(R,O)),H&&(H.c(),H.m(g,null))),(!j||B[0]&268435456)&&we(g,"success",R[28].some(dr)),(!j||B[0]&268435456)&&we(g,"warning",R[28].length>0&&!R[28].some(pr)),B[0]&1073741824&&(y.checked=R[30]),R[34]?L?(L.p(R,B),B[1]&8&&P(L,1)):(L=gi(R),L.c(),P(L,1),L.m(e,null)):L&&(qe(),M(L,1,1,()=>{L=null}),je())},i(R){j||(P(A),P(p.$$.fragment,R),P(L),j=!0)},o(R){M(A),M(p.$$.fragment,R),M(L),j=!1},d(R){R&&k(e),N&&N.d(),l[99](null),A&&A.d(),ce(p),H.d(),L&&L.d(),D=!1,Ge(I)}}}function _i(l){let e;return{c(){e=d("div"),e.innerHTML='<span class="drop-icon svelte-1hrwlue">📂</span> <span>Drop folder here</span>',f(e,"class","drop-overlay svelte-1hrwlue")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function di(l){let e,t,n=de(l[28]),s=[];for(let i=0;i<n.length;i+=1)s[i]=mi(xo(l,n,i));const o=i=>M(s[i],1,1,()=>{s[i]=null});return{c(){e=d("div");for(let i=0;i<s.length;i+=1)s[i].c();f(e,"class","folder-list svelte-1hrwlue")},m(i,u){w(i,e,u);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null);t=!0},p(i,u){if(u[0]&268435456|u[2]&24576){n=de(i[28]);let a;for(a=0;a<n.length;a+=1){const c=xo(i,n,a);s[a]?(s[a].p(c,u),P(s[a],1)):(s[a]=mi(c),s[a].c(),P(s[a],1),s[a].m(e,null))}for(qe(),a=n.length;a<s.length;a+=1)o(a);je()}},i(i){if(!t){for(let u=0;u<n.length;u+=1)P(s[u]);t=!0}},o(i){s=s.filter(hn);for(let u=0;u<s.length;u+=1)M(s[u]);t=!1},d(i){i&&k(e),Ne(s,i)}}}function G_(l){let e=l[204].isMain?"MAIN":"dependency",t;return{c(){t=q(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&268435456&&e!==(e=n[204].isMain?"MAIN":"dependency")&&U(t,e)},d(n){n&&k(t)}}}function pi(l){let e,t,n;function s(){return l[100](l[206])}return{c(){e=d("button"),e.textContent="⭐",f(e,"type","button"),f(e,"class","set-main-btn svelte-1hrwlue"),f(e,"title","Set as main")},m(o,i){w(o,e,i),t||(n=ee(e,"click",s),t=!0)},p(o,i){l=o},d(o){o&&k(e),t=!1,n()}}}function mi(l){let e,t,n=l[204].isMain?"📁":"📂",s,o,i,u=l[204].name+"",a,c,_,p,m,h,v=l[204].fileCount+"",g,S,C,$,y,T,z,E,j;p=new et({props:{variant:l[204].isMain?"success":"secondary",$$slots:{default:[G_]},$$scope:{ctx:l}}});let D=!l[204].isMain&&pi(l);function I(){return l[101](l[206])}return{c(){e=d("div"),t=d("span"),s=q(n),o=b(),i=d("strong"),a=q(u),c=q("/"),_=b(),_e(p.$$.fragment),m=b(),h=d("span"),g=q(v),S=q(" files"),C=b(),D&&D.c(),$=b(),y=d("button"),y.textContent="✕",T=b(),f(t,"class","folder-icon svelte-1hrwlue"),f(i,"class","svelte-1hrwlue"),f(h,"class","file-count svelte-1hrwlue"),f(y,"type","button"),f(y,"class","remove-btn svelte-1hrwlue"),f(e,"class","folder-item svelte-1hrwlue")},m(N,A){w(N,e,A),r(e,t),r(t,s),r(e,o),r(e,i),r(i,a),r(i,c),r(e,_),fe(p,e,null),r(e,m),r(e,h),r(h,g),r(h,S),r(e,C),D&&D.m(e,null),r(e,$),r(e,y),r(e,T),z=!0,E||(j=ee(y,"click",I),E=!0)},p(N,A){l=N,(!z||A[0]&268435456)&&n!==(n=l[204].isMain?"📁":"📂")&&U(s,n),(!z||A[0]&268435456)&&u!==(u=l[204].name+"")&&U(a,u);const Y={};A[0]&268435456&&(Y.variant=l[204].isMain?"success":"secondary"),A[0]&268435456|A[7]&4&&(Y.$$scope={dirty:A,ctx:l}),p.$set(Y),(!z||A[0]&268435456)&&v!==(v=l[204].fileCount+"")&&U(g,v),l[204].isMain?D&&(D.d(1),D=null):D?D.p(l,A):(D=pi(l),D.c(),D.m(e,$))},i(N){z||(P(p.$$.fragment,N),z=!0)},o(N){M(p.$$.fragment,N),z=!1},d(N){N&&k(e),ce(p),D&&D.d(),E=!1,j()}}}function W_(l){let e;return{c(){e=q("➕ Add Folder")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function vi(l){let e,t,n=l[207].name+"",s,o,i,u,a=l[208]>0&&hi(l);return{c(){e=q("✓ Main: "),t=d("strong"),s=q(n),o=q("/"),i=b(),a&&a.c(),u=Oe()},m(c,_){w(c,e,_),w(c,t,_),r(t,s),r(t,o),w(c,i,_),a&&a.m(c,_),w(c,u,_)},p(c,_){_[0]&268435456&&n!==(n=c[207].name+"")&&U(s,n),c[208]>0?a?a.p(c,_):(a=hi(c),a.c(),a.m(u.parentNode,u)):a&&(a.d(1),a=null)},d(c){c&&(k(e),k(t),k(i),k(u)),a&&a.d(c)}}}function V_(l){let e;return{c(){e=q("⚠️ No main folder selected. Click ⭐ to set one as main.")},m(t,n){w(t,e,n)},p:ge,d(t){t&&k(e)}}}function J_(l){let e;return{c(){e=q("No folders selected. Add your main service folder and any dependencies.")},m(t,n){w(t,e,n)},p:ge,d(t){t&&k(e)}}}function hi(l){let e,t=l[208]+"",n,s,o=l[208]===1?"y":"ies",i;return{c(){e=q("+ "),n=q(t),s=q(" dependenc"),i=q(o)},m(u,a){w(u,e,a),w(u,n,a),w(u,s,a),w(u,i,a)},p(u,a){a[0]&268435456&&t!==(t=u[208]+"")&&U(n,t),a[0]&268435456&&o!==(o=u[208]===1?"y":"ies")&&U(i,o)},d(u){u&&(k(e),k(n),k(s),k(i))}}}function gi(l){let e,t,n,s,o,i,u,a,c,_,p,m,h,v,g,S,C,$,y,T,z,E;return o=new et({props:{variant:l[33]==="from folder"?"success":l[33]==="multi-folder"?"info":"warning",$$slots:{default:[K_]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),n=d("label"),s=q(`🐳 Dockerfile
                    `),_e(o.$$.fragment),i=b(),u=d("textarea"),a=b(),c=d("div"),_=d("select"),p=d("option"),p.textContent="FROM...",m=d("option"),m.textContent="python:3.11-slim",h=d("option"),h.textContent="python:3.12-slim",v=d("option"),v.textContent="node:20-alpine",g=d("option"),g.textContent="node:18-alpine",S=d("option"),S.textContent="golang:1.21-alpine",C=d("option"),C.textContent="nginx:alpine",$=b(),y=d("input"),f(n,"class","svelte-1hrwlue"),f(t,"class","dockerfile-header svelte-1hrwlue"),f(u,"rows","8"),f(u,"class","dockerfile-editor svelte-1hrwlue"),f(u,"spellcheck","false"),p.__value="",te(p,p.__value),m.__value="python:3.11-slim",te(m,m.__value),h.__value="python:3.12-slim",te(h,h.__value),v.__value="node:20-alpine",te(v,v.__value),g.__value="node:18-alpine",te(g,g.__value),S.__value="golang:1.21-alpine",te(S,S.__value),C.__value="nginx:alpine",te(C,C.__value),f(_,"class","svelte-1hrwlue"),l[35]===void 0&&Qe(()=>l[104].call(_)),f(y,"type","text"),f(y,"placeholder","CMD (e.g. uvicorn main:app ...)"),f(y,"class","svelte-1hrwlue"),f(c,"class","dockerfile-quick-fields svelte-1hrwlue"),f(e,"class","dockerfile-preview svelte-1hrwlue")},m(j,D){w(j,e,D),r(e,t),r(t,n),r(n,s),fe(o,n,null),r(e,i),r(e,u),te(u,l[32]),r(e,a),r(e,c),r(c,_),r(_,p),r(_,m),r(_,h),r(_,v),r(_,g),r(_,S),r(_,C),Ee(_,l[35],!0),r(c,$),r(c,y),te(y,l[36]),T=!0,z||(E=[ee(u,"input",l[103]),ee(_,"change",l[104]),ee(_,"change",l[105]),ee(y,"input",l[106]),ee(y,"change",l[107])],z=!0)},p(j,D){const I={};D[1]&4&&(I.variant=j[33]==="from folder"?"success":j[33]==="multi-folder"?"info":"warning"),D[1]&4|D[7]&4&&(I.$$scope={dirty:D,ctx:j}),o.$set(I),D[1]&2&&te(u,j[32]),D[1]&16&&Ee(_,j[35]),D[1]&32&&y.value!==j[36]&&te(y,j[36])},i(j){T||(P(o.$$.fragment,j),T=!0)},o(j){M(o.$$.fragment,j),T=!1},d(j){j&&k(e),ce(o),z=!1,Ge(E)}}}function K_(l){let e;return{c(){e=q(l[33])},m(t,n){w(t,e,n)},p(t,n){n[1]&4&&U(e,t[33])},d(t){t&&k(e)}}}function bi(l){let e,t,n,s,o,i,u,a,c,_,p,m,h,v,g,S,C,$,y,T,z,E,j,D,I,N,A,Y,F,O,H,L,R,B,V,Q,G,oe,x=l[21].length>0&&ki(l);return z=new Fe({props:{size:"sm",$$slots:{default:[Q_]},$$scope:{ctx:l}}}),z.$on("click",l[112]),j=new Fe({props:{variant:"ghost",size:"sm",$$slots:{default:[Z_]},$$scope:{ctx:l}}}),j.$on("click",l[113]),{c(){e=d("div"),t=d("div"),n=d("label"),n.textContent="Git Repository URL *",s=b(),o=d("input"),i=b(),u=d("small"),u.textContent="HTTPS URL (SSH not supported)",a=b(),c=d("div"),_=d("label"),_.textContent="Branch",p=b(),m=d("input"),h=b(),v=d("div"),g=d("label"),g.textContent="Folders to Include",S=b(),x&&x.c(),C=b(),$=d("div"),y=d("input"),T=b(),_e(z.$$.fragment),E=b(),_e(j.$$.fragment),D=b(),I=d("small"),I.textContent="Leave empty to use entire repo. Add paths for multi-folder builds (main folder contains Dockerfile).",N=b(),A=d("details"),Y=d("summary"),Y.textContent="🔐 Private repository?",F=b(),O=d("div"),H=d("label"),H.textContent="Personal Access Token",L=b(),R=d("input"),B=b(),V=d("small"),V.innerHTML="Needs <code>repo</code> scope for private repos",f(n,"for","git-url"),f(n,"class","svelte-1hrwlue"),f(o,"id","git-url"),f(o,"type","url"),f(o,"placeholder","https://github.com/user/repo"),f(o,"class","svelte-1hrwlue"),f(u,"class","svelte-1hrwlue"),f(t,"class","form-group svelte-1hrwlue"),f(_,"for","git-branch"),f(_,"class","svelte-1hrwlue"),f(m,"id","git-branch"),f(m,"type","text"),f(m,"placeholder","main"),f(m,"class","svelte-1hrwlue"),f(c,"class","form-group svelte-1hrwlue"),f(g,"class","svelte-1hrwlue"),f(y,"type","text"),f(y,"placeholder","e.g. services/my_api"),f(y,"class","svelte-1hrwlue"),f($,"class","folder-input svelte-1hrwlue"),f(I,"class","svelte-1hrwlue"),f(v,"class","form-group svelte-1hrwlue"),f(Y,"class","svelte-1hrwlue"),f(H,"for","git-token"),f(H,"class","svelte-1hrwlue"),f(R,"id","git-token"),f(R,"type","password"),f(R,"placeholder","ghp_xxxxxxxxxxxx"),f(R,"class","svelte-1hrwlue"),f(V,"class","svelte-1hrwlue"),f(O,"class","form-group svelte-1hrwlue"),f(A,"class","private-repo svelte-1hrwlue"),f(e,"class","source-config svelte-1hrwlue")},m(W,J){w(W,e,J),r(e,t),r(t,n),r(t,s),r(t,o),te(o,l[18]),r(t,i),r(t,u),r(e,a),r(e,c),r(c,_),r(c,p),r(c,m),te(m,l[19]),r(e,h),r(e,v),r(v,g),r(v,S),x&&x.m(v,null),r(v,C),r(v,$),r($,y),te(y,l[22]),r($,T),fe(z,$,null),r($,E),fe(j,$,null),r(v,D),r(v,I),r(e,N),r(e,A),r(A,Y),r(A,F),r(A,O),r(O,H),r(O,L),r(O,R),te(R,l[20]),r(O,B),r(O,V),Q=!0,G||(oe=[ee(o,"input",l[108]),ee(m,"input",l[109]),ee(y,"input",l[111]),ee(R,"input",l[114])],G=!0)},p(W,J){J[0]&262144&&o.value!==W[18]&&te(o,W[18]),J[0]&524288&&m.value!==W[19]&&te(m,W[19]),W[21].length>0?x?(x.p(W,J),J[0]&2097152&&P(x,1)):(x=ki(W),x.c(),P(x,1),x.m(v,C)):x&&(qe(),M(x,1,1,()=>{x=null}),je()),J[0]&4194304&&y.value!==W[22]&&te(y,W[22]);const ae={};J[7]&4&&(ae.$$scope={dirty:J,ctx:W}),z.$set(ae);const K={};J[7]&4&&(K.$$scope={dirty:J,ctx:W}),j.$set(K),J[0]&1048576&&R.value!==W[20]&&te(R,W[20])},i(W){Q||(P(x),P(z.$$.fragment,W),P(j.$$.fragment,W),Q=!0)},o(W){M(x),M(z.$$.fragment,W),M(j.$$.fragment,W),Q=!1},d(W){W&&k(e),x&&x.d(),ce(z),ce(j),G=!1,Ge(oe)}}}function ki(l){let e,t,n=de(l[21]),s=[];for(let i=0;i<n.length;i+=1)s[i]=wi(Xo(l,n,i));const o=i=>M(s[i],1,1,()=>{s[i]=null});return{c(){e=d("div");for(let i=0;i<s.length;i+=1)s[i].c();f(e,"class","folder-list svelte-1hrwlue")},m(i,u){w(i,e,u);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null);t=!0},p(i,u){if(u[0]&2097152|u[2]&131072){n=de(i[21]);let a;for(a=0;a<n.length;a+=1){const c=Xo(i,n,a);s[a]?(s[a].p(c,u),P(s[a],1)):(s[a]=wi(c),s[a].c(),P(s[a],1),s[a].m(e,null))}for(qe(),a=n.length;a<s.length;a+=1)o(a);je()}},i(i){if(!t){for(let u=0;u<n.length;u+=1)P(s[u]);t=!0}},o(i){s=s.filter(hn);for(let u=0;u<s.length;u+=1)M(s[u]);t=!1},d(i){i&&k(e),Ne(s,i)}}}function Y_(l){let e=l[204].isMain?"MAIN":"dependency",t;return{c(){t=q(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&2097152&&e!==(e=n[204].isMain?"MAIN":"dependency")&&U(t,e)},d(n){n&&k(t)}}}function wi(l){let e,t,n=l[204].isMain?"📁":"📂",s,o,i,u=l[204].path+"",a,c,_,p,m,h,v,g,S;_=new et({props:{variant:l[204].isMain?"success":"secondary",$$slots:{default:[Y_]},$$scope:{ctx:l}}});function C(){return l[110](l[206])}return{c(){e=d("div"),t=d("span"),s=q(n),o=b(),i=d("strong"),a=q(u),c=b(),_e(_.$$.fragment),p=b(),m=d("button"),m.textContent="✕",h=b(),f(i,"class","svelte-1hrwlue"),f(m,"type","button"),f(m,"class","remove-btn svelte-1hrwlue"),f(e,"class","folder-item svelte-1hrwlue")},m($,y){w($,e,y),r(e,t),r(t,s),r(e,o),r(e,i),r(i,a),r(e,c),fe(_,e,null),r(e,p),r(e,m),r(e,h),v=!0,g||(S=ee(m,"click",C),g=!0)},p($,y){l=$,(!v||y[0]&2097152)&&n!==(n=l[204].isMain?"📁":"📂")&&U(s,n),(!v||y[0]&2097152)&&u!==(u=l[204].path+"")&&U(a,u);const T={};y[0]&2097152&&(T.variant=l[204].isMain?"success":"secondary"),y[0]&2097152|y[7]&4&&(T.$$scope={dirty:y,ctx:l}),_.$set(T)},i($){v||(P(_.$$.fragment,$),v=!0)},o($){M(_.$$.fragment,$),v=!1},d($){$&&k(e),ce(_),g=!1,S()}}}function Q_(l){let e;return{c(){e=q("+ Main")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Z_(l){let e;return{c(){e=q("+ Dep")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function $i(l){let e,t,n,s,o,i,u,a,c;return{c(){e=d("div"),t=d("div"),n=d("label"),n.textContent="Docker Image *",s=b(),o=d("input"),i=b(),u=d("small"),u.textContent="Full image URL from DO Registry or Docker Hub",f(n,"for","image-url"),f(n,"class","svelte-1hrwlue"),f(o,"id","image-url"),f(o,"type","text"),f(o,"placeholder","registry.digitalocean.com/my-registry/app:latest"),f(o,"class","svelte-1hrwlue"),f(u,"class","svelte-1hrwlue"),f(t,"class","form-group svelte-1hrwlue"),f(e,"class","source-config svelte-1hrwlue")},m(_,p){w(_,e,p),r(e,t),r(t,n),r(t,s),r(t,o),te(o,l[23]),r(t,i),r(t,u),a||(c=ee(o,"input",l[115]),a=!0)},p(_,p){p[0]&8388608&&o.value!==_[23]&&te(o,_[23])},d(_){_&&k(e),a=!1,c()}}}function Ci(l){let e,t,n,s,o,i,u,a,c,_,p,m,h,v,g,S,C,$,y,T,z,E,j,D,I,N,A,Y,F=l[24]&&yi(l);return{c(){e=d("div"),t=d("div"),n=d("label"),n.textContent="Docker Image File (.tar) *",s=b(),o=d("input"),i=b(),F&&F.c(),u=b(),a=d("small"),a.innerHTML="Export from Docker with: <code>docker save myimage:latest -o image.tar</code>",c=b(),_=d("div"),p=d("label"),p.textContent="Image Name *",m=b(),h=d("input"),v=b(),g=d("small"),g.textContent="The image name/tag as it appears in the tar file",S=b(),C=d("div"),$=d("div"),y=d("label"),y.textContent="Container Port",T=b(),z=d("input"),E=b(),j=d("div"),D=d("label"),D.textContent="Host Port",I=b(),N=d("input"),f(n,"for","image-file"),f(n,"class","svelte-1hrwlue"),f(o,"id","image-file"),f(o,"type","file"),f(o,"accept",".tar,.tar.gz"),f(o,"class","svelte-1hrwlue"),f(a,"class","svelte-1hrwlue"),f(t,"class","form-group svelte-1hrwlue"),f(p,"for","image-name"),f(p,"class","svelte-1hrwlue"),f(h,"id","image-name"),f(h,"type","text"),f(h,"placeholder","myapp:latest"),f(h,"class","svelte-1hrwlue"),f(g,"class","svelte-1hrwlue"),f(_,"class","form-group svelte-1hrwlue"),f(y,"for","container-port"),f(y,"class","svelte-1hrwlue"),f(z,"id","container-port"),f(z,"type","number"),f(z,"placeholder",l[16]),f(z,"class","svelte-1hrwlue"),f($,"class","form-group svelte-1hrwlue"),f(D,"for","host-port"),f(D,"class","svelte-1hrwlue"),f(N,"id","host-port"),f(N,"type","number"),f(N,"placeholder",l[16]),f(N,"class","svelte-1hrwlue"),f(j,"class","form-group svelte-1hrwlue"),f(C,"class","form-row svelte-1hrwlue"),f(e,"class","source-config svelte-1hrwlue")},m(O,H){w(O,e,H),r(e,t),r(t,n),r(t,s),r(t,o),r(t,i),F&&F.m(t,null),r(t,u),r(t,a),r(e,c),r(e,_),r(_,p),r(_,m),r(_,h),te(h,l[25]),r(_,v),r(_,g),r(e,S),r(e,C),r(C,$),r($,y),r($,T),r($,z),te(z,l[26]),r(C,E),r(C,j),r(j,D),r(j,I),r(j,N),te(N,l[27]),A||(Y=[ee(o,"change",l[80]),ee(h,"input",l[116]),ee(z,"input",l[117]),ee(N,"input",l[118])],A=!0)},p(O,H){O[24]?F?F.p(O,H):(F=yi(O),F.c(),F.m(t,u)):F&&(F.d(1),F=null),H[0]&33554432&&h.value!==O[25]&&te(h,O[25]),H[0]&65536&&f(z,"placeholder",O[16]),H[0]&67108864&&Kt(z.value)!==O[26]&&te(z,O[26]),H[0]&65536&&f(N,"placeholder",O[16]),H[0]&134217728&&Kt(N.value)!==O[27]&&te(N,O[27])},d(O){O&&k(e),F&&F.d(),A=!1,Ge(Y)}}}function yi(l){let e,t,n=l[24].name+"",s,o,i=(l[24].size/1024/1024).toFixed(2)+"",u,a;return{c(){e=d("div"),t=q("📦 "),s=q(n),o=q(" ("),u=q(i),a=q(" MB)"),f(e,"class","file-selected svelte-1hrwlue")},m(c,_){w(c,e,_),r(e,t),r(e,s),r(e,o),r(e,u),r(e,a)},p(c,_){_[0]&16777216&&n!==(n=c[24].name+"")&&U(s,n),_[0]&16777216&&i!==(i=(c[24].size/1024/1024).toFixed(2)+"")&&U(u,i)},d(c){c&&k(e)}}}function Si(l){let e,t,n,s,o,i,u,a;return{c(){e=d("div"),t=d("label"),t.textContent="App Port",n=b(),s=d("input"),o=b(),i=d("small"),i.textContent="Port your app listens on inside the container",f(t,"for","deploy-port"),f(t,"class","svelte-1hrwlue"),f(s,"id","deploy-port"),f(s,"type","number"),f(s,"min","1"),f(s,"max","65535"),f(s,"class","svelte-1hrwlue"),f(i,"class","svelte-1hrwlue"),f(e,"class","form-group svelte-1hrwlue")},m(c,_){w(c,e,_),r(e,t),r(e,n),r(e,s),te(s,l[16]),r(e,o),r(e,i),u||(a=ee(s,"input",l[119]),u=!0)},p(c,_){_[0]&65536&&Kt(s.value)!==c[16]&&te(s,c[16])},d(c){c&&k(e),u=!1,a()}}}function qi(l){let e,t,n,s,o,i,u,a;return{c(){e=d("div"),t=d("label"),t.textContent="Command Override",n=b(),s=d("input"),o=b(),i=d("small"),i.textContent="Override Dockerfile CMD (e.g., different entrypoint for worker vs webservice)",f(t,"for","custom-cmd"),f(t,"class","svelte-1hrwlue"),f(s,"id","custom-cmd"),f(s,"type","text"),f(s,"placeholder","python worker.py"),f(s,"class","svelte-1hrwlue"),f(i,"class","svelte-1hrwlue"),f(e,"class","form-group svelte-1hrwlue")},m(c,_){w(c,e,_),r(e,t),r(e,n),r(e,s),te(s,l[12]),r(e,o),r(e,i),u||(a=ee(s,"input",l[120]),u=!0)},p(c,_){_[0]&4096&&s.value!==c[12]&&te(s,c[12])},d(c){c&&k(e),u=!1,a()}}}function ji(l){let e,t,n,s,o,i,u,a,c,_,p,m,h,v,g,S,C;return{c(){e=d("div"),t=d("label"),t.textContent="Cron Schedule *",n=b(),s=d("input"),o=b(),i=d("small"),i.textContent='Standard cron format: minute hour day month weekday (e.g., "0 */6 * * *" = every 6 hours)',u=b(),a=d("div"),c=d("button"),c.textContent="Every min",_=b(),p=d("button"),p.textContent="Hourly",m=b(),h=d("button"),h.textContent="Daily",v=b(),g=d("button"),g.textContent="Weekly",f(t,"for","cron-schedule"),f(t,"class","svelte-1hrwlue"),f(s,"id","cron-schedule"),f(s,"type","text"),f(s,"placeholder","0 * * * *"),s.required=!0,f(s,"class","svelte-1hrwlue"),f(i,"class","svelte-1hrwlue"),f(c,"type","button"),f(c,"class","preset-btn svelte-1hrwlue"),f(p,"type","button"),f(p,"class","preset-btn svelte-1hrwlue"),f(h,"type","button"),f(h,"class","preset-btn svelte-1hrwlue"),f(g,"type","button"),f(g,"class","preset-btn svelte-1hrwlue"),f(a,"class","cron-presets svelte-1hrwlue"),f(e,"class","form-group svelte-1hrwlue")},m($,y){w($,e,y),r(e,t),r(e,n),r(e,s),te(s,l[13]),r(e,o),r(e,i),r(e,u),r(e,a),r(a,c),r(a,_),r(a,p),r(a,m),r(a,h),r(a,v),r(a,g),S||(C=[ee(s,"input",l[121]),ee(c,"click",l[122]),ee(p,"click",l[123]),ee(h,"click",l[124]),ee(g,"click",l[125])],S=!0)},p($,y){y[0]&8192&&s.value!==$[13]&&te(s,$[13])},d($){$&&k(e),S=!1,Ge(C)}}}function Ti(l){let e,t,n,s=l[56]?"▼":"▶",o,i,u,a,c=l[17].trim(),_,p,m,h,v=c&&zi(l),g=l[56]&&Di(l);return{c(){e=d("div"),t=d("button"),n=d("span"),o=q(s),i=b(),u=d("span"),u.textContent="Environment Variables",a=b(),v&&v.c(),_=b(),g&&g.c(),f(n,"class","toggle-icon svelte-1hrwlue"),f(t,"type","button"),f(t,"class","section-toggle svelte-1hrwlue"),f(e,"class","collapsible-section svelte-1hrwlue"),we(e,"expanded",l[56])},m(S,C){w(S,e,C),r(e,t),r(t,n),r(n,o),r(t,i),r(t,u),r(t,a),v&&v.m(t,null),r(e,_),g&&g.m(e,null),p=!0,m||(h=ee(t,"click",l[126]),m=!0)},p(S,C){(!p||C[1]&33554432)&&s!==(s=S[56]?"▼":"▶")&&U(o,s),C[0]&131072&&(c=S[17].trim()),c?v?(v.p(S,C),C[0]&131072&&P(v,1)):(v=zi(S),v.c(),P(v,1),v.m(t,null)):v&&(qe(),M(v,1,1,()=>{v=null}),je()),S[56]?g?g.p(S,C):(g=Di(S),g.c(),g.m(e,null)):g&&(g.d(1),g=null),(!p||C[1]&33554432)&&we(e,"expanded",S[56])},i(S){p||(P(v),p=!0)},o(S){M(v),p=!1},d(S){S&&k(e),v&&v.d(),g&&g.d(),m=!1,h()}}}function zi(l){let e,t;return e=new et({props:{variant:"info",$$slots:{default:[X_]},$$scope:{ctx:l}}}),{c(){_e(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[0]&131072|s[7]&4&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function X_(l){let e=l[17].trim().split(`
`).filter(mr).length+"",t,n;return{c(){t=q(e),n=q(" vars")},m(s,o){w(s,t,o),w(s,n,o)},p(s,o){o[0]&131072&&e!==(e=s[17].trim().split(`
`).filter(mr).length+"")&&U(t,e)},d(s){s&&(k(t),k(n))}}}function Di(l){let e,t,n,s,o,i;return{c(){e=d("div"),t=d("textarea"),n=b(),s=d("small"),s.textContent="One per line: KEY=value",f(t,"id","deploy-envvars"),f(t,"rows","3"),f(t,"placeholder","KEY=value ANOTHER_KEY=value"),f(t,"class","svelte-1hrwlue"),f(s,"class","svelte-1hrwlue"),f(e,"class","section-content svelte-1hrwlue")},m(u,a){w(u,e,a),r(e,t),te(t,l[17]),r(e,n),r(e,s),o||(i=ee(t,"input",l[127]),o=!0)},p(u,a){a[0]&131072&&te(t,u[17])},d(u){u&&k(e),o=!1,i()}}}function Ei(l){let e,t,n,s=l[57]?"▼":"▶",o,i,u,a,c=l[0]==="service"&&l[51]||Object.values(l[50]).some(_r),_,p,m,h,v=c&&Li(l),g=l[57]&&Pi(l);return{c(){e=d("div"),t=d("button"),n=d("span"),o=q(s),i=b(),u=d("span"),u.textContent="🔧 Service Configuration",a=b(),v&&v.c(),_=b(),g&&g.c(),f(n,"class","toggle-icon svelte-1hrwlue"),f(t,"type","button"),f(t,"class","section-toggle svelte-1hrwlue"),f(e,"class","collapsible-section svelte-1hrwlue"),we(e,"expanded",l[57])},m(S,C){w(S,e,C),r(e,t),r(t,n),r(n,o),r(t,i),r(t,u),r(t,a),v&&v.m(t,null),r(e,_),g&&g.m(e,null),p=!0,m||(h=ee(t,"click",l[128]),m=!0)},p(S,C){(!p||C[1]&67108864)&&s!==(s=S[57]?"▼":"▶")&&U(o,s),C[0]&1|C[1]&1572864&&(c=S[0]==="service"&&S[51]||Object.values(S[50]).some(_r)),c?v?C[0]&1|C[1]&1572864&&P(v,1):(v=Li(S),v.c(),P(v,1),v.m(t,null)):v&&(qe(),M(v,1,1,()=>{v=null}),je()),S[57]?g?g.p(S,C):(g=Pi(S),g.c(),g.m(e,null)):g&&(g.d(1),g=null),(!p||C[1]&67108864)&&we(e,"expanded",S[57])},i(S){p||(P(v),p=!0)},o(S){M(v),p=!1},d(S){S&&k(e),v&&v.d(),g&&g.d(),m=!1,h()}}}function Li(l){let e,t;return e=new et({props:{variant:"info",$$slots:{default:[x_]},$$scope:{ctx:l}}}),{c(){_e(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function x_(l){let e;return{c(){e=q("configured")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Pi(l){let e,t,n,s,o,i,u,a,c,_,p,m,h,v,g,S,C,$,y,T,z=l[48]&&Ni(l),E=l[0]==="service"&&Ri(l);return{c(){e=d("div"),t=d("label"),n=d("input"),s=b(),o=d("span"),o.textContent="Auto-inject service discovery",i=b(),u=d("small"),u.textContent="Injects DATABASE_URL, REDIS_URL, etc. based on dependencies",a=b(),z&&z.c(),c=b(),_=d("div"),p=b(),m=d("label"),h=d("input"),v=b(),g=d("span"),g.textContent="💾 Persist data (mount volume)",S=b(),C=d("small"),C.textContent="Mounts /data volume for databases and stateful services",$=b(),E&&E.c(),f(n,"type","checkbox"),f(n,"class","svelte-1hrwlue"),f(t,"class","checkbox-label svelte-1hrwlue"),f(u,"class","svelte-1hrwlue"),f(_,"class","config-divider svelte-1hrwlue"),f(h,"type","checkbox"),f(h,"class","svelte-1hrwlue"),f(m,"class","checkbox-label svelte-1hrwlue"),f(C,"class","svelte-1hrwlue"),f(e,"class","section-content service-config svelte-1hrwlue")},m(j,D){w(j,e,D),r(e,t),r(t,n),n.checked=l[48],r(t,s),r(t,o),r(e,i),r(e,u),r(e,a),z&&z.m(e,null),r(e,c),r(e,_),r(e,p),r(e,m),r(m,h),h.checked=l[49],r(m,v),r(m,g),r(e,S),r(e,C),r(e,$),E&&E.m(e,null),y||(T=[ee(n,"change",l[129]),ee(h,"change",l[134])],y=!0)},p(j,D){D[1]&131072&&(n.checked=j[48]),j[48]?z?z.p(j,D):(z=Ni(j),z.c(),z.m(e,c)):z&&(z.d(1),z=null),D[1]&262144&&(h.checked=j[49]),j[0]==="service"?E?E.p(j,D):(E=Ri(j),E.c(),E.m(e,null)):E&&(E.d(1),E=null)},d(j){j&&k(e),z&&z.d(),E&&E.d(),y=!1,Ge(T)}}}function Ni(l){let e,t,n,s,o,i,u,a,c,_,p,m,h,v,g,S,C,$,y,T,z;return{c(){e=d("div"),t=d("label"),t.textContent="Dependencies:",n=b(),s=d("div"),o=d("label"),i=d("input"),u=q(`
                      🐘 PostgreSQL`),a=b(),c=d("label"),_=d("input"),p=q(`
                      ⚡ Redis`),m=b(),h=d("label"),v=d("input"),g=q(`
                      🐬 MySQL`),S=b(),C=d("label"),$=d("input"),y=q(`
                      🍃 MongoDB`),f(i,"type","checkbox"),f(i,"class","svelte-1hrwlue"),f(o,"class","dep-item svelte-1hrwlue"),f(_,"type","checkbox"),f(_,"class","svelte-1hrwlue"),f(c,"class","dep-item svelte-1hrwlue"),f(v,"type","checkbox"),f(v,"class","svelte-1hrwlue"),f(h,"class","dep-item svelte-1hrwlue"),f($,"type","checkbox"),f($,"class","svelte-1hrwlue"),f(C,"class","dep-item svelte-1hrwlue"),f(s,"class","dep-list svelte-1hrwlue"),f(e,"class","dependencies svelte-1hrwlue")},m(E,j){w(E,e,j),r(e,t),r(e,n),r(e,s),r(s,o),r(o,i),i.checked=l[50].postgres,r(o,u),r(s,a),r(s,c),r(c,_),_.checked=l[50].redis,r(c,p),r(s,m),r(s,h),r(h,v),v.checked=l[50].mysql,r(h,g),r(s,S),r(s,C),r(C,$),$.checked=l[50].mongo,r(C,y),T||(z=[ee(i,"change",l[130]),ee(_,"change",l[131]),ee(v,"change",l[132]),ee($,"change",l[133])],T=!0)},p(E,j){j[1]&524288&&(i.checked=E[50].postgres),j[1]&524288&&(_.checked=E[50].redis),j[1]&524288&&(v.checked=E[50].mysql),j[1]&524288&&($.checked=E[50].mongo)},d(E){E&&k(e),T=!1,Ge(z)}}}function Ri(l){let e,t,n,s,o,i,u,a,c,_,p,m,h=l[51]&&Ai(l);return{c(){e=d("div"),t=b(),n=d("label"),s=d("input"),o=b(),i=d("span"),i.textContent="🌐 Setup domain (Cloudflare)",u=b(),a=d("small"),a.textContent="Auto-provision subdomain with SSL via Cloudflare",c=b(),h&&h.c(),_=Oe(),f(e,"class","config-divider svelte-1hrwlue"),f(s,"type","checkbox"),f(s,"class","svelte-1hrwlue"),f(n,"class","checkbox-label svelte-1hrwlue"),f(a,"class","svelte-1hrwlue")},m(v,g){w(v,e,g),w(v,t,g),w(v,n,g),r(n,s),s.checked=l[51],r(n,o),r(n,i),w(v,u,g),w(v,a,g),w(v,c,g),h&&h.m(v,g),w(v,_,g),p||(m=ee(s,"change",l[135]),p=!0)},p(v,g){g[1]&1048576&&(s.checked=v[51]),v[51]?h?h.p(v,g):(h=Ai(v),h.c(),h.m(_.parentNode,_)):h&&(h.d(1),h=null)},d(v){v&&(k(e),k(t),k(n),k(u),k(a),k(c),k(_)),h&&h.d(v),p=!1,m()}}}function Ai(l){let e,t,n,s,o,i=(l[59]||"app-project-env.domain.com")+"",u,a,c,_,p,m,h,v,g,S,C,$,y,T,z;return{c(){e=d("div"),t=d("div"),n=d("label"),n.textContent="Domain Preview:",s=b(),o=d("code"),u=q(i),a=b(),c=d("div"),_=d("label"),_.textContent="Base Domain",p=b(),m=d("input"),h=b(),v=d("div"),g=d("label"),g.innerHTML='Custom Aliases <small class="svelte-1hrwlue">(optional)</small>',S=b(),C=d("input"),$=b(),y=d("small"),y.textContent="Comma-separated custom domains (requires DNS setup)",f(n,"class","svelte-1hrwlue"),f(o,"class","svelte-1hrwlue"),f(t,"class","domain-preview svelte-1hrwlue"),f(_,"for","base-domain"),f(_,"class","svelte-1hrwlue"),f(m,"id","base-domain"),f(m,"type","text"),f(m,"placeholder","example.com"),f(m,"class","svelte-1hrwlue"),f(c,"class","form-group svelte-1hrwlue"),f(g,"for","domain-aliases"),f(g,"class","svelte-1hrwlue"),f(C,"id","domain-aliases"),f(C,"type","text"),f(C,"placeholder","api.myclient.com, app.example.com"),f(C,"class","svelte-1hrwlue"),f(y,"class","svelte-1hrwlue"),f(v,"class","form-group svelte-1hrwlue"),f(e,"class","domain-config svelte-1hrwlue")},m(E,j){w(E,e,j),r(e,t),r(t,n),r(t,s),r(t,o),r(o,u),r(e,a),r(e,c),r(c,_),r(c,p),r(c,m),te(m,l[10]),r(e,h),r(e,v),r(v,g),r(v,S),r(v,C),te(C,l[52]),r(v,$),r(v,y),T||(z=[ee(m,"input",l[136]),ee(C,"input",l[137])],T=!0)},p(E,j){j[1]&268435456&&i!==(i=(E[59]||"app-project-env.domain.com")+"")&&U(u,i),j[0]&1024&&m.value!==E[10]&&te(m,E[10]),j[1]&2097152&&C.value!==E[52]&&te(C,E[52])},d(E){E&&k(e),T=!1,Ge(z)}}}function ed(l){let e,t;return e=new et({props:{variant:"info",$$slots:{default:[ld]},$$scope:{ctx:l}}}),{c(){_e(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[0]&256|s[7]&4&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function td(l){let e,t;return e=new et({props:{variant:"info",$$slots:{default:[nd]},$$scope:{ctx:l}}}),{c(){_e(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[0]&256|s[7]&4&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function ld(l){let e=l[8].size+"",t,n;return{c(){t=q(e),n=q(" selected")},m(s,o){w(s,t,o),w(s,n,o)},p(s,o){o[0]&256&&e!==(e=s[8].size+"")&&U(t,e)},d(s){s&&(k(t),k(n))}}}function nd(l){let e=l[8].size===1?"1 selected":"select 1",t;return{c(){t=q(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&256&&e!==(e=n[8].size===1?"1 selected":"select 1")&&U(t,e)},d(n){n&&k(t)}}}function Mi(l){let e,t,n,s,o;return t=new Fe({props:{variant:"ghost",size:"sm",$$slots:{default:[sd]},$$scope:{ctx:l}}}),t.$on("click",l[138]),s=new Fe({props:{variant:"ghost",size:"sm",$$slots:{default:[od]},$$scope:{ctx:l}}}),s.$on("click",l[139]),{c(){e=d("div"),_e(t.$$.fragment),n=b(),_e(s.$$.fragment),f(e,"class","server-actions svelte-1hrwlue")},m(i,u){w(i,e,u),fe(t,e,null),r(e,n),fe(s,e,null),o=!0},p(i,u){const a={};u[7]&4&&(a.$$scope={dirty:u,ctx:i}),t.$set(a);const c={};u[7]&4&&(c.$$scope={dirty:u,ctx:i}),s.$set(c)},i(i){o||(P(t.$$.fragment,i),P(s.$$.fragment,i),o=!0)},o(i){M(t.$$.fragment,i),M(s.$$.fragment,i),o=!1},d(i){i&&k(e),ce(t),ce(s)}}}function sd(l){let e;return{c(){e=q("✓ All")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function od(l){let e;return{c(){e=q("✕ None")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function id(l){let e,t,n,s;const o=[ud,ad],i=[];function u(a,c){return!a[40]||a[40].length===0?0:1}return t=u(l),n=i[t]=o[t](l),{c(){e=d("div"),n.c(),f(e,"class","server-list svelte-1hrwlue")},m(a,c){w(a,e,c),i[t].m(e,null),s=!0},p(a,c){let _=t;t=u(a),t===_?i[t].p(a,c):(qe(),M(i[_],1,1,()=>{i[_]=null}),je(),n=i[t],n?n.p(a,c):(n=i[t]=o[t](a),n.c()),P(n,1),n.m(e,null))},i(a){s||(P(n),s=!0)},o(a){M(n),s=!1},d(a){a&&k(e),i[t].d()}}}function rd(l){let e,t,n,s,o,i;function u(h,v){return h[0]==="stateful"?_d:cd}let a=u(l),c=a(l);const _=[pd,dd],p=[];function m(h,v){return!h[40]||h[40].length===0?0:1}return s=m(l),o=p[s]=_[s](l),{c(){e=d("div"),t=d("small"),c.c(),n=b(),o.c(),f(t,"class","select-hint svelte-1hrwlue"),f(e,"class","server-list single-select svelte-1hrwlue")},m(h,v){w(h,e,v),r(e,t),c.m(t,null),r(e,n),p[s].m(e,null),i=!0},p(h,v){a!==(a=u(h))&&(c.d(1),c=a(h),c&&(c.c(),c.m(t,null)));let g=s;s=m(h),s===g?p[s].p(h,v):(qe(),M(p[g],1,1,()=>{p[g]=null}),je(),o=p[s],o?o.p(h,v):(o=p[s]=_[s](h),o.c()),P(o,1),o.m(e,null))},i(h){i||(P(o),i=!0)},o(h){M(o),i=!1},d(h){h&&k(e),c.d(),p[s].d()}}}function ad(l){let e,t,n=de(l[40]),s=[];for(let i=0;i<n.length;i+=1)s[i]=Fi(Qo(l,n,i));const o=i=>M(s[i],1,1,()=>{s[i]=null});return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=Oe()},m(i,u){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(i,u);w(i,e,u),t=!0},p(i,u){if(u[0]&256|u[1]&512|u[2]&32){n=de(i[40]);let a;for(a=0;a<n.length;a+=1){const c=Qo(i,n,a);s[a]?(s[a].p(c,u),P(s[a],1)):(s[a]=Fi(c),s[a].c(),P(s[a],1),s[a].m(e.parentNode,e))}for(qe(),a=n.length;a<s.length;a+=1)o(a);je()}},i(i){if(!t){for(let u=0;u<n.length;u+=1)P(s[u]);t=!0}},o(i){s=s.filter(hn);for(let u=0;u<s.length;u+=1)M(s[u]);t=!1},d(i){i&&k(e),Ne(s,i)}}}function ud(l){let e,t,n=(l[7]||"any region")+"",s;return{c(){e=d("div"),t=q("No servers in "),s=q(n),f(e,"class","empty svelte-1hrwlue")},m(o,i){w(o,e,i),r(e,t),r(e,s)},p(o,i){i[0]&128&&n!==(n=(o[7]||"any region")+"")&&U(s,n)},i:ge,o:ge,d(o){o&&k(e)}}}function Oi(l){let e,t,n,s,o,i=(l[179].name||"unnamed")+"",u,a,c,_=l[199]+"",p,m,h,v,g,S;function C(){return l[141](l[199])}let $=l[179].project&&Ii(l);return{c(){e=d("label"),t=d("input"),s=b(),o=d("span"),u=q(i),a=b(),c=d("code"),p=q(_),m=b(),$&&$.c(),h=b(),f(t,"type","checkbox"),t.checked=n=l[8].has(l[199]),f(t,"class","svelte-1hrwlue"),f(o,"class","server-name svelte-1hrwlue"),f(c,"class","server-ip svelte-1hrwlue"),f(e,"class","server-item svelte-1hrwlue"),we(e,"selected",l[8].has(l[199]))},m(y,T){w(y,e,T),r(e,t),r(e,s),r(e,o),r(o,u),r(e,a),r(e,c),r(c,p),r(e,m),$&&$.m(e,null),r(e,h),v=!0,g||(S=ee(t,"change",C),g=!0)},p(y,T){l=y,(!v||T[0]&256|T[1]&512&&n!==(n=l[8].has(l[199])))&&(t.checked=n),(!v||T[1]&512)&&i!==(i=(l[179].name||"unnamed")+"")&&U(u,i),(!v||T[1]&512)&&_!==(_=l[199]+"")&&U(p,_),l[179].project?$?($.p(l,T),T[1]&512&&P($,1)):($=Ii(l),$.c(),P($,1),$.m(e,h)):$&&(qe(),M($,1,1,()=>{$=null}),je()),(!v||T[0]&256|T[1]&512)&&we(e,"selected",l[8].has(l[199]))},i(y){v||(P($),v=!0)},o(y){M($),v=!1},d(y){y&&k(e),$&&$.d(),g=!1,S()}}}function Ii(l){let e,t;return e=new et({props:{variant:"info",$$slots:{default:[fd]},$$scope:{ctx:l}}}),{c(){_e(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[1]&512|s[7]&4&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function fd(l){let e=l[179].project+"",t;return{c(){t=q(e)},m(n,s){w(n,t,s)},p(n,s){s[1]&512&&e!==(e=n[179].project+"")&&U(t,e)},d(n){n&&k(t)}}}function Fi(l){let e,t,n=l[199]&&Oi(l);return{c(){n&&n.c(),e=Oe()},m(s,o){n&&n.m(s,o),w(s,e,o),t=!0},p(s,o){s[199]?n?(n.p(s,o),o[1]&512&&P(n,1)):(n=Oi(s),n.c(),P(n,1),n.m(e.parentNode,e)):n&&(qe(),M(n,1,1,()=>{n=null}),je())},i(s){t||(P(n),t=!0)},o(s){M(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function cd(l){let e;return{c(){e=q("ℹ️ Scheduled jobs run on one server to avoid duplicate execution.")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function _d(l){let e;return{c(){e=q("ℹ️ Stateful services run on a single server. For replication, deploy multiple named services.")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function dd(l){let e,t,n=de(l[40]),s=[];for(let i=0;i<n.length;i+=1)s[i]=Hi(Zo(l,n,i));const o=i=>M(s[i],1,1,()=>{s[i]=null});return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=Oe()},m(i,u){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(i,u);w(i,e,u),t=!0},p(i,u){if(u[0]&256|u[1]&512|u[2]&128){n=de(i[40]);let a;for(a=0;a<n.length;a+=1){const c=Zo(i,n,a);s[a]?(s[a].p(c,u),P(s[a],1)):(s[a]=Hi(c),s[a].c(),P(s[a],1),s[a].m(e.parentNode,e))}for(qe(),a=n.length;a<s.length;a+=1)o(a);je()}},i(i){if(!t){for(let u=0;u<n.length;u+=1)P(s[u]);t=!0}},o(i){s=s.filter(hn);for(let u=0;u<s.length;u+=1)M(s[u]);t=!1},d(i){i&&k(e),Ne(s,i)}}}function pd(l){let e,t,n=(l[7]||"any region")+"",s;return{c(){e=d("div"),t=q("No servers in "),s=q(n),f(e,"class","empty svelte-1hrwlue")},m(o,i){w(o,e,i),r(e,t),r(e,s)},p(o,i){i[0]&128&&n!==(n=(o[7]||"any region")+"")&&U(s,n)},i:ge,o:ge,d(o){o&&k(e)}}}function Ui(l){let e,t,n,s,o,i=(l[179].name||"unnamed")+"",u,a,c,_=l[199]+"",p,m,h,v,g,S;function C(){return l[140](l[199])}let $=l[179].project&&Bi(l);return{c(){e=d("label"),t=d("input"),s=b(),o=d("span"),u=q(i),a=b(),c=d("code"),p=q(_),m=b(),$&&$.c(),h=b(),f(t,"type","radio"),f(t,"name","single-server"),t.checked=n=l[8].has(l[199]),f(t,"class","svelte-1hrwlue"),f(o,"class","server-name svelte-1hrwlue"),f(c,"class","server-ip svelte-1hrwlue"),f(e,"class","server-item svelte-1hrwlue"),we(e,"selected",l[8].has(l[199]))},m(y,T){w(y,e,T),r(e,t),r(e,s),r(e,o),r(o,u),r(e,a),r(e,c),r(c,p),r(e,m),$&&$.m(e,null),r(e,h),v=!0,g||(S=ee(t,"change",C),g=!0)},p(y,T){l=y,(!v||T[0]&256|T[1]&512&&n!==(n=l[8].has(l[199])))&&(t.checked=n),(!v||T[1]&512)&&i!==(i=(l[179].name||"unnamed")+"")&&U(u,i),(!v||T[1]&512)&&_!==(_=l[199]+"")&&U(p,_),l[179].project?$?($.p(l,T),T[1]&512&&P($,1)):($=Bi(l),$.c(),P($,1),$.m(e,h)):$&&(qe(),M($,1,1,()=>{$=null}),je()),(!v||T[0]&256|T[1]&512)&&we(e,"selected",l[8].has(l[199]))},i(y){v||(P($),v=!0)},o(y){M($),v=!1},d(y){y&&k(e),$&&$.d(),g=!1,S()}}}function Bi(l){let e,t;return e=new et({props:{variant:"info",$$slots:{default:[md]},$$scope:{ctx:l}}}),{c(){_e(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[1]&512|s[7]&4&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function md(l){let e=l[179].project+"",t;return{c(){t=q(e)},m(n,s){w(n,t,s)},p(n,s){s[1]&512&&e!==(e=n[179].project+"")&&U(t,e)},d(n){n&&k(t)}}}function Hi(l){let e,t,n=l[199]&&Ui(l);return{c(){n&&n.c(),e=Oe()},m(s,o){n&&n.m(s,o),w(s,e,o),t=!0},p(s,o){s[199]?n?(n.p(s,o),o[1]&512&&P(n,1)):(n=Ui(s),n.c(),P(n,1),n.m(e.parentNode,e)):n&&(qe(),M(n,1,1,()=>{n=null}),je())},i(s){t||(P(n),t=!0)},o(s){M(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Gi(l){let e,t;return e=new et({props:{variant:"warning",$$slots:{default:[vd]},$$scope:{ctx:l}}}),{c(){_e(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[0]&512|s[7]&4&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function vd(l){let e,t;return{c(){e=q(l[9]),t=q(" new")},m(n,s){w(n,e,s),w(n,t,s)},p(n,s){s[0]&512&&U(e,n[9])},d(n){n&&(k(e),k(t))}}}function Wi(l){let e,t,n,s,o,i,u,a,c,_,p,m,h,v,g,S,C,$,y,T,z,E,j=l[0]==="service"||l[0]==="worker"?"s":"",D,I,N,A,Y,F,O=l[9]>0&&Vi(),H=de(l[11]||[]),L=[];for(let J=0;J<H.length;J+=1)L[J]=Ji(Yo(l,H,J));let R=de(l[38]||[]),B=[];for(let J=0;J<R.length;J+=1)B[J]=Ki(Ko(l,R,J));let V=de(l[39]||[]),Q=[];for(let J=0;J<V.length;J+=1)Q[J]=Yi(Jo(l,V,J));function G(J,ae){return J[0]==="stateful"||J[0]==="scheduled"?gd:hd}let oe=G(l),x=oe(l),W=l[9]>0&&!l[6]&&Qi();return{c(){e=d("div"),t=d("div"),n=d("div"),s=d("label"),o=q("Snapshot "),O&&O.c(),i=b(),u=d("select"),a=d("option"),a.textContent="Select snapshot...";for(let J=0;J<L.length;J+=1)L[J].c();c=b(),_=d("div"),p=d("label"),p.textContent="Region",m=b(),h=d("select");for(let J=0;J<B.length;J+=1)B[J].c();v=b(),g=d("div"),S=d("label"),S.textContent="Size",C=b(),$=d("select");for(let J=0;J<Q.length;J+=1)Q[J].c();y=b(),T=d("div"),z=d("span"),E=q("New server"),D=q(j),I=q(" to provision:"),N=b(),x.c(),A=b(),W&&W.c(),f(s,"for","snapshot-select"),f(s,"class","svelte-1hrwlue"),a.__value="",te(a,a.__value),f(u,"id","snapshot-select"),f(u,"class","svelte-1hrwlue"),l[6]===void 0&&Qe(()=>l[143].call(u)),f(n,"class","form-group svelte-1hrwlue"),f(p,"for","region-select"),f(p,"class","svelte-1hrwlue"),f(h,"id","region-select"),f(h,"class","svelte-1hrwlue"),l[7]===void 0&&Qe(()=>l[144].call(h)),f(_,"class","form-group svelte-1hrwlue"),f(S,"for","size-select"),f(S,"class","svelte-1hrwlue"),f($,"id","size-select"),f($,"class","svelte-1hrwlue"),l[37]===void 0&&Qe(()=>l[145].call($)),f(g,"class","form-group svelte-1hrwlue"),f(t,"class","form-row three-col svelte-1hrwlue"),f(T,"class","new-servers svelte-1hrwlue"),f(e,"class","section-content provisioning-config svelte-1hrwlue")},m(J,ae){w(J,e,ae),r(e,t),r(t,n),r(n,s),r(s,o),O&&O.m(s,null),r(n,i),r(n,u),r(u,a);for(let K=0;K<L.length;K+=1)L[K]&&L[K].m(u,null);Ee(u,l[6],!0),r(t,c),r(t,_),r(_,p),r(_,m),r(_,h);for(let K=0;K<B.length;K+=1)B[K]&&B[K].m(h,null);Ee(h,l[7],!0),r(t,v),r(t,g),r(g,S),r(g,C),r(g,$);for(let K=0;K<Q.length;K+=1)Q[K]&&Q[K].m($,null);Ee($,l[37],!0),r(e,y),r(e,T),r(T,z),r(z,E),r(z,D),r(z,I),r(T,N),x.m(T,null),r(T,A),W&&W.m(T,null),Y||(F=[ee(u,"change",l[143]),ee(h,"change",l[144]),ee($,"change",l[145])],Y=!0)},p(J,ae){if(J[9]>0?O||(O=Vi(),O.c(),O.m(s,null)):O&&(O.d(1),O=null),ae[0]&2048){H=de(J[11]||[]);let K;for(K=0;K<H.length;K+=1){const ie=Yo(J,H,K);L[K]?L[K].p(ie,ae):(L[K]=Ji(ie),L[K].c(),L[K].m(u,null))}for(;K<L.length;K+=1)L[K].d(1);L.length=H.length}if(ae[0]&2112&&Ee(u,J[6]),ae[1]&128){R=de(J[38]||[]);let K;for(K=0;K<R.length;K+=1){const ie=Ko(J,R,K);B[K]?B[K].p(ie,ae):(B[K]=Ki(ie),B[K].c(),B[K].m(h,null))}for(;K<B.length;K+=1)B[K].d(1);B.length=R.length}if(ae[0]&128|ae[1]&128&&Ee(h,J[7]),ae[1]&256){V=de(J[39]||[]);let K;for(K=0;K<V.length;K+=1){const ie=Jo(J,V,K);Q[K]?Q[K].p(ie,ae):(Q[K]=Yi(ie),Q[K].c(),Q[K].m($,null))}for(;K<Q.length;K+=1)Q[K].d(1);Q.length=V.length}ae[1]&320&&Ee($,J[37]),ae[0]&1&&j!==(j=J[0]==="service"||J[0]==="worker"?"s":"")&&U(D,j),oe===(oe=G(J))&&x?x.p(J,ae):(x.d(1),x=oe(J),x&&(x.c(),x.m(T,A))),J[9]>0&&!J[6]?W||(W=Qi(),W.c(),W.m(T,null)):W&&(W.d(1),W=null)},d(J){J&&k(e),O&&O.d(),Ne(L,J),Ne(B,J),Ne(Q,J),x.d(),W&&W.d(),Y=!1,Ge(F)}}}function Vi(l){let e;return{c(){e=q("*")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Ji(l){let e,t=l[196].name+"",n,s;return{c(){e=d("option"),n=q(t),e.__value=s=l[196].id,te(e,e.__value)},m(o,i){w(o,e,i),r(e,n)},p(o,i){i[0]&2048&&t!==(t=o[196].name+"")&&U(n,t),i[0]&2048&&s!==(s=o[196].id)&&(e.__value=s,te(e,e.__value))},d(o){o&&k(e)}}}function Ki(l){let e,t=(l[193].name||l[193].slug)+"",n,s;return{c(){e=d("option"),n=q(t),e.__value=s=l[193].slug,te(e,e.__value)},m(o,i){w(o,e,i),r(e,n)},p(o,i){i[1]&128&&t!==(t=(o[193].name||o[193].slug)+"")&&U(n,t),i[1]&128&&s!==(s=o[193].slug)&&(e.__value=s,te(e,e.__value))},d(o){o&&k(e)}}}function Yi(l){let e,t=(l[190].description||l[190].slug)+"",n,s;return{c(){e=d("option"),n=q(t),e.__value=s=l[190].slug,te(e,e.__value)},m(o,i){w(o,e,i),r(e,n)},p(o,i){i[1]&256&&t!==(t=(o[190].description||o[190].slug)+"")&&U(n,t),i[1]&256&&s!==(s=o[190].slug)&&(e.__value=s,te(e,e.__value))},d(o){o&&k(e)}}}function hd(l){let e,t,n,s,o,i,u,a;return{c(){e=d("div"),t=d("button"),t.textContent="−",n=b(),s=d("input"),o=b(),i=d("button"),i.textContent="+",f(t,"type","button"),f(t,"class","svelte-1hrwlue"),f(s,"type","number"),f(s,"min","0"),f(s,"max","10"),f(s,"class","svelte-1hrwlue"),f(i,"type","button"),f(i,"class","svelte-1hrwlue"),f(e,"class","number-spinner svelte-1hrwlue")},m(c,_){w(c,e,_),r(e,t),r(e,n),r(e,s),te(s,l[9]),r(e,o),r(e,i),u||(a=[ee(t,"click",l[147]),ee(s,"input",l[148]),ee(i,"click",l[149])],u=!0)},p(c,_){_[0]&512&&Kt(s.value)!==c[9]&&te(s,c[9])},d(c){c&&k(e),u=!1,Ge(a)}}}function gd(l){let e,t,n,s,o,i,u;return{c(){e=d("label"),t=d("input"),s=b(),o=d("span"),o.textContent="Provision 1 new server",f(t,"type","checkbox"),t.checked=n=l[9]===1,f(t,"class","svelte-1hrwlue"),f(e,"class","checkbox-label svelte-1hrwlue")},m(a,c){w(a,e,c),r(e,t),r(e,s),r(e,o),i||(u=ee(t,"change",l[146]),i=!0)},p(a,c){c[0]&512&&n!==(n=a[9]===1)&&(t.checked=n)},d(a){a&&k(e),i=!1,u()}}}function Qi(l){let e;return{c(){e=d("small"),e.textContent="⚠️ Select a snapshot for new servers",f(e,"class","warning svelte-1hrwlue")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function bd(l){let e;return{c(){e=q("🚀 Deploy")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function kd(l){let e;return{c(){e=q("Deploying...")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function wd(l){let e;function t(o,i){return o[41]?kd:bd}let n=t(l),s=n(l);return{c(){s.c(),e=Oe()},m(o,i){s.m(o,i),w(o,e,i)},p(o,i){n!==(n=t(o))&&(s.d(1),s=n(o),s&&(s.c(),s.m(e.parentNode,e)))},d(o){o&&k(e),s.d(o)}}}function $d(l){let e,t,n,s,o,i,u,a,c,_,p,m,h,v,g,S,C,$,y,T,z,E,j,D,I,N,A,Y,F,O,H,L,R,B=l[0]==="service"||l[0]==="worker"?"s":"",V,Q,G,oe,x,W,J,ae,K,ie,ue,le,me=l[58]?"▼":"▶",re,ne,X,Z,be,$e,We,ft,ht,mt,De=de(l[60]),Ie=[];for(let he=0;he<De.length;he+=1)Ie[he]=ni(li(l,De,he));let ve=l[0]==="stateful"&&si(l),Me=de(l[62]),Re=[];for(let he=0;he<Me.length;he+=1)Re[he]=oi(ti(l,Me,he));let Pe=l[0]==="stateful"&&ii(l),Ue=l[0]!=="stateful"&&ai(l),lt=l[0]==="service"&&Si(l),st=(l[0]==="worker"||l[0]==="scheduled")&&qi(l),ot=l[0]==="scheduled"&&ji(l),Ye=l[0]!=="stateful"&&Ti(l),it=l[0]!=="stateful"&&Ei(l);const yt=[td,ed],jt=[];function Yt(he,Le){return he[0]==="stateful"||he[0]==="scheduled"?0:1}G=Yt(l),oe=jt[G]=yt[G](l);let tt=(l[0]==="service"||l[0]==="worker")&&Mi(l);const Bt=[rd,id],Se=[];function Je(he,Le){return he[0]==="stateful"||he[0]==="scheduled"?0:1}J=Je(l),ae=Se[J]=Bt[J](l);let Ke=l[9]>0&&Gi(l),rt=l[58]&&Wi(l);return We=new Fe({props:{variant:"primary",type:"submit",disabled:l[41],$$slots:{default:[wd]},$$scope:{ctx:l}}}),{c(){e=d("form"),t=d("div");for(let he=0;he<Ie.length;he+=1)Ie[he].c();n=b(),s=d("div"),o=d("div"),i=d("label"),i.textContent="Project *",u=b(),a=d("input"),c=b(),_=d("div"),p=d("label"),p.textContent="Service Name *",m=b(),h=d("input"),g=b(),ve&&ve.c(),S=b(),C=d("div"),$=d("label"),$.textContent="Environment",y=b(),T=d("select");for(let he=0;he<Re.length;he+=1)Re[he].c();z=b(),Pe&&Pe.c(),E=b(),Ue&&Ue.c(),j=b(),lt&&lt.c(),D=b(),st&&st.c(),I=b(),ot&&ot.c(),N=b(),Ye&&Ye.c(),A=b(),it&&it.c(),Y=b(),F=d("div"),O=d("div"),H=d("div"),L=d("span"),R=q("🖥️ Server"),V=q(B),Q=b(),oe.c(),x=b(),tt&&tt.c(),W=b(),ae.c(),K=b(),ie=d("div"),ue=d("button"),le=d("span"),re=q(me),ne=b(),X=d("span"),X.textContent="➕ New Server Provisioning",Z=b(),Ke&&Ke.c(),be=b(),rt&&rt.c(),$e=b(),_e(We.$$.fragment),f(t,"class","deploy-type-selector svelte-1hrwlue"),f(i,"for","deploy-project"),f(i,"class","svelte-1hrwlue"),f(a,"id","deploy-project"),f(a,"type","text"),f(a,"placeholder","my-project"),a.required=!0,f(a,"pattern","[-a-z0-9]*"),f(a,"class","svelte-1hrwlue"),f(o,"class","form-group svelte-1hrwlue"),f(p,"for","deploy-name"),f(p,"class","svelte-1hrwlue"),f(h,"id","deploy-name"),f(h,"type","text"),f(h,"placeholder",v=l[0]==="stateful"?l[1]:"api"),h.required=!0,f(h,"pattern","[-a-z0-9]+"),f(h,"title","Lowercase letters, numbers, hyphens only"),f(h,"class","svelte-1hrwlue"),f(_,"class","form-group svelte-1hrwlue"),f($,"for","deploy-env"),f($,"class","svelte-1hrwlue"),f(T,"id","deploy-env"),f(T,"class","svelte-1hrwlue"),l[5]===void 0&&Qe(()=>l[89].call(T)),f(C,"class","form-group svelte-1hrwlue"),f(s,"class","form-row three-col svelte-1hrwlue"),f(H,"class","server-title svelte-1hrwlue"),f(O,"class","server-header svelte-1hrwlue"),f(le,"class","toggle-icon svelte-1hrwlue"),f(ue,"type","button"),f(ue,"class","section-toggle svelte-1hrwlue"),f(ie,"class","collapsible-section svelte-1hrwlue"),we(ie,"expanded",l[58]),f(F,"class","server-selection svelte-1hrwlue")},m(he,Le){w(he,e,Le),r(e,t);for(let ct=0;ct<Ie.length;ct+=1)Ie[ct]&&Ie[ct].m(t,null);r(e,n),r(e,s),r(s,o),r(o,i),r(o,u),r(o,a),te(a,l[4]),r(s,c),r(s,_),r(_,p),r(_,m),r(_,h),te(h,l[3]),r(_,g),ve&&ve.m(_,null),r(s,S),r(s,C),r(C,$),r(C,y),r(C,T);for(let ct=0;ct<Re.length;ct+=1)Re[ct]&&Re[ct].m(T,null);Ee(T,l[5],!0),r(e,z),Pe&&Pe.m(e,null),r(e,E),Ue&&Ue.m(e,null),r(e,j),lt&&lt.m(e,null),r(e,D),st&&st.m(e,null),r(e,I),ot&&ot.m(e,null),r(e,N),Ye&&Ye.m(e,null),r(e,A),it&&it.m(e,null),r(e,Y),r(e,F),r(F,O),r(O,H),r(H,L),r(L,R),r(L,V),r(H,Q),jt[G].m(H,null),r(O,x),tt&&tt.m(O,null),r(F,W),Se[J].m(F,null),r(F,K),r(F,ie),r(ie,ue),r(ue,le),r(le,re),r(ue,ne),r(ue,X),r(ue,Z),Ke&&Ke.m(ue,null),r(ie,be),rt&&rt.m(ie,null),r(e,$e),fe(We,e,null),ft=!0,ht||(mt=[ee(a,"input",l[87]),ee(h,"input",l[88]),ee(T,"change",l[89]),ee(ue,"click",l[142]),ee(e,"submit",l[81])],ht=!0)},p(he,Le){if(Le[0]&1|Le[1]&1610612736){De=de(he[60]);let Ze;for(Ze=0;Ze<De.length;Ze+=1){const Vt=li(he,De,Ze);Ie[Ze]?Ie[Ze].p(Vt,Le):(Ie[Ze]=ni(Vt),Ie[Ze].c(),Ie[Ze].m(t,null))}for(;Ze<Ie.length;Ze+=1)Ie[Ze].d(1);Ie.length=De.length}if(Le[0]&16&&a.value!==he[4]&&te(a,he[4]),(!ft||Le[0]&3&&v!==(v=he[0]==="stateful"?he[1]:"api"))&&f(h,"placeholder",v),Le[0]&8&&h.value!==he[3]&&te(h,he[3]),he[0]==="stateful"?ve?ve.p(he,Le):(ve=si(he),ve.c(),ve.m(_,null)):ve&&(ve.d(1),ve=null),Le[2]&1){Me=de(he[62]);let Ze;for(Ze=0;Ze<Me.length;Ze+=1){const Vt=ti(he,Me,Ze);Re[Ze]?Re[Ze].p(Vt,Le):(Re[Ze]=oi(Vt),Re[Ze].c(),Re[Ze].m(T,null))}for(;Ze<Re.length;Ze+=1)Re[Ze].d(1);Re.length=Me.length}Le[0]&32|Le[2]&1&&Ee(T,he[5]),he[0]==="stateful"?Pe?Pe.p(he,Le):(Pe=ii(he),Pe.c(),Pe.m(e,E)):Pe&&(Pe.d(1),Pe=null),he[0]!=="stateful"?Ue?(Ue.p(he,Le),Le[0]&1&&P(Ue,1)):(Ue=ai(he),Ue.c(),P(Ue,1),Ue.m(e,j)):Ue&&(qe(),M(Ue,1,1,()=>{Ue=null}),je()),he[0]==="service"?lt?lt.p(he,Le):(lt=Si(he),lt.c(),lt.m(e,D)):lt&&(lt.d(1),lt=null),he[0]==="worker"||he[0]==="scheduled"?st?st.p(he,Le):(st=qi(he),st.c(),st.m(e,I)):st&&(st.d(1),st=null),he[0]==="scheduled"?ot?ot.p(he,Le):(ot=ji(he),ot.c(),ot.m(e,N)):ot&&(ot.d(1),ot=null),he[0]!=="stateful"?Ye?(Ye.p(he,Le),Le[0]&1&&P(Ye,1)):(Ye=Ti(he),Ye.c(),P(Ye,1),Ye.m(e,A)):Ye&&(qe(),M(Ye,1,1,()=>{Ye=null}),je()),he[0]!=="stateful"?it?(it.p(he,Le),Le[0]&1&&P(it,1)):(it=Ei(he),it.c(),P(it,1),it.m(e,Y)):it&&(qe(),M(it,1,1,()=>{it=null}),je()),(!ft||Le[0]&1)&&B!==(B=he[0]==="service"||he[0]==="worker"?"s":"")&&U(V,B);let ct=G;G=Yt(he),G===ct?jt[G].p(he,Le):(qe(),M(jt[ct],1,1,()=>{jt[ct]=null}),je(),oe=jt[G],oe?oe.p(he,Le):(oe=jt[G]=yt[G](he),oe.c()),P(oe,1),oe.m(H,null)),he[0]==="service"||he[0]==="worker"?tt?(tt.p(he,Le),Le[0]&1&&P(tt,1)):(tt=Mi(he),tt.c(),P(tt,1),tt.m(O,null)):tt&&(qe(),M(tt,1,1,()=>{tt=null}),je());let Ht=J;J=Je(he),J===Ht?Se[J].p(he,Le):(qe(),M(Se[Ht],1,1,()=>{Se[Ht]=null}),je(),ae=Se[J],ae?ae.p(he,Le):(ae=Se[J]=Bt[J](he),ae.c()),P(ae,1),ae.m(F,K)),(!ft||Le[1]&134217728)&&me!==(me=he[58]?"▼":"▶")&&U(re,me),he[9]>0?Ke?(Ke.p(he,Le),Le[0]&512&&P(Ke,1)):(Ke=Gi(he),Ke.c(),P(Ke,1),Ke.m(ue,null)):Ke&&(qe(),M(Ke,1,1,()=>{Ke=null}),je()),he[58]?rt?rt.p(he,Le):(rt=Wi(he),rt.c(),rt.m(ie,null)):rt&&(rt.d(1),rt=null),(!ft||Le[1]&134217728)&&we(ie,"expanded",he[58]);const Wt={};Le[1]&1024&&(Wt.disabled=he[41]),Le[1]&1024|Le[7]&4&&(Wt.$$scope={dirty:Le,ctx:he}),We.$set(Wt)},i(he){ft||(P(Ue),P(Ye),P(it),P(oe),P(tt),P(ae),P(Ke),P(We.$$.fragment,he),ft=!0)},o(he){M(Ue),M(Ye),M(it),M(oe),M(tt),M(ae),M(Ke),M(We.$$.fragment,he),ft=!1},d(he){he&&k(e),Ne(Ie,he),ve&&ve.d(),Ne(Re,he),Pe&&Pe.d(),Ue&&Ue.d(),lt&&lt.d(),st&&st.d(),ot&&ot.d(),Ye&&Ye.d(),it&&it.d(),jt[G].d(),tt&&tt.d(),Se[J].d(),Ke&&Ke.d(),rt&&rt.d(),ce(We),ht=!1,Ge(mt)}}}function Cd(l){let e;return{c(){e=d("div"),e.innerHTML='<p>No deployment in progress</p> <p class="hint svelte-1hrwlue">Fill in the form and click Deploy to start</p>',f(e,"class","empty-state svelte-1hrwlue")},m(t,n){w(t,e,n)},p:ge,d(t){t&&k(e)}}}function yd(l){let e,t,n,s,o,i,u=de(l[43]),a=[];for(let m=0;m<u.length;m+=1)a[m]=Zi(Vo(l,u,m));function c(m,h){if(m[44]&&m[44].success)return qd;if(m[44]&&!m[44].success)return Sd}let _=c(l),p=_&&_(l);return{c(){e=d("div"),t=d("div"),n=d("div"),s=b(),o=d("div");for(let m=0;m<a.length;m+=1)a[m].c();i=b(),p&&p.c(),f(n,"class","progress-fill svelte-1hrwlue"),Pt(n,"width",l[42]+"%"),f(t,"class","progress-bar svelte-1hrwlue"),f(o,"class","log-output svelte-1hrwlue"),f(e,"class","progress-section svelte-1hrwlue")},m(m,h){w(m,e,h),r(e,t),r(t,n),r(e,s),r(e,o);for(let v=0;v<a.length;v+=1)a[v]&&a[v].m(o,null);r(e,i),p&&p.m(e,null)},p(m,h){if(h[1]&2048&&Pt(n,"width",m[42]+"%"),h[1]&4096){u=de(m[43]);let v;for(v=0;v<u.length;v+=1){const g=Vo(m,u,v);a[v]?a[v].p(g,h):(a[v]=Zi(g),a[v].c(),a[v].m(o,null))}for(;v<a.length;v+=1)a[v].d(1);a.length=u.length}_===(_=c(m))&&p?p.p(m,h):(p&&p.d(1),p=_&&_(m),p&&(p.c(),p.m(e,null)))},d(m){m&&k(e),Ne(a,m),p&&p.d()}}}function Zi(l){let e,t,n=l[83].time.toLocaleTimeString()+"",s,o,i,u=fr(l[83].message)+"",a,c;return{c(){e=d("div"),t=d("span"),s=q(n),o=b(),i=new ic(!1),a=b(),f(t,"class","log-time svelte-1hrwlue"),i.a=a,f(e,"class",c="log-line "+l[83].type+" svelte-1hrwlue")},m(_,p){w(_,e,p),r(e,t),r(t,s),r(e,o),i.m(u,e),r(e,a)},p(_,p){p[1]&4096&&n!==(n=_[83].time.toLocaleTimeString()+"")&&U(s,n),p[1]&4096&&u!==(u=fr(_[83].message)+"")&&i.p(u),p[1]&4096&&c!==(c="log-line "+_[83].type+" svelte-1hrwlue")&&f(e,"class",c)},d(_){_&&k(e)}}}function Sd(l){let e,t,n,s,o,i=l[5].toUpperCase()+"",u,a,c,_=l[44].error&&Xi(l);function p(v,g){return v[44].servers&&v[44].servers.length>0?Td:jd}let m=p(l),h=m(l);return{c(){e=d("div"),t=d("div"),n=d("h4"),n.textContent="❌ Deployment Failed",s=b(),o=d("span"),u=q(i),a=b(),_&&_.c(),c=b(),h.c(),f(n,"class","svelte-1hrwlue"),f(o,"class","env-badge svelte-1hrwlue"),f(t,"class","result-header svelte-1hrwlue"),f(e,"class","deploy-failure-box svelte-1hrwlue")},m(v,g){w(v,e,g),r(e,t),r(t,n),r(t,s),r(t,o),r(o,u),r(e,a),_&&_.m(e,null),r(e,c),h.m(e,null)},p(v,g){g[0]&32&&i!==(i=v[5].toUpperCase()+"")&&U(u,i),v[44].error?_?_.p(v,g):(_=Xi(v),_.c(),_.m(e,c)):_&&(_.d(1),_=null),m===(m=p(v))&&h?h.p(v,g):(h.d(1),h=m(v),h&&(h.c(),h.m(e,null)))},d(v){v&&k(e),_&&_.d(),h.d()}}}function qd(l){let e,t,n,s,o,i=l[5].toUpperCase()+"",u,a,c,_,p=l[44].domain&&tr(l),m=l[44].connection_url&&lr(l),h=l[44].servers&&l[44].servers.length>0&&nr(l);return{c(){e=d("div"),t=d("div"),n=d("h4"),n.textContent="✅ Deployment Complete",s=b(),o=d("span"),u=q(i),a=b(),p&&p.c(),c=b(),m&&m.c(),_=b(),h&&h.c(),f(n,"class","svelte-1hrwlue"),f(o,"class","env-badge svelte-1hrwlue"),f(t,"class","result-header svelte-1hrwlue"),f(e,"class","deploy-success-box svelte-1hrwlue")},m(v,g){w(v,e,g),r(e,t),r(t,n),r(t,s),r(t,o),r(o,u),r(e,a),p&&p.m(e,null),r(e,c),m&&m.m(e,null),r(e,_),h&&h.m(e,null)},p(v,g){g[0]&32&&i!==(i=v[5].toUpperCase()+"")&&U(u,i),v[44].domain?p?p.p(v,g):(p=tr(v),p.c(),p.m(e,c)):p&&(p.d(1),p=null),v[44].connection_url?m?m.p(v,g):(m=lr(v),m.c(),m.m(e,_)):m&&(m.d(1),m=null),v[44].servers&&v[44].servers.length>0?h?h.p(v,g):(h=nr(v),h.c(),h.m(e,null)):h&&(h.d(1),h=null)},d(v){v&&k(e),p&&p.d(),m&&m.d(),h&&h.d()}}}function Xi(l){let e,t=l[44].error+"",n;return{c(){e=d("p"),n=q(t)},m(s,o){w(s,e,o),r(e,n)},p(s,o){o[1]&8192&&t!==(t=s[44].error+"")&&U(n,t)},d(s){s&&k(e)}}}function jd(l){let e;return{c(){e=d("p"),e.textContent="No server details available",Pt(e,"margin-top","8px"),Pt(e,"opacity","0.8")},m(t,n){w(t,e,n)},p:ge,d(t){t&&k(e)}}}function Td(l){let e,t,n,s,o=de(l[44].servers),i=[];for(let u=0;u<o.length;u+=1)i[u]=er(Ho(l,o,u));return{c(){e=d("div"),t=d("span"),t.textContent="Server Status:",n=b(),s=d("div");for(let u=0;u<i.length;u+=1)i[u].c();f(t,"class","result-label svelte-1hrwlue"),f(s,"class","server-links svelte-1hrwlue"),f(e,"class","result-section svelte-1hrwlue"),Pt(e,"margin-top","12px")},m(u,a){w(u,e,a),r(e,t),r(e,n),r(e,s);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(s,null)},p(u,a){if(a[0]&8|a[1]&8192){o=de(u[44].servers);let c;for(c=0;c<o.length;c+=1){const _=Ho(u,o,c);i[c]?i[c].p(_,a):(i[c]=er(_),i[c].c(),i[c].m(s,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=o.length}},d(u){u&&k(e),Ne(i,u)}}}function zd(l){let e,t=l[179].ip+"",n,s,o=l[179].error&&xi(l);return{c(){e=q("❌ "),n=q(t),o&&o.c(),s=Oe()},m(i,u){w(i,e,u),w(i,n,u),o&&o.m(i,u),w(i,s,u)},p(i,u){u[1]&8192&&t!==(t=i[179].ip+"")&&U(n,t),i[179].error?o?o.p(i,u):(o=xi(i),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},d(i){i&&(k(e),k(n),k(s)),o&&o.d(i)}}}function Dd(l){let e,t=l[179].ip+"",n;return{c(){e=q("✅ "),n=q(t)},m(s,o){w(s,e,o),w(s,n,o)},p(s,o){o[1]&8192&&t!==(t=s[179].ip+"")&&U(n,t)},d(s){s&&(k(e),k(n))}}}function xi(l){let e,t=l[179].error+"",n;return{c(){e=q(": "),n=q(t)},m(s,o){w(s,e,o),w(s,n,o)},p(s,o){o[1]&8192&&t!==(t=s[179].error+"")&&U(n,t)},d(s){s&&(k(e),k(n))}}}function er(l){let e,t,n,s,o,i,u;function a(m,h){return m[179].success?Dd:zd}let c=a(l),_=c(l);function p(){return l[153](l[179])}return{c(){e=d("div"),t=d("span"),_.c(),n=b(),s=d("button"),s.textContent="📋 Logs",o=b(),f(s,"class","log-btn svelte-1hrwlue"),f(e,"class","server-link-row svelte-1hrwlue")},m(m,h){w(m,e,h),r(e,t),_.m(t,null),r(e,n),r(e,s),r(e,o),i||(u=ee(s,"click",p),i=!0)},p(m,h){l=m,c===(c=a(l))&&_?_.p(l,h):(_.d(1),_=c(l),_&&(_.c(),_.m(t,null)))},d(m){m&&k(e),_.d(),i=!1,u()}}}function tr(l){let e,t,n,s,o,i=l[44].domain+"",u,a;return{c(){e=d("div"),t=d("span"),t.textContent="🌐 Domain:",n=b(),s=d("a"),o=q("https://"),u=q(i),f(t,"class","result-label svelte-1hrwlue"),f(s,"href",a="https://"+l[44].domain),f(s,"target","_blank"),f(s,"class","result-link svelte-1hrwlue"),f(e,"class","result-section svelte-1hrwlue")},m(c,_){w(c,e,_),r(e,t),r(e,n),r(e,s),r(s,o),r(s,u)},p(c,_){_[1]&8192&&i!==(i=c[44].domain+"")&&U(u,i),_[1]&8192&&a!==(a="https://"+c[44].domain)&&f(s,"href",a)},d(c){c&&k(e)}}}function lr(l){let e,t,n,s,o,i=(l[44].env_var_name||"URL")+"",u,a,c=l[44].connection_url+"",_,p,m,h,v;return{c(){e=d("div"),t=d("span"),t.textContent="Connection:",n=b(),s=d("div"),o=d("code"),u=q(i),a=q("="),_=q(c),p=b(),m=d("button"),m.textContent="📋 Copy",f(t,"class","result-label svelte-1hrwlue"),f(o,"class","connection-url svelte-1hrwlue"),f(m,"class","copy-btn svelte-1hrwlue"),f(s,"class","connection-info svelte-1hrwlue"),f(e,"class","result-section svelte-1hrwlue")},m(g,S){w(g,e,S),r(e,t),r(e,n),r(e,s),r(s,o),r(o,u),r(o,a),r(o,_),r(s,p),r(s,m),h||(v=ee(m,"click",l[150]),h=!0)},p(g,S){S[1]&8192&&i!==(i=(g[44].env_var_name||"URL")+"")&&U(u,i),S[1]&8192&&c!==(c=g[44].connection_url+"")&&U(_,c)},d(g){g&&k(e),h=!1,v()}}}function nr(l){let e,t,n=l[0]==="stateful"?"TCP Endpoint:":"Servers:",s,o,i,u,a=l[44].servers.some(cr),c,_=de(l[44].servers.filter(vr)),p=[];for(let h=0;h<_.length;h+=1)p[h]=sr(Wo(l,_,h));let m=a&&or(l);return{c(){e=d("div"),t=d("span"),s=q(n),o=b(),i=d("div");for(let h=0;h<p.length;h+=1)p[h].c();u=b(),m&&m.c(),c=Oe(),f(t,"class","result-label svelte-1hrwlue"),f(i,"class","server-links svelte-1hrwlue"),f(e,"class","result-section svelte-1hrwlue")},m(h,v){w(h,e,v),r(e,t),r(t,s),r(e,o),r(e,i);for(let g=0;g<p.length;g+=1)p[g]&&p[g].m(i,null);w(h,u,v),m&&m.m(h,v),w(h,c,v)},p(h,v){if(v[0]&1&&n!==(n=h[0]==="stateful"?"TCP Endpoint:":"Servers:")&&U(s,n),v[0]&9|v[1]&8192){_=de(h[44].servers.filter(vr));let g;for(g=0;g<_.length;g+=1){const S=Wo(h,_,g);p[g]?p[g].p(S,v):(p[g]=sr(S),p[g].c(),p[g].m(i,null))}for(;g<p.length;g+=1)p[g].d(1);p.length=_.length}v[1]&8192&&(a=h[44].servers.some(cr)),a?m?m.p(h,v):(m=or(h),m.c(),m.m(c.parentNode,c)):m&&(m.d(1),m=null)},d(h){h&&(k(e),k(u),k(c)),Ne(p,h),m&&m.d(h)}}}function Ed(l){let e,t=l[179].url+"",n,s;return{c(){e=d("a"),n=q(t),f(e,"href",s=l[179].url),f(e,"target","_blank"),f(e,"class","result-link svelte-1hrwlue")},m(o,i){w(o,e,i),r(e,n)},p(o,i){i[1]&8192&&t!==(t=o[179].url+"")&&U(n,t),i[1]&8192&&s!==(s=o[179].url)&&f(e,"href",s)},d(o){o&&k(e)}}}function Ld(l){var s;let e,t=(((s=l[179].url)==null?void 0:s.replace("http://",""))||`${l[179].ip}:${l[44].host_port||l[179].host_port}`)+"",n;return{c(){e=d("code"),n=q(t),f(e,"class","tcp-endpoint svelte-1hrwlue")},m(o,i){w(o,e,i),r(e,n)},p(o,i){var u;i[1]&8192&&t!==(t=(((u=o[179].url)==null?void 0:u.replace("http://",""))||`${o[179].ip}:${o[44].host_port||o[179].host_port}`)+"")&&U(n,t)},d(o){o&&k(e)}}}function sr(l){let e,t,n,s,o,i;function u(p,m){return p[0]==="stateful"?Ld:Ed}let a=u(l),c=a(l);function _(){return l[151](l[179])}return{c(){e=d("div"),c.c(),t=b(),n=d("button"),n.textContent="📋 Logs",s=b(),f(n,"class","log-btn svelte-1hrwlue"),f(e,"class","server-link-row svelte-1hrwlue")},m(p,m){w(p,e,m),c.m(e,null),r(e,t),r(e,n),r(e,s),o||(i=ee(n,"click",_),o=!0)},p(p,m){l=p,a===(a=u(l))&&c?c.p(l,m):(c.d(1),c=a(l),c&&(c.c(),c.m(e,t)))},d(p){p&&k(e),c.d(),o=!1,i()}}}function or(l){let e,t,n,s=de(l[44].servers.filter(hr)),o=[];for(let i=0;i<s.length;i+=1)o[i]=ir(Go(l,s,i));return{c(){e=d("div"),t=d("span"),t.textContent="Failed Servers:",n=b();for(let i=0;i<o.length;i+=1)o[i].c();f(t,"class","result-label svelte-1hrwlue"),Pt(t,"color","#fef3c7"),f(e,"class","failed-servers-section svelte-1hrwlue")},m(i,u){w(i,e,u),r(e,t),r(e,n);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(e,null)},p(i,u){if(u[0]&8|u[1]&8192){s=de(i[44].servers.filter(hr));let a;for(a=0;a<s.length;a+=1){const c=Go(i,s,a);o[a]?o[a].p(c,u):(o[a]=ir(c),o[a].c(),o[a].m(e,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=s.length}},d(i){i&&k(e),Ne(o,i)}}}function ir(l){let e,t,n,s=l[179].ip+"",o,i,u=(l[179].error||"Unknown error")+"",a,c,_,p,m,h;function v(){return l[152](l[179])}return{c(){e=d("div"),t=d("span"),n=q("❌ "),o=q(s),i=q(": "),a=q(u),c=b(),_=d("button"),_.textContent="📋 Logs",p=b(),Pt(t,"color","#fef3c7"),f(_,"class","log-btn svelte-1hrwlue"),f(e,"class","server-link-row svelte-1hrwlue")},m(g,S){w(g,e,S),r(e,t),r(t,n),r(t,o),r(t,i),r(t,a),r(e,c),r(e,_),r(e,p),m||(h=ee(_,"click",v),m=!0)},p(g,S){l=g,S[1]&8192&&s!==(s=l[179].ip+"")&&U(o,s),S[1]&8192&&u!==(u=(l[179].error||"Unknown error")+"")&&U(a,u)},d(g){g&&k(e),m=!1,h()}}}function Pd(l){let e;function t(o,i){return o[41]||o[43].length>0?yd:Cd}let n=t(l),s=n(l);return{c(){s.c(),e=Oe()},m(o,i){s.m(o,i),w(o,e,i)},p(o,i){n===(n=t(o))&&s?s.p(o,i):(s.d(1),s=n(o),s&&(s.c(),s.m(e.parentNode,e)))},d(o){o&&k(e),s.d(o)}}}function rr(l){let e,t,n=(l[179].name||l[179].ip)+"",s,o,i,u=l[179].ip+"",a,c;return{c(){e=d("div"),t=d("span"),s=q(n),o=b(),i=d("span"),a=q(u),c=b(),f(t,"class","server-name svelte-1hrwlue"),f(i,"class","server-ip svelte-1hrwlue"),f(e,"class","cleanup-server-item svelte-1hrwlue")},m(_,p){w(_,e,p),r(e,t),r(t,s),r(e,o),r(e,i),r(i,a),r(e,c)},p(_,p){p[1]&32768&&n!==(n=(_[179].name||_[179].ip)+"")&&U(s,n),p[1]&32768&&u!==(u=_[179].ip+"")&&U(a,u)},d(_){_&&k(e)}}}function Nd(l){let e,t,n,s,o=l[46].length+[...l[8]].length+"",i,u,a,c=[...l[8]].length+"",_,p,m,h,v,g,S=de(l[46]),C=[];for(let $=0;$<S.length;$+=1)C[$]=rr(Bo(l,S,$));return{c(){e=d("div"),t=d("p"),n=q("This service is currently running on "),s=d("strong"),i=q(o),u=q(` servers.
      You're deploying to `),a=d("strong"),_=q(c),p=q(" servers."),m=b(),h=d("p"),h.textContent="Stop containers on the following servers?",v=b(),g=d("div");for(let $=0;$<C.length;$+=1)C[$].c();f(t,"class","svelte-1hrwlue"),f(h,"class","svelte-1hrwlue"),f(g,"class","cleanup-server-list svelte-1hrwlue"),f(e,"class","cleanup-confirm-content svelte-1hrwlue")},m($,y){w($,e,y),r(e,t),r(t,n),r(t,s),r(s,i),r(t,u),r(t,a),r(a,_),r(t,p),r(e,m),r(e,h),r(e,v),r(e,g);for(let T=0;T<C.length;T+=1)C[T]&&C[T].m(g,null)},p($,y){if(y[0]&256|y[1]&32768&&o!==(o=$[46].length+[...$[8]].length+"")&&U(i,o),y[0]&256&&c!==(c=[...$[8]].length+"")&&U(_,c),y[1]&32768){S=de($[46]);let T;for(T=0;T<S.length;T+=1){const z=Bo($,S,T);C[T]?C[T].p(z,y):(C[T]=rr(z),C[T].c(),C[T].m(g,null))}for(;T<C.length;T+=1)C[T].d(1);C.length=S.length}},d($){$&&k(e),Ne(C,$)}}}function Rd(l){let e;return{c(){e=q("Proceed")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Ad(l){let e;return{c(){e=q("Cancel")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Md(l){let e,t,n,s,o;return t=new Fe({props:{variant:"primary",$$slots:{default:[Rd]},$$scope:{ctx:l}}}),t.$on("click",l[82]),s=new Fe({props:{variant:"ghost",$$slots:{default:[Ad]},$$scope:{ctx:l}}}),s.$on("click",l[154]),{c(){e=d("div"),_e(t.$$.fragment),n=b(),_e(s.$$.fragment),f(e,"slot","footer")},m(i,u){w(i,e,u),fe(t,e,null),r(e,n),fe(s,e,null),o=!0},p(i,u){const a={};u[7]&4&&(a.$$scope={dirty:u,ctx:i}),t.$set(a);const c={};u[7]&4&&(c.$$scope={dirty:u,ctx:i}),s.$set(c)},i(i){o||(P(t.$$.fragment,i),P(s.$$.fragment,i),o=!0)},o(i){M(t.$$.fragment,i),M(s.$$.fragment,i),o=!1},d(i){i&&k(e),ce(t),ce(s)}}}function Od(l){let e,t,n,s,o,i,u,a,c;n=new dt({props:{title:"🚀 Deploy",$$slots:{default:[$d]},$$scope:{ctx:l}}}),o=new dt({props:{title:"📋 Deployment Progress",$$slots:{default:[Pd]},$$scope:{ctx:l}}});function _(m){l[155](m)}let p={title:"⚠️ Service Already Running",width:"500px",$$slots:{footer:[Md],default:[Nd]},$$scope:{ctx:l}};return l[45]!==void 0&&(p.open=l[45]),u=new ol({props:p}),Ut.push(()=>pl(u,"open",_)),u.$on("close",l[156]),{c(){e=d("div"),t=d("div"),_e(n.$$.fragment),s=b(),_e(o.$$.fragment),i=b(),_e(u.$$.fragment),f(t,"class","deploy-grid svelte-1hrwlue"),f(e,"class","deploy-page svelte-1hrwlue")},m(m,h){w(m,e,h),r(e,t),fe(n,t,null),r(t,s),fe(o,t,null),w(m,i,h),fe(u,m,h),c=!0},p(m,h){const v={};h[0]&2147483647|h[1]&536741887|h[7]&4&&(v.$$scope={dirty:h,ctx:m}),n.$set(v);const g={};h[0]&41|h[1]&15360|h[7]&4&&(g.$$scope={dirty:h,ctx:m}),o.$set(g);const S={};h[0]&256|h[1]&114688|h[7]&4&&(S.$$scope={dirty:h,ctx:m}),!a&&h[1]&16384&&(a=!0,S.open=m[45],dl(()=>a=!1)),u.$set(S)},i(m){c||(P(n.$$.fragment,m),P(o.$$.fragment,m),P(u.$$.fragment,m),c=!0)},o(m){M(n.$$.fragment,m),M(o.$$.fragment,m),M(u.$$.fragment,m),c=!1},d(m){m&&(k(e),k(i)),ce(n),ce(o),ce(u,m)}}}function Id(l){l.preventDefault(),l.stopPropagation()}async function Yu(l,e){const t=[],n=l.createReader();let s=[],o;do o=await new Promise((i,u)=>{n.readEntries(i,u)}),s=s.concat(o);while(o.length>0);for(const i of s){const u=e?`${e}/${i.name}`:i.name;if(i.isFile){const a=await new Promise((c,_)=>{i.file(c,_)});a._relativePath=u,t.push(a)}else if(i.isDirectory){const a=await Yu(i,u);t.push(...a)}}return t}function ar(l){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>e(new Uint8Array(n.result)),n.onerror=t,n.readAsArrayBuffer(l)})}function ur(l){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>e(n.result),n.onerror=t,n.readAsText(l)})}function fr(l){if(!l)return"";const e=/(https?:\/\/[^\s]+)/g;return l.replace(e,'<a href="$1" target="_blank" class="log-link">$1</a>')}const cr=l=>!l.success,_r=l=>l,Fd=l=>l.isMain,dr=l=>l.isMain,pr=l=>l.isMain,mr=l=>l.trim(),vr=l=>l.success,hr=l=>!l.success;function Ud(l,e,t){let n,s,o;vt(l,A1,se=>t(11,s=se)),vt(l,vn,se=>t(85,o=se));let i="service";const u=[{value:"stateful",label:"🗄️ Stateful",description:"Database or cache (postgres, redis...)"},{value:"service",label:"🌐 Service",description:"Web app with HTTP port & domain"},{value:"worker",label:"⚙️ Worker",description:"Background job processor"},{value:"scheduled",label:"⏰ Scheduled",description:"Cron job / periodic task"}];let a="redis",c=[{value:"redis",label:"⚡ Redis",port:6379,image:"redis:7-alpine",description:"In-memory cache & pub/sub"},{value:"postgres",label:"🐘 PostgreSQL",port:5432,image:"postgres:16-alpine",description:"Relational database"},{value:"mysql",label:"🐬 MySQL",port:3306,image:"mysql:8",description:"Relational database"},{value:"mongo",label:"🍃 MongoDB",port:27017,image:"mongo:7",description:"Document database"},{value:"opensearch",label:"🔍 OpenSearch",port:9200,image:"opensearchproject/opensearch:2",description:"Search & analytics"},{value:"qdrant",label:"🧠 Qdrant",port:6333,image:"qdrant/qdrant:latest",description:"Vector database for AI"}],_="",p="",m="",h="",v="prod",g="",S="code",C=8e3,$="",y="",T="main",z="",E=[],j="",D="",I=null,N="",A="",Y="",F=[],O=null,H=null,L=!0,R=!1,B="",V="",Q=!1,G="",oe="",x="",W="lon1",J="s-1vcpu-2gb",ae=[],K=[],ie=[],ue=!1,le=0,me=[],re=new Set,ne=0,X=null;function Z(se){i!==se&&(t(0,i=se),t(3,m=""),t(4,h=""),t(5,v="prod"),re.clear(),t(8,re),t(0,i),t(9,ne),t(9,ne=0),se==="stateful"&&t(9,ne=1))}let be=!1,$e=[],We=null,ft=!0,ht=!0,mt={postgres:!1,redis:!1,mysql:!1,mongo:!1},De=!0,Ie="digitalpixo.com",ve="",Me="",Re=!1,Pe=["node_modules/","__pycache__/","*.pyc",".git/",".venv/","venv/",".env",".DS_Store",".idea/",".vscode/","dist/","build/",".pytest_cache/",".mypy_cache/"],Ue=Pe.join(`
`),lt=!1,st=!1,ot=!1;const Ye=[...Pe],it=["dev","test","staging","uat","prod"];kl(()=>{xt.refresh().catch(()=>{}),mn.refresh().catch(()=>{}),jt()});let yt=null;async function jt(){var se;try{try{const pe=await He("GET","/infra/regions");t(38,ae=pe.regions||pe||[])}catch{t(38,ae=[{slug:"nyc1",name:"New York 1"},{slug:"nyc3",name:"New York 3"},{slug:"sfo3",name:"San Francisco 3"},{slug:"ams3",name:"Amsterdam 3"},{slug:"sgp1",name:"Singapore 1"},{slug:"lon1",name:"London 1"},{slug:"fra1",name:"Frankfurt 1"}])}try{const pe=await He("GET","/infra/sizes");t(39,K=pe.sizes||pe||[])}catch{t(39,K=[{slug:"s-1vcpu-512mb-10gb",description:"$4/mo - 512MB / 1 vCPU"},{slug:"s-1vcpu-1gb",description:"$6/mo - 1GB / 1 vCPU"},{slug:"s-1vcpu-2gb",description:"$12/mo - 2GB / 1 vCPU"},{slug:"s-2vcpu-2gb",description:"$18/mo - 2GB / 2 vCPU"},{slug:"s-2vcpu-4gb",description:"$24/mo - 4GB / 2 vCPU"},{slug:"s-4vcpu-8gb",description:"$48/mo - 8GB / 4 vCPU"}])}try{const pe=await He("GET","/infra/stateful-types");((se=pe.types)==null?void 0:se.length)>0&&t(2,c=pe.types)}catch{console.warn("Using fallback stateful types")}}catch(pe){console.error("Failed to load regions/sizes:",pe)}}async function Yt(){var se;if(!m){ke.warning("Enter app name first");return}t(53,Me="Loading...");try{const Ce=await He("GET",`/infra/deploy-configs/${h||"default"}/${m}/${v}`);Bt(Ce),t(53,Me="✓ Loaded"),ke.success("Config loaded")}catch(pe){(se=pe.message)!=null&&se.includes("404")?(t(53,Me="No saved config"),ke.info("No saved config found")):(t(53,Me="Load failed"),ke.error("Failed to load config"))}}async function tt(){try{const pe=await He("GET",`/infra/deploy-configs/${h||"default"}/${m}/${v}`);Bt(pe),t(53,Me="✓ Auto-loaded")}catch{t(53,Me="")}}function Bt(se){var pe,Ce;se.source_type&&t(15,S={folder:"code",git:"git",image:"image"}[se.source_type]||se.source_type),se.git_url&&t(18,y=se.git_url),se.git_branch&&t(19,T=se.git_branch),se.port&&t(16,C=se.port),se.env_vars&&Object.keys(se.env_vars).length>0&&t(17,$=Object.entries(se.env_vars).map(([Ae,Ve])=>`${Ae}=${Ve}`).join(`
`)),((pe=se.exclude_patterns)==null?void 0:pe.length)>0&&(Pe=se.exclude_patterns,t(55,Ue=Pe.join(`
`))),((Ce=se.server_ips)==null?void 0:Ce.length)>0&&t(8,re=new Set(se.server_ips))}async function Se(){if(!m){ke.warning("Enter app name first");return}t(53,Me="Saving...");const se={};for(const Ae of $.split(`
`)){const Ve=Ae.trim();if(Ve&&Ve.includes("=")){const[$t,...pt]=Ve.split("=");se[$t.trim()]=pt.join("=").trim()}}const pe=Ue.split(`
`).map(Ae=>Ae.trim()).filter(Boolean),Ce={project_name:h||"default",service_name:m,env:v,source_type:S==="code"?"folder":S,git_url:y||null,git_branch:T||"main",exclude_patterns:pe.length>0?pe:Ye,port:C,env_vars:se,server_ips:Array.from(re)};try{await He("POST","/infra/deploy-configs",Ce),t(53,Me="✓ Saved"),ke.success("Config saved")}catch{t(53,Me="Save failed"),ke.error("Failed to save config")}}function Je(){t(54,Re=!Re),Re||(Pe=Ue.split(`
`).map(se=>se.trim()).filter(Boolean))}function Ke(){Pe=[...Ye],t(55,Ue=Ye.join(`
`)),ke.info("Reset to default patterns")}function rt(se){for(const pe of Pe)if(pe.endsWith("/")){const Ce=pe.slice(0,-1);if(se.startsWith(Ce+"/")||se.includes("/"+Ce+"/"))return!0}else if(pe.startsWith("*")){const Ce=pe.slice(1);if(se.endsWith(Ce))return!0}else if(se===pe||se.endsWith("/"+pe))return!0;return!1}function he(se){re.has(se)?re.delete(se):re.add(se),t(8,re),t(0,i),t(9,ne)}function Le(se){se?(ie||[]).forEach(pe=>{var Ae,Ve,$t;const Ce=pe.ip||(($t=(Ve=(Ae=pe.networks)==null?void 0:Ae.v4)==null?void 0:Ve[0])==null?void 0:$t.ip_address);Ce&&re.add(Ce)}):re.clear(),t(8,re),t(0,i),t(9,ne)}function ct(se){re.clear(),re.add(se),t(8,re),t(0,i),t(9,ne),(i==="stateful"||i==="scheduled")&&t(9,ne=0)}function Ht(){H=async(se,pe)=>{await wl(se,pe,F.length===0)},O==null||O.click()}async function Wt(se){const pe=Array.from(se.target.files||[]);if(!pe.length||!H)return;console.log(`[Deploy] Browser returned ${pe.length} files`),pe.length<50?console.log("[Deploy] Files:",pe.map(Ve=>Ve.webkitRelativePath)):console.log("[Deploy] First 20 files:",pe.slice(0,20).map(Ve=>Ve.webkitRelativePath));const Ae=pe[0].webkitRelativePath.split("/")[0];await H(pe,Ae),H=null,se.target.value=""}function Ze(se){se.preventDefault(),se.stopPropagation(),t(31,R=!0)}function Vt(se){se.preventDefault(),se.stopPropagation(),se.currentTarget.contains(se.relatedTarget)||t(31,R=!1)}async function vl(se){var Ce,Ae;se.preventDefault(),se.stopPropagation(),t(31,R=!1);const pe=(Ce=se.dataTransfer)==null?void 0:Ce.items;if(!(!pe||pe.length===0)){for(const Ve of pe)if(Ve.kind==="file"){const $t=(Ae=Ve.webkitGetAsEntry)==null?void 0:Ae.call(Ve);$t!=null&&$t.isDirectory&&await rl($t)}}}async function rl(se){const pe=se.name;if(F.some(Ve=>Ve.name===pe)){ke.error(`Folder "${pe}" is already added`);return}ke.info(`Reading ${pe}/...`);const Ce=await Yu(se,"");if(Ce.length===0){ke.error(`No files found in ${pe}/`);return}const Ae=F.length===0;await hl(Ce,pe,Ae)}async function hl(se,pe,Ce){Ce&&F.some(pt=>pt.isMain)&&t(28,F=F.map(pt=>({...pt,isMain:!1})));const Ae=[];let Ve=null,$t=0;for(const pt of se){const tl=pt._relativePath||pt.name;if(rt(tl)){$t++;continue}const yl=await ar(pt);Ae.push({path:tl,content:yl}),Ce&&tl==="Dockerfile"&&(Ve=await ur(pt))}console.log(`[Deploy] Dropped ${pe}/: ${se.length} total, ${$t} skipped, ${Ae.length} included`),t(28,F=[...F,{name:pe,fileContents:Ae,isMain:Ce,fileCount:Ae.length}]),al(),F.some(pt=>pt.isMain)&&await ye(Ve),L&&h&&m&&xe(),ke.success(`Added ${pe}/ (${Ae.length} files)`)}async function wl(se,pe,Ce){if(F.some(pt=>pt.name===pe)){ke.error(`Folder "${pe}" is already added`);return}Ce&&F.some(pt=>pt.isMain)&&t(28,F=F.map(pt=>({...pt,isMain:!1})));const Ae=[];let Ve=null,$t=0;for(const pt of se){const tl=pt.webkitRelativePath.replace(`${pe}/`,"");if(rt(tl)){$t++;continue}const yl=await ar(pt);Ae.push({path:tl,content:yl}),Ce&&tl==="Dockerfile"&&(Ve=await ur(pt))}console.log(`[Deploy] Processed ${pe}/: ${se.length} total, ${$t} skipped, ${Ae.length} included`),t(28,F=[...F,{name:pe,fileContents:Ae,isMain:Ce,fileCount:Ae.length}]),al(),F.some(pt=>pt.isMain)&&await ye(Ve),L&&h&&m&&xe(),ke.success(`Added ${pe}/ (${Ae.length} files)`)}function Jt(se){t(28,F=F.filter((pe,Ce)=>Ce!==se)),al(),F.length>0&&!F.some(pe=>pe.isMain)&&t(28,F=F.map((pe,Ce)=>({...pe,isMain:Ce===0})))}async function el(se){t(28,F=F.map((pe,Ce)=>({...pe,isMain:Ce===se}))),await ye()}function al(){const se=F.some(pe=>pe.isMain);F.length&&se&&Te()}async function Te(){if(!F.length)return;const{default:se}=await Uo(async()=>{const{default:Ce}=await import("https://cdn.jsdelivr.net/npm/jszip@3.10.1/+esm");return{default:Ce}},[]),pe=new se;for(const Ce of F)for(const{path:Ae,content:Ve}of Ce.fileContents)pe.file(`${Ce.name}/${Ae}`,Ve);F.length>1&&B&&pe.file("Dockerfile",B),await pe.generateAsync({type:"blob"})}async function ye(se=null){t(34,Q=!0),se?(t(32,B=se),t(33,V="from folder")):(t(32,B=await Xe()),t(33,V=F.length>1?"multi-folder":"generated")),Qt()}async function Xe(){const se=F.find(Ae=>Ae.isMain);if(!se)return"";const pe=F.filter(Ae=>!Ae.isMain).map(Ae=>Ae.name),Ce=[];for(const Ae of F)for(const Ve of Ae.fileContents)Ce.push(`${Ae.name}/${Ve.path}`);try{return(await He.post("/infra/dockerfile/generate",{files:Ce,main_folder:se.name,dep_folders:pe,port:parseInt(C)||8e3})).dockerfile||""}catch(Ae){return console.error("[Deploy] Failed to generate Dockerfile via API:",Ae),Tt(se)}}function Tt(se){const pe=se.fileContents.some(Ve=>Ve.path==="requirements.txt"),Ce=F.filter(Ve=>!Ve.isMain);let Ae=`FROM python:3.11-slim

WORKDIR /app

`;for(const Ve of Ce)Ae+=`COPY ${Ve.name}/ ./${Ve.name}/
`;return Ae+=`COPY ${se.name}/ ./${se.name}/

`,pe&&(Ae+=`RUN pip install --no-cache-dir -r ${se.name}/requirements.txt

`),Ae+=`EXPOSE ${C}

`,Ae+=`CMD ["uvicorn", "${se.name}.main:app", "--host", "0.0.0.0", "--port", "${C}"]
`,Ae}function Qt(){const se=B.match(/^FROM\s+(\S+)/m),pe=B.match(/^CMD\s+(.+)$/m);t(35,G=se?se[1]:""),t(36,oe=pe?pe[1]:"")}function Gt(se){B&&(se==="from"&&G?t(32,B=B.replace(/^FROM\s+\S+/m,`FROM ${G}`)):se==="cmd"&&oe&&(B.includes("CMD ")?t(32,B=B.replace(/^CMD\s+.+$/m,`CMD ${oe}`)):t(32,B+=`
CMD ${oe}
`)),t(33,V="edited"))}function xe(){if(!h||!m)return;const se=`build_folders_${h}_${m}`,pe=F.map(Ce=>({name:Ce.name,isMain:Ce.isMain}));localStorage.setItem(se,JSON.stringify(pe))}function zt(se){if(!j.trim()){ke.error("Please enter a folder path");return}const pe=j.trim();if(se&&E.some(Ce=>Ce.isMain)&&t(21,E=E.map(Ce=>({...Ce,isMain:!1}))),E.some(Ce=>Ce.path===pe)){ke.error("This folder is already added");return}t(21,E=[...E,{path:pe,isMain:se}]),t(22,j="")}function $l(se){t(21,E=E.filter((pe,Ce)=>Ce!==se))}function Zt(se){var Ce;const pe=(Ce=se.target.files)==null?void 0:Ce[0];if(pe){if(!pe.name.endsWith(".tar")&&!pe.name.endsWith(".tar.gz")){ke.error("Only .tar or .tar.gz image files are supported");return}t(24,I=pe),ke.success(`Selected: ${pe.name}`)}}function Rt(se,pe="info"){t(43,me=[...me,{message:se,type:pe,time:new Date}])}async function gt(se){if(se.preventDefault(),yt&&(clearTimeout(yt),t(84,yt=null)),!m){ke.error("Service name is required");return}if(!h){ke.error("Project name is required");return}if(i!=="stateful"){if(S==="code"&&!F.some(Ce=>Ce.isMain)){ke.error("Add a main folder with your code");return}if(S==="code"){const Ce=F.find(Ae=>Ae.isMain);if(!(Ce!=null&&Ce.fileContents)||Ce.fileContents.length===0){ke.error("Please re-upload your folders. File contents are not loaded from previous sessions.");return}}if(S==="git"&&!y){ke.error("Git URL is required");return}if(S==="image"&&!D){ke.error("Docker image URL is required");return}if(S==="image_file"&&!I){ke.error("Upload a Docker image file (.tar)");return}if(S==="image_file"&&!N){ke.error("Image name is required for local images");return}}if(i==="scheduled"&&!p){ke.error("Cron schedule is required for scheduled jobs");return}if(re.size===0&&ne===0){ke.error("Select at least one server or add new servers");return}if(ne>0&&!x){ke.error("Select a snapshot for new servers");return}if(!Lt()){ke.error("Configure your DO Token in Settings first");return}if(i==="service"&&De&&!Tn()){ke.error("Configure your Cloudflare Token in Settings first (required for domain setup)");return}const pe=[...re];if(h&&m&&v)try{const Ce=new URLSearchParams({project:h,environment:v,service_name:m}),Ae=await He("GET",`/infra/services/state?${Ce}`);if(Ae.server_ips&&Ae.server_ips.length>0){const Ve=Ae.servers.filter($t=>!pe.includes($t.ip));if(Ve.length>0){t(46,$e=Ve),t(47,We=()=>Il(se)),t(45,be=!0);return}}}catch(Ce){console.log("Service state check:",Ce.message||Ce)}await Il()}async function Ol(){t(45,be=!1);const se=`${h}_${m}_${v}`.replace(/[^a-zA-Z0-9_]/g,"_");if($e.length>0){const pe=$e.map(Ce=>Ce.ip);Rt(`Stopping containers on ${$e.length} server(s)...`);try{const Ce=await He("POST",`/infra/services/cleanup?do_token=${Lt()}`,{server_ips:pe,container_name:se});Rt(`Cleanup complete: ${Ce.cleaned} stopped, ${Ce.failed} failed`)}catch(Ce){Rt(`Cleanup warning: ${Ce.message||Ce}`,"warning")}}t(46,$e=[]),We&&(await We(),t(47,We=null))}async function Il(se){t(41,ue=!0),t(42,le=0),t(43,me=[]),t(44,X=null);try{Rt(`Starting ${i} deployment of ${m}...`),t(42,le=10);let pe=S,Ce=D,Ae=C;if(i==="stateful"){pe="image";const nt=c.find(cl=>cl.value===a);Ce=(nt==null?void 0:nt.image)||`${a}:latest`,Ae=(nt==null?void 0:nt.port)||5432}let Ve=null;if(i!=="stateful"&&S==="code"){Rt("Creating code archive..."),console.log("[Deploy] buildFolders:",F.map(Xt=>{var Yl;return{name:Xt.name,isMain:Xt.isMain,fileCount:Xt.fileCount,hasContents:((Yl=Xt.fileContents)==null?void 0:Yl.length)||0}}));const nt=F.find(Xt=>Xt.isMain);if(!(nt!=null&&nt.fileContents)||nt.fileContents.length===0)throw new Error("No file contents in main folder. Please re-upload your folders.");const{default:cl}=await Uo(async()=>{const{default:Xt}=await import("https://cdn.jsdelivr.net/npm/jszip@3.10.1/+esm");return{default:Xt}},[]),Ul=new cl;let Bl=0;for(const Xt of F){const Yl=Xt.fileContents||[];for(const{path:Yf,content:Qf}of Yl)Ul.file(`${Xt.name}/${Yf}`,Qf),Bl++}if(console.log("[Deploy] Total files in zip:",Bl),Bl===0)throw new Error("No files to deploy. Please re-upload your folders.");F.length>1&&B&&Ul.file("Dockerfile",B),Ve=await Ul.generateAsync({type:"blob"})}Rt("Sending deployment request... server provisioning may take 30-60s"),t(42,le=20);const $t=i==="service"&&De,pt=Lt(),tl=Tn(),yl=new URLSearchParams({do_token:pt,snapshot_id:x||"",new_server_count:String(ne),region:W,size:J,project:h||"",environment:v,setup_domain:String($t),base_domain:Ie,domain_aliases:JSON.stringify(ve.split(",").map(nt=>nt.trim()).filter(Boolean))});$t&&tl&&yl.set("cf_token",tl);const at=new FormData;at.append("name",m),at.append("port",String(Ae)),at.append("source_type",pe),at.append("env_vars",$),at.append("tags",g),at.append("server_ips",JSON.stringify(Array.from(re))),at.append("depends_on",JSON.stringify(Object.entries(mt).filter(([nt,cl])=>cl).map(([nt])=>nt))),at.append("exclude_patterns",JSON.stringify(Pe)),at.append("deploy_type",i),i==="stateful"?(at.append("is_stateful","true"),at.append("persist_data","true"),at.append("image",Ce)):(at.append("is_stateful","false"),at.append("persist_data",String(ht))),(i==="worker"||i==="scheduled")&&_&&at.append("custom_cmd",_),i==="scheduled"&&p&&at.append("cron_schedule",p),B&&at.append("dockerfile",B),y&&at.append("git_url",y),T&&at.append("git_branch",T),z&&at.append("git_token",z),E.length&&at.append("git_folders",JSON.stringify(E)),Ce&&i!=="stateful"&&at.append("image",Ce),Ve&&at.append("code_tar",Ve,"code.zip"),S==="image_file"&&(I&&at.append("image_tar",I),N&&at.append("image",N),A&&at.append("container_port",String(A)),Y&&at.append("host_port",String(Y))),await L1(`/infra/deploy/multipart?${yl}`,at,nt=>{var cl;if(nt.type==="log")Rt(nt.message);else if(nt.type==="warning")Rt(nt.message||((cl=nt.data)==null?void 0:cl.message),"warning");else if(nt.type==="progress")t(42,le=Math.min(20+(nt.percent||0)*.8,95));else if(nt.type==="done"){if(t(44,X=nt),t(42,le=100),!nt.success){const Ul=nt.failed_count||0,Bl=nt.error||`Deployment failed: ${Ul} server(s) failed`;throw new Error(Bl)}}else if(nt.type==="error")throw new Error(nt.message||"Deployment failed")}),Rt("✅ Deployment complete!","success"),ke.success("Deployment successful!"),await xt.refresh().catch(()=>{})}catch(pe){let Ce="Unknown error";if(typeof pe=="string")Ce=pe;else if(pe!=null&&pe.message)Ce=pe.message;else if(pe!=null&&pe.detail)Ce=pe.detail;else if(pe!=null&&pe.error)Ce=pe.error;else try{Ce=JSON.stringify(pe)}catch{Ce=String(pe)}Rt(`❌ Error: ${Ce}`,"error"),ke.error(Ce)}finally{t(41,ue=!1),t(9,ne=0)}}const ul=[[],[]],Dt=se=>Z(se.value);function fl(){h=this.value,t(4,h)}function Et(){m=this.value,t(3,m),t(0,i),t(2,c),t(1,a)}function kt(){v=ut(this),t(5,v),t(62,it)}function wt(){a=this.__value,t(1,a)}const gn=se=>se.value===a;function Vl(){Ue=this.value,t(55,Ue)}function bn(){g=this.value,t(14,g)}function Jl(){S=this.__value,t(15,S)}function kn(){S=this.__value,t(15,S)}function Kl(){S=this.__value,t(15,S)}function ze(){S=this.__value,t(15,S)}function Be(se){Ut[se?"unshift":"push"](()=>{O=se,t(29,O)})}const At=se=>el(se),Cl=se=>Jt(se);function Fl(){L=this.checked,t(30,L)}function _t(){B=this.value,t(32,B)}function gl(){G=ut(this),t(35,G)}const Qu=()=>Gt("from");function Zu(){oe=this.value,t(36,oe)}const Xu=()=>Gt("cmd");function xu(){y=this.value,t(18,y)}function ef(){T=this.value,t(19,T)}const tf=se=>$l(se);function lf(){j=this.value,t(22,j)}const nf=()=>zt(!0),sf=()=>zt(!1);function of(){z=this.value,t(20,z)}function rf(){D=this.value,t(23,D)}function af(){N=this.value,t(25,N)}function uf(){A=Kt(this.value),t(26,A)}function ff(){Y=Kt(this.value),t(27,Y)}function cf(){C=Kt(this.value),t(16,C)}function _f(){_=this.value,t(12,_)}function df(){p=this.value,t(13,p)}const pf=()=>t(13,p="* * * * *"),mf=()=>t(13,p="0 * * * *"),vf=()=>t(13,p="0 0 * * *"),hf=()=>t(13,p="0 0 * * 0"),gf=()=>t(56,lt=!lt);function bf(){$=this.value,t(17,$)}const kf=()=>t(57,st=!st);function wf(){ft=this.checked,t(48,ft)}function $f(){mt.postgres=this.checked,t(50,mt)}function Cf(){mt.redis=this.checked,t(50,mt)}function yf(){mt.mysql=this.checked,t(50,mt)}function Sf(){mt.mongo=this.checked,t(50,mt)}function qf(){ht=this.checked,t(49,ht)}function jf(){De=this.checked,t(51,De)}function Tf(){Ie=this.value,t(10,Ie)}function zf(){ve=this.value,t(52,ve)}const Df=()=>Le(!0),Ef=()=>Le(!1),Lf=se=>ct(se),Pf=se=>he(se),Nf=()=>t(58,ot=!ot);function Rf(){x=ut(this),t(6,x),t(11,s)}function Af(){W=ut(this),t(7,W),t(38,ae)}function Mf(){J=ut(this),t(37,J),t(39,K)}const Of=se=>t(9,ne=se.target.checked?1:0),If=()=>t(9,ne=Math.max(0,ne-1));function Ff(){ne=Kt(this.value),t(9,ne),t(0,i)}const Uf=()=>t(9,ne=Math.min(10,ne+1)),Bf=()=>{navigator.clipboard.writeText(X.connection_url),ke.success("Copied to clipboard!")},Hf=se=>window.open(`/api/v1/infra/agent/${se.droplet_id||se.ip}/containers/${se.container_name||X.container_name||m}/logs?do_token=${Lt()}`,"_blank"),Gf=se=>window.open(`/api/v1/infra/agent/${se.droplet_id||se.ip}/containers/${se.container_name||X.container_name||m}/logs?do_token=${Lt()}`,"_blank"),Wf=se=>window.open(`/api/v1/infra/agent/${se.droplet_id||se.ip}/containers/${se.container_name||X.container_name||m}/logs?do_token=${Lt()}`,"_blank"),Vf=()=>{t(45,be=!1),t(47,We=null)};function Jf(se){be=se,t(45,be)}const Kf=()=>{t(45,be=!1),t(47,We=null)};return l.$$.update=()=>{if(l.$$.dirty[0]&15&&i==="stateful"&&(!m||c.some(se=>se.value===m))&&t(3,m=a),l.$$.dirty[0]&128|l.$$.dirty[2]&8388608&&t(40,ie=(o||[]).filter(se=>!W||se.region===W)),l.$$.dirty[0]&257&&(i==="stateful"||i==="scheduled")&&re.size>1){const se=[...re][0];re.clear(),se&&re.add(se),t(8,re),t(0,i),t(9,ne)}if(l.$$.dirty[0]&513&&(i==="stateful"||i==="scheduled")&&ne>1&&t(9,ne=1),l.$$.dirty[0]&769&&(i==="stateful"||i==="scheduled")&&ne>0&&re.size>0&&(re.clear(),t(8,re),t(0,i),t(9,ne)),l.$$.dirty[0]&1080&&t(59,n=m&&h&&v?`${m}-${h}-${v}.${Ie}`:""),l.$$.dirty[0]&25|l.$$.dirty[2]&4194304&&m&&h&&i!=="stateful"&&(yt&&clearTimeout(yt),t(84,yt=setTimeout(()=>{tt()},500))),l.$$.dirty[0]&2112&&(s==null?void 0:s.length)>0&&!x){const se=s.find(pe=>(pe.name||"").toLowerCase().includes("base"));t(6,x=(se==null?void 0:se.id)||(se==null?void 0:se.name)||s[0].id||s[0].name)}},[i,a,c,m,h,v,x,W,re,ne,Ie,s,_,p,g,S,C,$,y,T,z,E,j,D,I,N,A,Y,F,O,L,R,B,V,Q,G,oe,J,ae,K,ie,ue,le,me,X,be,$e,We,ft,ht,mt,De,ve,Me,Re,Ue,lt,st,ot,n,u,Z,it,Yt,Se,Je,Ke,he,Le,ct,Ht,Wt,Ze,Vt,vl,Jt,el,Gt,zt,$l,Zt,gt,Ol,Rt,yt,o,Dt,fl,Et,kt,wt,ul,gn,Vl,bn,Jl,kn,Kl,ze,Be,At,Cl,Fl,_t,gl,Qu,Zu,Xu,xu,ef,tf,lf,nf,sf,of,rf,af,uf,ff,cf,_f,df,pf,mf,vf,hf,gf,bf,kf,wf,$f,Cf,yf,Sf,qf,jf,Tf,zf,Df,Ef,Lf,Pf,Nf,Rf,Af,Mf,Of,If,Ff,Uf,Bf,Hf,Gf,Wf,Vf,Jf,Kf]}class Bd extends qt{constructor(e){super(),St(this,e,Ud,Od,Ct,{},null,[-1,-1,-1,-1,-1,-1,-1,-1])}}function gr(l,e,t){const n=l.slice();return n[55]=e[t],n}function br(l,e,t){const n=l.slice();return n[55]=e[t],n}function kr(l,e,t){const n=l.slice();return n[55]=e[t],n}function wr(l,e,t){const n=l.slice();return n[62]=e[t],n}function $r(l,e,t){const n=l.slice();return n[66]=e[t],n}function Cr(l,e,t){const n=l.slice();return n[69]=e[t][0],n[70]=e[t][1],n}function Hd(l){const e=l.slice(),t=e[14].config_snapshot;return e[65]=t,e}function yr(l,e,t){const n=l.slice();return n[62]=e[t],n}function Sr(l,e,t){const n=l.slice();return n[75]=e[t],n}function qr(l,e,t){const n=l.slice();n[78]=e[t];const s=il(n[78]);return n[79]=s,n}function jr(l){let e,t,n=ra(l[20])+"",s;return{c(){e=d("span"),t=q("Updated "),s=q(n),f(e,"class","last-updated svelte-cuxyqu")},m(o,i){w(o,e,i),r(e,t),r(e,s)},p(o,i){i[0]&1048576&&n!==(n=ra(o[20])+"")&&U(s,n)},d(o){o&&k(e)}}}function Gd(l){let e;return{c(){e=q("↻ Refresh")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Wd(l){let e,t,n=de(l[19]),s=[];for(let i=0;i<n.length;i+=1)s[i]=Er(qr(l,n,i));const o=i=>M(s[i],1,1,()=>{s[i]=null});return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=Oe()},m(i,u){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(i,u);w(i,e,u),t=!0},p(i,u){if(u[0]&27787264){n=de(i[19]);let a;for(a=0;a<n.length;a+=1){const c=qr(i,n,a);s[a]?(s[a].p(c,u),P(s[a],1)):(s[a]=Er(c),s[a].c(),P(s[a],1),s[a].m(e.parentNode,e))}for(qe(),a=n.length;a<s.length;a+=1)o(a);je()}},i(i){if(!t){for(let u=0;u<n.length;u+=1)P(s[u]);t=!0}},o(i){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)M(s[u]);t=!1},d(i){i&&k(e),Ne(s,i)}}}function Vd(l){let e;return{c(){e=d("tr"),e.innerHTML='<td colspan="12" class="empty-cell svelte-cuxyqu">No deployments found</td>',f(e,"class","svelte-cuxyqu")},m(t,n){w(t,e,n)},p:ge,i:ge,o:ge,d(t){t&&k(e)}}}function Jd(l){let e;return{c(){e=d("tr"),e.innerHTML='<td colspan="12" class="loading-cell svelte-cuxyqu">Loading deployment history...</td>',f(e,"class","svelte-cuxyqu")},m(t,n){w(t,e,n)},p:ge,i:ge,o:ge,d(t){t&&k(e)}}}function Kd(l){let e=(l[78].environment||"-")+"",t;return{c(){t=q(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&524288&&e!==(e=(n[78].environment||"-")+"")&&U(t,e)},d(n){n&&k(t)}}}function Yd(l){let e;return{c(){e=d("span"),e.textContent="-",f(e,"class","version-none svelte-cuxyqu")},m(t,n){w(t,e,n)},p:ge,d(t){t&&k(e)}}}function Qd(l){let e,t,n=l[78].version+"",s;return{c(){e=d("span"),t=q("v"),s=q(n),f(e,"class","version-badge svelte-cuxyqu")},m(o,i){w(o,e,i),r(e,t),r(e,s)},p(o,i){i[0]&524288&&n!==(n=o[78].version+"")&&U(s,n)},d(o){o&&k(e)}}}function Zd(l){let e=l[78].is_rollback?"rollback":"deploy",t;return{c(){t=q(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&524288&&e!==(e=n[78].is_rollback?"rollback":"deploy")&&U(t,e)},d(n){n&&k(t)}}}function Xd(l){let e=l[79]+"",t;return{c(){t=q(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&524288&&e!==(e=n[79]+"")&&U(t,e)},d(n){n&&k(t)}}}function Tr(l){let e,t,n;function s(){return l[34](l[78])}return{c(){e=d("button"),e.textContent="⚙️",f(e,"class","icon-btn svelte-cuxyqu"),f(e,"title","View config")},m(o,i){w(o,e,i),t||(n=ee(e,"click",s),t=!0)},p(o,i){l=o},d(o){o&&k(e),t=!1,n()}}}function zr(l){let e,t,n;function s(){return l[35](l[78])}return{c(){e=d("button"),e.textContent="📋",f(e,"class","icon-btn svelte-cuxyqu"),f(e,"title","View logs")},m(o,i){w(o,e,i),t||(n=ee(e,"click",s),t=!0)},p(o,i){l=o},d(o){o&&k(e),t=!1,n()}}}function Dr(l){let e,t,n;function s(){return l[36](l[78])}return{c(){e=d("button"),e.textContent="⏪",f(e,"class","icon-btn rollback-icon-btn svelte-cuxyqu"),f(e,"title","Rollback")},m(o,i){w(o,e,i),t||(n=ee(e,"click",s),t=!0)},p(o,i){l=o},d(o){o&&k(e),t=!1,n()}}}function Er(l){let e,t,n,s=(l[78].project||"-")+"",o,i,u,a,c=(l[78].service||l[78].name)+"",_,p,m,h,v,g,S,C,$=ll(l[78].deployed_at||l[78].created_at)+"",y,T,z,E=(l[78].deployed_by||l[78].user||"-")+"",j,D,I,N,A,Y,F,O,H,L,R=(l[78].comment||"-")+"",B,V,Q,G,oe,x,W,J,ae;h=new et({props:{variant:l[78].environment==="prod"?"purple":l[78].environment==="staging"?"warning":"info",$$slots:{default:[Kd]},$$scope:{ctx:l}}});function K(ne,X){return ne[78].version?Qd:Yd}let ie=K(l),ue=ie(l);A=new et({props:{variant:l[78].is_rollback?"warning":"info",$$slots:{default:[Zd]},$$scope:{ctx:l}}}),O=new et({props:{variant:Rl(l[79]),$$slots:{default:[Xd]},$$scope:{ctx:l}}});let le=l[78].config_snapshot&&Tr(l),me=l[78].has_logs&&zr(l),re=l[78].is_current_active&&Dr(l);return{c(){e=d("tr"),t=d("td"),n=d("span"),o=q(s),i=b(),u=d("td"),a=d("span"),_=q(c),p=b(),m=d("td"),_e(h.$$.fragment),v=b(),g=d("td"),ue.c(),S=b(),C=d("td"),y=q($),T=b(),z=d("td"),j=q(E),I=b(),N=d("td"),_e(A.$$.fragment),Y=b(),F=d("td"),_e(O.$$.fragment),H=b(),L=d("td"),B=q(R),V=b(),Q=d("td"),le&&le.c(),G=b(),oe=d("td"),me&&me.c(),x=b(),W=d("td"),re&&re.c(),J=b(),f(n,"class","project-name svelte-cuxyqu"),f(t,"class","svelte-cuxyqu"),f(a,"class","service-name svelte-cuxyqu"),f(u,"class","svelte-cuxyqu"),f(m,"class","svelte-cuxyqu"),f(g,"class","version-cell svelte-cuxyqu"),f(C,"class","date-cell svelte-cuxyqu"),f(z,"class","by-cell svelte-cuxyqu"),f(z,"title",D=l[78].deployed_by||l[78].user||"-"),f(N,"class","svelte-cuxyqu"),f(F,"class","svelte-cuxyqu"),f(L,"class","comment-cell svelte-cuxyqu"),f(Q,"class","config-cell svelte-cuxyqu"),f(oe,"class","logs-cell svelte-cuxyqu"),f(W,"class","rollback-cell svelte-cuxyqu"),f(e,"class","svelte-cuxyqu")},m(ne,X){w(ne,e,X),r(e,t),r(t,n),r(n,o),r(e,i),r(e,u),r(u,a),r(a,_),r(e,p),r(e,m),fe(h,m,null),r(e,v),r(e,g),ue.m(g,null),r(e,S),r(e,C),r(C,y),r(e,T),r(e,z),r(z,j),r(e,I),r(e,N),fe(A,N,null),r(e,Y),r(e,F),fe(O,F,null),r(e,H),r(e,L),r(L,B),r(e,V),r(e,Q),le&&le.m(Q,null),r(e,G),r(e,oe),me&&me.m(oe,null),r(e,x),r(e,W),re&&re.m(W,null),r(e,J),ae=!0},p(ne,X){(!ae||X[0]&524288)&&s!==(s=(ne[78].project||"-")+"")&&U(o,s),(!ae||X[0]&524288)&&c!==(c=(ne[78].service||ne[78].name)+"")&&U(_,c);const Z={};X[0]&524288&&(Z.variant=ne[78].environment==="prod"?"purple":ne[78].environment==="staging"?"warning":"info"),X[0]&524288|X[2]&1048576&&(Z.$$scope={dirty:X,ctx:ne}),h.$set(Z),ie===(ie=K(ne))&&ue?ue.p(ne,X):(ue.d(1),ue=ie(ne),ue&&(ue.c(),ue.m(g,null))),(!ae||X[0]&524288)&&$!==($=ll(ne[78].deployed_at||ne[78].created_at)+"")&&U(y,$),(!ae||X[0]&524288)&&E!==(E=(ne[78].deployed_by||ne[78].user||"-")+"")&&U(j,E),(!ae||X[0]&524288&&D!==(D=ne[78].deployed_by||ne[78].user||"-"))&&f(z,"title",D);const be={};X[0]&524288&&(be.variant=ne[78].is_rollback?"warning":"info"),X[0]&524288|X[2]&1048576&&(be.$$scope={dirty:X,ctx:ne}),A.$set(be);const $e={};X[0]&524288&&($e.variant=Rl(ne[79])),X[0]&524288|X[2]&1048576&&($e.$$scope={dirty:X,ctx:ne}),O.$set($e),(!ae||X[0]&524288)&&R!==(R=(ne[78].comment||"-")+"")&&U(B,R),ne[78].config_snapshot?le?le.p(ne,X):(le=Tr(ne),le.c(),le.m(Q,null)):le&&(le.d(1),le=null),ne[78].has_logs?me?me.p(ne,X):(me=zr(ne),me.c(),me.m(oe,null)):me&&(me.d(1),me=null),ne[78].is_current_active?re?re.p(ne,X):(re=Dr(ne),re.c(),re.m(W,null)):re&&(re.d(1),re=null)},i(ne){ae||(P(h.$$.fragment,ne),P(A.$$.fragment,ne),P(O.$$.fragment,ne),ae=!0)},o(ne){M(h.$$.fragment,ne),M(A.$$.fragment,ne),M(O.$$.fragment,ne),ae=!1},d(ne){ne&&k(e),ce(h),ue.d(),ce(A),ce(O),le&&le.d(),me&&me.d(),re&&re.d()}}}function xd(l){let e,t,n,s,o,i,u,a;const c=[Jd,Vd,Wd],_=[];function p(m,h){return m[0]&&m[19].length===0?0:m[19].length===0?1:2}return i=p(l),u=_[i]=c[i](l),{c(){e=d("div"),t=d("table"),n=d("thead"),n.innerHTML='<tr class="svelte-cuxyqu"><th class="svelte-cuxyqu">Project</th> <th class="svelte-cuxyqu">Service</th> <th class="svelte-cuxyqu">Environment</th> <th class="version-col svelte-cuxyqu">v</th> <th class="svelte-cuxyqu">Deployed</th> <th class="svelte-cuxyqu">By</th> <th class="svelte-cuxyqu">Type</th> <th class="svelte-cuxyqu">Status</th> <th class="svelte-cuxyqu">Comment</th> <th class="config-col svelte-cuxyqu"></th> <th class="logs-col svelte-cuxyqu"></th> <th class="rollback-col svelte-cuxyqu"></th></tr>',s=b(),o=d("tbody"),u.c(),f(t,"class","table svelte-cuxyqu"),f(e,"class","table-container svelte-cuxyqu")},m(m,h){w(m,e,h),r(e,t),r(t,n),r(t,s),r(t,o),_[i].m(o,null),a=!0},p(m,h){let v=i;i=p(m),i===v?_[i].p(m,h):(qe(),M(_[v],1,1,()=>{_[v]=null}),je(),u=_[i],u?u.p(m,h):(u=_[i]=c[i](m),u.c()),P(u,1),u.m(o,null))},i(m){a||(P(u),a=!0)},o(m){M(u),a=!1},d(m){m&&k(e),_[i].d()}}}function Lr(l){let e,t,n,s=(l[2].service||l[2].name)+"",o,i,u,a=l[2].project+"",c,_,p=l[2].environment+"",m,h,v,g,S,C,$,y=ll(l[2].deployed_at||l[2].created_at)+"",T,z,E,j,D=(l[2].deployed_by||l[2].user||"unknown")+"",I,N,A,Y,F,O,H,L,R,B,V=l[2].comment&&Pr(l);const Q=[tp,ep],G=[];function oe(W,J){return W[3].length===0?0:1}H=oe(l),L=G[H]=Q[H](l);let x=l[6].length>0&&Rr(l);return{c(){e=d("div"),t=d("div"),n=d("div"),o=q(s),i=b(),u=d("div"),c=q(a),_=q(" / "),m=q(p),h=b(),v=d("div"),g=d("label"),g.textContent="📍 Current Deployment",S=b(),C=d("div"),$=d("div"),T=q(y),z=b(),E=d("div"),j=q("by "),I=q(D),N=b(),V&&V.c(),A=b(),Y=d("div"),F=d("label"),F.textContent="🎯 Rollback to",O=b(),L.c(),R=b(),x&&x.c(),f(n,"class","service-name svelte-cuxyqu"),f(u,"class","service-coords svelte-cuxyqu"),f(t,"class","service-info svelte-cuxyqu"),f(g,"class","svelte-cuxyqu"),f($,"class","deploy-date svelte-cuxyqu"),f(E,"class","deploy-by svelte-cuxyqu"),f(C,"class","deployment-card current svelte-cuxyqu"),f(v,"class","section svelte-cuxyqu"),f(F,"class","svelte-cuxyqu"),f(Y,"class","section svelte-cuxyqu"),f(e,"class","rollback-content svelte-cuxyqu")},m(W,J){w(W,e,J),r(e,t),r(t,n),r(n,o),r(t,i),r(t,u),r(u,c),r(u,_),r(u,m),r(e,h),r(e,v),r(v,g),r(v,S),r(v,C),r(C,$),r($,T),r(C,z),r(C,E),r(E,j),r(E,I),r(C,N),V&&V.m(C,null),r(e,A),r(e,Y),r(Y,F),r(Y,O),G[H].m(Y,null),r(e,R),x&&x.m(e,null),B=!0},p(W,J){(!B||J[0]&4)&&s!==(s=(W[2].service||W[2].name)+"")&&U(o,s),(!B||J[0]&4)&&a!==(a=W[2].project+"")&&U(c,a),(!B||J[0]&4)&&p!==(p=W[2].environment+"")&&U(m,p),(!B||J[0]&4)&&y!==(y=ll(W[2].deployed_at||W[2].created_at)+"")&&U(T,y),(!B||J[0]&4)&&D!==(D=(W[2].deployed_by||W[2].user||"unknown")+"")&&U(I,D),W[2].comment?V?V.p(W,J):(V=Pr(W),V.c(),V.m(C,null)):V&&(V.d(1),V=null);let ae=H;H=oe(W),H===ae?G[H].p(W,J):(qe(),M(G[ae],1,1,()=>{G[ae]=null}),je(),L=G[H],L?L.p(W,J):(L=G[H]=Q[H](W),L.c()),P(L,1),L.m(Y,null)),W[6].length>0?x?x.p(W,J):(x=Rr(W),x.c(),x.m(e,null)):x&&(x.d(1),x=null)},i(W){B||(P(L),B=!0)},o(W){M(L),B=!1},d(W){W&&k(e),V&&V.d(),G[H].d(),x&&x.d()}}}function Pr(l){let e,t=l[2].comment+"",n;return{c(){e=d("div"),n=q(t),f(e,"class","deploy-comment svelte-cuxyqu")},m(s,o){w(s,e,o),r(e,n)},p(s,o){o[0]&4&&t!==(t=s[2].comment+"")&&U(n,t)},d(s){s&&k(e)}}}function ep(l){let e,t,n=de(l[3]),s=[];for(let i=0;i<n.length;i+=1)s[i]=Nr(Sr(l,n,i));const o=i=>M(s[i],1,1,()=>{s[i]=null});return{c(){e=d("div");for(let i=0;i<s.length;i+=1)s[i].c();f(e,"class","deployment-list svelte-cuxyqu")},m(i,u){w(i,e,u);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null);t=!0},p(i,u){if(u[0]&56){n=de(i[3]);let a;for(a=0;a<n.length;a+=1){const c=Sr(i,n,a);s[a]?(s[a].p(c,u),P(s[a],1)):(s[a]=Nr(c),s[a].c(),P(s[a],1),s[a].m(e,null))}for(qe(),a=n.length;a<s.length;a+=1)o(a);je()}},i(i){if(!t){for(let u=0;u<n.length;u+=1)P(s[u]);t=!0}},o(i){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)M(s[u]);t=!1},d(i){i&&k(e),Ne(s,i)}}}function tp(l){let e;return{c(){e=d("div"),e.textContent="No previous deployments found",f(e,"class","no-deployments svelte-cuxyqu")},m(t,n){w(t,e,n)},p:ge,i:ge,o:ge,d(t){t&&k(e)}}}function lp(l){let e,t=l[75].id.substring(0,8)+"",n;return{c(){e=d("span"),n=q(t),f(e,"class","version-badge muted svelte-cuxyqu")},m(s,o){w(s,e,o),r(e,n)},p(s,o){o[0]&8&&t!==(t=s[75].id.substring(0,8)+"")&&U(n,t)},d(s){s&&k(e)}}}function np(l){let e,t,n=l[75].version+"",s;return{c(){e=d("span"),t=q("v"),s=q(n),f(e,"class","version-badge svelte-cuxyqu")},m(o,i){w(o,e,i),r(e,t),r(e,s)},p(o,i){i[0]&8&&n!==(n=o[75].version+"")&&U(s,n)},d(o){o&&k(e)}}}function sp(l){let e=il(l[75])+"",t;return{c(){t=q(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&8&&e!==(e=il(n[75])+"")&&U(t,e)},d(n){n&&k(t)}}}function Nr(l){let e,t,n,s=!1,o,i,u,a,c,_=ll(l[75].deployed_at||l[75].created_at)+"",p,m,h,v,g=(l[75].deployed_by||l[75].user||"unknown")+"",S,C,$,y,T,z,E,j;function D(A,Y){return A[75].version?np:lp}let I=D(l),N=I(l);return $=new et({props:{variant:Rl(il(l[75])),$$slots:{default:[sp]},$$scope:{ctx:l}}}),z=dn(l[39][0]),{c(){e=d("label"),t=d("input"),o=b(),i=d("div"),N.c(),u=b(),a=d("div"),c=d("div"),p=q(_),m=b(),h=d("div"),v=q("by "),S=q(g),C=b(),_e($.$$.fragment),y=b(),f(t,"type","radio"),t.__value=n=l[75].id,te(t,t.__value),t.disabled=l[5],f(t,"class","svelte-cuxyqu"),f(i,"class","deploy-version svelte-cuxyqu"),f(c,"class","deploy-date svelte-cuxyqu"),f(h,"class","deploy-by svelte-cuxyqu"),f(a,"class","deploy-info svelte-cuxyqu"),f(e,"class","deployment-option svelte-cuxyqu"),we(e,"selected",l[4]===l[75].id),z.p(t)},m(A,Y){w(A,e,Y),r(e,t),t.checked=t.__value===l[4],r(e,o),r(e,i),N.m(i,null),r(e,u),r(e,a),r(a,c),r(c,p),r(a,m),r(a,h),r(h,v),r(h,S),r(e,C),fe($,e,null),r(e,y),T=!0,E||(j=ee(t,"change",l[38]),E=!0)},p(A,Y){(!T||Y[0]&8&&n!==(n=A[75].id))&&(t.__value=n,te(t,t.__value),s=!0),(!T||Y[0]&32)&&(t.disabled=A[5]),(s||Y[0]&24)&&(t.checked=t.__value===A[4]),I===(I=D(A))&&N?N.p(A,Y):(N.d(1),N=I(A),N&&(N.c(),N.m(i,null))),(!T||Y[0]&8)&&_!==(_=ll(A[75].deployed_at||A[75].created_at)+"")&&U(p,_),(!T||Y[0]&8)&&g!==(g=(A[75].deployed_by||A[75].user||"unknown")+"")&&U(S,g);const F={};Y[0]&8&&(F.variant=Rl(il(A[75]))),Y[0]&8|Y[2]&1048576&&(F.$$scope={dirty:Y,ctx:A}),$.$set(F),(!T||Y[0]&24)&&we(e,"selected",A[4]===A[75].id)},i(A){T||(P($.$$.fragment,A),T=!0)},o(A){M($.$$.fragment,A),T=!1},d(A){A&&k(e),N.d(),ce($),z.r(),E=!1,j()}}}function Rr(l){let e,t,n,s,o,i=de(l[6]),u=[];for(let c=0;c<i.length;c+=1)u[c]=Ar(yr(l,i,c));let a=l[5]&&Mr();return{c(){e=d("div"),t=d("label"),t.textContent="📋 Progress",n=b(),s=d("div");for(let c=0;c<u.length;c+=1)u[c].c();o=b(),a&&a.c(),f(t,"class","svelte-cuxyqu"),f(s,"class","rollback-logs svelte-cuxyqu"),f(e,"class","section rollback-logs-section svelte-cuxyqu")},m(c,_){w(c,e,_),r(e,t),r(e,n),r(e,s);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(s,null);r(s,o),a&&a.m(s,null)},p(c,_){if(_[0]&64){i=de(c[6]);let p;for(p=0;p<i.length;p+=1){const m=yr(c,i,p);u[p]?u[p].p(m,_):(u[p]=Ar(m),u[p].c(),u[p].m(s,o))}for(;p<u.length;p+=1)u[p].d(1);u.length=i.length}c[5]?a||(a=Mr(),a.c(),a.m(s,null)):a&&(a.d(1),a=null)},d(c){c&&k(e),Ne(u,c),a&&a.d()}}}function Ar(l){let e,t=l[62].message+"",n,s;return{c(){e=d("div"),n=q(t),f(e,"class",s="log-entry log-"+l[62].type+" svelte-cuxyqu")},m(o,i){w(o,e,i),r(e,n)},p(o,i){i[0]&64&&t!==(t=o[62].message+"")&&U(n,t),i[0]&64&&s!==(s="log-entry log-"+o[62].type+" svelte-cuxyqu")&&f(e,"class",s)},d(o){o&&k(e)}}}function Mr(l){let e;return{c(){e=d("div"),e.innerHTML='<span class="spinner svelte-cuxyqu">⏳</span> Working...',f(e,"class","log-entry log-info svelte-cuxyqu")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function op(l){let e,t,n=l[2]&&Lr(l);return{c(){n&&n.c(),e=Oe()},m(s,o){n&&n.m(s,o),w(s,e,o),t=!0},p(s,o){s[2]?n?(n.p(s,o),o[0]&4&&P(n,1)):(n=Lr(s),n.c(),P(n,1),n.m(e.parentNode,e)):n&&(qe(),M(n,1,1,()=>{n=null}),je())},i(s){t||(P(n),t=!0)},o(s){M(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function ip(l){let e=l[6].length>0?"Close":"Cancel",t;return{c(){t=q(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&64&&e!==(e=n[6].length>0?"Close":"Cancel")&&U(t,e)},d(n){n&&k(t)}}}function rp(l){let e;return{c(){e=q("⏪ Execute Rollback")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function ap(l){let e;return{c(){e=q("⏳ Rolling back...")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function up(l){let e;function t(o,i){return o[5]?ap:rp}let n=t(l),s=n(l);return{c(){s.c(),e=Oe()},m(o,i){s.m(o,i),w(o,e,i)},p(o,i){n!==(n=t(o))&&(s.d(1),s=n(o),s&&(s.c(),s.m(e.parentNode,e)))},d(o){o&&k(e),s.d(o)}}}function fp(l){let e,t,n,s,o;return t=new Fe({props:{variant:"ghost",$$slots:{default:[ip]},$$scope:{ctx:l}}}),t.$on("click",l[37]),s=new Fe({props:{variant:"warning",disabled:!l[4]||l[5],$$slots:{default:[up]},$$scope:{ctx:l}}}),s.$on("click",l[25]),{c(){e=d("div"),_e(t.$$.fragment),n=b(),_e(s.$$.fragment),f(e,"slot","footer")},m(i,u){w(i,e,u),fe(t,e,null),r(e,n),fe(s,e,null),o=!0},p(i,u){const a={};u[0]&64|u[2]&1048576&&(a.$$scope={dirty:u,ctx:i}),t.$set(a);const c={};u[0]&48&&(c.disabled=!i[4]||i[5]),u[0]&32|u[2]&1048576&&(c.$$scope={dirty:u,ctx:i}),s.$set(c)},i(i){o||(P(t.$$.fragment,i),P(s.$$.fragment,i),o=!0)},o(i){M(t.$$.fragment,i),M(s.$$.fragment,i),o=!1},d(i){i&&k(e),ce(t),ce(s)}}}function Or(l){let e,t,n,s=(l[14].service_name||l[14].service)+"",o,i,u,a=l[14].environment+"",c,_,p=ll(l[14].deployed_at)+"",m,h,v,g,S;const C=[_p,cp],$=[];function y(z,E){return z[14].config_snapshot?0:1}function T(z,E){return E===0?Hd(z):z}return v=y(l),g=$[v]=C[v](T(l,v)),{c(){e=d("div"),t=d("div"),n=d("span"),o=q(s),i=b(),u=d("span"),c=q(a),_=q(" • "),m=q(p),h=b(),g.c(),f(n,"class","service-name svelte-cuxyqu"),f(u,"class","meta svelte-cuxyqu"),f(t,"class","config-header-info svelte-cuxyqu"),f(e,"class","config-content svelte-cuxyqu")},m(z,E){w(z,e,E),r(e,t),r(t,n),r(n,o),r(t,i),r(t,u),r(u,c),r(u,_),r(u,m),r(e,h),$[v].m(e,null),S=!0},p(z,E){(!S||E[0]&16384)&&s!==(s=(z[14].service_name||z[14].service)+"")&&U(o,s),(!S||E[0]&16384)&&a!==(a=z[14].environment+"")&&U(c,a),(!S||E[0]&16384)&&p!==(p=ll(z[14].deployed_at)+"")&&U(m,p);let j=v;v=y(z),v===j?$[v].p(T(z,v),E):(qe(),M($[j],1,1,()=>{$[j]=null}),je(),g=$[v],g?g.p(T(z,v),E):(g=$[v]=C[v](T(z,v)),g.c()),P(g,1),g.m(e,null))},i(z){S||(P(g),S=!0)},o(z){M(g),S=!1},d(z){z&&k(e),$[v].d()}}}function cp(l){let e;return{c(){e=d("div"),e.textContent="No config snapshot available",f(e,"class","no-config svelte-cuxyqu")},m(t,n){w(t,e,n)},p:ge,i:ge,o:ge,d(t){t&&k(e)}}}function _p(l){var ie,ue;let e,t,n,s,o,i,u=(l[65].source_type||"-")+"",a,c,_,p,m,h,v,g,S=(l[65].port||"-")+"",C,$,y,T,z,E,j,D,I,N,A=l[65].env_vars&&Object.keys(l[65].env_vars).length>0,Y,F,O,H=l[65].git_url&&Ir(l),L=l[65].git_branch&&Fr(l),R=l[65].image&&Ur(l),B=l[65].container_port&&Br(l),V=l[65].host_port&&Hr(l),Q=l[65].snapshot_id&&Gr(l),G=l[65].region&&Wr(l),oe=l[65].size&&Vr(l),x=((ie=l[65].server_ips)==null?void 0:ie.length)&&Jr(l),W=l[65].setup_domain&&Kr(),J=l[65].base_domain&&Yr(l),ae=A&&Qr(l),K=((ue=l[65].tags)==null?void 0:ue.length)&&Xr(l);return{c(){e=d("table"),t=d("tbody"),n=d("tr"),s=d("td"),s.textContent="Source Type",o=d("td"),i=d("strong"),a=q(u),c=b(),H&&H.c(),_=b(),L&&L.c(),p=b(),R&&R.c(),m=b(),h=d("tr"),v=d("td"),v.textContent="Port",g=d("td"),C=q(S),$=b(),B&&B.c(),y=b(),V&&V.c(),T=b(),Q&&Q.c(),z=b(),G&&G.c(),E=b(),oe&&oe.c(),j=b(),x&&x.c(),D=b(),W&&W.c(),I=b(),J&&J.c(),N=b(),ae&&ae.c(),Y=b(),K&&K.c(),F=Oe(),f(s,"class","label svelte-cuxyqu"),f(o,"class","svelte-cuxyqu"),f(v,"class","label svelte-cuxyqu"),f(g,"class","svelte-cuxyqu"),f(t,"class","svelte-cuxyqu"),f(e,"class","config-table svelte-cuxyqu")},m(le,me){w(le,e,me),r(e,t),r(t,n),r(n,s),r(n,o),r(o,i),r(i,a),r(t,c),H&&H.m(t,null),r(t,_),L&&L.m(t,null),r(t,p),R&&R.m(t,null),r(t,m),r(t,h),r(h,v),r(h,g),r(g,C),r(t,$),B&&B.m(t,null),r(t,y),V&&V.m(t,null),r(t,T),Q&&Q.m(t,null),r(t,z),G&&G.m(t,null),r(t,E),oe&&oe.m(t,null),r(t,j),x&&x.m(t,null),r(t,D),W&&W.m(t,null),r(t,I),J&&J.m(t,null),w(le,N,me),ae&&ae.m(le,me),w(le,Y,me),K&&K.m(le,me),w(le,F,me),O=!0},p(le,me){var re,ne;(!O||me[0]&16384)&&u!==(u=(le[65].source_type||"-")+"")&&U(a,u),le[65].git_url?H?H.p(le,me):(H=Ir(le),H.c(),H.m(t,_)):H&&(H.d(1),H=null),le[65].git_branch?L?L.p(le,me):(L=Fr(le),L.c(),L.m(t,p)):L&&(L.d(1),L=null),le[65].image?R?R.p(le,me):(R=Ur(le),R.c(),R.m(t,m)):R&&(R.d(1),R=null),(!O||me[0]&16384)&&S!==(S=(le[65].port||"-")+"")&&U(C,S),le[65].container_port?B?B.p(le,me):(B=Br(le),B.c(),B.m(t,y)):B&&(B.d(1),B=null),le[65].host_port?V?V.p(le,me):(V=Hr(le),V.c(),V.m(t,T)):V&&(V.d(1),V=null),le[65].snapshot_id?Q?Q.p(le,me):(Q=Gr(le),Q.c(),Q.m(t,z)):Q&&(Q.d(1),Q=null),le[65].region?G?G.p(le,me):(G=Wr(le),G.c(),G.m(t,E)):G&&(G.d(1),G=null),le[65].size?oe?oe.p(le,me):(oe=Vr(le),oe.c(),oe.m(t,j)):oe&&(oe.d(1),oe=null),(re=le[65].server_ips)!=null&&re.length?x?x.p(le,me):(x=Jr(le),x.c(),x.m(t,D)):x&&(x.d(1),x=null),le[65].setup_domain?W||(W=Kr(),W.c(),W.m(t,I)):W&&(W.d(1),W=null),le[65].base_domain?J?J.p(le,me):(J=Yr(le),J.c(),J.m(t,null)):J&&(J.d(1),J=null),me[0]&16384&&(A=le[65].env_vars&&Object.keys(le[65].env_vars).length>0),A?ae?ae.p(le,me):(ae=Qr(le),ae.c(),ae.m(Y.parentNode,Y)):ae&&(ae.d(1),ae=null),(ne=le[65].tags)!=null&&ne.length?K?(K.p(le,me),me[0]&16384&&P(K,1)):(K=Xr(le),K.c(),P(K,1),K.m(F.parentNode,F)):K&&(qe(),M(K,1,1,()=>{K=null}),je())},i(le){O||(P(K),O=!0)},o(le){M(K),O=!1},d(le){le&&(k(e),k(N),k(Y),k(F)),H&&H.d(),L&&L.d(),R&&R.d(),B&&B.d(),V&&V.d(),Q&&Q.d(),G&&G.d(),oe&&oe.d(),x&&x.d(),W&&W.d(),J&&J.d(),ae&&ae.d(le),K&&K.d(le)}}}function Ir(l){let e,t,n,s=l[65].git_url+"",o;return{c(){e=d("tr"),t=d("td"),t.textContent="Git URL",n=d("td"),o=q(s),f(t,"class","label svelte-cuxyqu"),f(n,"class","svelte-cuxyqu")},m(i,u){w(i,e,u),r(e,t),r(e,n),r(n,o)},p(i,u){u[0]&16384&&s!==(s=i[65].git_url+"")&&U(o,s)},d(i){i&&k(e)}}}function Fr(l){let e,t,n,s=l[65].git_branch+"",o;return{c(){e=d("tr"),t=d("td"),t.textContent="Git Branch",n=d("td"),o=q(s),f(t,"class","label svelte-cuxyqu"),f(n,"class","svelte-cuxyqu")},m(i,u){w(i,e,u),r(e,t),r(e,n),r(n,o)},p(i,u){u[0]&16384&&s!==(s=i[65].git_branch+"")&&U(o,s)},d(i){i&&k(e)}}}function Ur(l){let e,t,n,s=l[65].image+"",o;return{c(){e=d("tr"),t=d("td"),t.textContent="Image",n=d("td"),o=q(s),f(t,"class","label svelte-cuxyqu"),f(n,"class","svelte-cuxyqu")},m(i,u){w(i,e,u),r(e,t),r(e,n),r(n,o)},p(i,u){u[0]&16384&&s!==(s=i[65].image+"")&&U(o,s)},d(i){i&&k(e)}}}function Br(l){let e,t,n,s=l[65].container_port+"",o;return{c(){e=d("tr"),t=d("td"),t.textContent="Container Port",n=d("td"),o=q(s),f(t,"class","label svelte-cuxyqu"),f(n,"class","svelte-cuxyqu")},m(i,u){w(i,e,u),r(e,t),r(e,n),r(n,o)},p(i,u){u[0]&16384&&s!==(s=i[65].container_port+"")&&U(o,s)},d(i){i&&k(e)}}}function Hr(l){let e,t,n,s=l[65].host_port+"",o;return{c(){e=d("tr"),t=d("td"),t.textContent="Host Port",n=d("td"),o=q(s),f(t,"class","label svelte-cuxyqu"),f(n,"class","svelte-cuxyqu")},m(i,u){w(i,e,u),r(e,t),r(e,n),r(n,o)},p(i,u){u[0]&16384&&s!==(s=i[65].host_port+"")&&U(o,s)},d(i){i&&k(e)}}}function Gr(l){let e,t,n,s=l[65].snapshot_id+"",o;return{c(){e=d("tr"),t=d("td"),t.textContent="Snapshot ID",n=d("td"),o=q(s),f(t,"class","label svelte-cuxyqu"),f(n,"class","svelte-cuxyqu")},m(i,u){w(i,e,u),r(e,t),r(e,n),r(n,o)},p(i,u){u[0]&16384&&s!==(s=i[65].snapshot_id+"")&&U(o,s)},d(i){i&&k(e)}}}function Wr(l){let e,t,n,s=l[65].region+"",o;return{c(){e=d("tr"),t=d("td"),t.textContent="Region",n=d("td"),o=q(s),f(t,"class","label svelte-cuxyqu"),f(n,"class","svelte-cuxyqu")},m(i,u){w(i,e,u),r(e,t),r(e,n),r(n,o)},p(i,u){u[0]&16384&&s!==(s=i[65].region+"")&&U(o,s)},d(i){i&&k(e)}}}function Vr(l){let e,t,n,s=l[65].size+"",o;return{c(){e=d("tr"),t=d("td"),t.textContent="Size",n=d("td"),o=q(s),f(t,"class","label svelte-cuxyqu"),f(n,"class","svelte-cuxyqu")},m(i,u){w(i,e,u),r(e,t),r(e,n),r(n,o)},p(i,u){u[0]&16384&&s!==(s=i[65].size+"")&&U(o,s)},d(i){i&&k(e)}}}function Jr(l){let e,t,n,s=l[65].server_ips.join(", ")+"",o;return{c(){e=d("tr"),t=d("td"),t.textContent="Servers",n=d("td"),o=q(s),f(t,"class","label svelte-cuxyqu"),f(n,"class","svelte-cuxyqu")},m(i,u){w(i,e,u),r(e,t),r(e,n),r(n,o)},p(i,u){u[0]&16384&&s!==(s=i[65].server_ips.join(", ")+"")&&U(o,s)},d(i){i&&k(e)}}}function Kr(l){let e;return{c(){e=d("tr"),e.innerHTML='<td class="label svelte-cuxyqu">Setup Domain</td><td class="svelte-cuxyqu">Yes</td>'},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Yr(l){let e,t,n,s=l[65].base_domain+"",o;return{c(){e=d("tr"),t=d("td"),t.textContent="Base Domain",n=d("td"),o=q(s),f(t,"class","label svelte-cuxyqu"),f(n,"class","svelte-cuxyqu")},m(i,u){w(i,e,u),r(e,t),r(e,n),r(n,o)},p(i,u){u[0]&16384&&s!==(s=i[65].base_domain+"")&&U(o,s)},d(i){i&&k(e)}}}function Qr(l){let e,t,n,s,o=de(Object.entries(l[65].env_vars)),i=[];for(let u=0;u<o.length;u+=1)i[u]=Zr(Cr(l,o,u));return{c(){e=d("div"),t=d("div"),t.textContent="Environment Variables",n=b(),s=d("div");for(let u=0;u<i.length;u+=1)i[u].c();f(t,"class","section-title svelte-cuxyqu"),f(s,"class","env-list svelte-cuxyqu"),f(e,"class","env-section svelte-cuxyqu")},m(u,a){w(u,e,a),r(e,t),r(e,n),r(e,s);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(s,null)},p(u,a){if(a[0]&16384){o=de(Object.entries(u[65].env_vars));let c;for(c=0;c<o.length;c+=1){const _=Cr(u,o,c);i[c]?i[c].p(_,a):(i[c]=Zr(_),i[c].c(),i[c].m(s,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=o.length}},d(u){u&&k(e),Ne(i,u)}}}function Zr(l){let e,t=l[69]+"",n,s,o=(l[70].length>20?l[70].substring(0,20)+"...":l[70])+"",i;return{c(){e=d("div"),n=q(t),s=q("="),i=q(o),f(e,"class","env-item svelte-cuxyqu")},m(u,a){w(u,e,a),r(e,n),r(e,s),r(e,i)},p(u,a){a[0]&16384&&t!==(t=u[69]+"")&&U(n,t),a[0]&16384&&o!==(o=(u[70].length>20?u[70].substring(0,20)+"...":u[70])+"")&&U(i,o)},d(u){u&&k(e)}}}function Xr(l){let e,t,n,s,o,i=de(l[65].tags),u=[];for(let c=0;c<i.length;c+=1)u[c]=xr($r(l,i,c));const a=c=>M(u[c],1,1,()=>{u[c]=null});return{c(){e=d("div"),t=d("div"),t.textContent="Tags",n=b(),s=d("div");for(let c=0;c<u.length;c+=1)u[c].c();f(t,"class","section-title svelte-cuxyqu"),f(s,"class","tags-list svelte-cuxyqu"),f(e,"class","tags-section svelte-cuxyqu")},m(c,_){w(c,e,_),r(e,t),r(e,n),r(e,s);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(s,null);o=!0},p(c,_){if(_[0]&16384){i=de(c[65].tags);let p;for(p=0;p<i.length;p+=1){const m=$r(c,i,p);u[p]?(u[p].p(m,_),P(u[p],1)):(u[p]=xr(m),u[p].c(),P(u[p],1),u[p].m(s,null))}for(qe(),p=i.length;p<u.length;p+=1)a(p);je()}},i(c){if(!o){for(let _=0;_<i.length;_+=1)P(u[_]);o=!0}},o(c){u=u.filter(Boolean);for(let _=0;_<u.length;_+=1)M(u[_]);o=!1},d(c){c&&k(e),Ne(u,c)}}}function dp(l){let e=l[66]+"",t;return{c(){t=q(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&16384&&e!==(e=n[66]+"")&&U(t,e)},d(n){n&&k(t)}}}function xr(l){let e,t;return e=new et({props:{$$slots:{default:[dp]},$$scope:{ctx:l}}}),{c(){_e(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[0]&16384|s[2]&1048576&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function pp(l){let e,t,n=l[14]&&Or(l);return{c(){n&&n.c(),e=Oe()},m(s,o){n&&n.m(s,o),w(s,e,o),t=!0},p(s,o){s[14]?n?(n.p(s,o),o[0]&16384&&P(n,1)):(n=Or(s),n.c(),P(n,1),n.m(e.parentNode,e)):n&&(qe(),M(n,1,1,()=>{n=null}),je())},i(s){t||(P(n),t=!0)},o(s){M(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function mp(l){let e;return{c(){e=q("🚀 Redeploy with this config")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function vp(l){let e;return{c(){e=q("Close")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function hp(l){let e,t,n,s,o;return t=new Fe({props:{variant:"primary",$$slots:{default:[mp]},$$scope:{ctx:l}}}),t.$on("click",l[22]),s=new Fe({props:{variant:"ghost",$$slots:{default:[vp]},$$scope:{ctx:l}}}),s.$on("click",l[42]),{c(){e=d("div"),_e(t.$$.fragment),n=b(),_e(s.$$.fragment),f(e,"slot","footer")},m(i,u){w(i,e,u),fe(t,e,null),r(e,n),fe(s,e,null),o=!0},p(i,u){const a={};u[2]&1048576&&(a.$$scope={dirty:u,ctx:i}),t.$set(a);const c={};u[2]&1048576&&(c.$$scope={dirty:u,ctx:i}),s.$set(c)},i(i){o||(P(t.$$.fragment,i),P(s.$$.fragment,i),o=!0)},o(i){M(t.$$.fragment,i),M(s.$$.fragment,i),o=!1},d(i){i&&k(e),ce(t),ce(s)}}}function ea(l){let e,t,n,s=(l[16].service||l[16].name)+"",o,i,u,a=l[16].environment+"",c,_,p=ll(l[16].deployed_at)+"",m,h,v,g,S,C,$=l[16].version&&ta(l);g=new et({props:{variant:Rl(il(l[16])),$$slots:{default:[bp]},$$scope:{ctx:l}}});function y(E,j){return E[18]?$p:E[17].length===0?wp:kp}let T=y(l),z=T(l);return{c(){e=d("div"),t=d("div"),n=d("span"),o=q(s),i=b(),u=d("span"),c=q(a),_=q(" • "),m=q(p),h=b(),$&&$.c(),v=b(),_e(g.$$.fragment),S=b(),z.c(),f(n,"class","service-name svelte-cuxyqu"),f(u,"class","meta svelte-cuxyqu"),f(t,"class","logs-header-info svelte-cuxyqu"),f(e,"class","logs-modal-content svelte-cuxyqu")},m(E,j){w(E,e,j),r(e,t),r(t,n),r(n,o),r(t,i),r(t,u),r(u,c),r(u,_),r(u,m),r(t,h),$&&$.m(t,null),r(t,v),fe(g,t,null),r(e,S),z.m(e,null),C=!0},p(E,j){(!C||j[0]&65536)&&s!==(s=(E[16].service||E[16].name)+"")&&U(o,s),(!C||j[0]&65536)&&a!==(a=E[16].environment+"")&&U(c,a),(!C||j[0]&65536)&&p!==(p=ll(E[16].deployed_at)+"")&&U(m,p),E[16].version?$?($.p(E,j),j[0]&65536&&P($,1)):($=ta(E),$.c(),P($,1),$.m(t,v)):$&&(qe(),M($,1,1,()=>{$=null}),je());const D={};j[0]&65536&&(D.variant=Rl(il(E[16]))),j[0]&65536|j[2]&1048576&&(D.$$scope={dirty:j,ctx:E}),g.$set(D),T===(T=y(E))&&z?z.p(E,j):(z.d(1),z=T(E),z&&(z.c(),z.m(e,null)))},i(E){C||(P($),P(g.$$.fragment,E),C=!0)},o(E){M($),M(g.$$.fragment,E),C=!1},d(E){E&&k(e),$&&$.d(),ce(g),z.d()}}}function ta(l){let e,t;return e=new et({props:{variant:"purple",$$slots:{default:[gp]},$$scope:{ctx:l}}}),{c(){_e(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[0]&65536|s[2]&1048576&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function gp(l){let e,t=l[16].version+"",n;return{c(){e=q("v"),n=q(t)},m(s,o){w(s,e,o),w(s,n,o)},p(s,o){o[0]&65536&&t!==(t=s[16].version+"")&&U(n,t)},d(s){s&&(k(e),k(n))}}}function bp(l){let e=il(l[16])+"",t;return{c(){t=q(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&65536&&e!==(e=il(n[16])+"")&&U(t,e)},d(n){n&&k(t)}}}function kp(l){let e,t=de(l[17]),n=[];for(let s=0;s<t.length;s+=1)n[s]=la(wr(l,t,s));return{c(){e=d("div");for(let s=0;s<n.length;s+=1)n[s].c();f(e,"class","logs-container svelte-cuxyqu")},m(s,o){w(s,e,o);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(s,o){if(o[0]&131072){t=de(s[17]);let i;for(i=0;i<t.length;i+=1){const u=wr(s,t,i);n[i]?n[i].p(u,o):(n[i]=la(u),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(s){s&&k(e),Ne(n,s)}}}function wp(l){let e;return{c(){e=d("div"),e.textContent="No logs available for this deployment",f(e,"class","no-logs svelte-cuxyqu")},m(t,n){w(t,e,n)},p:ge,d(t){t&&k(e)}}}function $p(l){let e;return{c(){e=d("div"),e.textContent="Loading logs...",f(e,"class","logs-loading svelte-cuxyqu")},m(t,n){w(t,e,n)},p:ge,d(t){t&&k(e)}}}function la(l){let e,t,n=(l[62].timestamp?new Date(l[62].timestamp).toLocaleTimeString():"")+"",s,o,i,u=l[62].message+"",a,c;return{c(){e=d("div"),t=d("span"),s=q(n),o=b(),i=d("span"),a=q(u),c=b(),f(t,"class","log-time svelte-cuxyqu"),f(i,"class","log-message svelte-cuxyqu"),f(e,"class","log-line svelte-cuxyqu")},m(_,p){w(_,e,p),r(e,t),r(t,s),r(e,o),r(e,i),r(i,a),r(e,c)},p(_,p){p[0]&131072&&n!==(n=(_[62].timestamp?new Date(_[62].timestamp).toLocaleTimeString():"")+"")&&U(s,n),p[0]&131072&&u!==(u=_[62].message+"")&&U(a,u)},d(_){_&&k(e)}}}function Cp(l){let e,t,n=l[16]&&ea(l);return{c(){n&&n.c(),e=Oe()},m(s,o){n&&n.m(s,o),w(s,e,o),t=!0},p(s,o){s[16]?n?(n.p(s,o),o[0]&65536&&P(n,1)):(n=ea(s),n.c(),P(n,1),n.m(e.parentNode,e)):n&&(qe(),M(n,1,1,()=>{n=null}),je())},i(s){t||(P(n),t=!0)},o(s){M(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function yp(l){let e;return{c(){e=q("Close")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Sp(l){let e,t,n;return t=new Fe({props:{variant:"ghost",$$slots:{default:[yp]},$$scope:{ctx:l}}}),t.$on("click",l[45]),{c(){e=d("div"),_e(t.$$.fragment),f(e,"slot","footer")},m(s,o){w(s,e,o),fe(t,e,null),n=!0},p(s,o){const i={};o[2]&1048576&&(i.$$scope={dirty:o,ctx:s}),t.$set(i)},i(s){n||(P(t.$$.fragment,s),n=!0)},o(s){M(t.$$.fragment,s),n=!1},d(s){s&&k(e),ce(t)}}}function qp(l){let e,t,n,s=l[10].length+"",o,i,u,a,c,_,p=de(l[10]),m=[];for(let g=0;g<p.length;g+=1)m[g]=na(br(l,p,g));const h=g=>M(m[g],1,1,()=>{m[g]=null});let v=l[11].length>0&&sa(l);return{c(){e=d("div"),t=d("p"),n=d("strong"),o=q(s),i=q(" server(s) from the original deployment are unavailable:"),u=b(),a=d("div");for(let g=0;g<m.length;g+=1)m[g].c();c=b(),v&&v.c(),f(t,"class","svelte-cuxyqu"),f(a,"class","confirm-server-list unavailable svelte-cuxyqu"),f(e,"class","rollback-confirm-content svelte-cuxyqu")},m(g,S){w(g,e,S),r(e,t),r(t,n),r(n,o),r(t,i),r(e,u),r(e,a);for(let C=0;C<m.length;C+=1)m[C]&&m[C].m(a,null);r(e,c),v&&v.m(e,null),_=!0},p(g,S){if((!_||S[0]&1024)&&s!==(s=g[10].length+"")&&U(o,s),S[0]&1024){p=de(g[10]);let C;for(C=0;C<p.length;C+=1){const $=br(g,p,C);m[C]?(m[C].p($,S),P(m[C],1)):(m[C]=na($),m[C].c(),P(m[C],1),m[C].m(a,null))}for(qe(),C=p.length;C<m.length;C+=1)h(C);je()}g[11].length>0?v?(v.p(g,S),S[0]&2048&&P(v,1)):(v=sa(g),v.c(),P(v,1),v.m(e,null)):v&&(qe(),M(v,1,1,()=>{v=null}),je())},i(g){if(!_){for(let S=0;S<p.length;S+=1)P(m[S]);P(v),_=!0}},o(g){m=m.filter(Boolean);for(let S=0;S<m.length;S+=1)M(m[S]);M(v),_=!1},d(g){g&&k(e),Ne(m,g),v&&v.d()}}}function jp(l){let e,t,n,s,o=l[11].length+"",i,u,a,c=l[11].length+l[9].length+"",_,p,m,h,v,g,S=de(l[9]),C=[];for(let $=0;$<S.length;$+=1)C[$]=ia(kr(l,S,$));return{c(){e=d("div"),t=d("p"),n=q("Rolling back will restore to "),s=d("strong"),i=q(o),u=q(` servers.
        Service currently runs on `),a=d("strong"),_=q(c),p=q(" servers."),m=b(),h=d("p"),h.textContent="Stop containers on the following servers?",v=b(),g=d("div");for(let $=0;$<C.length;$+=1)C[$].c();f(t,"class","svelte-cuxyqu"),f(h,"class","svelte-cuxyqu"),f(g,"class","confirm-server-list svelte-cuxyqu"),f(e,"class","rollback-confirm-content svelte-cuxyqu")},m($,y){w($,e,y),r(e,t),r(t,n),r(t,s),r(s,i),r(t,u),r(t,a),r(a,_),r(t,p),r(e,m),r(e,h),r(e,v),r(e,g);for(let T=0;T<C.length;T+=1)C[T]&&C[T].m(g,null)},p($,y){if(y[0]&2048&&o!==(o=$[11].length+"")&&U(i,o),y[0]&2560&&c!==(c=$[11].length+$[9].length+"")&&U(_,c),y[0]&512){S=de($[9]);let T;for(T=0;T<S.length;T+=1){const z=kr($,S,T);C[T]?C[T].p(z,y):(C[T]=ia(z),C[T].c(),C[T].m(g,null))}for(;T<C.length;T+=1)C[T].d(1);C.length=S.length}},i:ge,o:ge,d($){$&&k(e),Ne(C,$)}}}function Tp(l){let e;return{c(){e=q("offline")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function na(l){let e,t,n=(l[55].name||l[55].ip)+"",s,o,i,u=l[55].ip+"",a,c,_,p,m;return _=new et({props:{variant:"error",$$slots:{default:[Tp]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("span"),s=q(n),o=b(),i=d("span"),a=q(u),c=b(),_e(_.$$.fragment),p=b(),f(t,"class","server-name svelte-cuxyqu"),f(i,"class","server-ip svelte-cuxyqu"),f(e,"class","confirm-server-item svelte-cuxyqu")},m(h,v){w(h,e,v),r(e,t),r(t,s),r(e,o),r(e,i),r(i,a),r(e,c),fe(_,e,null),r(e,p),m=!0},p(h,v){(!m||v[0]&1024)&&n!==(n=(h[55].name||h[55].ip)+"")&&U(s,n),(!m||v[0]&1024)&&u!==(u=h[55].ip+"")&&U(a,u);const g={};v[2]&1048576&&(g.$$scope={dirty:v,ctx:h}),_.$set(g)},i(h){m||(P(_.$$.fragment,h),m=!0)},o(h){M(_.$$.fragment,h),m=!1},d(h){h&&k(e),ce(_)}}}function sa(l){let e,t,n=l[11].length+"",s,o,i,u,a,c=de(l[11]),_=[];for(let m=0;m<c.length;m+=1)_[m]=oa(gr(l,c,m));const p=m=>M(_[m],1,1,()=>{_[m]=null});return{c(){e=d("p"),t=q("Available servers ("),s=q(n),o=q("):"),i=b(),u=d("div");for(let m=0;m<_.length;m+=1)_[m].c();f(e,"class","svelte-cuxyqu"),f(u,"class","confirm-server-list available svelte-cuxyqu")},m(m,h){w(m,e,h),r(e,t),r(e,s),r(e,o),w(m,i,h),w(m,u,h);for(let v=0;v<_.length;v+=1)_[v]&&_[v].m(u,null);a=!0},p(m,h){if((!a||h[0]&2048)&&n!==(n=m[11].length+"")&&U(s,n),h[0]&2048){c=de(m[11]);let v;for(v=0;v<c.length;v+=1){const g=gr(m,c,v);_[v]?(_[v].p(g,h),P(_[v],1)):(_[v]=oa(g),_[v].c(),P(_[v],1),_[v].m(u,null))}for(qe(),v=c.length;v<_.length;v+=1)p(v);je()}},i(m){if(!a){for(let h=0;h<c.length;h+=1)P(_[h]);a=!0}},o(m){_=_.filter(Boolean);for(let h=0;h<_.length;h+=1)M(_[h]);a=!1},d(m){m&&(k(e),k(i),k(u)),Ne(_,m)}}}function zp(l){let e;return{c(){e=q("online")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function oa(l){let e,t,n=(l[55].name||l[55].ip)+"",s,o,i,u=l[55].ip+"",a,c,_,p,m;return _=new et({props:{variant:"success",$$slots:{default:[zp]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("span"),s=q(n),o=b(),i=d("span"),a=q(u),c=b(),_e(_.$$.fragment),p=b(),f(t,"class","server-name svelte-cuxyqu"),f(i,"class","server-ip svelte-cuxyqu"),f(e,"class","confirm-server-item svelte-cuxyqu")},m(h,v){w(h,e,v),r(e,t),r(t,s),r(e,o),r(e,i),r(i,a),r(e,c),fe(_,e,null),r(e,p),m=!0},p(h,v){(!m||v[0]&2048)&&n!==(n=(h[55].name||h[55].ip)+"")&&U(s,n),(!m||v[0]&2048)&&u!==(u=h[55].ip+"")&&U(a,u);const g={};v[2]&1048576&&(g.$$scope={dirty:v,ctx:h}),_.$set(g)},i(h){m||(P(_.$$.fragment,h),m=!0)},o(h){M(_.$$.fragment,h),m=!1},d(h){h&&k(e),ce(_)}}}function ia(l){let e,t,n=(l[55].name||l[55].ip)+"",s,o,i,u=l[55].ip+"",a,c;return{c(){e=d("div"),t=d("span"),s=q(n),o=b(),i=d("span"),a=q(u),c=b(),f(t,"class","server-name svelte-cuxyqu"),f(i,"class","server-ip svelte-cuxyqu"),f(e,"class","confirm-server-item svelte-cuxyqu")},m(_,p){w(_,e,p),r(e,t),r(t,s),r(e,o),r(e,i),r(i,a),r(e,c)},p(_,p){p[0]&512&&n!==(n=(_[55].name||_[55].ip)+"")&&U(s,n),p[0]&512&&u!==(u=_[55].ip+"")&&U(a,u)},d(_){_&&k(e)}}}function Dp(l){let e,t,n,s;const o=[jp,qp],i=[];function u(a,c){return a[8]==="cleanup"?0:a[8]==="missing"?1:-1}return~(e=u(l))&&(t=i[e]=o[e](l)),{c(){t&&t.c(),n=Oe()},m(a,c){~e&&i[e].m(a,c),w(a,n,c),s=!0},p(a,c){let _=e;e=u(a),e===_?~e&&i[e].p(a,c):(t&&(qe(),M(i[_],1,1,()=>{i[_]=null}),je()),~e?(t=i[e],t?t.p(a,c):(t=i[e]=o[e](a),t.c()),P(t,1),t.m(n.parentNode,n)):t=null)},i(a){s||(P(t),s=!0)},o(a){M(t),s=!1},d(a){a&&k(n),~e&&i[e].d(a)}}}function Ep(l){let e,t;return e=new Fe({props:{variant:"primary",$$slots:{default:[Pp]},$$scope:{ctx:l}}}),e.$on("click",l[27]),{c(){_e(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[2]&1048576&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function Lp(l){let e,t;return e=new Fe({props:{variant:"primary",$$slots:{default:[Np]},$$scope:{ctx:l}}}),e.$on("click",l[26]),{c(){_e(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[2]&1048576&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function Pp(l){let e;return{c(){e=q("Proceed with available only")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Np(l){let e;return{c(){e=q("Proceed")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Rp(l){let e;return{c(){e=q("Cancel")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Ap(l){let e,t,n,s,o,i;const u=[Lp,Ep],a=[];function c(_,p){return _[8]==="cleanup"?0:_[8]==="missing"&&_[11].length>0?1:-1}return~(t=c(l))&&(n=a[t]=u[t](l)),o=new Fe({props:{variant:"ghost",$$slots:{default:[Rp]},$$scope:{ctx:l}}}),o.$on("click",l[48]),{c(){e=d("div"),n&&n.c(),s=b(),_e(o.$$.fragment),f(e,"slot","footer")},m(_,p){w(_,e,p),~t&&a[t].m(e,null),r(e,s),fe(o,e,null),i=!0},p(_,p){let m=t;t=c(_),t===m?~t&&a[t].p(_,p):(n&&(qe(),M(a[m],1,1,()=>{a[m]=null}),je()),~t?(n=a[t],n?n.p(_,p):(n=a[t]=u[t](_),n.c()),P(n,1),n.m(e,s)):n=null);const h={};p[2]&1048576&&(h.$$scope={dirty:p,ctx:_}),o.$set(h)},i(_){i||(P(n),P(o.$$.fragment,_),i=!0)},o(_){M(n),M(o.$$.fragment,_),i=!1},d(_){_&&k(e),~t&&a[t].d(),ce(o)}}}function Mp(l){let e,t,n,s,o,i,u,a,c,_,p,m,h,v,g,S,C,$,y,T,z,E,j=l[20]&&jr(l);u=new Fe({props:{variant:"ghost",$$slots:{default:[Gd]},$$scope:{ctx:l}}}),u.$on("click",l[33]),c=new dt({props:{padding:!1,$$slots:{default:[xd]},$$scope:{ctx:l}}});function D(L){l[40](L)}let I={title:"⏪ Rollback",width:"600px",$$slots:{footer:[fp],default:[op]},$$scope:{ctx:l}};l[1]!==void 0&&(I.open=l[1]),p=new ol({props:I}),Ut.push(()=>pl(p,"open",D)),p.$on("close",l[41]);function N(L){l[43](L)}let A={title:"⚙️ Deployment Config",width:"500px",$$slots:{footer:[hp],default:[pp]},$$scope:{ctx:l}};l[13]!==void 0&&(A.open=l[13]),v=new ol({props:A}),Ut.push(()=>pl(v,"open",N)),v.$on("close",l[44]);function Y(L){l[46](L)}let F={title:"📋 Deployment Logs",width:"700px",$$slots:{footer:[Sp],default:[Cp]},$$scope:{ctx:l}};l[15]!==void 0&&(F.open=l[15]),C=new ol({props:F}),Ut.push(()=>pl(C,"open",Y)),C.$on("close",l[47]);function O(L){l[49](L)}let H={title:l[8]==="cleanup"?"⚠️ Stop Orphan Containers":"⚠️ Servers Unavailable",width:"500px",$$slots:{footer:[Ap],default:[Dp]},$$scope:{ctx:l}};return l[7]!==void 0&&(H.open=l[7]),T=new ol({props:H}),Ut.push(()=>pl(T,"open",O)),T.$on("close",l[50]),{c(){e=d("div"),t=d("div"),n=d("h1"),n.textContent="Deployment History",s=b(),o=d("div"),j&&j.c(),i=b(),_e(u.$$.fragment),a=b(),_e(c.$$.fragment),_=b(),_e(p.$$.fragment),h=b(),_e(v.$$.fragment),S=b(),_e(C.$$.fragment),y=b(),_e(T.$$.fragment),f(n,"class","svelte-cuxyqu"),f(o,"class","header-actions svelte-cuxyqu"),f(t,"class","page-header svelte-cuxyqu"),f(e,"class","deployments-page svelte-cuxyqu")},m(L,R){w(L,e,R),r(e,t),r(t,n),r(t,s),r(t,o),j&&j.m(o,null),r(o,i),fe(u,o,null),r(e,a),fe(c,e,null),w(L,_,R),fe(p,L,R),w(L,h,R),fe(v,L,R),w(L,S,R),fe(C,L,R),w(L,y,R),fe(T,L,R),E=!0},p(L,R){L[20]?j?j.p(L,R):(j=jr(L),j.c(),j.m(o,i)):j&&(j.d(1),j=null);const B={};R[2]&1048576&&(B.$$scope={dirty:R,ctx:L}),u.$set(B);const V={};R[0]&524289|R[2]&1048576&&(V.$$scope={dirty:R,ctx:L}),c.$set(V);const Q={};R[0]&126|R[2]&1048576&&(Q.$$scope={dirty:R,ctx:L}),!m&&R[0]&2&&(m=!0,Q.open=L[1],dl(()=>m=!1)),p.$set(Q);const G={};R[0]&24576|R[2]&1048576&&(G.$$scope={dirty:R,ctx:L}),!g&&R[0]&8192&&(g=!0,G.open=L[13],dl(()=>g=!1)),v.$set(G);const oe={};R[0]&491520|R[2]&1048576&&(oe.$$scope={dirty:R,ctx:L}),!$&&R[0]&32768&&($=!0,oe.open=L[15],dl(()=>$=!1)),C.$set(oe);const x={};R[0]&256&&(x.title=L[8]==="cleanup"?"⚠️ Stop Orphan Containers":"⚠️ Servers Unavailable"),R[0]&8064|R[2]&1048576&&(x.$$scope={dirty:R,ctx:L}),!z&&R[0]&128&&(z=!0,x.open=L[7],dl(()=>z=!1)),T.$set(x)},i(L){E||(P(u.$$.fragment,L),P(c.$$.fragment,L),P(p.$$.fragment,L),P(v.$$.fragment,L),P(C.$$.fragment,L),P(T.$$.fragment,L),E=!0)},o(L){M(u.$$.fragment,L),M(c.$$.fragment,L),M(p.$$.fragment,L),M(v.$$.fragment,L),M(C.$$.fragment,L),M(T.$$.fragment,L),E=!1},d(L){L&&(k(e),k(_),k(h),k(S),k(y)),j&&j.d(),ce(u),ce(c),ce(p,L),ce(v,L),ce(C,L),ce(T,L)}}}function ra(l){return l?l.toLocaleTimeString():""}function Op(l,e){return l?l.filter(t=>!(e.project&&t.project!==e.project||e.env&&t.environment!==e.env)):[]}function Ip(l){const e=[...l],t=new Set;for(const n of e){const s=`${n.project}/${n.service||n.name}/${n.environment}`;n.status==="success"&&n.can_rollback&&!t.has(s)?(n.is_current_active=!0,t.add(s)):n.is_current_active=!1}return e}function ll(l){return l?new Date(l).toLocaleString():"-"}function Rl(l){switch(l){case"success":case"active":return"success";case"failed":case"error":return"danger";case"pending":case"deploying":return"warning";case"superseded":return"secondary";default:return"info"}}function il(l){const e=l.status||"unknown";return e==="rolled_back"?l.is_rollback?"failed":"superseded":e}function Fp(l,e,t){let n,s,o,i;vt(l,Dl,De=>t(31,o=De)),vt(l,bl,De=>t(32,i=De));let u=!1,a=!1,c=null,_=[],p=null,m=!1,h=[],v=!1,g="",S=[],C=[],$=[],y=null,T=!1,z=null,E=!1,j=null,D=[],I=!1,N=[],A=[];function Y(De){t(14,z=De),t(13,T=!0)}function F(){if(!(z!=null&&z.config_snapshot))return;const De=new CustomEvent("redeploy",{detail:{deployment:z,config:z.config_snapshot},bubbles:!0});document.dispatchEvent(De),t(13,T=!1),ke.info("Config loaded - switch to Deploy tab")}async function O(De){t(16,j=De),t(15,E=!0),t(18,I=!0),t(17,D=[]);try{const Ie=await He("GET",`/infra/deployments/history/${De.id}/logs`);t(17,D=Ie.logs||[])}catch(Ie){ke.error("Failed to load logs: "+(Ie.message||Ie))}finally{t(18,I=!1)}}async function H(De){t(2,c=De);try{const Ie=new URLSearchParams({project:De.project||"",environment:De.environment||"",service_name:De.service_name||De.service||""}),ve=await He("GET",`/infra/deployments/rollback/preview?${Ie}`);t(3,_=(ve.recent_deployments||[]).filter(Me=>Me.id!==De.id&&Me.status==="success"))}catch{t(3,_=[])}t(1,a=!0)}async function L(){if(!c||!p){ke.error("Select a deployment to rollback to");return}const De=_.find(Re=>Re.id===p);if(!De){ke.error("Target deployment not found");return}const Ie=c.project||"",ve=c.environment||"",Me=c.service_name||c.service||"";try{const Re=new URLSearchParams({project:Ie,environment:ve,service_name:Me}),Pe=await He("GET",`/infra/services/state?${Re}`),Ue=De.server_ips||[],st=(Pe.server_ips||[]).filter(Ye=>!Ue.includes(Ye)),ot=(Pe.servers||[]).filter(Ye=>st.includes(Ye.ip));if(Ue.length>0){const Ye=await He("POST",`/infra/services/check-servers?do_token=${Lt()}&server_ips=${Ue.join(",")}`,null);if(t(10,C=Ye.unavailable||[]),t(11,$=Ye.available||[]),C.length>0){t(8,g="missing"),t(12,y=De),t(7,v=!0);return}}if(ot.length>0){t(9,S=ot),t(8,g="cleanup"),t(12,y=De),t(7,v=!0);return}}catch(Re){console.log("Rollback pre-check:",Re.message||Re)}await G()}async function R(){if(t(7,v=!1),g==="cleanup"&&S.length>0){const De=`${c.project}_${c.service||c.service_name}_${c.environment}`.replace(/[^a-zA-Z0-9_]/g,"_"),Ie=S.map(ve=>ve.ip);try{const ve=await He("POST",`/infra/services/cleanup?do_token=${Lt()}`,{server_ips:Ie,container_name:De});t(6,h=[...h,{message:`Cleanup: ${ve.cleaned} stopped`,type:"info",time:new Date}])}catch(ve){t(6,h=[...h,{message:`Cleanup warning: ${ve.message}`,type:"warning",time:new Date}])}}t(9,S=[]),t(10,C=[]),t(12,y=null),await G()}let B=!1,V=[];async function Q(){t(7,v=!1),B=!0,V=$.map(De=>De.ip),t(10,C=[]),t(12,y=null),await G()}async function G(){t(6,h=[]),t(5,m=!0);const De=(Ie,ve="info")=>{t(6,h=[...h,{message:Ie,type:ve,time:new Date}])};try{const Ie=new URLSearchParams({project:c.project||"",environment:c.environment||"",service_name:c.service_name||c.service||""}).toString();De("Starting rollback...");let ve=!1,Me="";const Re={deployment_id:p};if(B&&V.length>0&&(Re.server_ips=V,De(`Partial rollback to ${V.length} available server(s)`)),await tn("POST",`/infra/deployments/rollback?${Ie}`,Re,Pe=>{Pe.type==="progress"||Pe.type==="start"?De(Pe.message,"info"):Pe.type==="server_complete"?De(`✅ ${Pe.ip}: Success`,"success"):Pe.type==="error"?(De(`❌ ${Pe.message||Pe.error}`,"error"),Me=Pe.message||Pe.error||"Unknown error"):Pe.type==="complete"&&(ve=Pe.success,ve?De(`✅ ${Pe.message}`,"success"):(Me=Pe.message||"Rollback failed",De(`❌ ${Me}`,"error")))}),ve)ke.success("Rollback completed successfully"),await oe();else throw new Error(Me||"Rollback failed")}catch(Ie){De(`❌ Error: ${Ie.message||String(Ie)}`,"error"),ke.error("Rollback failed: "+(Ie.message||String(Ie)))}finally{t(5,m=!1),B=!1,V=[]}}function oe(){bl.refresh()}function x(){bl.refresh()}const W=[[]],J=()=>bl.refresh(),ae=De=>Y(De),K=De=>O(De),ie=De=>H(De),ue=()=>{t(1,a=!1),t(6,h=[])};function le(){p=this.__value,t(4,p)}function me(De){a=De,t(1,a)}const re=()=>t(1,a=!1),ne=()=>t(13,T=!1);function X(De){T=De,t(13,T)}const Z=()=>t(13,T=!1),be=()=>t(15,E=!1);function $e(De){E=De,t(15,E)}const We=()=>t(15,E=!1),ft=()=>{t(7,v=!1),t(12,y=null)};function ht(De){v=De,t(7,v)}const mt=()=>{t(7,v=!1),t(12,y=null)};return l.$$.update=()=>{l.$$.dirty[1]&2&&t(30,n=i||{loading:!1}),l.$$.dirty[0]&1073741824&&t(0,u=n.loading),l.$$.dirty[0]&1073741824&&t(20,s=n.lastFetched),l.$$.dirty[0]&1073741824&&n.data&&t(29,N=Ip(n.data)),l.$$.dirty[0]&536870912|l.$$.dirty[1]&1&&t(19,A=Op(N,o))},[u,a,c,_,p,m,h,v,g,S,C,$,y,T,z,E,j,D,I,A,s,Y,F,O,H,L,R,Q,x,N,n,o,i,J,ae,K,ie,ue,le,W,me,re,ne,X,Z,be,$e,We,ft,ht,mt]}class Up extends qt{constructor(e){super(),St(this,e,Fp,Mp,Ct,{refresh:28},null,[-1,-1,-1])}get refresh(){return this.$$.ctx[28]}}function aa(l,e,t){var o,i,u;const n=l.slice();n[33]=e[t];const s=n[33].ip||((u=(i=(o=n[33].networks)==null?void 0:o.v4)==null?void 0:i[0])==null?void 0:u.ip_address);return n[34]=s,n}function ua(l,e,t){const n=l.slice();return n[37]=e[t],n}function fa(l,e,t){const n=l.slice();return n[40]=e[t],n}function ca(l,e,t){const n=l.slice();return n[37]=e[t],n}function _a(l,e,t){const n=l.slice();return n[40]=e[t],n}function da(l){let e,t=l[40].label+"",n;return{c(){e=d("option"),n=q(t),e.__value=l[40].value,te(e,e.__value)},m(s,o){w(s,e,o),r(e,n)},p:ge,d(s){s&&k(e)}}}function pa(l){let e,t=l[37].charAt(0).toUpperCase()+l[37].slice(1)+"",n;return{c(){e=d("option"),n=q(t),e.__value=l[37],te(e,e.__value)},m(s,o){w(s,e,o),r(e,n)},p:ge,d(s){s&&k(e)}}}function Bp(l){let e;return{c(){e=q("🔍 Get Credentials")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Hp(l){let e;return{c(){e=q("Looking up...")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Gp(l){let e;function t(o,i){return o[11]?Hp:Bp}let n=t(l),s=n(l);return{c(){s.c(),e=Oe()},m(o,i){s.m(o,i),w(o,e,i)},p(o,i){n!==(n=t(o))&&(s.d(1),s=n(o),s&&(s.c(),s.m(e.parentNode,e)))},d(o){o&&k(e),s.d(o)}}}function ma(l){let e,t,n,s,o,i=l[10].service+"",u,a,c,_,p,m,h=l[10].env_var_name+"",v,g,S,C,$=l[10].connection_url+"",y,T,z,E,j,D,I,N,A,Y,F,O,H,L=l[10].user&&va(l),R=l[10].password&&ha(l),B=l[10].database&&ga(l);function V(oe,x){if(x[0]&1024&&(A=null),x[0]&1024&&(Y=null),x[0]&1024&&(F=null),A==null&&(A=!!oe[10].service.toLowerCase().includes("redis")),A)return Jp;if(Y==null&&(Y=!!oe[10].service.toLowerCase().includes("postgres")),Y)return Vp;if(F==null&&(F=!!oe[10].service.toLowerCase().includes("mongo")),F)return Wp}let Q=V(l,[-1,-1]),G=Q&&Q(l);return{c(){e=d("div"),t=d("div"),n=d("span"),n.textContent="✅",s=b(),o=d("span"),u=q(i),a=q(" credentials"),c=b(),_=d("div"),p=d("div"),m=d("span"),v=q(h),g=q(":"),S=b(),C=d("code"),y=q($),T=b(),L&&L.c(),z=b(),R&&R.c(),E=b(),B&&B.c(),j=b(),D=d("small"),D.textContent="Click any value to copy",I=b(),N=d("div"),G&&G.c(),f(n,"class","result-icon svelte-14omwo7"),f(o,"class","result-title svelte-14omwo7"),f(t,"class","result-header svelte-14omwo7"),f(m,"class","label svelte-14omwo7"),f(C,"class","value url clickable svelte-14omwo7"),f(p,"class","info-row full-width svelte-14omwo7"),f(_,"class","connection-info svelte-14omwo7"),f(D,"class","copy-hint svelte-14omwo7"),f(N,"class","cli-examples svelte-14omwo7"),f(e,"class","lookup-result svelte-14omwo7")},m(oe,x){w(oe,e,x),r(e,t),r(t,n),r(t,s),r(t,o),r(o,u),r(o,a),r(e,c),r(e,_),r(_,p),r(p,m),r(m,v),r(m,g),r(p,S),r(p,C),r(C,y),r(_,T),L&&L.m(_,null),r(_,z),R&&R.m(_,null),r(_,E),B&&B.m(_,null),r(e,j),r(e,D),r(e,I),r(e,N),G&&G.m(N,null),O||(H=ee(C,"click",l[23]),O=!0)},p(oe,x){x[0]&1024&&i!==(i=oe[10].service+"")&&U(u,i),x[0]&1024&&h!==(h=oe[10].env_var_name+"")&&U(v,h),x[0]&1024&&$!==($=oe[10].connection_url+"")&&U(y,$),oe[10].user?L?L.p(oe,x):(L=va(oe),L.c(),L.m(_,z)):L&&(L.d(1),L=null),oe[10].password?R?R.p(oe,x):(R=ha(oe),R.c(),R.m(_,E)):R&&(R.d(1),R=null),oe[10].database?B?B.p(oe,x):(B=ga(oe),B.c(),B.m(_,null)):B&&(B.d(1),B=null),Q===(Q=V(oe,x))&&G?G.p(oe,x):(G&&G.d(1),G=Q&&Q(oe),G&&(G.c(),G.m(N,null)))},d(oe){oe&&k(e),L&&L.d(),R&&R.d(),B&&B.d(),G&&G.d(),O=!1,H()}}}function va(l){let e,t,n,s,o=l[10].user+"",i,u,a;return{c(){e=d("div"),t=d("span"),t.textContent="User:",n=b(),s=d("code"),i=q(o),f(t,"class","label svelte-14omwo7"),f(s,"class","value clickable svelte-14omwo7"),f(e,"class","info-row svelte-14omwo7")},m(c,_){w(c,e,_),r(e,t),r(e,n),r(e,s),r(s,i),u||(a=ee(s,"click",l[24]),u=!0)},p(c,_){_[0]&1024&&o!==(o=c[10].user+"")&&U(i,o)},d(c){c&&k(e),u=!1,a()}}}function ha(l){let e,t,n,s,o=l[10].password+"",i,u,a;return{c(){e=d("div"),t=d("span"),t.textContent="Password:",n=b(),s=d("code"),i=q(o),f(t,"class","label svelte-14omwo7"),f(s,"class","value clickable svelte-14omwo7"),f(e,"class","info-row svelte-14omwo7")},m(c,_){w(c,e,_),r(e,t),r(e,n),r(e,s),r(s,i),u||(a=ee(s,"click",l[25]),u=!0)},p(c,_){_[0]&1024&&o!==(o=c[10].password+"")&&U(i,o)},d(c){c&&k(e),u=!1,a()}}}function ga(l){let e,t,n,s,o=l[10].database+"",i,u,a;return{c(){e=d("div"),t=d("span"),t.textContent="Database:",n=b(),s=d("code"),i=q(o),f(t,"class","label svelte-14omwo7"),f(s,"class","value clickable svelte-14omwo7"),f(e,"class","info-row svelte-14omwo7")},m(c,_){w(c,e,_),r(e,t),r(e,n),r(e,s),r(s,i),u||(a=ee(s,"click",l[26]),u=!0)},p(c,_){_[0]&1024&&o!==(o=c[10].database+"")&&U(i,o)},d(c){c&&k(e),u=!1,a()}}}function Wp(l){let e,t,n=l[10].connection_url+"",s,o;return{c(){e=d("code"),t=q('mongosh "'),s=q(n),o=q('"'),f(e,"class","svelte-14omwo7")},m(i,u){w(i,e,u),r(e,t),r(e,s),r(e,o)},p(i,u){u[0]&1024&&n!==(n=i[10].connection_url+"")&&U(s,n)},d(i){i&&k(e)}}}function Vp(l){let e,t,n=l[10].connection_url+"",s,o;return{c(){e=d("code"),t=q('psql "'),s=q(n),o=q('"'),f(e,"class","svelte-14omwo7")},m(i,u){w(i,e,u),r(e,t),r(e,s),r(e,o)},p(i,u){u[0]&1024&&n!==(n=i[10].connection_url+"")&&U(s,n)},d(i){i&&k(e)}}}function Jp(l){let e,t,n=l[10].host+"",s,o,i=l[10].port+"",u,a,c=l[10].password+"",_;return{c(){e=d("code"),t=q("redis-cli -h "),s=q(n),o=q(" -p "),u=q(i),a=q(" -a "),_=q(c),f(e,"class","svelte-14omwo7")},m(p,m){w(p,e,m),r(e,t),r(e,s),r(e,o),r(e,u),r(e,a),r(e,_)},p(p,m){m[0]&1024&&n!==(n=p[10].host+"")&&U(s,n),m[0]&1024&&i!==(i=p[10].port+"")&&U(u,i),m[0]&1024&&c!==(c=p[10].password+"")&&U(_,c)},d(p){p&&k(e)}}}function Kp(l){let e,t,n,s,o,i,u,a,c,_,p,m,h,v,g,S,C,$,y,T,z,E,j,D,I,N,A,Y,F,O,H,L,R,B,V,Q,G,oe=de(l[13]),x=[];for(let K=0;K<oe.length;K+=1)x[K]=da(_a(l,oe,K));let W=de(l[14]),J=[];for(let K=0;K<W.length;K+=1)J[K]=pa(ca(l,W,K));L=new Fe({props:{variant:"primary",type:"submit",disabled:l[11],$$slots:{default:[Gp]},$$scope:{ctx:l}}});let ae=l[10]&&ma(l);return{c(){e=d("p"),e.innerHTML="For CLI tools, DB admin apps, or local dev. <strong>Apps get URLs auto-injected</strong> when you enable dependencies in Deploy tab.",t=b(),n=d("form"),s=d("div"),o=d("label"),o.textContent="Service Type *",i=b(),u=d("select"),a=d("option"),a.textContent="Select service...";for(let K=0;K<x.length;K+=1)x[K].c();c=b(),_=d("div"),p=d("div"),m=d("label"),m.textContent="Project *",h=b(),v=d("input"),g=b(),S=d("div"),C=d("label"),C.textContent="Environment",$=b(),y=d("select");for(let K=0;K<J.length;K+=1)J[K].c();T=b(),z=d("div"),E=d("div"),j=d("label"),j.textContent="Server IP *",D=b(),I=d("input"),N=b(),A=d("div"),Y=d("label"),Y.textContent="Port *",F=b(),O=d("input"),H=b(),_e(L.$$.fragment),R=b(),ae&&ae.c(),B=Oe(),f(e,"class","description svelte-14omwo7"),f(o,"for","lookup-type"),f(o,"class","svelte-14omwo7"),a.__value="",te(a,a.__value),f(u,"id","lookup-type"),u.required=!0,f(u,"class","svelte-14omwo7"),l[0]===void 0&&Qe(()=>l[18].call(u)),f(s,"class","form-group svelte-14omwo7"),f(m,"for","lookup-project"),f(m,"class","svelte-14omwo7"),f(v,"id","lookup-project"),f(v,"type","text"),f(v,"placeholder","myapp"),v.required=!0,f(v,"class","svelte-14omwo7"),f(p,"class","form-group svelte-14omwo7"),f(C,"for","lookup-env"),f(C,"class","svelte-14omwo7"),f(y,"id","lookup-env"),f(y,"class","svelte-14omwo7"),l[8]===void 0&&Qe(()=>l[20].call(y)),f(S,"class","form-group svelte-14omwo7"),f(_,"class","form-row svelte-14omwo7"),f(j,"for","lookup-host"),f(j,"class","svelte-14omwo7"),f(I,"id","lookup-host"),f(I,"type","text"),f(I,"placeholder","206.189.18.79"),I.required=!0,f(I,"class","svelte-14omwo7"),f(E,"class","form-group svelte-14omwo7"),f(Y,"for","lookup-port"),f(Y,"class","svelte-14omwo7"),f(O,"id","lookup-port"),f(O,"type","number"),f(O,"placeholder","8453"),O.required=!0,f(O,"class","svelte-14omwo7"),f(A,"class","form-group svelte-14omwo7"),f(z,"class","form-row svelte-14omwo7")},m(K,ie){w(K,e,ie),w(K,t,ie),w(K,n,ie),r(n,s),r(s,o),r(s,i),r(s,u),r(u,a);for(let ue=0;ue<x.length;ue+=1)x[ue]&&x[ue].m(u,null);Ee(u,l[0],!0),r(n,c),r(n,_),r(_,p),r(p,m),r(p,h),r(p,v),te(v,l[7]),r(_,g),r(_,S),r(S,C),r(S,$),r(S,y);for(let ue=0;ue<J.length;ue+=1)J[ue]&&J[ue].m(y,null);Ee(y,l[8],!0),r(n,T),r(n,z),r(z,E),r(E,j),r(E,D),r(E,I),te(I,l[9]),r(z,N),r(z,A),r(A,Y),r(A,F),r(A,O),te(O,l[1]),r(n,H),fe(L,n,null),w(K,R,ie),ae&&ae.m(K,ie),w(K,B,ie),V=!0,Q||(G=[ee(u,"change",l[18]),ee(v,"input",l[19]),ee(y,"change",l[20]),ee(I,"input",l[21]),ee(O,"input",l[22]),ee(n,"submit",l[16])],Q=!0)},p(K,ie){if(ie[0]&8192){oe=de(K[13]);let le;for(le=0;le<oe.length;le+=1){const me=_a(K,oe,le);x[le]?x[le].p(me,ie):(x[le]=da(me),x[le].c(),x[le].m(u,null))}for(;le<x.length;le+=1)x[le].d(1);x.length=oe.length}if(ie[0]&8193&&Ee(u,K[0]),ie[0]&128&&v.value!==K[7]&&te(v,K[7]),ie[0]&16384){W=de(K[14]);let le;for(le=0;le<W.length;le+=1){const me=ca(K,W,le);J[le]?J[le].p(me,ie):(J[le]=pa(me),J[le].c(),J[le].m(y,null))}for(;le<J.length;le+=1)J[le].d(1);J.length=W.length}ie[0]&16640&&Ee(y,K[8]),ie[0]&512&&I.value!==K[9]&&te(I,K[9]),ie[0]&2&&Kt(O.value)!==K[1]&&te(O,K[1]);const ue={};ie[0]&2048&&(ue.disabled=K[11]),ie[0]&2048|ie[1]&65536&&(ue.$$scope={dirty:ie,ctx:K}),L.$set(ue),K[10]?ae?ae.p(K,ie):(ae=ma(K),ae.c(),ae.m(B.parentNode,B)):ae&&(ae.d(1),ae=null)},i(K){V||(P(L.$$.fragment,K),V=!0)},o(K){M(L.$$.fragment,K),V=!1},d(K){K&&(k(e),k(t),k(n),k(R),k(B)),Ne(x,K),Ne(J,K),ce(L),ae&&ae.d(K),Q=!1,Ge(G)}}}function ba(l){let e,t=l[40].label+"",n;return{c(){e=d("option"),n=q(t),e.__value=l[40].value,te(e,e.__value)},m(s,o){w(s,e,o),r(e,n)},p:ge,d(s){s&&k(e)}}}function ka(l){let e,t=l[37].charAt(0).toUpperCase()+l[37].slice(1)+"",n;return{c(){e=d("option"),n=q(t),e.__value=l[37],te(e,e.__value)},m(s,o){w(s,e,o),r(e,n)},p:ge,d(s){s&&k(e)}}}function wa(l){let e,t=(l[33].name||"unnamed")+"",n,s,o=l[34]+"",i,u,a;return{c(){e=d("option"),n=q(t),s=q(" ("),i=q(o),u=q(")"),e.__value=a=l[34],te(e,e.__value)},m(c,_){w(c,e,_),r(e,n),r(e,s),r(e,i),r(e,u)},p(c,_){_[0]&4096&&t!==(t=(c[33].name||"unnamed")+"")&&U(n,t),_[0]&4096&&o!==(o=c[34]+"")&&U(i,o),_[0]&4096&&a!==(a=c[34])&&(e.__value=a,te(e,e.__value))},d(c){c&&k(e)}}}function $a(l){let e,t=l[34]&&wa(l);return{c(){t&&t.c(),e=Oe()},m(n,s){t&&t.m(n,s),w(n,e,s)},p(n,s){n[34]?t?t.p(n,s):(t=wa(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&k(e),t&&t.d(n)}}}function Yp(l){let e;return{c(){e=q("Use Deploy Tab Instead →")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Qp(l){let e;return{c(){e=q("Deploying...")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Zp(l){let e;function t(o,i){return o[6]?Qp:Yp}let n=t(l),s=n(l);return{c(){s.c(),e=Oe()},m(o,i){s.m(o,i),w(o,e,i)},p(o,i){n!==(n=t(o))&&(s.d(1),s=n(o),s&&(s.c(),s.m(e.parentNode,e)))},d(o){o&&k(e),s.d(o)}}}function Xp(l){let e,t,n,s,o,i,u,a,c,_,p,m,h,v,g,S,C,$,y,T,z,E,j,D,I,N,A,Y,F,O,H,L,R,B=de(l[13]),V=[];for(let W=0;W<B.length;W+=1)V[W]=ba(fa(l,B,W));let Q=de(l[14]),G=[];for(let W=0;W<Q.length;W+=1)G[W]=ka(ua(l,Q,W));let oe=de(l[12]||[]),x=[];for(let W=0;W<oe.length;W+=1)x[W]=$a(aa(l,oe,W));return Y=new Fe({props:{variant:"secondary",type:"submit",disabled:l[6],$$slots:{default:[Zp]},$$scope:{ctx:l}}}),{c(){e=d("p"),e.textContent="Deploy stateful services with automatic configuration, persistence, and service mesh.",t=b(),n=d("form"),s=d("div"),o=d("label"),o.textContent="Service Type *",i=b(),u=d("select"),a=d("option"),a.textContent="Select service...";for(let W=0;W<V.length;W+=1)V[W].c();c=b(),_=d("div"),p=d("label"),p.textContent="Project *",m=b(),h=d("input"),v=b(),g=d("div"),S=d("label"),S.textContent="Environment",C=b(),$=d("select");for(let W=0;W<G.length;W+=1)G[W].c();y=b(),T=d("div"),z=d("label"),z.textContent="Target Server *",E=b(),j=d("select"),D=d("option"),D.textContent="Select server...";for(let W=0;W<x.length;W+=1)x[W].c();I=b(),N=d("small"),N.textContent="Servers from Infrastructure tab",A=b(),_e(Y.$$.fragment),F=b(),O=d("small"),O.textContent='Stateful deploys work via Deploy tab with "Stateful Service" type',f(e,"class","description svelte-14omwo7"),f(o,"for","svc-type"),f(o,"class","svelte-14omwo7"),a.__value="",te(a,a.__value),f(u,"id","svc-type"),u.required=!0,f(u,"class","svelte-14omwo7"),l[2]===void 0&&Qe(()=>l[27].call(u)),f(s,"class","form-group svelte-14omwo7"),f(p,"for","svc-project"),f(p,"class","svelte-14omwo7"),f(h,"id","svc-project"),f(h,"type","text"),f(h,"placeholder","myapp"),h.required=!0,f(h,"class","svelte-14omwo7"),f(_,"class","form-group svelte-14omwo7"),f(S,"for","svc-env"),f(S,"class","svelte-14omwo7"),f($,"id","svc-env"),f($,"class","svelte-14omwo7"),l[4]===void 0&&Qe(()=>l[29].call($)),f(g,"class","form-group svelte-14omwo7"),f(z,"for","svc-server"),f(z,"class","svelte-14omwo7"),D.__value="",te(D,D.__value),f(j,"id","svc-server"),j.required=!0,f(j,"class","svelte-14omwo7"),l[5]===void 0&&Qe(()=>l[30].call(j)),f(N,"class","svelte-14omwo7"),f(T,"class","form-group svelte-14omwo7"),f(O,"class","hint svelte-14omwo7")},m(W,J){w(W,e,J),w(W,t,J),w(W,n,J),r(n,s),r(s,o),r(s,i),r(s,u),r(u,a);for(let ae=0;ae<V.length;ae+=1)V[ae]&&V[ae].m(u,null);Ee(u,l[2],!0),r(n,c),r(n,_),r(_,p),r(_,m),r(_,h),te(h,l[3]),r(n,v),r(n,g),r(g,S),r(g,C),r(g,$);for(let ae=0;ae<G.length;ae+=1)G[ae]&&G[ae].m($,null);Ee($,l[4],!0),r(n,y),r(n,T),r(T,z),r(T,E),r(T,j),r(j,D);for(let ae=0;ae<x.length;ae+=1)x[ae]&&x[ae].m(j,null);Ee(j,l[5],!0),r(T,I),r(T,N),r(n,A),fe(Y,n,null),r(n,F),r(n,O),H=!0,L||(R=[ee(u,"change",l[27]),ee(h,"input",l[28]),ee($,"change",l[29]),ee(j,"change",l[30]),ee(n,"submit",l[15])],L=!0)},p(W,J){if(J[0]&8192){B=de(W[13]);let K;for(K=0;K<B.length;K+=1){const ie=fa(W,B,K);V[K]?V[K].p(ie,J):(V[K]=ba(ie),V[K].c(),V[K].m(u,null))}for(;K<V.length;K+=1)V[K].d(1);V.length=B.length}if(J[0]&8196&&Ee(u,W[2]),J[0]&8&&h.value!==W[3]&&te(h,W[3]),J[0]&16384){Q=de(W[14]);let K;for(K=0;K<Q.length;K+=1){const ie=ua(W,Q,K);G[K]?G[K].p(ie,J):(G[K]=ka(ie),G[K].c(),G[K].m($,null))}for(;K<G.length;K+=1)G[K].d(1);G.length=Q.length}if(J[0]&16400&&Ee($,W[4]),J[0]&4096){oe=de(W[12]||[]);let K;for(K=0;K<oe.length;K+=1){const ie=aa(W,oe,K);x[K]?x[K].p(ie,J):(x[K]=$a(ie),x[K].c(),x[K].m(j,null))}for(;K<x.length;K+=1)x[K].d(1);x.length=oe.length}J[0]&4128&&Ee(j,W[5]);const ae={};J[0]&64&&(ae.disabled=W[6]),J[0]&64|J[1]&65536&&(ae.$$scope={dirty:J,ctx:W}),Y.$set(ae)},i(W){H||(P(Y.$$.fragment,W),H=!0)},o(W){M(Y.$$.fragment,W),H=!1},d(W){W&&(k(e),k(t),k(n)),Ne(V,W),Ne(G,W),Ne(x,W),ce(Y),L=!1,Ge(R)}}}function xp(l){let e;return{c(){e=d("div"),e.innerHTML='<div class="feature svelte-14omwo7"><strong class="svelte-14omwo7">🔐 Auto Credentials</strong> <p class="svelte-14omwo7">Deterministic passwords generated from project/env. Same inputs = same password.</p></div> <div class="feature svelte-14omwo7"><strong class="svelte-14omwo7">💾 Persistent Storage</strong> <p class="svelte-14omwo7">Data volumes mounted at /data. Survives container restarts and redeploys.</p></div> <div class="feature svelte-14omwo7"><strong class="svelte-14omwo7">🔀 Service Mesh</strong> <p class="svelte-14omwo7">Nginx proxy on internal ports. Apps connect to localhost:PORT.</p></div> <div class="feature svelte-14omwo7"><strong class="svelte-14omwo7">🔧 Auto-Inject</strong> <p class="svelte-14omwo7">Enable &quot;Auto-inject&quot; in Deploy tab to get DATABASE_URL automatically.</p></div>',f(e,"class","features-grid svelte-14omwo7")},m(t,n){w(t,e,n)},p:ge,d(t){t&&k(e)}}}function em(l){let e,t,n,s,o,i,u,a;return n=new dt({props:{title:"🔑 Direct Access Credentials",$$slots:{default:[Kp]},$$scope:{ctx:l}}}),o=new dt({props:{title:"🗄️ Deploy Database/Cache",$$slots:{default:[Xp]},$$scope:{ctx:l}}}),u=new dt({props:{title:"ℹ️ How It Works",$$slots:{default:[xp]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),_e(n.$$.fragment),s=b(),_e(o.$$.fragment),i=b(),_e(u.$$.fragment),f(t,"class","services-grid svelte-14omwo7"),f(e,"class","services-page svelte-14omwo7")},m(c,_){w(c,e,_),r(e,t),fe(n,t,null),r(t,s),fe(o,t,null),r(e,i),fe(u,e,null),a=!0},p(c,_){const p={};_[0]&3971|_[1]&65536&&(p.$$scope={dirty:_,ctx:c}),n.$set(p);const m={};_[0]&4220|_[1]&65536&&(m.$$scope={dirty:_,ctx:c}),o.$set(m);const h={};_[1]&65536&&(h.$$scope={dirty:_,ctx:c}),u.$set(h)},i(c){a||(P(n.$$.fragment,c),P(o.$$.fragment,c),P(u.$$.fragment,c),a=!0)},o(c){M(n.$$.fragment,c),M(o.$$.fragment,c),M(u.$$.fragment,c),a=!1},d(c){c&&k(e),ce(n),ce(o),ce(u)}}}function tm(l,e,t){let n;vt(l,vn,V=>t(12,n=V));let s="",o="",i="prod",u="",a=!1,c="",_="",p="prod",m="",h="",v=null,g=!1;const S=[{value:"postgres",label:"🐘 PostgreSQL",port:5432},{value:"redis",label:"⚡ Redis",port:6379},{value:"mysql",label:"🐬 MySQL",port:3306},{value:"mongo",label:"🍃 MongoDB",port:27017}],C=["prod","staging","dev"];kl(()=>{$()});async function $(){try{await xt.refresh()}catch(V){console.error("Failed to load servers:",V)}}async function y(V){if(V.preventDefault(),!s||!o||!u){ke.error("Please fill in all required fields");return}t(6,a=!0);try{ke.error("Service deployment not yet implemented. Use Deploy tab instead.");return}catch(Q){ke.error("Deployment failed: "+Q.message)}finally{t(6,a=!1)}}async function T(V){if(V.preventDefault(),!c||!_||!m||!h){ke.error("Please fill in all required fields");return}t(11,g=!0),t(10,v=null);try{const Q=await He("GET",`/infra/services/${c}/connection?project=${encodeURIComponent(_)}&environment=${p}&host=${encodeURIComponent(m)}&port=${h}`);t(10,v=Q),ke.success("Connection info retrieved!")}catch(Q){ke.error("Lookup failed: "+Q.message)}finally{t(11,g=!1)}}function z(V){navigator.clipboard.writeText(V),ke.success("Copied to clipboard")}function E(){c=ut(this),t(0,c),t(13,S)}function j(){_=this.value,t(7,_)}function D(){p=ut(this),t(8,p),t(14,C)}function I(){m=this.value,t(9,m)}function N(){h=Kt(this.value),t(1,h)}const A=()=>z(v.connection_url),Y=()=>z(v.user),F=()=>z(v.password),O=()=>z(v.database);function H(){s=ut(this),t(2,s),t(13,S)}function L(){o=this.value,t(3,o)}function R(){i=ut(this),t(4,i),t(14,C)}function B(){u=ut(this),t(5,u)}return l.$$.update=()=>{l.$$.dirty[0]&3&&c&&S.find(V=>V.value===c)},[c,h,s,o,i,u,a,_,p,m,v,g,n,S,C,y,T,z,E,j,D,I,N,A,Y,F,O,H,L,R,B]}class lm extends qt{constructor(e){super(),St(this,e,tm,em,Ct,{},null,[-1,-1])}}const{Boolean:nm}=Eu;function Ca(l,e,t){const n=l.slice();return n[32]=e[t],n}function sm(l){let e,t,n,s,o,i,u,a,c,_;return{c(){e=d("div"),t=d("label"),t.textContent="Theme",n=b(),s=d("select"),o=d("option"),o.textContent="🌙 Dark (Space)",i=d("option"),i.textContent="☀️ Light",u=b(),a=d("p"),a.textContent="Theme preference is saved to your browser.",f(t,"for","theme-select"),f(t,"class","svelte-16vnl3x"),o.__value="dark",te(o,o.__value),i.__value="light",te(i,i.__value),f(s,"id","theme-select"),f(s,"class","svelte-16vnl3x"),l[14]===void 0&&Qe(()=>l[21].call(s)),f(e,"class","form-group svelte-16vnl3x"),f(a,"class","hint svelte-16vnl3x")},m(p,m){w(p,e,m),r(e,t),r(e,n),r(e,s),r(s,o),r(s,i),Ee(s,l[14],!0),w(p,u,m),w(p,a,m),c||(_=[ee(s,"change",l[21]),ee(s,"change",l[22])],c=!0)},p(p,m){m[0]&16384&&Ee(s,p[14])},d(p){p&&(k(e),k(u),k(a)),c=!1,Ge(_)}}}function om(l){let e;return{c(){e=q("Save Token")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function im(l){let e,t;return e=new et({props:{variant:"danger",$$slots:{default:[um]},$$scope:{ctx:l}}}),{c(){_e(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[1]&16&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function rm(l){let e,t;return e=new et({props:{variant:"warning",$$slots:{default:[fm]},$$scope:{ctx:l}}}),{c(){_e(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[1]&16&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function am(l){let e,t,n,s,o;return e=new et({props:{variant:"success",$$slots:{default:[cm]},$$scope:{ctx:l}}}),{c(){_e(e.$$.fragment),t=b(),n=d("span"),s=q(l[0]),f(n,"class","token-preview svelte-16vnl3x")},m(i,u){fe(e,i,u),w(i,t,u),w(i,n,u),r(n,s),o=!0},p(i,u){const a={};u[1]&16&&(a.$$scope={dirty:u,ctx:i}),e.$set(a),(!o||u[0]&1)&&U(s,i[0])},i(i){o||(P(e.$$.fragment,i),o=!0)},o(i){M(e.$$.fragment,i),o=!1},d(i){i&&(k(t),k(n)),ce(e,i)}}}function um(l){let e;return{c(){e=q("Invalid token")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function fm(l){let e;return{c(){e=q("Not configured")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function cm(l){let e;return{c(){e=q("✓ Connected")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function _m(l){let e,t,n,s,o,i,u,a,c,_,p,m,h,v,g;a=new Fe({props:{variant:"primary",type:"submit",$$slots:{default:[om]},$$scope:{ctx:l}}});const S=[am,rm,im],C=[];function $(y,T){var z,E;return(z=y[1])!=null&&z.valid?0:(E=y[1])!=null&&E.missing?1:2}return p=$(l),m=C[p]=S[p](l),{c(){e=d("p"),e.innerHTML=`Get your token from 
      <a href="https://cloud.digitalocean.com/account/api/tokens" target="_blank" class="svelte-16vnl3x">DO Control Panel</a>.`,t=b(),n=d("div"),n.innerHTML='<div class="info-title svelte-16vnl3x">🔒 Browser Storage</div> <div class="info-text svelte-16vnl3x">Token stored in browser cookie. Passed with each API request. Never stored on server.</div>',s=b(),o=d("form"),i=d("div"),i.innerHTML='<label for="do-token" class="svelte-16vnl3x">DigitalOcean API Token</label> <input id="do-token" type="password" placeholder="dop_v1_xxxxx" class="svelte-16vnl3x"/>',u=b(),_e(a.$$.fragment),c=b(),_=d("div"),m.c(),f(e,"class","description svelte-16vnl3x"),f(n,"class","info-box svelte-16vnl3x"),f(i,"class","form-group svelte-16vnl3x"),f(_,"class","token-status svelte-16vnl3x")},m(y,T){w(y,e,T),w(y,t,T),w(y,n,T),w(y,s,T),w(y,o,T),r(o,i),r(o,u),fe(a,o,null),w(y,c,T),w(y,_,T),C[p].m(_,null),h=!0,v||(g=ee(o,"submit",l[15]),v=!0)},p(y,T){const z={};T[1]&16&&(z.$$scope={dirty:T,ctx:y}),a.$set(z);let E=p;p=$(y),p===E?C[p].p(y,T):(qe(),M(C[E],1,1,()=>{C[E]=null}),je(),m=C[p],m?m.p(y,T):(m=C[p]=S[p](y),m.c()),P(m,1),m.m(_,null))},i(y){h||(P(a.$$.fragment,y),P(m),h=!0)},o(y){M(a.$$.fragment,y),M(m),h=!1},d(y){y&&(k(e),k(t),k(n),k(s),k(o),k(c),k(_)),ce(a),C[p].d(),v=!1,g()}}}function dm(l){let e;return{c(){e=q("Save Token")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function pm(l){let e,t;return e=new et({props:{variant:"warning",$$slots:{default:[vm]},$$scope:{ctx:l}}}),{c(){_e(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[1]&16&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function mm(l){let e,t,n,s,o;return e=new et({props:{variant:"success",$$slots:{default:[hm]},$$scope:{ctx:l}}}),{c(){_e(e.$$.fragment),t=b(),n=d("span"),s=q(l[2]),f(n,"class","token-preview svelte-16vnl3x")},m(i,u){fe(e,i,u),w(i,t,u),w(i,n,u),r(n,s),o=!0},p(i,u){const a={};u[1]&16&&(a.$$scope={dirty:u,ctx:i}),e.$set(a),(!o||u[0]&4)&&U(s,i[2])},i(i){o||(P(e.$$.fragment,i),o=!0)},o(i){M(e.$$.fragment,i),o=!1},d(i){i&&(k(t),k(n)),ce(e,i)}}}function vm(l){let e;return{c(){e=q("Not configured")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function hm(l){let e;return{c(){e=q("✓ Connected")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function gm(l){let e,t,n,s,o,i,u,a,c,_,p,m,h;i=new Fe({props:{variant:"primary",type:"submit",$$slots:{default:[dm]},$$scope:{ctx:l}}});const v=[mm,pm],g=[];function S(C,$){var y;return(y=C[3])!=null&&y.valid?0:1}return c=S(l),_=g[c]=v[c](l),{c(){e=d("p"),e.innerHTML=`Get your token from 
      <a href="https://dash.cloudflare.com/profile/api-tokens" target="_blank" class="svelte-16vnl3x">Cloudflare Dashboard</a>.`,t=b(),n=d("form"),s=d("div"),s.innerHTML='<label for="cf-token" class="svelte-16vnl3x">Cloudflare API Token</label> <input id="cf-token" type="password" placeholder="xxxxx" class="svelte-16vnl3x"/>',o=b(),_e(i.$$.fragment),u=b(),a=d("div"),_.c(),f(e,"class","description svelte-16vnl3x"),f(s,"class","form-group svelte-16vnl3x"),f(a,"class","token-status svelte-16vnl3x")},m(C,$){w(C,e,$),w(C,t,$),w(C,n,$),r(n,s),r(n,o),fe(i,n,null),w(C,u,$),w(C,a,$),g[c].m(a,null),p=!0,m||(h=ee(n,"submit",l[16]),m=!0)},p(C,$){const y={};$[1]&16&&(y.$$scope={dirty:$,ctx:C}),i.$set(y);let T=c;c=S(C),c===T?g[c].p(C,$):(qe(),M(g[T],1,1,()=>{g[T]=null}),je(),_=g[c],_?_.p(C,$):(_=g[c]=v[c](C),_.c()),P(_,1),_.m(a,null))},i(C){p||(P(i.$$.fragment,C),P(_),p=!0)},o(C){M(i.$$.fragment,C),M(_),p=!1},d(C){C&&(k(e),k(t),k(n),k(u),k(a)),ce(i),g[c].d(),m=!1,h()}}}function bm(l){let e;return{c(){e=q("Setup Domain")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function ya(l){let e,t=l[7].message+"",n;return{c(){e=d("div"),n=q(t),f(e,"class","result svelte-16vnl3x"),we(e,"success",l[7].success),we(e,"error",!l[7].success)},m(s,o){w(s,e,o),r(e,n)},p(s,o){o[0]&128&&t!==(t=s[7].message+"")&&U(n,t),o[0]&128&&we(e,"success",s[7].success),o[0]&128&&we(e,"error",!s[7].success)},d(s){s&&k(e)}}}function km(l){let e,t,n,s,o,i,u,a,c,_,p,m,h,v,g,S,C,$,y,T,z,E,j,D;y=new Fe({props:{variant:"primary",type:"submit",$$slots:{default:[bm]},$$scope:{ctx:l}}});let I=l[7]&&ya(l);return{c(){e=d("p"),e.textContent='Point a domain to your server. With "Proxied" enabled, HTTPS works automatically.',t=b(),n=d("form"),s=d("div"),o=d("label"),o.textContent="Domain",i=b(),u=d("input"),a=b(),c=d("div"),_=d("label"),_.textContent="Server IP",p=b(),m=d("input"),h=b(),v=d("label"),g=d("input"),S=q(`
        Proxied (Cloudflare handles SSL)`),C=b(),$=d("div"),_e(y.$$.fragment),T=b(),I&&I.c(),z=Oe(),f(e,"class","description svelte-16vnl3x"),f(o,"for","domain-name"),f(o,"class","svelte-16vnl3x"),f(u,"id","domain-name"),f(u,"type","text"),f(u,"placeholder","api.example.com"),u.required=!0,f(u,"class","svelte-16vnl3x"),f(s,"class","form-group svelte-16vnl3x"),f(_,"for","domain-ip"),f(_,"class","svelte-16vnl3x"),f(m,"id","domain-ip"),f(m,"type","text"),f(m,"placeholder","1.2.3.4"),m.required=!0,f(m,"class","svelte-16vnl3x"),f(c,"class","form-group svelte-16vnl3x"),f(g,"type","checkbox"),f(g,"class","svelte-16vnl3x"),f(v,"class","checkbox-label svelte-16vnl3x"),f($,"class","form-actions svelte-16vnl3x")},m(N,A){w(N,e,A),w(N,t,A),w(N,n,A),r(n,s),r(s,o),r(s,i),r(s,u),te(u,l[4]),r(n,a),r(n,c),r(c,_),r(c,p),r(c,m),te(m,l[5]),r(n,h),r(n,v),r(v,g),g.checked=l[6],r(v,S),r(n,C),r(n,$),fe(y,$,null),w(N,T,A),I&&I.m(N,A),w(N,z,A),E=!0,j||(D=[ee(u,"input",l[23]),ee(m,"input",l[24]),ee(g,"change",l[25]),ee(n,"submit",l[17])],j=!0)},p(N,A){A[0]&16&&u.value!==N[4]&&te(u,N[4]),A[0]&32&&m.value!==N[5]&&te(m,N[5]),A[0]&64&&(g.checked=N[6]);const Y={};A[1]&16&&(Y.$$scope={dirty:A,ctx:N}),y.$set(Y),N[7]?I?I.p(N,A):(I=ya(N),I.c(),I.m(z.parentNode,z)):I&&(I.d(1),I=null)},i(N){E||(P(y.$$.fragment,N),E=!0)},o(N){M(y.$$.fragment,N),E=!1},d(N){N&&(k(e),k(t),k(n),k(T),k(z)),ce(y),I&&I.d(N),j=!1,Ge(D)}}}function wm(l){let e;return{c(){e=q("Setup DNS Round-Robin")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Sa(l){let e,t=l[11].message+"",n;return{c(){e=d("div"),n=q(t),f(e,"class","result svelte-16vnl3x"),we(e,"success",l[11].success),we(e,"error",!l[11].success)},m(s,o){w(s,e,o),r(e,n)},p(s,o){o[0]&2048&&t!==(t=s[11].message+"")&&U(n,t),o[0]&2048&&we(e,"success",s[11].success),o[0]&2048&&we(e,"error",!s[11].success)},d(s){s&&k(e)}}}function $m(l){let e,t,n,s,o,i,u,a,c,_,p,m,h,v,g,S,C,$,y,T,z,E,j,D;y=new Fe({props:{variant:"primary",type:"submit",$$slots:{default:[wm]},$$scope:{ctx:l}}});let I=l[11]&&Sa(l);return{c(){e=d("p"),e.innerHTML=`Simple load distribution via multiple A records. Cloudflare rotates between IPs at DNS level.
      <strong>FREE</strong>, but no health checks.`,t=b(),n=d("form"),s=d("div"),o=d("label"),o.textContent="Domain",i=b(),u=d("input"),a=b(),c=d("div"),_=d("label"),_.textContent="Server IPs (comma-separated)",p=b(),m=d("input"),h=b(),v=d("label"),g=d("input"),S=q(`
        Proxied (SSL + CDN)`),C=b(),$=d("div"),_e(y.$$.fragment),T=b(),I&&I.c(),z=Oe(),f(e,"class","description svelte-16vnl3x"),f(o,"for","lb-domain"),f(o,"class","svelte-16vnl3x"),f(u,"id","lb-domain"),f(u,"type","text"),f(u,"placeholder","api.example.com"),u.required=!0,f(u,"class","svelte-16vnl3x"),f(s,"class","form-group svelte-16vnl3x"),f(_,"for","lb-ips"),f(_,"class","svelte-16vnl3x"),f(m,"id","lb-ips"),f(m,"type","text"),f(m,"placeholder","1.2.3.4, 5.6.7.8"),m.required=!0,f(m,"class","svelte-16vnl3x"),f(c,"class","form-group svelte-16vnl3x"),f(g,"type","checkbox"),f(g,"class","svelte-16vnl3x"),f(v,"class","checkbox-label svelte-16vnl3x"),f($,"class","form-actions svelte-16vnl3x")},m(N,A){w(N,e,A),w(N,t,A),w(N,n,A),r(n,s),r(s,o),r(s,i),r(s,u),te(u,l[8]),r(n,a),r(n,c),r(c,_),r(c,p),r(c,m),te(m,l[9]),r(n,h),r(n,v),r(v,g),g.checked=l[10],r(v,S),r(n,C),r(n,$),fe(y,$,null),w(N,T,A),I&&I.m(N,A),w(N,z,A),E=!0,j||(D=[ee(u,"input",l[26]),ee(m,"input",l[27]),ee(g,"change",l[28]),ee(n,"submit",l[18])],j=!0)},p(N,A){A[0]&256&&u.value!==N[8]&&te(u,N[8]),A[0]&512&&m.value!==N[9]&&te(m,N[9]),A[0]&1024&&(g.checked=N[10]);const Y={};A[1]&16&&(Y.$$scope={dirty:A,ctx:N}),y.$set(Y),N[11]?I?I.p(N,A):(I=Sa(N),I.c(),I.m(z.parentNode,z)):I&&(I.d(1),I=null)},i(N){E||(P(y.$$.fragment,N),E=!0)},o(N){M(y.$$.fragment,N),E=!1},d(N){N&&(k(e),k(t),k(n),k(T),k(z)),ce(y),I&&I.d(N),j=!1,Ge(D)}}}function Cm(l){let e,t,n=de(l[12]),s=[];for(let i=0;i<n.length;i+=1)s[i]=qa(Ca(l,n,i));const o=i=>M(s[i],1,1,()=>{s[i]=null});return{c(){e=d("div");for(let i=0;i<s.length;i+=1)s[i].c();f(e,"class","task-list svelte-16vnl3x")},m(i,u){w(i,e,u);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null);t=!0},p(i,u){if(u[0]&1052672){n=de(i[12]);let a;for(a=0;a<n.length;a+=1){const c=Ca(i,n,a);s[a]?(s[a].p(c,u),P(s[a],1)):(s[a]=qa(c),s[a].c(),P(s[a],1),s[a].m(e,null))}for(qe(),a=n.length;a<s.length;a+=1)o(a);je()}},i(i){if(!t){for(let u=0;u<n.length;u+=1)P(s[u]);t=!0}},o(i){s=s.filter(nm);for(let u=0;u<s.length;u+=1)M(s[u]);t=!1},d(i){i&&k(e),Ne(s,i)}}}function ym(l){let e;return{c(){e=d("div"),e.textContent="No scheduled tasks",f(e,"class","empty-state svelte-16vnl3x")},m(t,n){w(t,e,n)},p:ge,i:ge,o:ge,d(t){t&&k(e)}}}function Sm(l){let e;return{c(){e=d("div"),e.textContent="Loading tasks...",f(e,"class","empty-state svelte-16vnl3x")},m(t,n){w(t,e,n)},p:ge,i:ge,o:ge,d(t){t&&k(e)}}}function qm(l){let e=l[32].type+"",t;return{c(){t=q(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&4096&&e!==(e=n[32].type+"")&&U(t,e)},d(n){n&&k(t)}}}function jm(l){let e;return{c(){e=q("🗑️")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function qa(l){let e,t,n,s=l[32].name+"",o,i,u,a,c,_,p,m=l[32].interval+"",h,v,g,S,C,$;a=new et({props:{variant:"info",$$slots:{default:[qm]},$$scope:{ctx:l}}});function y(){return l[29](l[32])}return S=new Fe({props:{variant:"danger",size:"sm",$$slots:{default:[jm]},$$scope:{ctx:l}}}),S.$on("click",y),{c(){e=d("div"),t=d("div"),n=d("div"),o=q(s),i=b(),u=d("div"),_e(a.$$.fragment),c=b(),_=d("span"),p=q("Every "),h=q(m),v=q(" min"),g=b(),_e(S.$$.fragment),C=b(),f(n,"class","task-name svelte-16vnl3x"),f(u,"class","task-meta svelte-16vnl3x"),f(t,"class","task-info"),f(e,"class","task-item svelte-16vnl3x")},m(T,z){w(T,e,z),r(e,t),r(t,n),r(n,o),r(t,i),r(t,u),fe(a,u,null),r(u,c),r(u,_),r(_,p),r(_,h),r(_,v),r(e,g),fe(S,e,null),r(e,C),$=!0},p(T,z){l=T,(!$||z[0]&4096)&&s!==(s=l[32].name+"")&&U(o,s);const E={};z[0]&4096|z[1]&16&&(E.$$scope={dirty:z,ctx:l}),a.$set(E),(!$||z[0]&4096)&&m!==(m=l[32].interval+"")&&U(h,m);const j={};z[1]&16&&(j.$$scope={dirty:z,ctx:l}),S.$set(j)},i(T){$||(P(a.$$.fragment,T),P(S.$$.fragment,T),$=!0)},o(T){M(a.$$.fragment,T),M(S.$$.fragment,T),$=!1},d(T){T&&k(e),ce(a),ce(S)}}}function Tm(l){let e,t,n,s,o,i;const u=[Sm,ym,Cm],a=[];function c(_,p){return _[13]?0:_[12].length===0?1:2}return n=c(l),s=a[n]=u[n](l),{c(){e=d("p"),e.textContent="Schedule recurring tasks like health checks, auto-restart, and backups.",t=b(),s.c(),o=Oe(),f(e,"class","description svelte-16vnl3x")},m(_,p){w(_,e,p),w(_,t,p),a[n].m(_,p),w(_,o,p),i=!0},p(_,p){let m=n;n=c(_),n===m?a[n].p(_,p):(qe(),M(a[m],1,1,()=>{a[m]=null}),je(),s=a[n],s?s.p(_,p):(s=a[n]=u[n](_),s.c()),P(s,1),s.m(o.parentNode,o))},i(_){i||(P(s),i=!0)},o(_){M(s),i=!1},d(_){_&&(k(e),k(t),k(o)),a[n].d(_)}}}function zm(l){let e;return{c(){e=q("↻ Refresh")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Dm(l){let e,t;return e=new Fe({props:{slot:"header",variant:"ghost",size:"sm",$$slots:{default:[zm]},$$scope:{ctx:l}}}),e.$on("click",l[19]),{c(){_e(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[1]&16&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function Em(l){let e,t,n,s,o,i,u,a,c,_,p,m,h;return t=new dt({props:{title:"🎨 Appearance",$$slots:{default:[sm]},$$scope:{ctx:l}}}),s=new dt({props:{title:"⚙️ DigitalOcean Credentials",$$slots:{default:[_m]},$$scope:{ctx:l}}}),i=new dt({props:{title:"☁️ Cloudflare Credentials",$$slots:{default:[gm]},$$scope:{ctx:l}}}),a=new dt({props:{title:"🌐 Domain Setup",$$slots:{default:[km]},$$scope:{ctx:l}}}),_=new dt({props:{title:"🌐 DNS Round-Robin (Cloudflare)",$$slots:{default:[$m]},$$scope:{ctx:l}}}),m=new dt({props:{title:"⏰ Task Scheduler",$$slots:{header:[Dm],default:[Tm]},$$scope:{ctx:l}}}),{c(){e=d("div"),_e(t.$$.fragment),n=b(),_e(s.$$.fragment),o=b(),_e(i.$$.fragment),u=b(),_e(a.$$.fragment),c=b(),_e(_.$$.fragment),p=b(),_e(m.$$.fragment),f(e,"class","settings-page svelte-16vnl3x")},m(v,g){w(v,e,g),fe(t,e,null),r(e,n),fe(s,e,null),r(e,o),fe(i,e,null),r(e,u),fe(a,e,null),r(e,c),fe(_,e,null),r(e,p),fe(m,e,null),h=!0},p(v,g){const S={};g[0]&16384|g[1]&16&&(S.$$scope={dirty:g,ctx:v}),t.$set(S);const C={};g[0]&3|g[1]&16&&(C.$$scope={dirty:g,ctx:v}),s.$set(C);const $={};g[0]&12|g[1]&16&&($.$$scope={dirty:g,ctx:v}),i.$set($);const y={};g[0]&240|g[1]&16&&(y.$$scope={dirty:g,ctx:v}),a.$set(y);const T={};g[0]&3840|g[1]&16&&(T.$$scope={dirty:g,ctx:v}),_.$set(T);const z={};g[0]&12288|g[1]&16&&(z.$$scope={dirty:g,ctx:v}),m.$set(z)},i(v){h||(P(t.$$.fragment,v),P(s.$$.fragment,v),P(i.$$.fragment,v),P(a.$$.fragment,v),P(_.$$.fragment,v),P(m.$$.fragment,v),h=!0)},o(v){M(t.$$.fragment,v),M(s.$$.fragment,v),M(i.$$.fragment,v),M(a.$$.fragment,v),M(_.$$.fragment,v),M(m.$$.fragment,v),h=!1},d(v){v&&k(e),ce(t),ce(s),ce(i),ce(a),ce(_),ce(m)}}}function Lm(l,e,t){let n;vt(l,Cn,V=>t(14,n=V));let s="",o=null,i="",u=null,a="",c="",_=!0,p=null,m="",h="",v=!0,g=null,S=[],C=!1;kl(()=>{$(),y(),D()});async function $(){const V=Lt();if(V){t(0,s=V.substring(0,10)+"...");try{await He("GET","/infra/snapshots"),t(1,o={valid:!0})}catch{t(1,o={valid:!1})}}else t(1,o={valid:!1,missing:!0})}async function y(){const V=Tn();V?(t(2,i=V.substring(0,10)+"..."),t(3,u={valid:!0})):t(3,u={valid:!1,missing:!0})}async function T(V){V.preventDefault();const Q=V.target.querySelector("input"),G=Q.value;if(!G){ke.error("Token is required");return}D1(G),Q.value="",ke.success("DigitalOcean token saved"),await $(),xt.refresh(),Mn.refresh(),mn.refresh(),bl.refresh()}async function z(V){V.preventDefault();const Q=V.target.querySelector("input"),G=Q.value;if(!G){ke.error("Token is required");return}E1(G),Q.value="",ke.success("Cloudflare token saved"),await y()}async function E(V){V.preventDefault();try{const Q=await He("POST","/infra/cloudflare/domain",{domain:a,ip:c,proxied:_});t(7,p={success:!0,message:"Domain configured successfully"}),ke.success("Domain setup complete")}catch(Q){t(7,p={success:!1,message:Q.message}),ke.error(Q.message)}}async function j(V){V.preventDefault();try{const Q=h.split(",").map(oe=>oe.trim()).filter(Boolean),G=await He("POST","/infra/cloudflare/lb",{domain:m,server_ips:Q,proxied:v});t(11,g={success:!0,message:`Created load balancer with ${Q.length} servers`}),ke.success("Load balancer configured")}catch(Q){t(11,g={success:!1,message:Q.message}),ke.error(Q.message)}}async function D(){t(13,C=!0);try{const V=await He("GET","/infra/scheduler/tasks");t(12,S=V.tasks||V||[])}catch{t(12,S=[])}finally{t(13,C=!1)}}async function I(V){if(confirm("Delete this scheduled task?"))try{await He("DELETE",`/infra/scheduler/tasks/${V}`),ke.success("Task deleted"),await D()}catch(Q){ke.error(Q.message)}}function N(){n=ut(this),Cn.set(n)}const A=()=>Cn.set(n);function Y(){a=this.value,t(4,a)}function F(){c=this.value,t(5,c)}function O(){_=this.checked,t(6,_)}function H(){m=this.value,t(8,m)}function L(){h=this.value,t(9,h)}function R(){v=this.checked,t(10,v)}return[s,o,i,u,a,c,_,p,m,h,v,g,S,C,n,T,z,E,j,D,I,N,A,Y,F,O,H,L,R,V=>I(V.id)]}class Pm extends qt{constructor(e){super(),St(this,e,Lm,Em,Ct,{},null,[-1,-1])}}function ja(l,e,t){const n=l.slice();n[21]=e[t];const s=n[1].filter(function(...a){return l[17](n[21],...a)});n[22]=s;const o=n[21].domain;n[23]=o;const i=n[22].length>1;return n[24]=i,n}function Ta(l,e,t){const n=l.slice();return n[27]=e[t],n}function za(l,e,t){const n=l.slice();return n[21]=e[t],n}function Da(l,e,t){const n=l.slice();return n[32]=e[t],n}function Nm(l){let e,t,n,s,o,i,u,a,c,_,p,m,h,v,g,S,C,$,y=l[1].length+"",T,z,E,j,D,I,N,A,Y=l[7].length+"",F,O,H,L;const R=[Im,Om],B=[];function V(Q,G){return Q[11]?1:0}return m=V(l),h=B[m]=R[m](l),{c(){e=d("div"),t=d("div"),n=d("div"),n.innerHTML='<span class="summary-icon svelte-odhywp">🔀</span> <span>Nginx Sidecar</span>',s=b(),o=d("div"),i=q(l[3]),u=q("/"),a=q(l[2]),c=b(),_=d("div"),_.textContent="servers with nginx",p=b(),h.c(),v=b(),g=d("div"),S=d("div"),S.innerHTML='<span class="summary-icon svelte-odhywp">🤖</span> <span>Node Agents</span>',C=b(),$=d("div"),T=q(y),z=b(),E=d("div"),E.textContent="servers monitored",j=b(),D=d("div"),I=d("div"),I.innerHTML='<span class="summary-icon svelte-odhywp">📦</span> <span>Services</span>',N=b(),A=d("div"),F=q(Y),O=b(),H=d("div"),H.textContent="deployed services",f(n,"class","summary-header svelte-odhywp"),f(o,"class","summary-value svelte-odhywp"),f(_,"class","summary-label svelte-odhywp"),f(t,"class","summary-card svelte-odhywp"),we(t,"ok",l[11]),we(t,"warn",!l[11]),f(S,"class","summary-header svelte-odhywp"),f($,"class","summary-value svelte-odhywp"),f(E,"class","summary-label svelte-odhywp"),f(g,"class","summary-card info svelte-odhywp"),f(I,"class","summary-header svelte-odhywp"),f(A,"class","summary-value svelte-odhywp"),f(H,"class","summary-label svelte-odhywp"),f(D,"class","summary-card info svelte-odhywp"),f(e,"class","summary-grid svelte-odhywp")},m(Q,G){w(Q,e,G),r(e,t),r(t,n),r(t,s),r(t,o),r(o,i),r(o,u),r(o,a),r(t,c),r(t,_),r(t,p),B[m].m(t,null),r(e,v),r(e,g),r(g,S),r(g,C),r(g,$),r($,T),r(g,z),r(g,E),r(e,j),r(e,D),r(D,I),r(D,N),r(D,A),r(A,F),r(D,O),r(D,H),L=!0},p(Q,G){(!L||G[0]&8)&&U(i,Q[3]),(!L||G[0]&4)&&U(a,Q[2]);let oe=m;m=V(Q),m===oe?B[m].p(Q,G):(qe(),M(B[oe],1,1,()=>{B[oe]=null}),je(),h=B[m],h?h.p(Q,G):(h=B[m]=R[m](Q),h.c()),P(h,1),h.m(t,null)),(!L||G[0]&2048)&&we(t,"ok",Q[11]),(!L||G[0]&2048)&&we(t,"warn",!Q[11]),(!L||G[0]&2)&&y!==(y=Q[1].length+"")&&U(T,y),(!L||G[0]&128)&&Y!==(Y=Q[7].length+"")&&U(F,Y)},i(Q){L||(P(h),L=!0)},o(Q){M(h),L=!1},d(Q){Q&&k(e),B[m].d()}}}function Rm(l){let e;return{c(){e=d("div"),e.innerHTML='<p>No services deployed yet</p> <p class="hint svelte-odhywp">Deploy your first service to see the architecture</p>',f(e,"class","empty-state svelte-odhywp")},m(t,n){w(t,e,n)},p:ge,i:ge,o:ge,d(t){t&&k(e)}}}function Am(l){let e,t,n,s,o,i;return{c(){e=d("div"),t=d("p"),n=q("Failed to load: "),s=q(l[9]),o=b(),i=d("p"),i.textContent="Check your connection and try refreshing",f(i,"class","hint svelte-odhywp"),f(e,"class","empty-state svelte-odhywp")},m(u,a){w(u,e,a),r(e,t),r(t,n),r(t,s),r(e,o),r(e,i)},p(u,a){a[0]&512&&U(s,u[9])},i:ge,o:ge,d(u){u&&k(e)}}}function Mm(l){let e;return{c(){e=d("div"),e.textContent="Loading architecture...",f(e,"class","empty-state svelte-odhywp")},m(t,n){w(t,e,n)},p:ge,i:ge,o:ge,d(t){t&&k(e)}}}function Om(l){let e;return{c(){e=d("div"),e.textContent="✅ All servers OK",f(e,"class","summary-ok svelte-odhywp")},m(t,n){w(t,e,n)},p:ge,i:ge,o:ge,d(t){t&&k(e)}}}function Im(l){let e,t;return e=new Fe({props:{variant:"warning",size:"sm",$$slots:{default:[Fm]},$$scope:{ctx:l}}}),e.$on("click",l[13]),{c(){_e(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[0]&12|s[1]&16&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function Fm(l){let e,t=l[2]-l[3]+"",n,s;return{c(){e=q("🔧 Fix "),n=q(t),s=q(" server(s)")},m(o,i){w(o,e,i),w(o,n,i),w(o,s,i)},p(o,i){i[0]&12&&t!==(t=o[2]-o[3]+"")&&U(n,t)},d(o){o&&(k(e),k(n),k(s))}}}function Um(l){let e,t,n,s;const o=[Mm,Am,Rm,Nm],i=[];function u(a,c){return a[6]&&!a[10]?0:a[9]?1:a[7].length===0&&a[1].length===0?2:3}return e=u(l),t=i[e]=o[e](l),{c(){t.c(),n=Oe()},m(a,c){i[e].m(a,c),w(a,n,c),s=!0},p(a,c){let _=e;e=u(a),e===_?i[e].p(a,c):(qe(),M(i[_],1,1,()=>{i[_]=null}),je(),t=i[e],t?t.p(a,c):(t=i[e]=o[e](a),t.c()),P(t,1),t.m(n.parentNode,n))},i(a){s||(P(t),s=!0)},o(a){M(t),s=!1},d(a){a&&k(n),i[e].d(a)}}}function Ea(l){let e,t=l[32]+"",n,s;return{c(){e=d("option"),n=q(t),e.__value=s=l[32],te(e,e.__value)},m(o,i){w(o,e,i),r(e,n)},p(o,i){i[0]&4096&&t!==(t=o[32]+"")&&U(n,t),i[0]&4096&&s!==(s=o[32])&&(e.__value=s,te(e,e.__value))},d(o){o&&k(e)}}}function La(l){let e,t,n=Oa(l[8])+"",s;return{c(){e=d("span"),t=q("Updated "),s=q(n),f(e,"class","last-updated svelte-odhywp")},m(o,i){w(o,e,i),r(e,t),r(e,s)},p(o,i){i[0]&256&&n!==(n=Oa(o[8])+"")&&U(s,n)},d(o){o&&k(e)}}}function Bm(l){let e;return{c(){e=q("↻ Refresh")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Hm(l){let e,t,n,s,o,i,u,a,c,_,p,m,h,v,g,S=de(l[12]||[]),C=[];for(let y=0;y<S.length;y+=1)C[y]=Ea(Da(l,S,y));let $=l[8]&&La(l);return m=new Fe({props:{variant:"ghost",size:"sm",$$slots:{default:[Bm]},$$scope:{ctx:l}}}),m.$on("click",l[0]),{c(){e=d("div"),t=d("select"),n=d("option"),n.textContent="All Projects";for(let y=0;y<C.length;y+=1)C[y].c();s=b(),o=d("select"),i=d("option"),i.textContent="All Envs",u=d("option"),u.textContent="prod",a=d("option"),a.textContent="staging",c=d("option"),c.textContent="dev",_=b(),$&&$.c(),p=b(),_e(m.$$.fragment),n.__value="",te(n,n.__value),f(t,"class","svelte-odhywp"),l[4]===void 0&&Qe(()=>l[15].call(t)),i.__value="",te(i,i.__value),u.__value="prod",te(u,u.__value),a.__value="staging",te(a,a.__value),c.__value="dev",te(c,c.__value),f(o,"class","svelte-odhywp"),l[5]===void 0&&Qe(()=>l[16].call(o)),f(e,"slot","header"),f(e,"class","filters svelte-odhywp")},m(y,T){w(y,e,T),r(e,t),r(t,n);for(let z=0;z<C.length;z+=1)C[z]&&C[z].m(t,null);Ee(t,l[4],!0),r(e,s),r(e,o),r(o,i),r(o,u),r(o,a),r(o,c),Ee(o,l[5],!0),r(e,_),$&&$.m(e,null),r(e,p),fe(m,e,null),h=!0,v||(g=[ee(t,"change",l[15]),ee(t,"change",l[14]),ee(o,"change",l[16]),ee(o,"change",l[14])],v=!0)},p(y,T){if(T[0]&4096){S=de(y[12]||[]);let E;for(E=0;E<S.length;E+=1){const j=Da(y,S,E);C[E]?C[E].p(j,T):(C[E]=Ea(j),C[E].c(),C[E].m(t,null))}for(;E<C.length;E+=1)C[E].d(1);C.length=S.length}T[0]&4112&&Ee(t,y[4]),T[0]&32&&Ee(o,y[5]),y[8]?$?$.p(y,T):($=La(y),$.c(),$.m(e,p)):$&&($.d(1),$=null);const z={};T[1]&16&&(z.$$scope={dirty:T,ctx:y}),m.$set(z)},i(y){h||(P(m.$$.fragment,y),h=!0)},o(y){M(m.$$.fragment,y),h=!1},d(y){y&&k(e),Ne(C,y),$&&$.d(),ce(m),v=!1,Ge(g)}}}function Gm(l){let e,t,n=de(l[7]),s=[];for(let i=0;i<n.length;i+=1)s[i]=Pa(za(l,n,i));const o=i=>M(s[i],1,1,()=>{s[i]=null});return{c(){e=d("div");for(let i=0;i<s.length;i+=1)s[i].c();f(e,"class","list svelte-odhywp")},m(i,u){w(i,e,u);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null);t=!0},p(i,u){if(u[0]&128){n=de(i[7]);let a;for(a=0;a<n.length;a+=1){const c=za(i,n,a);s[a]?(s[a].p(c,u),P(s[a],1)):(s[a]=Pa(c),s[a].c(),P(s[a],1),s[a].m(e,null))}for(qe(),a=n.length;a<s.length;a+=1)o(a);je()}},i(i){if(!t){for(let u=0;u<n.length;u+=1)P(s[u]);t=!0}},o(i){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)M(s[u]);t=!1},d(i){i&&k(e),Ne(s,i)}}}function Wm(l){let e;return{c(){e=d("div"),e.textContent="No services found",f(e,"class","empty-panel svelte-odhywp")},m(t,n){w(t,e,n)},p:ge,i:ge,o:ge,d(t){t&&k(e)}}}function Vm(l){let e=l[21].type+"",t;return{c(){t=q(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&128&&e!==(e=n[21].type+"")&&U(t,e)},d(n){n&&k(t)}}}function Pa(l){var H,L;let e,t,n=an(l[21])+"",s,o,i,u,a=l[21].service+"",c,_,p,m=l[21].project+"",h,v,g=l[21].env+"",S,C,$,y,T=(((H=l[21].servers)==null?void 0:H.length)||0)+"",z,E,j,D,I=(((L=l[21].ports)==null?void 0:L.join(", "))||"-")+"",N,A,Y,F,O;return Y=new et({props:{variant:l[21].type==="stateful"?"warning":"info",$$slots:{default:[Vm]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),s=q(n),o=b(),i=d("div"),u=d("div"),c=q(a),_=b(),p=d("div"),h=q(m),v=q(" / "),S=q(g),C=b(),$=d("div"),y=d("div"),z=q(T),E=q(" server(s)"),j=b(),D=d("div"),N=q(I),A=b(),_e(Y.$$.fragment),F=b(),f(t,"class","item-icon svelte-odhywp"),f(u,"class","item-name svelte-odhywp"),f(p,"class","item-meta svelte-odhywp"),f(i,"class","item-info svelte-odhywp"),f(D,"class","ports svelte-odhywp"),f($,"class","item-stats svelte-odhywp"),f(e,"class","list-item svelte-odhywp")},m(R,B){w(R,e,B),r(e,t),r(t,s),r(e,o),r(e,i),r(i,u),r(u,c),r(i,_),r(i,p),r(p,h),r(p,v),r(p,S),r(e,C),r(e,$),r($,y),r(y,z),r(y,E),r($,j),r($,D),r(D,N),r(e,A),fe(Y,e,null),r(e,F),O=!0},p(R,B){var Q,G;(!O||B[0]&128)&&n!==(n=an(R[21])+"")&&U(s,n),(!O||B[0]&128)&&a!==(a=R[21].service+"")&&U(c,a),(!O||B[0]&128)&&m!==(m=R[21].project+"")&&U(h,m),(!O||B[0]&128)&&g!==(g=R[21].env+"")&&U(S,g),(!O||B[0]&128)&&T!==(T=(((Q=R[21].servers)==null?void 0:Q.length)||0)+"")&&U(z,T),(!O||B[0]&128)&&I!==(I=(((G=R[21].ports)==null?void 0:G.join(", "))||"-")+"")&&U(N,I);const V={};B[0]&128&&(V.variant=R[21].type==="stateful"?"warning":"info"),B[0]&128|B[1]&16&&(V.$$scope={dirty:B,ctx:R}),Y.$set(V)},i(R){O||(P(Y.$$.fragment,R),O=!0)},o(R){M(Y.$$.fragment,R),O=!1},d(R){R&&k(e),ce(Y)}}}function Jm(l){let e,t,n,s;const o=[Wm,Gm],i=[];function u(a,c){return a[7].length===0?0:1}return e=u(l),t=i[e]=o[e](l),{c(){t.c(),n=Oe()},m(a,c){i[e].m(a,c),w(a,n,c),s=!0},p(a,c){let _=e;e=u(a),e===_?i[e].p(a,c):(qe(),M(i[_],1,1,()=>{i[_]=null}),je(),t=i[e],t?t.p(a,c):(t=i[e]=o[e](a),t.c()),P(t,1),t.m(n.parentNode,n))},i(a){s||(P(t),s=!0)},o(a){M(t),s=!1},d(a){a&&k(n),i[e].d(a)}}}function Km(l){let e,t,n=de(l[1]),s=[];for(let i=0;i<n.length;i+=1)s[i]=Na(Ta(l,n,i));const o=i=>M(s[i],1,1,()=>{s[i]=null});return{c(){e=d("div");for(let i=0;i<s.length;i+=1)s[i].c();f(e,"class","list svelte-odhywp")},m(i,u){w(i,e,u);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null);t=!0},p(i,u){if(u[0]&2){n=de(i[1]);let a;for(a=0;a<n.length;a+=1){const c=Ta(i,n,a);s[a]?(s[a].p(c,u),P(s[a],1)):(s[a]=Na(c),s[a].c(),P(s[a],1),s[a].m(e,null))}for(qe(),a=n.length;a<s.length;a+=1)o(a);je()}},i(i){if(!t){for(let u=0;u<n.length;u+=1)P(s[u]);t=!0}},o(i){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)M(s[u]);t=!1},d(i){i&&k(e),Ne(s,i)}}}function Ym(l){let e;return{c(){e=d("div"),e.textContent="No servers found",f(e,"class","empty-panel svelte-odhywp")},m(t,n){w(t,e,n)},p:ge,i:ge,o:ge,d(t){t&&k(e)}}}function Qm(l){let e=un(l[27])?"🔀 nginx":"⚠️ no nginx",t;return{c(){t=q(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&2&&e!==(e=un(n[27])?"🔀 nginx":"⚠️ no nginx")&&U(t,e)},d(n){n&&k(t)}}}function Zm(l){let e,t=(l[27].agent_version||"?")+"",n;return{c(){e=q("🤖 v"),n=q(t)},m(s,o){w(s,e,o),w(s,n,o)},p(s,o){o[0]&2&&t!==(t=(s[27].agent_version||"?")+"")&&U(n,t)},d(s){s&&(k(e),k(n))}}}function Na(l){let e,t,n=l[27].status==="online"?"🟢":"🔴",s,o,i,u,a=l[27].ip+"",c,_,p,m=(l[27].containers||0)+"",h,v,g,S,C,$,y,T,z;return C=new et({props:{variant:un(l[27])?"success":"warning",$$slots:{default:[Qm]},$$scope:{ctx:l}}}),y=new et({props:{variant:"info",$$slots:{default:[Zm]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),s=q(n),o=b(),i=d("div"),u=d("code"),c=q(a),_=b(),p=d("div"),h=q(m),v=q(" container(s)"),g=b(),S=d("div"),_e(C.$$.fragment),$=b(),_e(y.$$.fragment),T=b(),f(t,"class","item-icon svelte-odhywp"),f(u,"class","server-ip svelte-odhywp"),f(p,"class","item-meta svelte-odhywp"),f(i,"class","item-info svelte-odhywp"),f(S,"class","item-badges svelte-odhywp"),f(e,"class","list-item svelte-odhywp")},m(E,j){w(E,e,j),r(e,t),r(t,s),r(e,o),r(e,i),r(i,u),r(u,c),r(i,_),r(i,p),r(p,h),r(p,v),r(e,g),r(e,S),fe(C,S,null),r(S,$),fe(y,S,null),r(e,T),z=!0},p(E,j){(!z||j[0]&2)&&n!==(n=E[27].status==="online"?"🟢":"🔴")&&U(s,n),(!z||j[0]&2)&&a!==(a=E[27].ip+"")&&U(c,a),(!z||j[0]&2)&&m!==(m=(E[27].containers||0)+"")&&U(h,m);const D={};j[0]&2&&(D.variant=un(E[27])?"success":"warning"),j[0]&2|j[1]&16&&(D.$$scope={dirty:j,ctx:E}),C.$set(D);const I={};j[0]&2|j[1]&16&&(I.$$scope={dirty:j,ctx:E}),y.$set(I)},i(E){z||(P(C.$$.fragment,E),P(y.$$.fragment,E),z=!0)},o(E){M(C.$$.fragment,E),M(y.$$.fragment,E),z=!1},d(E){E&&k(e),ce(C),ce(y)}}}function Xm(l){let e,t,n,s;const o=[Ym,Km],i=[];function u(a,c){return a[1].length===0?0:1}return e=u(l),t=i[e]=o[e](l),{c(){t.c(),n=Oe()},m(a,c){i[e].m(a,c),w(a,n,c),s=!0},p(a,c){let _=e;e=u(a),e===_?i[e].p(a,c):(qe(),M(i[_],1,1,()=>{i[_]=null}),je(),t=i[e],t?t.p(a,c):(t=i[e]=o[e](a),t.c()),P(t,1),t.m(n.parentNode,n))},i(a){s||(P(t),s=!0)},o(a){M(t),s=!1},d(a){a&&k(n),i[e].d(a)}}}function xm(l){let e,t,n=de(l[7]),s=[];for(let i=0;i<n.length;i+=1)s[i]=Ma(ja(l,n,i));const o=i=>M(s[i],1,1,()=>{s[i]=null});return{c(){e=d("div");for(let i=0;i<s.length;i+=1)s[i].c();f(e,"class","traffic-flow svelte-odhywp")},m(i,u){w(i,e,u);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null);t=!0},p(i,u){if(u[0]&130){n=de(i[7]);let a;for(a=0;a<n.length;a+=1){const c=ja(i,n,a);s[a]?(s[a].p(c,u),P(s[a],1)):(s[a]=Ma(c),s[a].c(),P(s[a],1),s[a].m(e,null))}for(qe(),a=n.length;a<s.length;a+=1)o(a);je()}},i(i){if(!t){for(let u=0;u<n.length;u+=1)P(s[u]);t=!0}},o(i){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)M(s[u]);t=!1},d(i){i&&k(e),Ne(s,i)}}}function ev(l){let e;return{c(){e=d("div"),e.textContent="Deploy services to see traffic flow",f(e,"class","empty-panel svelte-odhywp")},m(t,n){w(t,e,n)},p:ge,i:ge,o:ge,d(t){t&&k(e)}}}function tv(l){let e=l[21].env+"",t;return{c(){t=q(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&128&&e!==(e=n[21].env+"")&&U(t,e)},d(n){n&&k(t)}}}function Ra(l){let e,t,n,s,o,i,u=l[21].domain+"",a,c,_;return{c(){e=d("div"),t=d("span"),t.textContent="☁️",n=b(),s=d("span"),s.textContent="Cloudflare",o=b(),i=d("span"),a=q(u),c=b(),_=d("div"),_.textContent="→",f(t,"class","svelte-odhywp"),f(s,"class","node-label svelte-odhywp"),f(i,"class","node-detail svelte-odhywp"),f(e,"class","flow-node cloudflare svelte-odhywp"),f(_,"class","flow-arrow svelte-odhywp")},m(p,m){w(p,e,m),r(e,t),r(e,n),r(e,s),r(e,o),r(e,i),r(i,a),w(p,c,m),w(p,_,m)},p(p,m){m[0]&128&&u!==(u=p[21].domain+"")&&U(a,u)},d(p){p&&(k(e),k(c),k(_))}}}function lv(l){let e;return{c(){e=q("Server")},m(t,n){w(t,e,n)},p:ge,d(t){t&&k(e)}}}function nv(l){let e,t=l[22].length+"",n,s;return{c(){e=q("⚖️ Load Balanced ("),n=q(t),s=q(")")},m(o,i){w(o,e,i),w(o,n,i),w(o,s,i)},p(o,i){i[0]&130&&t!==(t=o[22].length+"")&&U(n,t)},d(o){o&&(k(e),k(n),k(s))}}}function Aa(l){let e,t,n,s=l[21].domain+"",o,i;return{c(){e=d("span"),t=q("Domain: "),n=d("a"),o=q(s),f(n,"href",i="https://"+l[21].domain),f(n,"target","_blank"),f(n,"class","svelte-odhywp")},m(u,a){w(u,e,a),r(e,t),r(e,n),r(n,o)},p(u,a){a[0]&128&&s!==(s=u[21].domain+"")&&U(o,s),a[0]&128&&i!==(i="https://"+u[21].domain)&&f(n,"href",i)},d(u){u&&k(e)}}}function Ma(l){let e,t,n,s=an(l[21])+"",o,i,u,a=l[21].service+"",c,_,p,m,h,v,g,S,C,$,y,T,z,E,j,D,I,N,A,Y,F,O,H,L,R=(l[21].host_port||"8000")+"",B,V,Q,G,oe,x,W,J=(l[21].container_name||l[21].id)+"",ae,K,ie;p=new et({props:{variant:l[21].env==="prod"?"danger":"info",$$slots:{default:[tv]},$$scope:{ctx:l}}});let ue=l[23]&&Ra(l);function le(X,Z){return X[24]?nv:lv}let me=le(l),re=me(l),ne=l[23]&&Aa(l);return{c(){e=d("div"),t=d("div"),n=d("span"),o=q(s),i=b(),u=d("span"),c=q(a),_=b(),_e(p.$$.fragment),m=b(),h=d("div"),ue&&ue.c(),v=b(),g=d("div"),S=d("span"),S.textContent="🖥️",C=b(),$=d("span"),re.c(),y=b(),T=d("div"),T.textContent="→",z=b(),E=d("div"),E.innerHTML='<span class="svelte-odhywp">🔀</span> <span class="node-label svelte-odhywp">nginx</span> <span class="node-detail svelte-odhywp">:443</span>',j=b(),D=d("div"),D.textContent="→",I=b(),N=d("div"),A=d("span"),A.textContent="🐳",Y=b(),F=d("span"),F.textContent="Container",O=b(),H=d("span"),L=q(":"),B=q(R),V=b(),Q=d("div"),ne&&ne.c(),G=b(),oe=d("span"),x=q("Container: "),W=d("code"),ae=q(J),K=b(),f(n,"class","flow-icon svelte-odhywp"),f(u,"class","flow-name svelte-odhywp"),f(t,"class","flow-header svelte-odhywp"),f(S,"class","svelte-odhywp"),f($,"class","node-label svelte-odhywp"),f(g,"class","flow-node server svelte-odhywp"),f(T,"class","flow-arrow svelte-odhywp"),f(E,"class","flow-node nginx svelte-odhywp"),f(D,"class","flow-arrow svelte-odhywp"),f(A,"class","svelte-odhywp"),f(F,"class","node-label svelte-odhywp"),f(H,"class","node-detail svelte-odhywp"),f(N,"class","flow-node container svelte-odhywp"),f(h,"class","flow-path svelte-odhywp"),f(W,"class","svelte-odhywp"),f(Q,"class","flow-details svelte-odhywp"),f(e,"class","flow-card svelte-odhywp")},m(X,Z){w(X,e,Z),r(e,t),r(t,n),r(n,o),r(t,i),r(t,u),r(u,c),r(t,_),fe(p,t,null),r(e,m),r(e,h),ue&&ue.m(h,null),r(h,v),r(h,g),r(g,S),r(g,C),r(g,$),re.m($,null),r(h,y),r(h,T),r(h,z),r(h,E),r(h,j),r(h,D),r(h,I),r(h,N),r(N,A),r(N,Y),r(N,F),r(N,O),r(N,H),r(H,L),r(H,B),r(e,V),r(e,Q),ne&&ne.m(Q,null),r(Q,G),r(Q,oe),r(oe,x),r(oe,W),r(W,ae),r(e,K),ie=!0},p(X,Z){(!ie||Z[0]&128)&&s!==(s=an(X[21])+"")&&U(o,s),(!ie||Z[0]&128)&&a!==(a=X[21].service+"")&&U(c,a);const be={};Z[0]&128&&(be.variant=X[21].env==="prod"?"danger":"info"),Z[0]&128|Z[1]&16&&(be.$$scope={dirty:Z,ctx:X}),p.$set(be),X[23]?ue?ue.p(X,Z):(ue=Ra(X),ue.c(),ue.m(h,v)):ue&&(ue.d(1),ue=null),me===(me=le(X))&&re?re.p(X,Z):(re.d(1),re=me(X),re&&(re.c(),re.m($,null))),(!ie||Z[0]&128)&&R!==(R=(X[21].host_port||"8000")+"")&&U(B,R),X[23]?ne?ne.p(X,Z):(ne=Aa(X),ne.c(),ne.m(Q,G)):ne&&(ne.d(1),ne=null),(!ie||Z[0]&128)&&J!==(J=(X[21].container_name||X[21].id)+"")&&U(ae,J)},i(X){ie||(P(p.$$.fragment,X),ie=!0)},o(X){M(p.$$.fragment,X),ie=!1},d(X){X&&k(e),ce(p),ue&&ue.d(),re.d(),ne&&ne.d()}}}function sv(l){let e,t,n,s;const o=[ev,xm],i=[];function u(a,c){return a[7].length===0?0:1}return e=u(l),t=i[e]=o[e](l),{c(){t.c(),n=Oe()},m(a,c){i[e].m(a,c),w(a,n,c),s=!0},p(a,c){let _=e;e=u(a),e===_?i[e].p(a,c):(qe(),M(i[_],1,1,()=>{i[_]=null}),je(),t=i[e],t?t.p(a,c):(t=i[e]=o[e](a),t.c()),P(t,1),t.m(n.parentNode,n))},i(a){s||(P(t),s=!0)},o(a){M(t),s=!1},d(a){a&&k(n),i[e].d(a)}}}function ov(l){let e;return{c(){e=d("span"),e.textContent="Request path from client to container",f(e,"slot","header"),f(e,"class","subtitle svelte-odhywp")},m(t,n){w(t,e,n)},p:ge,d(t){t&&k(e)}}}function iv(l){let e,t,n,s,o,i,u,a,c,_;return t=new dt({props:{title:"🏗️ Architecture View",$$slots:{header:[Hm],default:[Um]},$$scope:{ctx:l}}}),o=new dt({props:{title:"📦 Services",padding:!1,$$slots:{default:[Jm]},$$scope:{ctx:l}}}),u=new dt({props:{title:"🖥️ Servers",padding:!1,$$slots:{default:[Xm]},$$scope:{ctx:l}}}),c=new dt({props:{title:"🚦 Traffic Flow",$$slots:{header:[ov],default:[sv]},$$scope:{ctx:l}}}),{c(){e=d("div"),_e(t.$$.fragment),n=b(),s=d("div"),_e(o.$$.fragment),i=b(),_e(u.$$.fragment),a=b(),_e(c.$$.fragment),f(s,"class","panels-grid svelte-odhywp"),f(e,"class","architecture-page svelte-odhywp")},m(p,m){w(p,e,m),fe(t,e,null),r(e,n),r(e,s),fe(o,s,null),r(s,i),fe(u,s,null),r(e,a),fe(c,e,null),_=!0},p(p,m){const h={};m[0]&8190|m[1]&16&&(h.$$scope={dirty:m,ctx:p}),t.$set(h);const v={};m[0]&128|m[1]&16&&(v.$$scope={dirty:m,ctx:p}),o.$set(v);const g={};m[0]&2|m[1]&16&&(g.$$scope={dirty:m,ctx:p}),u.$set(g);const S={};m[0]&130|m[1]&16&&(S.$$scope={dirty:m,ctx:p}),c.$set(S)},i(p){_||(P(t.$$.fragment,p),P(o.$$.fragment,p),P(u.$$.fragment,p),P(c.$$.fragment,p),_=!0)},o(p){M(t.$$.fragment,p),M(o.$$.fragment,p),M(u.$$.fragment,p),M(c.$$.fragment,p),_=!1},d(p){p&&k(e),ce(t),ce(o),ce(u),ce(c)}}}function Oa(l){return l?l.toLocaleTimeString():""}function an(l){switch(l.type){case"stateful":return"🗄️";case"frontend":return"🌐";case"api":return"⚡";case"worker":return"⚙️";default:return"📦"}}function un(l){return l.nginx_status==="running"}function rv(l,e,t){let n,s,o,i;vt(l,On,D=>t(12,i=D));let u="",a="",c=!1,_=[],p=[],m=[],h=null,v=null,g=!1,S=null;kl(()=>{g||(C(),S=setInterval(C,6e4))}),cc(()=>{S&&clearInterval(S)});async function C(){g||t(6,c=!0),t(9,v=null);try{const D=Lt();if(!D)throw new Error("DigitalOcean token required");const I=await He("POST","/infra/architecture",{project:u||null,environment:a||null,do_token:D});t(7,_=I.nodes||[]),t(1,p=I.servers||[]),m=I.infrastructure||[],t(8,h=new Date),t(10,g=!0)}catch(D){t(9,v=D.message),g||ke.error("Failed to load architecture: "+D.message)}finally{t(6,c=!1)}}async function $(){const D=p.filter(I=>I.nginx_status!=="running").map(I=>I.ip);if(D.length===0){ke.info("All servers already have nginx running");return}ke.info(`Fixing ${D.length} server(s)...`);try{await He("POST","/infra/nginx/ensure",{server_ips:D}),ke.success("Nginx sidecar installed"),architectureStore.refresh()}catch(I){ke.error(I.message)}}function y(){C()}function T(){C()}function z(){u=ut(this),t(4,u)}function E(){a=ut(this),t(5,a)}const j=(D,I)=>{var N;return(N=D.servers)==null?void 0:N.includes(I.ip)};return l.$$.update=()=>{l.$$.dirty[0]&2&&t(3,n=p.filter(D=>D.nginx_status==="running").length),l.$$.dirty[0]&2&&t(2,s=p.length),l.$$.dirty[0]&12&&t(11,o=n===s)},[T,p,s,n,u,a,c,_,h,v,g,o,i,$,y,z,E,j]}class av extends qt{constructor(e){super(),St(this,e,rv,iv,Ct,{refresh:0},null,[-1,-1])}get refresh(){return this.$$.ctx[0]}}function Ia(l,e,t){const n=l.slice();return n[72]=e[t],n}function Fa(l,e,t){const n=l.slice();return n[75]=e[t][0],n[76]=e[t][1],n}function Ua(l,e,t){const n=l.slice();return n[72]=e[t],n[80]=t,n}function Ba(l,e,t){const n=l.slice();return n[81]=e[t],n}function Ha(l,e,t){const n=l.slice();return n[84]=e[t],n}function Ga(l,e,t){const n=l.slice();return n[87]=e[t],n}function Wa(l,e,t){const n=l.slice();return n[90]=e[t],n}function Va(l,e,t){const n=l.slice();return n[93]=e[t],n}function Ja(l,e,t){const n=l.slice();return n[96]=e[t],n}function Ka(l,e,t){const n=l.slice();return n[99]=e[t],n}function uv(l){let e,t,n,s,o,i,u,a,c,_,p,m,h,v,g,S,C;return _=new Fe({props:{disabled:l[14],$$slots:{default:[cv]},$$scope:{ctx:l}}}),_.$on("click",l[33]),m=new Fe({props:{variant:l[17]?"primary":"secondary",$$slots:{default:[_v]},$$scope:{ctx:l}}}),m.$on("click",l[34]),v=new Fe({props:{variant:"danger",$$slots:{default:[dv]},$$scope:{ctx:l}}}),v.$on("click",l[35]),{c(){e=d("select"),t=d("option"),t.textContent="All Levels",n=d("option"),n.textContent="DEBUG",s=d("option"),s.textContent="INFO",o=d("option"),o.textContent="WARNING",i=d("option"),i.textContent="ERROR",u=b(),a=d("input"),c=b(),_e(_.$$.fragment),p=b(),_e(m.$$.fragment),h=b(),_e(v.$$.fragment),t.__value="",te(t,t.__value),n.__value="DEBUG",te(n,n.__value),s.__value="INFO",te(s,s.__value),o.__value="WARNING",te(o,o.__value),i.__value="ERROR",te(i,i.__value),f(e,"class","svelte-1qj4rom"),l[15]===void 0&&Qe(()=>l[49].call(e)),f(a,"type","text"),f(a,"placeholder","Search logs..."),f(a,"class","svelte-1qj4rom")},m($,y){w($,e,y),r(e,t),r(e,n),r(e,s),r(e,o),r(e,i),Ee(e,l[15],!0),w($,u,y),w($,a,y),te(a,l[16]),w($,c,y),fe(_,$,y),w($,p,y),fe(m,$,y),w($,h,y),fe(v,$,y),g=!0,S||(C=[ee(e,"change",l[49]),ee(e,"change",l[33]),ee(a,"input",l[50]),ee(a,"keyup",l[51])],S=!0)},p($,y){y[0]&32768&&Ee(e,$[15]),y[0]&65536&&a.value!==$[16]&&te(a,$[16]);const T={};y[0]&16384&&(T.disabled=$[14]),y[0]&16384|y[3]&512&&(T.$$scope={dirty:y,ctx:$}),_.$set(T);const z={};y[0]&131072&&(z.variant=$[17]?"primary":"secondary"),y[0]&131072|y[3]&512&&(z.$$scope={dirty:y,ctx:$}),m.$set(z);const E={};y[3]&512&&(E.$$scope={dirty:y,ctx:$}),v.$set(E)},i($){g||(P(_.$$.fragment,$),P(m.$$.fragment,$),P(v.$$.fragment,$),g=!0)},o($){M(_.$$.fragment,$),M(m.$$.fragment,$),M(v.$$.fragment,$),g=!1},d($){$&&(k(e),k(u),k(a),k(c),k(p),k(h)),ce(_,$),ce(m,$),ce(v,$),S=!1,Ge(C)}}}function fv(l){let e,t,n,s,o,i,u,a,c,_;return u=new Fe({props:{disabled:l[1],$$slots:{default:[pv]},$$scope:{ctx:l}}}),u.$on("click",l[38]),{c(){e=d("select"),t=d("option"),t.textContent="Last 1 hour",n=d("option"),n.textContent="Last 6 hours",s=d("option"),s.textContent="Last 24 hours",o=d("option"),o.textContent="Last 7 days",i=b(),_e(u.$$.fragment),t.__value=1,te(t,t.__value),n.__value=6,te(n,n.__value),s.__value=24,te(s,s.__value),o.__value=168,te(o,o.__value),f(e,"class","svelte-1qj4rom"),l[9]===void 0&&Qe(()=>l[48].call(e))},m(p,m){w(p,e,m),r(e,t),r(e,n),r(e,s),r(e,o),Ee(e,l[9],!0),w(p,i,m),fe(u,p,m),a=!0,c||(_=[ee(e,"change",l[48]),ee(e,"change",l[38])],c=!0)},p(p,m){m[0]&512&&Ee(e,p[9]);const h={};m[0]&2&&(h.disabled=p[1]),m[0]&2|m[3]&512&&(h.$$scope={dirty:m,ctx:p}),u.$set(h)},i(p){a||(P(u.$$.fragment,p),a=!0)},o(p){M(u.$$.fragment,p),a=!1},d(p){p&&(k(e),k(i)),ce(u,p),c=!1,Ge(_)}}}function cv(l){let e=l[14]?"⏳":"🔄",t,n;return{c(){t=q(e),n=q(" Refresh")},m(s,o){w(s,t,o),w(s,n,o)},p(s,o){o[0]&16384&&e!==(e=s[14]?"⏳":"🔄")&&U(t,e)},d(s){s&&(k(t),k(n))}}}function _v(l){let e=l[17]?"⏸️ Stop":"▶️ Auto",t;return{c(){t=q(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&131072&&e!==(e=n[17]?"⏸️ Stop":"▶️ Auto")&&U(t,e)},d(n){n&&k(t)}}}function dv(l){let e;return{c(){e=q("🗑️ Clear")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function pv(l){let e=l[1]?"⏳":"🔄",t,n;return{c(){t=q(e),n=q(" Refresh")},m(s,o){w(s,t,o),w(s,n,o)},p(s,o){o[0]&2&&e!==(e=s[1]?"⏳":"🔄")&&U(t,e)},d(s){s&&(k(t),k(n))}}}function Ya(l){var A,Y;let e,t,n,s,o,i,u,a,c,_,p,m,h,v,g,S,C,$,y,T,z,E,j=l[2]&&Qa(l),D=((Y=(A=l[2])==null?void 0:A.slow_endpoints)==null?void 0:Y.length)>0&&Za(l),I=de(l[6]),N=[];for(let F=0;F<I.length;F+=1)N[F]=xa(Ja(l,I,F));return C=new Fe({props:{size:"small",$$slots:{default:[$v]},$$scope:{ctx:l}}}),C.$on("click",l[36]),y=new dt({props:{$$slots:{default:[yv]},$$scope:{ctx:l}}}),{c(){j&&j.c(),e=b(),D&&D.c(),t=b(),n=d("div"),s=d("select"),o=d("option"),o.textContent="All services";for(let F=0;F<N.length;F+=1)N[F].c();i=b(),u=d("input"),a=b(),c=d("input"),_=b(),p=d("select"),m=d("option"),m.textContent="All status",h=d("option"),h.textContent="2xx Success",v=d("option"),v.textContent="4xx Client Error",g=d("option"),g.textContent="5xx Server Error",S=b(),_e(C.$$.fragment),$=b(),_e(y.$$.fragment),o.__value="",te(o,o.__value),f(s,"title","Filter by service"),f(s,"class","svelte-1qj4rom"),l[8]===void 0&&Qe(()=>l[54].call(s)),f(u,"type","text"),f(u,"placeholder","Path prefix (e.g., /api/v1/infra)"),f(u,"class","svelte-1qj4rom"),f(c,"type","number"),f(c,"placeholder","Min ms"),f(c,"class","svelte-1qj4rom"),m.__value="",te(m,m.__value),h.__value="2xx",te(h,h.__value),v.__value="4xx",te(v,v.__value),g.__value="5xx",te(g,g.__value),f(p,"class","svelte-1qj4rom"),l[12]===void 0&&Qe(()=>l[57].call(p)),f(n,"class","filters svelte-1qj4rom")},m(F,O){j&&j.m(F,O),w(F,e,O),D&&D.m(F,O),w(F,t,O),w(F,n,O),r(n,s),r(s,o);for(let H=0;H<N.length;H+=1)N[H]&&N[H].m(s,null);Ee(s,l[8],!0),r(n,i),r(n,u),te(u,l[10]),r(n,a),r(n,c),te(c,l[11]),r(n,_),r(n,p),r(p,m),r(p,h),r(p,v),r(p,g),Ee(p,l[12],!0),r(n,S),fe(C,n,null),w(F,$,O),fe(y,F,O),T=!0,z||(E=[ee(s,"change",l[54]),ee(s,"change",l[38]),ee(u,"input",l[55]),ee(u,"change",l[36]),ee(c,"input",l[56]),ee(c,"change",l[36]),ee(p,"change",l[57]),ee(p,"change",l[36])],z=!0)},p(F,O){var R,B;if(F[2]?j?(j.p(F,O),O[0]&4&&P(j,1)):(j=Qa(F),j.c(),P(j,1),j.m(e.parentNode,e)):j&&(qe(),M(j,1,1,()=>{j=null}),je()),((B=(R=F[2])==null?void 0:R.slow_endpoints)==null?void 0:B.length)>0?D?(D.p(F,O),O[0]&4&&P(D,1)):(D=Za(F),D.c(),P(D,1),D.m(t.parentNode,t)):D&&(qe(),M(D,1,1,()=>{D=null}),je()),O[0]&192){I=de(F[6]);let V;for(V=0;V<I.length;V+=1){const Q=Ja(F,I,V);N[V]?N[V].p(Q,O):(N[V]=xa(Q),N[V].c(),N[V].m(s,null))}for(;V<N.length;V+=1)N[V].d(1);N.length=I.length}O[0]&320&&Ee(s,F[8]),O[0]&1024&&u.value!==F[10]&&te(u,F[10]),O[0]&2048&&Kt(c.value)!==F[11]&&te(c,F[11]),O[0]&4096&&Ee(p,F[12]);const H={};O[3]&512&&(H.$$scope={dirty:O,ctx:F}),C.$set(H);const L={};O[0]&8|O[3]&512&&(L.$$scope={dirty:O,ctx:F}),y.$set(L)},i(F){T||(P(j),P(D),P(C.$$.fragment,F),P(y.$$.fragment,F),T=!0)},o(F){M(j),M(D),M(C.$$.fragment,F),M(y.$$.fragment,F),T=!1},d(F){F&&(k(e),k(t),k(n),k($)),j&&j.d(F),D&&D.d(F),Ne(N,F),ce(C),ce(y,F),z=!1,Ge(E)}}}function Qa(l){let e,t,n,s,o,i,u,a,c,_,p,m,h;return t=new dt({props:{$$slots:{default:[mv]},$$scope:{ctx:l}}}),s=new dt({props:{$$slots:{default:[vv]},$$scope:{ctx:l}}}),i=new dt({props:{$$slots:{default:[hv]},$$scope:{ctx:l}}}),a=new dt({props:{$$slots:{default:[gv]},$$scope:{ctx:l}}}),_=new dt({props:{$$slots:{default:[bv]},$$scope:{ctx:l}}}),m=new dt({props:{$$slots:{default:[kv]},$$scope:{ctx:l}}}),{c(){e=d("div"),_e(t.$$.fragment),n=b(),_e(s.$$.fragment),o=b(),_e(i.$$.fragment),u=b(),_e(a.$$.fragment),c=b(),_e(_.$$.fragment),p=b(),_e(m.$$.fragment),f(e,"class","overview-grid svelte-1qj4rom")},m(v,g){w(v,e,g),fe(t,e,null),r(e,n),fe(s,e,null),r(e,o),fe(i,e,null),r(e,u),fe(a,e,null),r(e,c),fe(_,e,null),r(e,p),fe(m,e,null),h=!0},p(v,g){const S={};g[0]&4|g[3]&512&&(S.$$scope={dirty:g,ctx:v}),t.$set(S);const C={};g[0]&4|g[3]&512&&(C.$$scope={dirty:g,ctx:v}),s.$set(C);const $={};g[0]&4|g[3]&512&&($.$$scope={dirty:g,ctx:v}),i.$set($);const y={};g[0]&4|g[3]&512&&(y.$$scope={dirty:g,ctx:v}),a.$set(y);const T={};g[0]&4|g[3]&512&&(T.$$scope={dirty:g,ctx:v}),_.$set(T);const z={};g[0]&4|g[3]&512&&(z.$$scope={dirty:g,ctx:v}),m.$set(z)},i(v){h||(P(t.$$.fragment,v),P(s.$$.fragment,v),P(i.$$.fragment,v),P(a.$$.fragment,v),P(_.$$.fragment,v),P(m.$$.fragment,v),h=!0)},o(v){M(t.$$.fragment,v),M(s.$$.fragment,v),M(i.$$.fragment,v),M(a.$$.fragment,v),M(_.$$.fragment,v),M(m.$$.fragment,v),h=!1},d(v){v&&k(e),ce(t),ce(s),ce(i),ce(a),ce(_),ce(m)}}}function mv(l){let e,t,n,s,o=l[2].total_requests.toLocaleString()+"",i;return{c(){e=d("div"),t=d("span"),t.textContent="Total Requests",n=b(),s=d("span"),i=q(o),f(t,"class","label svelte-1qj4rom"),f(s,"class","value svelte-1qj4rom"),f(e,"class","stat svelte-1qj4rom")},m(u,a){w(u,e,a),r(e,t),r(e,n),r(e,s),r(s,i)},p(u,a){a[0]&4&&o!==(o=u[2].total_requests.toLocaleString()+"")&&U(i,o)},d(u){u&&k(e)}}}function vv(l){let e,t,n,s,o=Nt(l[2].avg_latency_ms)+"",i;return{c(){e=d("div"),t=d("span"),t.textContent="Avg Latency",n=b(),s=d("span"),i=q(o),f(t,"class","label svelte-1qj4rom"),f(s,"class","value svelte-1qj4rom"),f(e,"class","stat svelte-1qj4rom")},m(u,a){w(u,e,a),r(e,t),r(e,n),r(e,s),r(s,i)},p(u,a){a[0]&4&&o!==(o=Nt(u[2].avg_latency_ms)+"")&&U(i,o)},d(u){u&&k(e)}}}function hv(l){let e,t,n,s,o=Nt(l[2].p95_latency_ms)+"",i;return{c(){e=d("div"),t=d("span"),t.textContent="P95 Latency",n=b(),s=d("span"),i=q(o),f(t,"class","label svelte-1qj4rom"),f(s,"class","value svelte-1qj4rom"),f(e,"class","stat svelte-1qj4rom")},m(u,a){w(u,e,a),r(e,t),r(e,n),r(e,s),r(s,i)},p(u,a){a[0]&4&&o!==(o=Nt(u[2].p95_latency_ms)+"")&&U(i,o)},d(u){u&&k(e)}}}function gv(l){let e,t,n,s,o=l[2].error_rate+"",i,u;return{c(){e=d("div"),t=d("span"),t.textContent="Error Rate",n=b(),s=d("span"),i=q(o),u=q("%"),f(t,"class","label svelte-1qj4rom"),f(s,"class","value svelte-1qj4rom"),f(e,"class","stat svelte-1qj4rom"),we(e,"error",l[2].error_rate>5)},m(a,c){w(a,e,c),r(e,t),r(e,n),r(e,s),r(s,i),r(s,u)},p(a,c){c[0]&4&&o!==(o=a[2].error_rate+"")&&U(i,o),c[0]&4&&we(e,"error",a[2].error_rate>5)},d(a){a&&k(e)}}}function bv(l){let e,t,n,s,o=l[2].slow_count+"",i,u,a;return{c(){e=d("div"),t=d("span"),t.textContent="Slow Requests",n=b(),s=d("span"),i=q(o),f(t,"class","label svelte-1qj4rom"),f(s,"class","value svelte-1qj4rom"),f(e,"class","stat clickable svelte-1qj4rom")},m(c,_){w(c,e,_),r(e,t),r(e,n),r(e,s),r(s,i),u||(a=[ee(e,"click",l[39]),ee(e,"keypress",l[39])],u=!0)},p(c,_){_[0]&4&&o!==(o=c[2].slow_count+"")&&U(i,o)},d(c){c&&k(e),u=!1,Ge(a)}}}function kv(l){let e,t,n,s,o=l[2].error_count+"",i,u,a;return{c(){e=d("div"),t=d("span"),t.textContent="5xx Errors",n=b(),s=d("span"),i=q(o),f(t,"class","label svelte-1qj4rom"),f(s,"class","value svelte-1qj4rom"),f(e,"class","stat clickable svelte-1qj4rom")},m(c,_){w(c,e,_),r(e,t),r(e,n),r(e,s),r(s,i),u||(a=[ee(e,"click",l[52]),ee(e,"keypress",l[53])],u=!0)},p(c,_){_[0]&4&&o!==(o=c[2].error_count+"")&&U(i,o)},d(c){c&&k(e),u=!1,Ge(a)}}}function Za(l){let e,t;return e=new dt({props:{$$slots:{default:[wv]},$$scope:{ctx:l}}}),{c(){_e(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[0]&4|s[3]&512&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function Xa(l){let e,t,n=l[99].path+"",s,o,i,u=Nt(l[99].avg_ms)+"",a,c,_,p=l[99].count+"",m,h;return{c(){e=d("tr"),t=d("td"),s=q(n),o=b(),i=d("td"),a=q(u),c=b(),_=d("td"),m=q(p),h=b(),f(t,"class","path svelte-1qj4rom"),f(i,"class","svelte-1qj4rom"),f(_,"class","svelte-1qj4rom"),f(e,"class","svelte-1qj4rom")},m(v,g){w(v,e,g),r(e,t),r(t,s),r(e,o),r(e,i),r(i,a),r(e,c),r(e,_),r(_,m),r(e,h)},p(v,g){g[0]&4&&n!==(n=v[99].path+"")&&U(s,n),g[0]&4&&u!==(u=Nt(v[99].avg_ms)+"")&&U(a,u),g[0]&4&&p!==(p=v[99].count+"")&&U(m,p)},d(v){v&&k(e)}}}function wv(l){let e,t,n,s,o,i,u=de(l[2].slow_endpoints.slice(0,5)),a=[];for(let c=0;c<u.length;c+=1)a[c]=Xa(Ka(l,u,c));return{c(){e=d("h3"),e.textContent="🐢 Slowest Endpoints",t=b(),n=d("table"),s=d("thead"),s.innerHTML='<tr class="svelte-1qj4rom"><th class="svelte-1qj4rom">Path</th> <th class="svelte-1qj4rom">Avg</th> <th class="svelte-1qj4rom">Count</th></tr>',o=b(),i=d("tbody");for(let c=0;c<a.length;c+=1)a[c].c();f(e,"class","svelte-1qj4rom"),f(n,"class","mini-table svelte-1qj4rom")},m(c,_){w(c,e,_),w(c,t,_),w(c,n,_),r(n,s),r(n,o),r(n,i);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(i,null)},p(c,_){if(_[0]&4){u=de(c[2].slow_endpoints.slice(0,5));let p;for(p=0;p<u.length;p+=1){const m=Ka(c,u,p);a[p]?a[p].p(m,_):(a[p]=Xa(m),a[p].c(),a[p].m(i,null))}for(;p<a.length;p+=1)a[p].d(1);a.length=u.length}},d(c){c&&(k(e),k(t),k(n)),Ne(a,c)}}}function xa(l){let e,t=l[96]+"",n,s,o=l[96]===l[7]?"(current)":"",i,u;return{c(){e=d("option"),n=q(t),s=b(),i=q(o),e.__value=u=l[96],te(e,e.__value)},m(a,c){w(a,e,c),r(e,n),r(e,s),r(e,i)},p(a,c){c[0]&64&&t!==(t=a[96]+"")&&U(n,t),c[0]&192&&o!==(o=a[96]===a[7]?"(current)":"")&&U(i,o),c[0]&64&&u!==(u=a[96])&&(e.__value=u,te(e,e.__value))},d(a){a&&k(e)}}}function $v(l){let e;return{c(){e=q("Apply")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Cv(l){let e;return{c(){e=q("View")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function eu(l){var x;let e,t,n=$u(l[93].timestamp)+"",s,o,i,u=(l[93].service_name||"-")+"",a,c,_,p,m=l[93].method+"",h,v,g,S,C=(((x=l[93].path)==null?void 0:x.length)>40?l[93].path.slice(0,40)+"...":l[93].path)+"",$,y,T,z,E,j=(l[93].status_code||"-")+"",D,I,N,A,Y=Nt(l[93].duration_ms)+"",F,O,H,L=l[93].span_count+"",R,B,V,Q,G;function oe(){return l[58](l[93])}return Q=new Fe({props:{size:"small",$$slots:{default:[Cv]},$$scope:{ctx:l}}}),Q.$on("click",oe),{c(){var W;e=d("tr"),t=d("td"),s=q(n),o=b(),i=d("td"),a=q(u),c=b(),_=d("td"),p=d("span"),h=q(m),g=b(),S=d("td"),$=q(C),T=b(),z=d("td"),E=d("span"),D=q(j),N=b(),A=d("td"),F=q(Y),O=b(),H=d("td"),R=q(L),B=b(),V=d("td"),_e(Q.$$.fragment),f(t,"class","time svelte-1qj4rom"),f(i,"class","service svelte-1qj4rom"),f(p,"class",v="method "+((W=l[93].method)==null?void 0:W.toLowerCase())+" svelte-1qj4rom"),f(_,"class","svelte-1qj4rom"),f(S,"class","path svelte-1qj4rom"),f(S,"title",y=l[93].path),f(E,"class",I="status status-"+fn(l[93].status_code)+" svelte-1qj4rom"),f(z,"class","svelte-1qj4rom"),f(A,"class","svelte-1qj4rom"),we(A,"slow",l[93].duration_ms>1e3),f(H,"class","svelte-1qj4rom"),f(V,"class","svelte-1qj4rom"),f(e,"class","svelte-1qj4rom"),we(e,"error",l[93].status_code>=500),we(e,"warning",l[93].status_code>=400&&l[93].status_code<500)},m(W,J){w(W,e,J),r(e,t),r(t,s),r(e,o),r(e,i),r(i,a),r(e,c),r(e,_),r(_,p),r(p,h),r(e,g),r(e,S),r(S,$),r(e,T),r(e,z),r(z,E),r(E,D),r(e,N),r(e,A),r(A,F),r(e,O),r(e,H),r(H,R),r(e,B),r(e,V),fe(Q,V,null),G=!0},p(W,J){var K,ie;l=W,(!G||J[0]&8)&&n!==(n=$u(l[93].timestamp)+"")&&U(s,n),(!G||J[0]&8)&&u!==(u=(l[93].service_name||"-")+"")&&U(a,u),(!G||J[0]&8)&&m!==(m=l[93].method+"")&&U(h,m),(!G||J[0]&8&&v!==(v="method "+((K=l[93].method)==null?void 0:K.toLowerCase())+" svelte-1qj4rom"))&&f(p,"class",v),(!G||J[0]&8)&&C!==(C=(((ie=l[93].path)==null?void 0:ie.length)>40?l[93].path.slice(0,40)+"...":l[93].path)+"")&&U($,C),(!G||J[0]&8&&y!==(y=l[93].path))&&f(S,"title",y),(!G||J[0]&8)&&j!==(j=(l[93].status_code||"-")+"")&&U(D,j),(!G||J[0]&8&&I!==(I="status status-"+fn(l[93].status_code)+" svelte-1qj4rom"))&&f(E,"class",I),(!G||J[0]&8)&&Y!==(Y=Nt(l[93].duration_ms)+"")&&U(F,Y),(!G||J[0]&8)&&we(A,"slow",l[93].duration_ms>1e3),(!G||J[0]&8)&&L!==(L=l[93].span_count+"")&&U(R,L);const ae={};J[3]&512&&(ae.$$scope={dirty:J,ctx:l}),Q.$set(ae),(!G||J[0]&8)&&we(e,"error",l[93].status_code>=500),(!G||J[0]&8)&&we(e,"warning",l[93].status_code>=400&&l[93].status_code<500)},i(W){G||(P(Q.$$.fragment,W),G=!0)},o(W){M(Q.$$.fragment,W),G=!1},d(W){W&&k(e),ce(Q)}}}function tu(l){let e;return{c(){e=d("tr"),e.innerHTML='<td colspan="8" class="empty svelte-1qj4rom">No requests found</td>',f(e,"class","svelte-1qj4rom")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function yv(l){let e,t,n,s,o,i,u,a,c,_=de(l[3]),p=[];for(let v=0;v<_.length;v+=1)p[v]=eu(Va(l,_,v));const m=v=>M(p[v],1,1,()=>{p[v]=null});let h=l[3].length===0&&tu();return{c(){e=d("h3"),e.textContent="📋 Recent Requests",t=b(),n=d("div"),s=d("table"),o=d("thead"),o.innerHTML='<tr class="svelte-1qj4rom"><th class="svelte-1qj4rom">Time</th> <th class="svelte-1qj4rom">Service</th> <th class="svelte-1qj4rom">Method</th> <th class="svelte-1qj4rom">Path</th> <th class="svelte-1qj4rom">Status</th> <th class="svelte-1qj4rom">Duration</th> <th class="svelte-1qj4rom">Spans</th> <th class="svelte-1qj4rom">Actions</th></tr>',i=b(),u=d("tbody");for(let v=0;v<p.length;v+=1)p[v].c();a=b(),h&&h.c(),f(e,"class","svelte-1qj4rom"),f(s,"class","svelte-1qj4rom"),f(n,"class","table-container svelte-1qj4rom")},m(v,g){w(v,e,g),w(v,t,g),w(v,n,g),r(n,s),r(s,o),r(s,i),r(s,u);for(let S=0;S<p.length;S+=1)p[S]&&p[S].m(u,null);r(u,a),h&&h.m(u,null),c=!0},p(v,g){if(g[0]&8|g[1]&64){_=de(v[3]);let S;for(S=0;S<_.length;S+=1){const C=Va(v,_,S);p[S]?(p[S].p(C,g),P(p[S],1)):(p[S]=eu(C),p[S].c(),P(p[S],1),p[S].m(u,a))}for(qe(),S=_.length;S<p.length;S+=1)m(S);je()}v[3].length===0?h||(h=tu(),h.c(),h.m(u,null)):h&&(h.d(1),h=null)},i(v){if(!c){for(let g=0;g<_.length;g+=1)P(p[g]);c=!0}},o(v){p=p.filter(Boolean);for(let g=0;g<p.length;g+=1)M(p[g]);c=!1},d(v){v&&(k(e),k(t),k(n)),Ne(p,v),h&&h.d()}}}function lu(l){let e,t;return e=new dt({props:{$$slots:{default:[Tv]},$$scope:{ctx:l}}}),{c(){_e(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[0]&24576|s[3]&512&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function Sv(l){let e,t=de(l[13]),n=[];for(let s=0;s<t.length;s+=1)n[s]=su(Wa(l,t,s));return{c(){e=d("div");for(let s=0;s<n.length;s+=1)n[s].c();f(e,"class","logs-container svelte-1qj4rom")},m(s,o){w(s,e,o);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(s,o){if(o[0]&8192){t=de(s[13]);let i;for(i=0;i<t.length;i+=1){const u=Wa(s,t,i);n[i]?n[i].p(u,o):(n[i]=su(u),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(s){s&&k(e),Ne(n,s)}}}function qv(l){let e;return{c(){e=d("div"),e.innerHTML='<p>No logs found.</p> <p class="hint svelte-1qj4rom">Logs are captured in memory. They reset when the server restarts.</p>',f(e,"class","empty-logs svelte-1qj4rom")},m(t,n){w(t,e,n)},p:ge,d(t){t&&k(e)}}}function jv(l){let e;return{c(){e=d("div"),e.textContent="Loading logs...",f(e,"class","loading-logs svelte-1qj4rom")},m(t,n){w(t,e,n)},p:ge,d(t){t&&k(e)}}}function nu(l){let e,t,n=l[90].module+"",s,o,i=l[90].funcName+"",u,a,c=l[90].lineno+"",_,p;return{c(){e=d("span"),t=q("("),s=q(n),o=q("."),u=q(i),a=q(":"),_=q(c),p=q(")"),f(e,"class","log-location svelte-1qj4rom")},m(m,h){w(m,e,h),r(e,t),r(e,s),r(e,o),r(e,u),r(e,a),r(e,_),r(e,p)},p(m,h){h[0]&8192&&n!==(n=m[90].module+"")&&U(s,n),h[0]&8192&&i!==(i=m[90].funcName+"")&&U(u,i),h[0]&8192&&c!==(c=m[90].lineno+"")&&U(_,c)},d(m){m&&k(e)}}}function su(l){var E,j;let e,t,n=(((j=(E=l[90].timestamp)==null?void 0:E.split("T")[1])==null?void 0:j.split(".")[0])||l[90].timestamp)+"",s,o,i,u,a=l[90].level+"",c,_,p,m,h=l[90].logger+"",v,g,S,C=l[90].message+"",$,y,T,z=l[90].module&&l[90].funcName&&nu(l);return{c(){e=d("div"),t=d("span"),s=q(n),o=b(),i=d("span"),u=q("["),c=q(a),_=q("]"),p=b(),m=d("span"),v=q(h),g=b(),S=d("span"),$=q(C),y=b(),z&&z.c(),T=b(),f(t,"class","log-time svelte-1qj4rom"),f(i,"class","log-level svelte-1qj4rom"),Pt(i,"color",wu(l[90].level)),f(m,"class","log-logger svelte-1qj4rom"),f(S,"class","log-message svelte-1qj4rom"),f(e,"class","log-entry svelte-1qj4rom"),we(e,"error",l[90].level==="ERROR"||l[90].level==="CRITICAL"),we(e,"warning",l[90].level==="WARNING")},m(D,I){w(D,e,I),r(e,t),r(t,s),r(e,o),r(e,i),r(i,u),r(i,c),r(i,_),r(e,p),r(e,m),r(m,v),r(e,g),r(e,S),r(S,$),r(e,y),z&&z.m(e,null),r(e,T)},p(D,I){var N,A;I[0]&8192&&n!==(n=(((A=(N=D[90].timestamp)==null?void 0:N.split("T")[1])==null?void 0:A.split(".")[0])||D[90].timestamp)+"")&&U(s,n),I[0]&8192&&a!==(a=D[90].level+"")&&U(c,a),I[0]&8192&&Pt(i,"color",wu(D[90].level)),I[0]&8192&&h!==(h=D[90].logger+"")&&U(v,h),I[0]&8192&&C!==(C=D[90].message+"")&&U($,C),D[90].module&&D[90].funcName?z?z.p(D,I):(z=nu(D),z.c(),z.m(e,T)):z&&(z.d(1),z=null),I[0]&8192&&we(e,"error",D[90].level==="ERROR"||D[90].level==="CRITICAL"),I[0]&8192&&we(e,"warning",D[90].level==="WARNING")},d(D){D&&k(e),z&&z.d()}}}function Tv(l){let e,t,n,s,o=l[13].length+"",i,u,a,c;function _(h,v){return h[14]?jv:h[13].length===0?qv:Sv}let p=_(l),m=p(l);return{c(){e=d("div"),t=d("h3"),t.textContent="📝 Backend Logs",n=b(),s=d("span"),i=q(o),u=q(" entries"),a=b(),m.c(),c=Oe(),f(t,"class","svelte-1qj4rom"),f(s,"class","log-count svelte-1qj4rom"),f(e,"class","logs-header svelte-1qj4rom")},m(h,v){w(h,e,v),r(e,t),r(e,n),r(e,s),r(s,i),r(s,u),w(h,a,v),m.m(h,v),w(h,c,v)},p(h,v){v[0]&8192&&o!==(o=h[13].length+"")&&U(i,o),p===(p=_(h))&&m?m.p(h,v):(m.d(1),m=p(h),m&&(m.c(),m.m(c.parentNode,c)))},d(h){h&&(k(e),k(a),k(c)),m.d(h)}}}function ou(l){let e,t;return e=new dt({props:{$$slots:{default:[Nv]},$$scope:{ctx:l}}}),{c(){_e(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[0]&66846720|s[3]&512&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function iu(l){let e,t=l[87].name+"",n,s,o=(l[87].public_ip||l[87].private_ip||"No IP")+"",i,u,a;return{c(){e=d("option"),n=q(t),s=q(" ("),i=q(o),u=q(")"),e.__value=a=l[87].id,te(e,e.__value)},m(c,_){w(c,e,_),r(e,n),r(e,s),r(e,i),r(e,u)},p(c,_){_[0]&262144&&t!==(t=c[87].name+"")&&U(n,t),_[0]&262144&&o!==(o=(c[87].public_ip||c[87].private_ip||"No IP")+"")&&U(i,o),_[0]&262144&&a!==(a=c[87].id)&&(e.__value=a,te(e,e.__value))},d(c){c&&k(e)}}}function ru(l){let e,t,n,s,o=de(l[20]),i=[];for(let u=0;u<o.length;u+=1)i[u]=au(Ha(l,o,u));return{c(){e=d("select"),t=d("option"),t.textContent="Select Container...";for(let u=0;u<i.length;u+=1)i[u].c();t.__value="",te(t,t.__value),f(e,"class","log-select"),l[21]===void 0&&Qe(()=>l[63].call(e))},m(u,a){w(u,e,a),r(e,t);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null);Ee(e,l[21],!0),n||(s=ee(e,"change",l[63]),n=!0)},p(u,a){if(a[0]&1048576){o=de(u[20]);let c;for(c=0;c<o.length;c+=1){const _=Ha(u,o,c);i[c]?i[c].p(_,a):(i[c]=au(_),i[c].c(),i[c].m(e,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=o.length}a[0]&3145728&&Ee(e,u[21])},d(u){u&&k(e),Ne(i,u),n=!1,s()}}}function au(l){var c,_,p;let e,t=(((_=(c=l[84].Names)==null?void 0:c[0])==null?void 0:_.replace(/^\//,""))||((p=l[84].Id)==null?void 0:p.slice(0,12)))+"",n,s,o=(l[84].State||"unknown")+"",i,u,a;return{c(){var m,h,v;e=d("option"),n=q(t),s=q(" ("),i=q(o),u=q(`)
                    `),e.__value=a=((h=(m=l[84].Names)==null?void 0:m[0])==null?void 0:h.replace(/^\//,""))||((v=l[84].Id)==null?void 0:v.slice(0,12)),te(e,e.__value)},m(m,h){w(m,e,h),r(e,n),r(e,s),r(e,i),r(e,u)},p(m,h){var v,g,S,C,$,y;h[0]&1048576&&t!==(t=(((g=(v=m[84].Names)==null?void 0:v[0])==null?void 0:g.replace(/^\//,""))||((S=m[84].Id)==null?void 0:S.slice(0,12)))+"")&&U(n,t),h[0]&1048576&&o!==(o=(m[84].State||"unknown")+"")&&U(i,o),h[0]&1048576&&a!==(a=(($=(C=m[84].Names)==null?void 0:C[0])==null?void 0:$.replace(/^\//,""))||((y=m[84].Id)==null?void 0:y.slice(0,12)))&&(e.__value=a,te(e,e.__value))},d(m){m&&k(e)}}}function zv(l){let e=l[23]?"Loading...":"📥 Load Logs",t;return{c(){t=q(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&8388608&&e!==(e=n[23]?"Loading...":"📥 Load Logs")&&U(t,e)},d(n){n&&k(t)}}}function Dv(l){let e;return{c(){e=d("div"),e.textContent="Select a server to view agent or container logs",f(e,"class","no-logs svelte-1qj4rom")},m(t,n){w(t,e,n)},p:ge,d(t){t&&k(e)}}}function Ev(l){let e;return{c(){e=d("div"),e.textContent='Click "Load Logs" to fetch logs from the selected server',f(e,"class","no-logs svelte-1qj4rom")},m(t,n){w(t,e,n)},p:ge,d(t){t&&k(e)}}}function Lv(l){let e,t,n;return{c(){e=d("div"),t=d("pre"),n=q(l[22]),f(t,"class","svelte-1qj4rom"),f(e,"class","logs-container agent-logs svelte-1qj4rom")},m(s,o){w(s,e,o),r(e,t),r(t,n)},p(s,o){o[0]&4194304&&U(n,s[22])},d(s){s&&k(e)}}}function Pv(l){let e;return{c(){e=d("div"),e.textContent="Loading logs from agent...",f(e,"class","loading-logs svelte-1qj4rom")},m(t,n){w(t,e,n)},p:ge,d(t){t&&k(e)}}}function Nv(l){let e,t,n,s,o,i,u,a,c,_,p,m,h,v,g,S,C,$,y,T,z,E,j,D,I,N,A,Y,F,O,H=de(l[18]),L=[];for(let G=0;G<H.length;G+=1)L[G]=iu(Ga(l,H,G));let R=l[25]==="container"&&ru(l);D=new Fe({props:{size:"small",disabled:l[23]||!l[19],$$slots:{default:[zv]},$$scope:{ctx:l}}}),D.$on("click",l[41]);function B(G,oe){return G[23]&&!G[22]?Pv:G[22]?Lv:G[19]?Ev:Dv}let V=B(l),Q=V(l);return Y=dn(l[61][0]),{c(){e=d("div"),t=d("h3"),t.textContent="🖥️ Agent Logs",n=b(),s=d("div"),o=d("select"),i=d("option"),i.textContent="Select Server...";for(let G=0;G<L.length;G+=1)L[G].c();u=b(),a=d("div"),c=d("label"),_=d("input"),p=q(`
                        Agent Logs`),m=b(),h=d("label"),v=d("input"),g=q(`
                        Container Logs`),S=b(),R&&R.c(),C=b(),$=d("select"),y=d("option"),y.textContent="100 lines",T=d("option"),T.textContent="200 lines",z=d("option"),z.textContent="500 lines",E=d("option"),E.textContent="1000 lines",j=b(),_e(D.$$.fragment),I=b(),Q.c(),N=Oe(),f(t,"class","svelte-1qj4rom"),i.__value="",te(i,i.__value),f(o,"class","log-select"),l[19]===void 0&&Qe(()=>l[59].call(o)),f(_,"type","radio"),_.__value="agent",te(_,_.__value),f(c,"class","svelte-1qj4rom"),f(v,"type","radio"),v.__value="container",te(v,v.__value),f(h,"class","svelte-1qj4rom"),f(a,"class","log-type-selector svelte-1qj4rom"),y.__value=100,te(y,y.__value),T.__value=200,te(T,T.__value),z.__value=500,te(z,z.__value),E.__value=1e3,te(E,E.__value),f($,"class","log-select lines-select svelte-1qj4rom"),l[24]===void 0&&Qe(()=>l[64].call($)),f(s,"class","logs-controls"),f(e,"class","logs-header svelte-1qj4rom"),Y.p(_,v)},m(G,oe){w(G,e,oe),r(e,t),r(e,n),r(e,s),r(s,o),r(o,i);for(let x=0;x<L.length;x+=1)L[x]&&L[x].m(o,null);Ee(o,l[19],!0),r(s,u),r(s,a),r(a,c),r(c,_),_.checked=_.__value===l[25],r(c,p),r(a,m),r(a,h),r(h,v),v.checked=v.__value===l[25],r(h,g),r(s,S),R&&R.m(s,null),r(s,C),r(s,$),r($,y),r($,T),r($,z),r($,E),Ee($,l[24],!0),r(s,j),fe(D,s,null),w(G,I,oe),Q.m(G,oe),w(G,N,oe),A=!0,F||(O=[ee(o,"change",l[59]),ee(o,"change",l[42]),ee(_,"change",l[60]),ee(v,"change",l[62]),ee($,"change",l[64])],F=!0)},p(G,oe){if(oe[0]&262144){H=de(G[18]);let W;for(W=0;W<H.length;W+=1){const J=Ga(G,H,W);L[W]?L[W].p(J,oe):(L[W]=iu(J),L[W].c(),L[W].m(o,null))}for(;W<L.length;W+=1)L[W].d(1);L.length=H.length}oe[0]&786432&&Ee(o,G[19]),oe[0]&33554432&&(_.checked=_.__value===G[25]),oe[0]&33554432&&(v.checked=v.__value===G[25]),G[25]==="container"?R?R.p(G,oe):(R=ru(G),R.c(),R.m(s,C)):R&&(R.d(1),R=null),oe[0]&16777216&&Ee($,G[24]);const x={};oe[0]&8912896&&(x.disabled=G[23]||!G[19]),oe[0]&8388608|oe[3]&512&&(x.$$scope={dirty:oe,ctx:G}),D.$set(x),V===(V=B(G))&&Q?Q.p(G,oe):(Q.d(1),Q=V(G),Q&&(Q.c(),Q.m(N.parentNode,N)))},i(G){A||(P(D.$$.fragment,G),A=!0)},o(G){M(D.$$.fragment,G),A=!1},d(G){G&&(k(e),k(I),k(N)),Ne(L,G),R&&R.d(),ce(D),Q.d(G),Y.r(),F=!1,Ge(O)}}}function uu(l){let e,t;return e=new dt({props:{$$slots:{default:[Bv]},$$scope:{ctx:l}}}),{c(){_e(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[0]&1006632960|s[3]&512&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function Rv(l){let e=l[27]?"Loading...":"🔄 Refresh",t;return{c(){t=q(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&134217728&&e!==(e=n[27]?"Loading...":"🔄 Refresh")&&U(t,e)},d(n){n&&k(t)}}}function Av(l){let e,t,n,s,o;return s=new Fe({props:{$$slots:{default:[Iv]},$$scope:{ctx:l}}}),s.$on("click",l[30]),{c(){e=d("div"),t=d("p"),t.textContent="Could not load database info.",n=b(),_e(s.$$.fragment),f(e,"class","empty-db svelte-1qj4rom")},m(i,u){w(i,e,u),r(e,t),r(e,n),fe(s,e,null),o=!0},p(i,u){const a={};u[3]&512&&(a.$$scope={dirty:u,ctx:i}),s.$set(a)},i(i){o||(P(s.$$.fragment,i),o=!0)},o(i){M(s.$$.fragment,i),o=!1},d(i){i&&k(e),ce(s)}}}function Mv(l){let e,t,n,s,o,i,u=l[26].path+"",a,c,_,p,m,h,v=l[26].size_mb?l[26].size_mb.toFixed(2)+" MB":"N/A",g,S,C,$,y,T,z=(l[26].modified||"N/A")+"",E,j,D,I,N,A,Y=l[26].exists?"✓ Exists":"✗ Not Found",F,O,H,L,R,B,V,Q,G,oe,x,W,J,ae,K,ie,ue,le,me,re;return G=new Fe({props:{variant:"secondary",$$slots:{default:[Fv]},$$scope:{ctx:l}}}),G.$on("click",l[31]),me=new Fe({props:{variant:"danger",disabled:l[28],$$slots:{default:[Uv]},$$scope:{ctx:l}}}),me.$on("click",l[32]),{c(){e=d("div"),t=d("div"),n=d("div"),s=d("span"),s.textContent="Path:",o=b(),i=d("code"),a=q(u),c=b(),_=d("div"),p=d("span"),p.textContent="Size:",m=b(),h=d("span"),g=q(v),S=b(),C=d("div"),$=d("span"),$.textContent="Modified:",y=b(),T=d("span"),E=q(z),j=b(),D=d("div"),I=d("span"),I.textContent="Status:",N=b(),A=d("span"),F=q(Y),O=b(),H=d("div"),L=d("div"),R=d("h4"),R.textContent="📥 Download",B=b(),V=d("p"),V.textContent="Download the SQLite database for backup or offline editing.",Q=b(),_e(G.$$.fragment),oe=b(),x=d("div"),W=d("h4"),W.textContent="📤 Upload & Replace",J=b(),ae=d("p"),ae.textContent="⚠️ This will REPLACE the entire database. A backup will be created automatically.",K=b(),ie=d("div"),ue=d("input"),le=b(),_e(me.$$.fragment),f(s,"class","label svelte-1qj4rom"),f(i,"class","svelte-1qj4rom"),f(n,"class","stat svelte-1qj4rom"),f(p,"class","label svelte-1qj4rom"),f(_,"class","stat svelte-1qj4rom"),f($,"class","label svelte-1qj4rom"),f(C,"class","stat svelte-1qj4rom"),f(I,"class","label svelte-1qj4rom"),f(A,"class","status-badge svelte-1qj4rom"),we(A,"success",l[26].exists),we(A,"error",!l[26].exists),f(D,"class","stat svelte-1qj4rom"),f(t,"class","db-stats svelte-1qj4rom"),f(R,"class","svelte-1qj4rom"),f(V,"class","hint svelte-1qj4rom"),f(L,"class","action-group svelte-1qj4rom"),f(W,"class","svelte-1qj4rom"),f(ae,"class","hint warning svelte-1qj4rom"),f(ue,"type","file"),f(ue,"accept",".db"),f(ue,"class","file-input svelte-1qj4rom"),f(ie,"class","upload-row svelte-1qj4rom"),f(x,"class","action-group svelte-1qj4rom"),f(H,"class","db-actions svelte-1qj4rom"),f(e,"class","db-info svelte-1qj4rom")},m(ne,X){w(ne,e,X),r(e,t),r(t,n),r(n,s),r(n,o),r(n,i),r(i,a),r(t,c),r(t,_),r(_,p),r(_,m),r(_,h),r(h,g),r(t,S),r(t,C),r(C,$),r(C,y),r(C,T),r(T,E),r(t,j),r(t,D),r(D,I),r(D,N),r(D,A),r(A,F),r(e,O),r(e,H),r(H,L),r(L,R),r(L,B),r(L,V),r(L,Q),fe(G,L,null),r(H,oe),r(H,x),r(x,W),r(x,J),r(x,ae),r(x,K),r(x,ie),r(ie,ue),l[65](ue),r(ie,le),fe(me,ie,null),re=!0},p(ne,X){(!re||X[0]&67108864)&&u!==(u=ne[26].path+"")&&U(a,u),(!re||X[0]&67108864)&&v!==(v=ne[26].size_mb?ne[26].size_mb.toFixed(2)+" MB":"N/A")&&U(g,v),(!re||X[0]&67108864)&&z!==(z=(ne[26].modified||"N/A")+"")&&U(E,z),(!re||X[0]&67108864)&&Y!==(Y=ne[26].exists?"✓ Exists":"✗ Not Found")&&U(F,Y),(!re||X[0]&67108864)&&we(A,"success",ne[26].exists),(!re||X[0]&67108864)&&we(A,"error",!ne[26].exists);const Z={};X[3]&512&&(Z.$$scope={dirty:X,ctx:ne}),G.$set(Z);const be={};X[0]&268435456&&(be.disabled=ne[28]),X[0]&268435456|X[3]&512&&(be.$$scope={dirty:X,ctx:ne}),me.$set(be)},i(ne){re||(P(G.$$.fragment,ne),P(me.$$.fragment,ne),re=!0)},o(ne){M(G.$$.fragment,ne),M(me.$$.fragment,ne),re=!1},d(ne){ne&&k(e),ce(G),l[65](null),ce(me)}}}function Ov(l){let e;return{c(){e=d("div"),e.textContent="Loading database info...",f(e,"class","loading-db svelte-1qj4rom")},m(t,n){w(t,e,n)},p:ge,i:ge,o:ge,d(t){t&&k(e)}}}function Iv(l){let e;return{c(){e=q("Try Again")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Fv(l){let e;return{c(){e=q("Download Database")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Uv(l){let e=l[28]?"Uploading...":"Upload & Replace",t;return{c(){t=q(e)},m(n,s){w(n,t,s)},p(n,s){s[0]&268435456&&e!==(e=n[28]?"Uploading...":"Upload & Replace")&&U(t,e)},d(n){n&&k(t)}}}function Bv(l){let e,t,n,s,o,i,u,a,c;s=new Fe({props:{size:"small",disabled:l[27],$$slots:{default:[Rv]},$$scope:{ctx:l}}}),s.$on("click",l[30]);const _=[Ov,Mv,Av],p=[];function m(h,v){return h[27]&&!h[26]?0:h[26]?1:2}return i=m(l),u=p[i]=_[i](l),{c(){e=d("div"),t=d("h3"),t.textContent="🗄️ Database Management",n=b(),_e(s.$$.fragment),o=b(),u.c(),a=Oe(),f(t,"class","svelte-1qj4rom"),f(e,"class","db-header svelte-1qj4rom")},m(h,v){w(h,e,v),r(e,t),r(e,n),fe(s,e,null),w(h,o,v),p[i].m(h,v),w(h,a,v),c=!0},p(h,v){const g={};v[0]&134217728&&(g.disabled=h[27]),v[0]&134217728|v[3]&512&&(g.$$scope={dirty:v,ctx:h}),s.$set(g);let S=i;i=m(h),i===S?p[i].p(h,v):(qe(),M(p[S],1,1,()=>{p[S]=null}),je(),u=p[i],u?u.p(h,v):(u=p[i]=_[i](h),u.c()),P(u,1),u.m(a.parentNode,a))},i(h){c||(P(s.$$.fragment,h),P(u),c=!0)},o(h){M(s.$$.fragment,h),M(u),c=!1},d(h){h&&(k(e),k(o),k(a)),ce(s),p[i].d(h)}}}function fu(l){let e,t;return e=new ol({props:{open:!0,title:"Request Detail",width:"800px",$$slots:{default:[Hv]},$$scope:{ctx:l}}}),e.$on("close",l[66]),{c(){_e(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s[0]&16|s[3]&512&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function cu(l){let e,t=l[4].service_name+"",n;return{c(){e=d("span"),n=q(t),f(e,"class","service-badge svelte-1qj4rom")},m(s,o){w(s,e,o),r(e,n)},p(s,o){o[0]&16&&t!==(t=s[4].service_name+"")&&U(n,t)},d(s){s&&k(e)}}}function _u(l){let e,t,n=l[4].error+"",s;return{c(){e=d("div"),t=q("⚠️ "),s=q(n),f(e,"class","error-box svelte-1qj4rom")},m(o,i){w(o,e,i),r(e,t),r(e,s)},p(o,i){i[0]&16&&n!==(n=o[4].error+"")&&U(s,n)},d(o){o&&k(e)}}}function du(l){let e,t,n=l[4].user_id+"",s;return{c(){e=d("span"),t=q("User: "),s=q(n)},m(o,i){w(o,e,i),r(e,t),r(e,s)},p(o,i){i[0]&16&&n!==(n=o[4].user_id+"")&&U(s,n)},d(o){o&&k(e)}}}function pu(l){let e,t,n,s=l[81].name+"",o,i,u,a,c,_=Nt(l[81].duration_ms)+"",p,m;return{c(){e=d("div"),t=d("div"),n=q("└─ "),o=q(s),u=b(),a=d("div"),c=d("div"),p=q(_),m=b(),f(t,"class","span-name svelte-1qj4rom"),f(t,"title",i=l[81].name),f(c,"class","span-bar child-bar svelte-1qj4rom"),Pt(c,"width",cn(l[81],l[4].total_ms)+"%"),we(c,"error",l[81].error),f(a,"class","span-bar-container svelte-1qj4rom"),f(e,"class","span-row child svelte-1qj4rom")},m(h,v){w(h,e,v),r(e,t),r(t,n),r(t,o),r(e,u),r(e,a),r(a,c),r(c,p),r(e,m)},p(h,v){v[0]&16&&s!==(s=h[81].name+"")&&U(o,s),v[0]&16&&i!==(i=h[81].name)&&f(t,"title",i),v[0]&16&&_!==(_=Nt(h[81].duration_ms)+"")&&U(p,_),v[0]&16&&Pt(c,"width",cn(h[81],h[4].total_ms)+"%"),v[0]&16&&we(c,"error",h[81].error)},d(h){h&&k(e)}}}function mu(l){let e,t,n=l[72].name+"",s,o,i,u,a,c=Nt(l[72].duration_ms)+"",_,p,m,h=de(l[72].children||[]),v=[];for(let g=0;g<h.length;g+=1)v[g]=pu(Ba(l,h,g));return{c(){e=d("div"),t=d("div"),s=q(n),i=b(),u=d("div"),a=d("div"),_=q(c),p=b();for(let g=0;g<v.length;g+=1)v[g].c();m=Oe(),f(t,"class","span-name svelte-1qj4rom"),f(t,"title",o=l[72].name),f(a,"class","span-bar svelte-1qj4rom"),Pt(a,"width",cn(l[72],l[4].total_ms)+"%"),we(a,"error",l[72].error),f(u,"class","span-bar-container svelte-1qj4rom"),f(e,"class","span-row svelte-1qj4rom")},m(g,S){w(g,e,S),r(e,t),r(t,s),r(e,i),r(e,u),r(u,a),r(a,_),w(g,p,S);for(let C=0;C<v.length;C+=1)v[C]&&v[C].m(g,S);w(g,m,S)},p(g,S){if(S[0]&16&&n!==(n=g[72].name+"")&&U(s,n),S[0]&16&&o!==(o=g[72].name)&&f(t,"title",o),S[0]&16&&c!==(c=Nt(g[72].duration_ms)+"")&&U(_,c),S[0]&16&&Pt(a,"width",cn(g[72],g[4].total_ms)+"%"),S[0]&16&&we(a,"error",g[72].error),S[0]&16){h=de(g[72].children||[]);let C;for(C=0;C<h.length;C+=1){const $=Ba(g,h,C);v[C]?v[C].p($,S):(v[C]=pu($),v[C].c(),v[C].m(m.parentNode,m))}for(;C<v.length;C+=1)v[C].d(1);v.length=h.length}},d(g){g&&(k(e),k(p),k(m)),Ne(v,g)}}}function vu(l){let e,t,n,s=de(l[4].spans),o=[];for(let i=0;i<s.length;i+=1)o[i]=ku(Ia(l,s,i));return{c(){e=d("h4"),e.textContent="Span Details",t=b(),n=d("div");for(let i=0;i<o.length;i+=1)o[i].c();f(e,"class","svelte-1qj4rom"),f(n,"class","spans-details svelte-1qj4rom")},m(i,u){w(i,e,u),w(i,t,u),w(i,n,u);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(n,null)},p(i,u){if(u[0]&16){s=de(i[4].spans);let a;for(a=0;a<s.length;a+=1){const c=Ia(i,s,a);o[a]?o[a].p(c,u):(o[a]=ku(c),o[a].c(),o[a].m(n,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=s.length}},d(i){i&&(k(e),k(t),k(n)),Ne(o,i)}}}function hu(l){let e;return{c(){e=d("span"),e.textContent="ERROR",f(e,"class","error-badge svelte-1qj4rom")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function gu(l){let e,t,n=l[75]+"",s,o,i,u,a=(typeof l[76]=="object"?JSON.stringify(l[76]):l[76])+"",c;return{c(){e=d("div"),t=d("span"),s=q(n),o=q(":"),i=b(),u=d("span"),c=q(a),f(t,"class","key svelte-1qj4rom"),f(u,"class","value svelte-1qj4rom"),f(e,"class","attr svelte-1qj4rom")},m(_,p){w(_,e,p),r(e,t),r(t,s),r(t,o),r(e,i),r(e,u),r(u,c)},p(_,p){p[0]&16&&n!==(n=_[75]+"")&&U(s,n),p[0]&16&&a!==(a=(typeof _[76]=="object"?JSON.stringify(_[76]):_[76])+"")&&U(c,a)},d(_){_&&k(e)}}}function bu(l){let e,t,n,s,o=l[72].error+"",i;return{c(){e=d("div"),t=d("span"),t.textContent="error:",n=b(),s=d("span"),i=q(o),f(t,"class","key svelte-1qj4rom"),f(s,"class","value svelte-1qj4rom"),f(e,"class","attr error svelte-1qj4rom")},m(u,a){w(u,e,a),r(e,t),r(e,n),r(e,s),r(s,i)},p(u,a){a[0]&16&&o!==(o=u[72].error+"")&&U(i,o)},d(u){u&&k(e)}}}function ku(l){let e,t,n,s=l[72].kind+"",o,i,u=l[72].name+"",a,c,_=Nt(l[72].duration_ms)+"",p,m,h,v,g,S,C=l[72].error&&hu(),$=de(Object.entries(l[72].attributes)),y=[];for(let z=0;z<$.length;z+=1)y[z]=gu(Fa(l,$,z));let T=l[72].error&&bu(l);return{c(){e=d("details"),t=d("summary"),n=d("span"),o=q(s),i=b(),a=q(u),c=q(" - "),p=q(_),m=b(),C&&C.c(),h=b(),v=d("div");for(let z=0;z<y.length;z+=1)y[z].c();g=b(),T&&T.c(),S=b(),f(n,"class","span-kind svelte-1qj4rom"),f(t,"class","svelte-1qj4rom"),f(v,"class","span-attrs svelte-1qj4rom"),f(e,"class","svelte-1qj4rom")},m(z,E){w(z,e,E),r(e,t),r(t,n),r(n,o),r(t,i),r(t,a),r(t,c),r(t,p),r(t,m),C&&C.m(t,null),r(e,h),r(e,v);for(let j=0;j<y.length;j+=1)y[j]&&y[j].m(v,null);r(v,g),T&&T.m(v,null),r(e,S)},p(z,E){if(E[0]&16&&s!==(s=z[72].kind+"")&&U(o,s),E[0]&16&&u!==(u=z[72].name+"")&&U(a,u),E[0]&16&&_!==(_=Nt(z[72].duration_ms)+"")&&U(p,_),z[72].error?C||(C=hu(),C.c(),C.m(t,null)):C&&(C.d(1),C=null),E[0]&16){$=de(Object.entries(z[72].attributes));let j;for(j=0;j<$.length;j+=1){const D=Fa(z,$,j);y[j]?y[j].p(D,E):(y[j]=gu(D),y[j].c(),y[j].m(v,g))}for(;j<y.length;j+=1)y[j].d(1);y.length=$.length}z[72].error?T?T.p(z,E):(T=bu(z),T.c(),T.m(v,null)):T&&(T.d(1),T=null)},d(z){z&&k(e),C&&C.d(),Ne(y,z),T&&T.d()}}}function Hv(l){let e,t,n,s,o=l[4].method+"",i,u,a,c,_=l[4].path+"",p,m,h,v=l[4].status_code+"",g,S,C,$,y=Nt(l[4].duration_ms)+"",T,z,E,j,D,I,N,A=l[4].request_id+"",Y,F,O,H,L,R=l[4].timestamp+"",B,V,Q,G,oe=l[4].spans.length+"",x,W,J,ae,K,ie=l[4].service_name&&cu(l),ue=l[4].error&&_u(l),le=l[4].user_id&&du(l),me=de(l[4].spans),re=[];for(let X=0;X<me.length;X+=1)re[X]=mu(Ua(l,me,X));let ne=l[4].spans.length>0&&vu(l);return{c(){var X;e=d("div"),t=d("div"),ie&&ie.c(),n=b(),s=d("span"),i=q(o),a=b(),c=d("span"),p=q(_),m=b(),h=d("span"),g=q(v),C=b(),$=d("span"),T=q(y),z=b(),ue&&ue.c(),E=b(),j=d("div"),D=d("span"),I=q("Request ID: "),N=d("code"),Y=q(A),F=b(),le&&le.c(),O=b(),H=d("span"),L=q("Time: "),B=q(R),V=b(),Q=d("h4"),G=q("Timeline ("),x=q(oe),W=q(" spans)"),J=b(),ae=d("div");for(let Z=0;Z<re.length;Z+=1)re[Z].c();K=b(),ne&&ne.c(),f(s,"class",u="method "+((X=l[4].method)==null?void 0:X.toLowerCase())+" svelte-1qj4rom"),f(c,"class","path svelte-1qj4rom"),f(h,"class",S="status status-"+fn(l[4].status_code)+" svelte-1qj4rom"),f($,"class","duration svelte-1qj4rom"),f(t,"class","trace-header svelte-1qj4rom"),f(N,"class","svelte-1qj4rom"),f(j,"class","trace-meta svelte-1qj4rom"),f(Q,"class","svelte-1qj4rom"),f(ae,"class","spans-timeline svelte-1qj4rom"),f(e,"class","trace-detail svelte-1qj4rom")},m(X,Z){w(X,e,Z),r(e,t),ie&&ie.m(t,null),r(t,n),r(t,s),r(s,i),r(t,a),r(t,c),r(c,p),r(t,m),r(t,h),r(h,g),r(t,C),r(t,$),r($,T),r(e,z),ue&&ue.m(e,null),r(e,E),r(e,j),r(j,D),r(D,I),r(D,N),r(N,Y),r(j,F),le&&le.m(j,null),r(j,O),r(j,H),r(H,L),r(H,B),r(e,V),r(e,Q),r(Q,G),r(Q,x),r(Q,W),r(e,J),r(e,ae);for(let be=0;be<re.length;be+=1)re[be]&&re[be].m(ae,null);r(e,K),ne&&ne.m(e,null)},p(X,Z){var be;if(X[4].service_name?ie?ie.p(X,Z):(ie=cu(X),ie.c(),ie.m(t,n)):ie&&(ie.d(1),ie=null),Z[0]&16&&o!==(o=X[4].method+"")&&U(i,o),Z[0]&16&&u!==(u="method "+((be=X[4].method)==null?void 0:be.toLowerCase())+" svelte-1qj4rom")&&f(s,"class",u),Z[0]&16&&_!==(_=X[4].path+"")&&U(p,_),Z[0]&16&&v!==(v=X[4].status_code+"")&&U(g,v),Z[0]&16&&S!==(S="status status-"+fn(X[4].status_code)+" svelte-1qj4rom")&&f(h,"class",S),Z[0]&16&&y!==(y=Nt(X[4].duration_ms)+"")&&U(T,y),X[4].error?ue?ue.p(X,Z):(ue=_u(X),ue.c(),ue.m(e,E)):ue&&(ue.d(1),ue=null),Z[0]&16&&A!==(A=X[4].request_id+"")&&U(Y,A),X[4].user_id?le?le.p(X,Z):(le=du(X),le.c(),le.m(j,O)):le&&(le.d(1),le=null),Z[0]&16&&R!==(R=X[4].timestamp+"")&&U(B,R),Z[0]&16&&oe!==(oe=X[4].spans.length+"")&&U(x,oe),Z[0]&16){me=de(X[4].spans);let $e;for($e=0;$e<me.length;$e+=1){const We=Ua(X,me,$e);re[$e]?re[$e].p(We,Z):(re[$e]=mu(We),re[$e].c(),re[$e].m(ae,null))}for(;$e<re.length;$e+=1)re[$e].d(1);re.length=me.length}X[4].spans.length>0?ne?ne.p(X,Z):(ne=vu(X),ne.c(),ne.m(e,null)):ne&&(ne.d(1),ne=null)},d(X){X&&k(e),ie&&ie.d(),ue&&ue.d(),le&&le.d(),Ne(re,X),ne&&ne.d()}}}function Gv(l){let e,t,n,s,o,i,u,a,c,_,p,m,h,v,g,S,C,$,y,T,z,E,j,D,I;const N=[fv,uv],A=[];function Y(B,V){return B[0]==="tracing"?0:1}g=Y(l),S=A[g]=N[g](l);let F=l[0]==="tracing"&&Ya(l),O=l[0]==="logs"&&lu(l),H=l[0]==="agent"&&ou(l),L=l[0]==="database"&&uu(l),R=l[5]&&l[4]&&fu(l);return{c(){e=d("div"),t=d("div"),n=d("h2"),n.textContent="⚙️ Admin Dashboard",s=b(),o=d("div"),i=d("button"),i.textContent="📊 Request Tracing",u=b(),a=d("button"),a.textContent="📝 Backend Logs",c=b(),_=d("button"),_.textContent="🖥️ Agent Logs",p=b(),m=d("button"),m.textContent="🗄️ Database",h=b(),v=d("div"),S.c(),C=b(),F&&F.c(),$=b(),O&&O.c(),y=b(),H&&H.c(),T=b(),L&&L.c(),z=b(),R&&R.c(),E=Oe(),f(n,"class","svelte-1qj4rom"),f(i,"class","tab svelte-1qj4rom"),we(i,"active",l[0]==="tracing"),f(a,"class","tab svelte-1qj4rom"),we(a,"active",l[0]==="logs"),f(_,"class","tab svelte-1qj4rom"),we(_,"active",l[0]==="agent"),f(m,"class","tab svelte-1qj4rom"),we(m,"active",l[0]==="database"),f(o,"class","tabs svelte-1qj4rom"),f(v,"class","controls svelte-1qj4rom"),f(t,"class","header svelte-1qj4rom"),f(e,"class","telemetry svelte-1qj4rom")},m(B,V){w(B,e,V),r(e,t),r(t,n),r(t,s),r(t,o),r(o,i),r(o,u),r(o,a),r(o,c),r(o,_),r(o,p),r(o,m),r(t,h),r(t,v),A[g].m(v,null),r(e,C),F&&F.m(e,null),r(e,$),O&&O.m(e,null),r(e,y),H&&H.m(e,null),r(e,T),L&&L.m(e,null),w(B,z,V),R&&R.m(B,V),w(B,E,V),j=!0,D||(I=[ee(i,"click",l[44]),ee(a,"click",l[45]),ee(_,"click",l[46]),ee(m,"click",l[47])],D=!0)},p(B,V){(!j||V[0]&1)&&we(i,"active",B[0]==="tracing"),(!j||V[0]&1)&&we(a,"active",B[0]==="logs"),(!j||V[0]&1)&&we(_,"active",B[0]==="agent"),(!j||V[0]&1)&&we(m,"active",B[0]==="database");let Q=g;g=Y(B),g===Q?A[g].p(B,V):(qe(),M(A[Q],1,1,()=>{A[Q]=null}),je(),S=A[g],S?S.p(B,V):(S=A[g]=N[g](B),S.c()),P(S,1),S.m(v,null)),B[0]==="tracing"?F?(F.p(B,V),V[0]&1&&P(F,1)):(F=Ya(B),F.c(),P(F,1),F.m(e,$)):F&&(qe(),M(F,1,1,()=>{F=null}),je()),B[0]==="logs"?O?(O.p(B,V),V[0]&1&&P(O,1)):(O=lu(B),O.c(),P(O,1),O.m(e,y)):O&&(qe(),M(O,1,1,()=>{O=null}),je()),B[0]==="agent"?H?(H.p(B,V),V[0]&1&&P(H,1)):(H=ou(B),H.c(),P(H,1),H.m(e,T)):H&&(qe(),M(H,1,1,()=>{H=null}),je()),B[0]==="database"?L?(L.p(B,V),V[0]&1&&P(L,1)):(L=uu(B),L.c(),P(L,1),L.m(e,null)):L&&(qe(),M(L,1,1,()=>{L=null}),je()),B[5]&&B[4]?R?(R.p(B,V),V[0]&48&&P(R,1)):(R=fu(B),R.c(),P(R,1),R.m(E.parentNode,E)):R&&(qe(),M(R,1,1,()=>{R=null}),je())},i(B){j||(P(S),P(F),P(O),P(H),P(L),P(R),j=!0)},o(B){M(S),M(F),M(O),M(H),M(L),M(R),j=!1},d(B){B&&(k(e),k(z),k(E)),A[g].d(),F&&F.d(),O&&O.d(),H&&H.d(),L&&L.d(),R&&R.d(B),D=!1,Ge(I)}}}let Wv=50,Vv=200;function wu(l){switch(l){case"DEBUG":return"#888";case"INFO":return"#4CAF50";case"WARNING":return"#ff9800";case"ERROR":return"#f44336";case"CRITICAL":return"#9c27b0";default:return"#888"}}function Nt(l){return l?l<1e3?`${Math.round(l)}ms`:`${(l/1e3).toFixed(2)}s`:"-"}function $u(l){return l?new Date(l).toLocaleTimeString():"-"}function fn(l){return l?l<300?"green":l<400?"blue":l<500?"yellow":"red":"gray"}function cn(l,e){return!l.duration_ms||!e?0:Math.max(2,l.duration_ms/e*100)}function Jv(l,e,t){let n="tracing",s=!0,o=null,i=[],u=null,a=!1,c=[],_="",p="",m=24,h="",v="",g="",S=[],C=!1,$="",y="",T=!1,z=null,E=[],j="",D=[],I="",N="",A=!1,Y=100,F="agent",O=null,H=!1,L=!1,R;async function B(){t(27,H=!0);try{t(26,O=await He("GET","/admin/db/info"))}catch(Se){ke.error(`Failed to load DB info: ${Se.message}`),t(26,O=null)}t(27,H=!1)}async function V(){try{const Se=Hn();if(!Se)throw new Error("Not authenticated");if(Se.split(".").length!==3)throw console.error("Invalid token format - clearing and requiring re-login"),new Error("Session corrupted - please logout and login again");const Ke=await fetch("/api/v1/admin/db/download",{headers:{Authorization:`Bearer ${Se}`}});if(!Ke.ok)throw new Error("Download failed");const rt=await Ke.blob(),he=URL.createObjectURL(rt),Le=document.createElement("a");Le.href=he,Le.download=`deploy_backup_${new Date().toISOString().slice(0,10)}.db`,document.body.appendChild(Le),Le.click(),document.body.removeChild(Le),URL.revokeObjectURL(he),ke.success("Database downloaded")}catch(Se){ke.error(`Download failed: ${Se.message}`)}}async function Q(){var Je;if(!((Je=R==null?void 0:R.files)!=null&&Je[0])){ke.error("Please select a file first");return}const Se=R.files[0];if(!Se.name.endsWith(".db")){ke.error("File must have .db extension");return}if(confirm("⚠️ This will REPLACE the entire database! Are you sure?")){t(28,L=!0);try{const Ke=new FormData;Ke.append("file",Se);const rt=Hn();if(!rt)throw new Error("Not authenticated");if(rt.split(".").length!==3)throw console.error("Invalid token format - clearing and requiring re-login"),new Error("Session corrupted - please logout and login again");const Le=await fetch("/api/v1/admin/db/upload",{method:"POST",headers:{Authorization:`Bearer ${rt}`},body:Ke});if(!Le.ok){const Ht=await Le.json();throw new Error(Ht.detail||"Upload failed")}const ct=await Le.json();ke.success(`Database replaced! Backup: ${ct.backup_path||"none"}`),t(29,R.value="",R),await B()}catch(Ke){ke.error(`Upload failed: ${Ke.message}`)}t(28,L=!1)}}async function G(){t(14,C=!0);try{const Se=new URLSearchParams({limit:Vv.toString()});$&&Se.set("level",$),y&&Se.set("search",y),t(13,S=await He("GET",`/admin/logs?${Se}`))}catch(Se){ke.error(`Failed to load logs: ${Se.message}`),t(13,S=[])}t(14,C=!1)}function oe(){t(17,T=!T),T?(z=setInterval(G,3e3),ke.info("Auto-refresh enabled (3s)")):(clearInterval(z),z=null,ke.info("Auto-refresh disabled"))}async function x(){try{await He("DELETE","/admin/logs"),t(13,S=[]),ke.info("Logs cleared")}catch(Se){ke.error(`Failed to clear logs: ${Se.message}`)}}async function W(){try{const Se=await He("GET","/admin/telemetry/services");t(6,c=Se.services||[]),t(7,_=Se.current||"unknown")}catch(Se){console.warn("Could not load services:",Se),t(6,c=[])}}async function J(){try{const Se=new URLSearchParams({hours:m.toString()});h&&Se.set("path_prefix",h),p&&Se.set("service_name",p),t(2,o=await He("GET",`/admin/telemetry/overview?${Se}`))}catch(Se){ke.error(`Failed to load overview: ${Se.message}`)}}async function ae(){try{const Se=new URLSearchParams({hours:m.toString(),limit:Wv.toString()});h&&Se.set("path_prefix",h),v&&Se.set("min_duration_ms",v),g&&Se.set("status_class",g),p&&Se.set("service_name",p),t(3,i=await He("GET",`/admin/telemetry/requests?${Se}`))}catch(Se){ke.error(`Failed to load requests: ${Se.message}`)}}async function K(Se){try{t(4,u=await He("GET",`/admin/telemetry/requests/${Se}`)),t(5,a=!0)}catch(Je){ke.error(`Failed to load trace: ${Je.message}`)}}async function ie(){t(1,s=!0),await Promise.all([W(),J(),ae()]),t(1,s=!1)}async function ue(){try{const Se=new URLSearchParams({hours:m.toString(),threshold_ms:"1000",limit:"50"});p&&Se.set("service_name",p),t(3,i=await He("GET",`/admin/telemetry/slow?${Se}`)),ke.info("Showing slow requests (>1s)")}catch(Se){ke.error(`Failed to load slow requests: ${Se.message}`)}}async function le(Se="5xx"){try{const Je=new URLSearchParams({hours:m.toString(),status_class:Se,limit:"50"});p&&Je.set("service_name",p),t(3,i=await He("GET",`/admin/telemetry/errors?${Je}`)),ke.info(`Showing ${Se} errors`)}catch(Je){ke.error(`Failed to load errors: ${Je.message}`)}}kl(()=>(ie(),()=>{z&&clearInterval(z)}));async function me(){const Se=Lt();if(!Se){ke.error("DigitalOcean token required");return}try{const Je=await He("GET",`/infra/servers?do_token=${encodeURIComponent(Se)}`);t(18,E=Je.servers||[]),E.length>0&&!j&&(t(19,j=E[0].id),await re())}catch(Je){ke.error(`Failed to load servers: ${Je.message}`),t(18,E=[])}}async function re(){if(!j)return;const Se=Lt();if(Se)try{const Je=await He("GET",`/infra/agent/${j}/containers?do_token=${encodeURIComponent(Se)}`);t(20,D=Je.containers||[]),t(21,I="")}catch(Je){console.warn("Failed to load containers:",Je),t(20,D=[])}}async function ne(){if(!j){ke.error("Please select a server");return}const Se=Lt();if(!Se){ke.error("DigitalOcean token required");return}t(23,A=!0);try{let Je;F==="container"&&I?Je=`/infra/agent/${j}/containers/${encodeURIComponent(I)}/logs?do_token=${encodeURIComponent(Se)}&lines=${Y}`:Je=`/infra/agent/${j}/logs?do_token=${encodeURIComponent(Se)}&lines=${Y}`;const Ke=await He("GET",Je);Ke.error?(ke.error(`Failed to get logs: ${Ke.error}`),t(22,N="")):t(22,N=Ke.logs||"No logs available")}catch(Je){ke.error(`Failed to load logs: ${Je.message}`),t(22,N="")}t(23,A=!1)}async function X(){t(22,N=""),t(20,D=[]),t(21,I=""),j&&await re()}function Z(Se){t(0,n=Se),Se==="logs"&&S.length===0&&G(),Se==="database"&&!O&&B(),Se==="agent"&&E.length===0&&me()}const be=[[]],$e=()=>Z("tracing"),We=()=>Z("logs"),ft=()=>Z("agent"),ht=()=>Z("database");function mt(){m=ut(this),t(9,m)}function De(){$=ut(this),t(15,$)}function Ie(){y=this.value,t(16,y)}const ve=Se=>Se.key==="Enter"&&G(),Me=()=>le("5xx"),Re=()=>le("5xx");function Pe(){p=ut(this),t(8,p),t(6,c)}function Ue(){h=this.value,t(10,h)}function lt(){v=Kt(this.value),t(11,v)}function st(){g=ut(this),t(12,g)}const ot=Se=>K(Se.request_id);function Ye(){j=ut(this),t(19,j),t(18,E)}function it(){F=this.__value,t(25,F)}function yt(){F=this.__value,t(25,F)}function jt(){I=ut(this),t(21,I),t(20,D)}function Yt(){Y=ut(this),t(24,Y)}function tt(Se){Ut[Se?"unshift":"push"](()=>{R=Se,t(29,R)})}return[n,s,o,i,u,a,c,_,p,m,h,v,g,S,C,$,y,T,E,j,D,I,N,A,Y,F,O,H,L,R,B,V,Q,G,oe,x,ae,K,ie,ue,le,ne,X,Z,$e,We,ft,ht,mt,De,Ie,ve,Me,Re,Pe,Ue,lt,st,ot,Ye,it,be,yt,jt,Yt,tt,()=>t(5,a=!1)]}class Kv extends qt{constructor(e){super(),St(this,e,Jv,Gv,Ct,{},null,[-1,-1,-1,-1])}}function Yv(l){let e,t,n,s,o,i,u,a,c,_,p,m,h,v,g,S,C,$,y,T,z,E,j,D,I;n=new c1({props:{title:"Deploy Dashboard"}}),u=new y1({props:{tabs:l[10],active:l[1],scrollable:!0}}),u.$on("change",l[12]);let N=l[9]&&Cu(l),A={};m=new A_({props:A}),l[17](m),g=new Bd({});let Y={};$=new Up({props:Y}),l[18]($);let F={};z=new av({props:F}),l[19](z);const O=[eh,xv,Xv],H=[];function L(R,B){return R[1]==="services"?0:R[1]==="settings"?1:R[1]==="telemetry"&&R[3]?2:-1}return~(j=L(l))&&(D=H[j]=O[j](l)),{c(){e=d("div"),t=d("div"),_e(n.$$.fragment),s=b(),o=d("div"),o.textContent=`${lh}`,i=b(),_e(u.$$.fragment),a=b(),N&&N.c(),c=b(),_=d("main"),p=d("div"),_e(m.$$.fragment),h=b(),v=d("div"),_e(g.$$.fragment),S=b(),C=d("div"),_e($.$$.fragment),y=b(),T=d("div"),_e(z.$$.fragment),E=b(),D&&D.c(),f(o,"class","version-badge svelte-1jnwr0w"),f(o,"title","Build timestamp"),we(p,"hidden",l[1]!=="infra"),we(v,"hidden",l[1]!=="deploy"),we(C,"hidden",l[1]!=="deployments"),we(T,"hidden",l[1]!=="architecture"),f(_,"class","content glass"),f(t,"class","container"),f(e,"class","app")},m(R,B){w(R,e,B),r(e,t),fe(n,t,null),r(t,s),r(t,o),r(t,i),fe(u,t,null),r(t,a),N&&N.m(t,null),r(t,c),r(t,_),r(_,p),fe(m,p,null),r(_,h),r(_,v),fe(g,v,null),r(_,S),r(_,C),fe($,C,null),r(_,y),r(_,T),fe(z,T,null),r(_,E),~j&&H[j].m(_,null),I=!0},p(R,B){const V={};B&1024&&(V.tabs=R[10]),B&2&&(V.active=R[1]),u.$set(V),R[9]?N?(N.p(R,B),B&512&&P(N,1)):(N=Cu(R),N.c(),P(N,1),N.m(t,c)):N&&(qe(),M(N,1,1,()=>{N=null}),je());const Q={};m.$set(Q),(!I||B&2)&&we(p,"hidden",R[1]!=="infra"),(!I||B&2)&&we(v,"hidden",R[1]!=="deploy");const G={};$.$set(G),(!I||B&2)&&we(C,"hidden",R[1]!=="deployments");const oe={};z.$set(oe),(!I||B&2)&&we(T,"hidden",R[1]!=="architecture");let x=j;j=L(R),j!==x&&(D&&(qe(),M(H[x],1,1,()=>{H[x]=null}),je()),~j?(D=H[j],D||(D=H[j]=O[j](R),D.c()),P(D,1),D.m(_,null)):D=null)},i(R){I||(P(n.$$.fragment,R),P(u.$$.fragment,R),P(N),P(m.$$.fragment,R),P(g.$$.fragment,R),P($.$$.fragment,R),P(z.$$.fragment,R),P(D),I=!0)},o(R){M(n.$$.fragment,R),M(u.$$.fragment,R),M(N),M(m.$$.fragment,R),M(g.$$.fragment,R),M($.$$.fragment,R),M(z.$$.fragment,R),M(D),I=!1},d(R){R&&k(e),ce(n),ce(u),N&&N.d(),l[17](null),ce(m),ce(g),l[18](null),ce($),l[19](null),ce(z),~j&&H[j].d()}}}function Qv(l){let e,t;const n=[{title:"Deploy Dashboard"},{subtitle:"Sign in to manage your infrastructure"},z1.internal,{allowSignup:!0}];let s={};for(let o=0;o<n.length;o+=1)s=Su(s,n[o]);return e=new Yc({props:s}),e.$on("success",l[11]),{c(){_e(e.$$.fragment)},m(o,i){fe(e,o,i),t=!0},p(o,i){const u={};e.$set(u)},i(o){t||(P(e.$$.fragment,o),t=!0)},o(o){M(e.$$.fragment,o),t=!1},d(o){ce(e,o)}}}function Zv(l){let e;return{c(){e=d("div"),e.innerHTML='<div class="spinner"></div>',f(e,"class","loading-screen")},m(t,n){w(t,e,n)},p:ge,i:ge,o:ge,d(t){t&&k(e)}}}function Cu(l){let e,t;return e=new B1({props:{showTail:l[8],showContainer:l[7]}}),e.$on("change",l[13]),e.$on("refresh",l[14]),{c(){_e(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},p(n,s){const o={};s&256&&(o.showTail=n[8]),s&128&&(o.showContainer=n[7]),e.$set(o)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function Xv(l){let e,t;return e=new Kv({}),{c(){_e(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function xv(l){let e,t;return e=new Pm({}),{c(){_e(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function eh(l){let e,t;return e=new lm({}),{c(){_e(e.$$.fragment)},m(n,s){fe(e,n,s),t=!0},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function th(l){let e,t,n,s,o,i;e=new T1({});const u=[Zv,Qv,Yv],a=[];function c(_,p){return _[0]?!_[2].token||!_[2].user?1:2:0}return n=c(l),s=a[n]=u[n](l),{c(){_e(e.$$.fragment),t=b(),s.c(),o=Oe()},m(_,p){fe(e,_,p),w(_,t,p),a[n].m(_,p),w(_,o,p),i=!0},p(_,[p]){let m=n;n=c(_),n===m?a[n].p(_,p):(qe(),M(a[m],1,1,()=>{a[m]=null}),je(),s=a[n],s?s.p(_,p):(s=a[n]=u[n](_),s.c()),P(s,1),s.m(o.parentNode,o))},i(_){i||(P(e.$$.fragment,_),P(s),i=!0)},o(_){M(e.$$.fragment,_),M(s),i=!1},d(_){_&&(k(t),k(o)),ce(e,_),a[n].d(_)}}}const lh="2026-01-22 10:01 UTC";function nh(l,e,t){let n,s,o,i,u,a,c,_;vt(l,Fs,A=>t(1,u=A)),vt(l,An,A=>t(16,a=A)),vt(l,bt,A=>t(2,c=A)),vt(l,yc,A=>t(3,_=A));let p=!1,m,h,v,g=null;const S=[{id:"infra",label:"Infrastructure"},{id:"deploy",label:"Deploy"},{id:"deployments",label:"Deployments"},{id:"architecture",label:"Architecture"},{id:"services",label:"Services"},{id:"settings",label:"Settings"}],C=[{id:"telemetry",label:"⚙️ Admin",admin:!0}];kl(async()=>{const A=await $();t(0,p=!0),A&&(t(15,g=a),y())});async function $(){const A=c;if(!A.token||A.token.trim()==="")return!1;try{const Y=await zl("GET","/auth/me");return bt.setUser(Y),!0}catch{return bt.logout(),!1}}function y(){xt.refresh(),Mn.refresh(),mn.refresh(),bl.refresh()}async function T(A){const{user:Y,token:F}=A.detail;qn(F),bt.setUser(Y),t(15,g=a),y()}function z(A){Fs.set(A.detail)}function E(){j()}function j(){switch(u){case"infra":m==null||m.refresh(),xt.refresh();break;case"deployments":h==null||h.refresh();break;case"architecture":v==null||v.refresh();break}}function D(A){Ut[A?"unshift":"push"](()=>{m=A,t(4,m)})}function I(A){Ut[A?"unshift":"push"](()=>{h=A,t(5,h)})}function N(A){Ut[A?"unshift":"push"](()=>{v=A,t(6,v)})}return l.$$.update=()=>{l.$$.dirty&8&&t(10,n=_?[...S,...C]:S),l.$$.dirty&2&&t(9,s=u==="deployments"),l.$$.dirty&98309&&p&&c.user&&a&&a!==g&&(t(15,g=a),y())},t(8,o=!1),t(7,i=!1),[p,u,c,_,m,h,v,i,o,s,n,T,z,E,j,g,a,D,I,N]}class sh extends qt{constructor(e){super(),St(this,e,nh,th,Ct,{})}}new sh({target:document.getElementById("app")});
