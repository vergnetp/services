var Ta=Object.defineProperty;var Pa=(l,e,t)=>e in l?Ta(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var al=(l,e,t)=>Pa(l,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();function ce(){}const ia=l=>l;function Ea(l,e){for(const t in e)l[t]=e[t];return l}function ra(l){return l()}function vs(){return Object.create(null)}function He(l){l.forEach(ra)}function Hn(l){return typeof l=="function"}function Xe(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}function Ma(l){return Object.keys(l).length===0}function ts(l,...e){if(l==null){for(const n of e)n(void 0);return ce}const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function on(l){let e;return ts(l,t=>e=t)(),e}function Ze(l,e,t){l.$$.on_destroy.push(ts(e,t))}function Wt(l,e,t,n){if(l){const s=aa(l,e,t,n);return l[0](s)}}function aa(l,e,t,n){return l[1]&&n?Ea(t.ctx.slice(),l[1](n(e))):t.ctx}function Jt(l,e,t,n){if(l[2]&&n){const s=l[2](n(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const i=[],o=Math.max(e.dirty.length,s.length);for(let c=0;c<o;c+=1)i[c]=e.dirty[c]|s[c];return i}return e.dirty|s}return e.dirty}function Yt(l,e,t,n,s,i){if(s){const o=aa(e,t,n,i);l.p(o,s)}}function Vt(l){if(l.ctx.length>32){const e=[],t=l.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function ca(l){const e={};for(const t in l)e[t]=!0;return e}function ms(l,e,t){return l.set(t),e}function hs(l){const e=typeof l=="string"&&l.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[l,"px"]}const ua=typeof window<"u";let La=ua?()=>window.performance.now():()=>Date.now(),ls=ua?l=>requestAnimationFrame(l):ce;const Fl=new Set;function fa(l){Fl.forEach(e=>{e.c(l)||(Fl.delete(e),e.f())}),Fl.size!==0&&ls(fa)}function Na(l){let e;return Fl.size===0&&ls(fa),{promise:new Promise(t=>{Fl.add(e={c:l,f:t})}),abort(){Fl.delete(e)}}}const pa=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function a(l,e){l.appendChild(e)}function da(l){if(!l)return document;const e=l.getRootNode?l.getRootNode():l.ownerDocument;return e&&e.host?e:l.ownerDocument}function Ra(l){const e=d("style");return e.textContent="/* empty */",ja(da(l),e),e.sheet}function ja(l,e){return a(l.head||l,e),e.sheet}function y(l,e,t){l.insertBefore(e,t||null)}function w(l){l.parentNode&&l.parentNode.removeChild(l)}function Re(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function d(l){return document.createElement(l)}function Oa(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function S(l){return document.createTextNode(l)}function b(){return S(" ")}function je(){return S("")}function te(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function _a(l){return function(e){return e.preventDefault(),l.call(this,e)}}function p(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function va(l){let e;return{p(...t){e=t,e.forEach(n=>l.push(n))},r(){e.forEach(t=>l.splice(l.indexOf(t),1))}}}function Rt(l){return l===""?null:+l}function Aa(l){return Array.from(l.childNodes)}function B(l,e){e=""+e,l.data!==e&&(l.data=e)}function x(l,e){l.value=e??""}function Ue(l,e,t,n){t==null?l.style.removeProperty(e):l.style.setProperty(e,t,"")}function Ne(l,e,t){for(let n=0;n<l.options.length;n+=1){const s=l.options[n];if(s.__value===e){s.selected=!0;return}}(!t||e!==void 0)&&(l.selectedIndex=-1)}function Qe(l){const e=l.querySelector(":checked");return e&&e.__value}function De(l,e,t){l.classList.toggle(e,!!t)}function ma(l,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(l,{detail:e,bubbles:t,cancelable:n})}class Fa{constructor(e=!1){al(this,"is_svg",!1);al(this,"e");al(this,"n");al(this,"t");al(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=Oa(t.nodeName):this.e=d(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)y(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(w)}}const On=new Map;let An=0;function za(l){let e=5381,t=l.length;for(;t--;)e=(e<<5)-e^l.charCodeAt(t);return e>>>0}function Ba(l,e){const t={stylesheet:Ra(e),rules:{}};return On.set(l,t),t}function gs(l,e,t,n,s,i,o,c=0){const r=16.666/n;let u=`{
`;for(let C=0;C<=1;C+=r){const k=e+(t-e)*i(C);u+=C*100+`%{${o(k,1-k)}}
`}const f=u+`100% {${o(t,1-t)}}
}`,v=`__svelte_${za(f)}_${c}`,_=da(l),{stylesheet:h,rules:m}=On.get(_)||Ba(_,l);m[v]||(m[v]=!0,h.insertRule(`@keyframes ${v} ${f}`,h.cssRules.length));const g=l.style.animation||"";return l.style.animation=`${g?`${g}, `:""}${v} ${n}ms linear ${s}ms 1 both`,An+=1,v}function Ia(l,e){const t=(l.style.animation||"").split(", "),n=t.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),s=t.length-n.length;s&&(l.style.animation=n.join(", "),An-=s,An||Ua())}function Ua(){ls(()=>{An||(On.forEach(l=>{const{ownerNode:e}=l.stylesheet;e&&w(e)}),On.clear())})}let sn;function nn(l){sn=l}function ns(){if(!sn)throw new Error("Function called outside component initialization");return sn}function fl(l){ns().$$.on_mount.push(l)}function ss(l){ns().$$.on_destroy.push(l)}function rn(){const l=ns();return(e,t,{cancelable:n=!1}={})=>{const s=l.$$.callbacks[e];if(s){const i=ma(e,t,{cancelable:n});return s.slice().forEach(o=>{o.call(l,i)}),!i.defaultPrevented}return!0}}function bs(l,e){const t=l.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const jl=[],at=[];let zl=[];const Qn=[],Ha=Promise.resolve();let Zn=!1;function Ga(){Zn||(Zn=!0,Ha.then(ha))}function We(l){zl.push(l)}function $l(l){Qn.push(l)}const Yn=new Set;let Nl=0;function ha(){if(Nl!==0)return;const l=sn;do{try{for(;Nl<jl.length;){const e=jl[Nl];Nl++,nn(e),Wa(e.$$)}}catch(e){throw jl.length=0,Nl=0,e}for(nn(null),jl.length=0,Nl=0;at.length;)at.pop()();for(let e=0;e<zl.length;e+=1){const t=zl[e];Yn.has(t)||(Yn.add(t),t())}zl.length=0}while(jl.length);for(;Qn.length;)Qn.pop()();Zn=!1,Yn.clear(),nn(l)}function Wa(l){if(l.fragment!==null){l.update(),He(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(We)}}function Ja(l){const e=[],t=[];zl.forEach(n=>l.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),zl=e}let ln;function Ya(){return ln||(ln=Promise.resolve(),ln.then(()=>{ln=null})),ln}function Vn(l,e,t){l.dispatchEvent(ma(`${e?"intro":"outro"}${t}`))}const jn=new Set;let Ht;function ke(){Ht={r:0,c:[],p:Ht}}function we(){Ht.r||He(Ht.c),Ht=Ht.p}function P(l,e){l&&l.i&&(jn.delete(l),l.i(e))}function N(l,e,t,n){if(l&&l.o){if(jn.has(l))return;jn.add(l),Ht.c.push(()=>{jn.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}const Va={duration:0};function Ol(l,e,t,n){let i=e(l,t,{direction:"both"}),o=n?0:1,c=null,r=null,u=null,f;function v(){u&&Ia(l,u)}function _(m,g){const C=m.b-o;return g*=Math.abs(C),{a:o,b:m.b,d:C,duration:g,start:m.start,end:m.start+g,group:m.group}}function h(m){const{delay:g=0,duration:C=300,easing:k=ia,tick:$=ce,css:q}=i||Va,D={start:La()+g,b:m};m||(D.group=Ht,Ht.r+=1),"inert"in l&&(m?f!==void 0&&(l.inert=f):(f=l.inert,l.inert=!0)),c||r?r=D:(q&&(v(),u=gs(l,o,m,C,g,k,q)),m&&$(0,1),c=_(D,C),We(()=>Vn(l,m,"start")),Na(T=>{if(r&&T>r.start&&(c=_(r,C),r=null,Vn(l,c.b,"start"),q&&(v(),u=gs(l,o,c.b,c.duration,0,k,i.css))),c){if(T>=c.end)$(o=c.b,1-o),Vn(l,c.b,"end"),r||(c.b?v():--c.group.r||He(c.group.c)),c=null;else if(T>=c.start){const E=T-c.start;o=c.a+c.d*k(E/c.duration),$(o,1-o)}}return!!(c||r)}))}return{run(m){Hn(i)?Ya().then(()=>{i=i({direction:m?"in":"out"}),h(m)}):h(m)},end(){v(),c=r=null}}}function me(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function ga(l,e){N(l,1,1,()=>{e.delete(l.key)})}function ba(l,e,t,n,s,i,o,c,r,u,f,v){let _=l.length,h=i.length,m=_;const g={};for(;m--;)g[l[m].key]=m;const C=[],k=new Map,$=new Map,q=[];for(m=h;m--;){const M=v(s,i,m),L=t(M);let O=o.get(L);O?q.push(()=>O.p(M,e)):(O=u(L,M),O.c()),k.set(L,C[m]=O),L in g&&$.set(L,Math.abs(m-g[L]))}const D=new Set,T=new Set;function E(M){P(M,1),M.m(c,f),o.set(M.key,M),f=M.first,h--}for(;_&&h;){const M=C[h-1],L=l[_-1],O=M.key,A=L.key;M===L?(f=M.first,_--,h--):k.has(A)?!o.has(O)||D.has(O)?E(M):T.has(A)?_--:$.get(O)>$.get(A)?(T.add(O),E(M)):(D.add(A),_--):(r(L,o),_--)}for(;_--;){const M=l[_];k.has(M.key)||r(M,o)}for(;h;)E(C[h-1]);return He(q),C}function kl(l,e,t){const n=l.$$.props[e];n!==void 0&&(l.$$.bound[n]=t,t(l.$$.ctx[n]))}function Z(l){l&&l.c()}function K(l,e,t){const{fragment:n,after_update:s}=l.$$;n&&n.m(e,t),We(()=>{const i=l.$$.on_mount.map(ra).filter(Hn);l.$$.on_destroy?l.$$.on_destroy.push(...i):He(i),l.$$.on_mount=[]}),s.forEach(We)}function Q(l,e){const t=l.$$;t.fragment!==null&&(Ja(t.after_update),He(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Ka(l,e){l.$$.dirty[0]===-1&&(jl.push(l),Ga(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function xe(l,e,t,n,s,i,o=null,c=[-1]){const r=sn;nn(l);const u=l.$$={fragment:null,ctx:[],props:i,update:ce,not_equal:s,bound:vs(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(r?r.$$.context:[])),callbacks:vs(),dirty:c,skip_bound:!1,root:e.target||r.$$.root};o&&o(u.root);let f=!1;if(u.ctx=t?t(l,e.props||{},(v,_,...h)=>{const m=h.length?h[0]:_;return u.ctx&&s(u.ctx[v],u.ctx[v]=m)&&(!u.skip_bound&&u.bound[v]&&u.bound[v](m),f&&Ka(l,v)),_}):[],u.update(),f=!0,He(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const v=Aa(e.target);u.fragment&&u.fragment.l(v),v.forEach(w)}else u.fragment&&u.fragment.c();e.intro&&P(l.$$.fragment),K(l,e.target,e.anchor),ha()}nn(r)}class et{constructor(){al(this,"$$");al(this,"$$set")}$destroy(){Q(this,1),this.$destroy=ce}$on(e,t){if(!Hn(t))return ce;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!Ma(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Qa="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Qa);const Rl=[];function Za(l,e){return{subscribe:pl(l,e).subscribe}}function pl(l,e=ce){let t;const n=new Set;function s(c){if(Xe(l,c)&&(l=c,t)){const r=!Rl.length;for(const u of n)u[1](),Rl.push(u,l);if(r){for(let u=0;u<Rl.length;u+=2)Rl[u][0](Rl[u+1]);Rl.length=0}}}function i(c){s(c(l))}function o(c,r=ce){const u=[c,r];return n.add(u),n.size===1&&(t=e(s,i)||ce),c(l),()=>{n.delete(u),n.size===0&&t&&(t(),t=null)}}return{set:s,update:i,subscribe:o}}function Il(l,e,t){const n=!Array.isArray(l),s=n?[l]:l;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=e.length<2;return Za(t,(o,c)=>{let r=!1;const u=[];let f=0,v=ce;const _=()=>{if(f)return;v();const m=e(n?u[0]:u,o,c);i?o(m):v=Hn(m)?m:ce},h=s.map((m,g)=>ts(m,C=>{u[g]=C,f&=~(1<<g),r&&_()},()=>{f|=1<<g}));return r=!0,_(),function(){He(h),v(),r=!1}})}function os(l,e,t=7){const n=new Date(Date.now()+t*864e5).toUTCString();document.cookie=`${l}=${encodeURIComponent(e)}; expires=${n}; path=/; SameSite=Strict`}function is(l){const e=document.cookie.match(new RegExp("(^| )"+l+"=([^;]+)"));return e?decodeURIComponent(e[2]):null}function $s(l){document.cookie=`${l}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/; SameSite=Strict`}function Xa(){const{subscribe:l,set:e,update:t}=pl({token:is("jwt_token"),user:null,loading:!1,error:null});return{subscribe:l,setToken(n){os("jwt_token",n,7),t(s=>({...s,token:n,error:null}))},setUser(n){t(s=>({...s,user:n}))},setError(n){t(s=>({...s,error:n,loading:!1}))},setLoading(n){t(s=>({...s,loading:n}))},logout(){$s("jwt_token"),$s("do_token_local"),e({token:null,user:null,loading:!1,error:null})},clearError(){t(n=>({...n,error:null}))}}}const gt=Xa();Il(gt,l=>!!l.token&&!!l.user);function ul(){return is("do_token_local")}function xa(l){os("do_token_local",l,30)}function Xn(){return is("cf_token_local")}function ec(l){os("cf_token_local",l,30)}function tc(){const{subscribe:l,update:e}=pl([]);let t=0;function n(i,o="info",c=3e3){const r={id:++t,message:i,type:o};return e(u=>[...u,r]),c>0&&setTimeout(()=>s(r.id),c),r.id}function s(i){e(o=>o.filter(c=>c.id!==i))}return{subscribe:l,success:(i,o)=>n(i,"success",o),error:(i,o)=>n(i,"error",o),warning:(i,o)=>n(i,"warning",o),info:(i,o)=>n(i,"info",o),remove:s}}const ge=tc(),$a="/api/v1",ka=["/infra/servers","/infra/snapshots","/infra/setup","/infra/deploy","/infra/registry","/infra/agent","/infra/architecture","/infra/fleet"];function wa(l,e={}){const t=on(gt),n={"Content-Type":"application/json"};t.token&&(n.Authorization=`Bearer ${t.token}`);let s=$a+l;if(!e.skipDoToken&&ka.some(o=>l.startsWith(o))){const o=ul();if(!o)return{error:"DO token not set",url:null,headers:null};const c=s.includes("?")?"&":"?";s+=`${c}do_token=${encodeURIComponent(o)}`}return{url:s,headers:n,error:null}}async function rs(l){if(l.status===401){let e="Authentication failed";try{const n=await l.json();e=n.detail||n.error||n.message||e}catch{}throw on(gt).token&&(gt.logout(),e="Session expired - please login again"),new Error(e)}if(!l.ok){const e=await l.json().catch(()=>({detail:"Request failed"}));throw new Error(e.detail||e.error||e.message||"Request failed")}}async function Ae(l,e,t=null,n={}){const{url:s,headers:i,error:o}=wa(e,n);if(o)return console.debug(`Skipping ${e} - ${o}`),null;const c={method:l,headers:i};t&&(c.body=JSON.stringify(t));const r=await fetch(s,c);if(await rs(r),r.status===204)return null;const u=await r.json();return u&&u.success===!0&&u.data!==void 0?u.data:u}async function ya(l,e,t=null,n,s={}){const{url:i,headers:o,error:c}=wa(e,s);if(c)throw new Error(c);const r={method:l,headers:o};t&&(r.body=JSON.stringify(t));const u=await fetch(i,r);await rs(u);const f=u.body.getReader(),v=new TextDecoder;let _="";for(;;){const{done:h,value:m}=await f.read();if(h)break;_+=v.decode(m,{stream:!0});const g=_.split(`
`);_=g.pop()||"";for(const C of g)if(C.startsWith("data: "))try{const k=JSON.parse(C.slice(6));n(k)}catch{}}}async function lc(l,e,t,n={}){const s=on(gt);let i=$a+l;if(!n.skipDoToken&&ka.some(_=>l.startsWith(_))){const _=ul();if(!_)throw new Error("DO token not set");const h=i.includes("?")?"&":"?";i+=`${h}do_token=${encodeURIComponent(_)}`}const c={};s.token&&(c.Authorization=`Bearer ${s.token}`);const r=await fetch(i,{method:"POST",headers:c,body:e});await rs(r);const u=r.body.getReader(),f=new TextDecoder;let v="";for(;;){const{done:_,value:h}=await u.read();if(_)break;v+=f.decode(h,{stream:!0});const m=v.split(`
`);v=m.pop()||"";for(const g of m)if(g.startsWith("data: "))try{const C=JSON.parse(g.slice(6));t(C)}catch{}}}async function nc(){if(!on(gt).token)return!1;try{const e=await Ae("GET","/auth/me");return gt.setUser(e),!0}catch{return gt.logout(),!1}}function sc(l,e,t={}){const{refreshInterval:n=0,revalidateOnFocus:s=!0,revalidateOnMount:i=!0,dedupingInterval:o=2e3,initialData:c=null}=t,r=pl({data:c,error:null,loading:!1,lastFetched:null});let u=0,f=null,v=null,_=0;async function h(q=!1){const D=Date.now();return!q&&f&&D-u<o||(u=D,r.update(T=>{var E;return{...T,loading:T.data===null||((E=T.data)==null?void 0:E.length)===0}}),f=(async()=>{try{const T=await e();return r.set({data:T,error:null,loading:!1,lastFetched:new Date}),T}catch(T){throw r.update(E=>({...E,error:T.message||"Fetch failed",loading:!1})),T}finally{f=null}})()),f}function m(){document.visibilityState==="visible"&&s&&h()}function g(){n>0&&!v&&(v=setInterval(()=>h(),n))}function C(){v&&(clearInterval(v),v=null)}const{subscribe:k}=r;function $(q){_++,_===1&&(s&&typeof document<"u"&&document.addEventListener("visibilitychange",m),i&&h(),g());const D=k(q);return()=>{D(),_--,_===0&&(typeof document<"u"&&document.removeEventListener("visibilitychange",m),C())}}return{subscribe:$,refresh:()=>h(!0),mutate:q=>r.update(D=>({...D,data:q})),get:()=>on(r)}}function Gn(l,e={}){const{transform:t=s=>s,...n}=e;return sc(l,async()=>{const s=await Ae("GET",l);return t(s)},n)}function oc(l,e={}){const{transform:t=r=>r,...n}=e,s=pl({data:null,error:null,loading:!1,lastFetched:null});let i=null,o=null;async function c(r){const u=l(r);if(!u){s.set({data:null,error:null,loading:!1,lastFetched:null});return}return o&&JSON.stringify(r)===JSON.stringify(i)||(i=r,s.update(f=>({...f,loading:!0})),o=(async()=>{try{const f=await Ae("GET",u),v=t(f);return s.set({data:v,error:null,loading:!1,lastFetched:new Date}),v}catch(f){throw s.update(v=>({...v,error:f.message||"Fetch failed",loading:!1})),f}finally{o=null}})()),o}return{subscribe:s.subscribe,fetch:c,refresh:()=>i&&c(i),clear:()=>{i=null,s.set({data:null,error:null,loading:!1,lastFetched:null})}}}const ks=pl("infra"),Dt=pl({project:"",env:"",server:"",container:"",range:"30d",tail:!1}),ic=["infra","metrics","logs","deployments"],cl=Gn("/infra/servers",{transform:l=>l.servers||l||[],refreshInterval:6e4,revalidateOnFocus:!0,initialData:[]}),Ca=Gn("/infra/projects",{transform:l=>l.projects||[],refreshInterval:12e4,initialData:[]}),Fn=Gn("/infra/snapshots",{transform:l=>l.snapshots||[],refreshInterval:6e4,initialData:[]}),Al=Gn("/infra/deployments/history",{transform:l=>l.deployments||[],refreshInterval:3e4,initialData:[]}),xn=oc(l=>l!=null&&l.server?`/infra/agent/${l.server}/containers`:null,{transform:l=>(l.containers||l||[]).map(t=>({id:t.ID||t.Id||t.id,name:t.Names||t.Name||t.name||"unknown",image:t.Image||t.image,status:t.Status||t.State||t.status,state:t.State||t.state}))}),yl=Il(cl,l=>l.data||[]),Sa=Il(Ca,l=>l.data||[]),es=Il(Fn,l=>l.data||[]);Il(Al,l=>l.data||[]);const rc=Il(xn,l=>l.data||[]),ac="1.9.5";function cc(){const l=typeof localStorage<"u"&&localStorage.getItem("theme")||"dark",{subscribe:e,set:t}=pl(l);return typeof document<"u"&&document.documentElement.setAttribute("data-theme",l),{subscribe:e,set(n){typeof localStorage<"u"&&localStorage.setItem("theme",n),typeof document<"u"&&document.documentElement.setAttribute("data-theme",n),t(n)}}}const Kn=cc();function ws(l){let e;return{c(){e=d("span"),p(e,"class","brand-dot svelte-16ksbsk")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function ys(l){let e,t,n,s,i,o;return{c(){e=d("div"),t=d("button"),t.textContent="Sign In",n=b(),s=d("button"),s.textContent="Sign Up",p(t,"class","tab svelte-16ksbsk"),De(t,"active",l[4]==="login"),p(s,"class","tab svelte-16ksbsk"),De(s,"active",l[4]==="signup"),p(e,"class","tabs svelte-16ksbsk")},m(c,r){y(c,e,r),a(e,t),a(e,n),a(e,s),i||(o=[te(t,"click",l[16]),te(s,"click",l[17])],i=!0)},p(c,r){r&16&&De(t,"active",c[4]==="login"),r&16&&De(s,"active",c[4]==="signup")},d(c){c&&w(e),i=!1,He(o)}}}function uc(l){let e,t,n,s,i,o,c,r,u,f,v,_,h,m,g,C,k,$,q;function D(M,L){return M[5]?dc:pc}let T=D(l),E=T(l);return{c(){e=d("form"),t=d("div"),n=d("label"),n.textContent="Email",s=b(),i=d("input"),o=b(),c=d("div"),r=d("label"),r.textContent="Password",u=b(),f=d("input"),v=b(),_=d("div"),h=d("label"),h.textContent="Confirm Password",m=b(),g=d("input"),C=b(),k=d("button"),E.c(),p(n,"for","signup-email"),p(n,"class","svelte-16ksbsk"),p(i,"type","email"),p(i,"id","signup-email"),p(i,"placeholder","you@example.com"),i.required=!0,i.disabled=l[5],p(i,"class","svelte-16ksbsk"),p(t,"class","form-group svelte-16ksbsk"),p(r,"for","signup-password"),p(r,"class","svelte-16ksbsk"),p(f,"type","password"),p(f,"id","signup-password"),p(f,"placeholder","••••••••"),f.required=!0,f.disabled=l[5],p(f,"class","svelte-16ksbsk"),p(c,"class","form-group svelte-16ksbsk"),p(h,"for","signup-confirm"),p(h,"class","svelte-16ksbsk"),p(g,"type","password"),p(g,"id","signup-confirm"),p(g,"placeholder","••••••••"),g.required=!0,g.disabled=l[5],p(g,"class","svelte-16ksbsk"),p(_,"class","form-group svelte-16ksbsk"),p(k,"type","submit"),p(k,"class","btn btn-primary btn-full svelte-16ksbsk"),k.disabled=l[5]},m(M,L){y(M,e,L),a(e,t),a(t,n),a(t,s),a(t,i),x(i,l[9]),a(e,o),a(e,c),a(c,r),a(c,u),a(c,f),x(f,l[10]),a(e,v),a(e,_),a(_,h),a(_,m),a(_,g),x(g,l[11]),a(e,C),a(e,k),E.m(k,null),$||(q=[te(i,"input",l[20]),te(f,"input",l[21]),te(g,"input",l[22]),te(e,"submit",l[14])],$=!0)},p(M,L){L&32&&(i.disabled=M[5]),L&512&&i.value!==M[9]&&x(i,M[9]),L&32&&(f.disabled=M[5]),L&1024&&f.value!==M[10]&&x(f,M[10]),L&32&&(g.disabled=M[5]),L&2048&&g.value!==M[11]&&x(g,M[11]),T!==(T=D(M))&&(E.d(1),E=T(M),E&&(E.c(),E.m(k,null))),L&32&&(k.disabled=M[5])},d(M){M&&w(e),E.d(),$=!1,He(q)}}}function fc(l){let e,t,n,s,i,o,c,r,u,f,v,_,h,m;function g($,q){return $[5]?vc:_c}let C=g(l),k=C(l);return{c(){e=d("form"),t=d("div"),n=d("label"),n.textContent="Email",s=b(),i=d("input"),o=b(),c=d("div"),r=d("label"),r.textContent="Password",u=b(),f=d("input"),v=b(),_=d("button"),k.c(),p(n,"for","login-email"),p(n,"class","svelte-16ksbsk"),p(i,"type","email"),p(i,"id","login-email"),p(i,"placeholder","you@example.com"),i.required=!0,i.disabled=l[5],p(i,"class","svelte-16ksbsk"),p(t,"class","form-group svelte-16ksbsk"),p(r,"for","login-password"),p(r,"class","svelte-16ksbsk"),p(f,"type","password"),p(f,"id","login-password"),p(f,"placeholder","••••••••"),f.required=!0,f.disabled=l[5],p(f,"class","svelte-16ksbsk"),p(c,"class","form-group svelte-16ksbsk"),p(_,"type","submit"),p(_,"class","btn btn-primary btn-full svelte-16ksbsk"),_.disabled=l[5]},m($,q){y($,e,q),a(e,t),a(t,n),a(t,s),a(t,i),x(i,l[7]),a(e,o),a(e,c),a(c,r),a(c,u),a(c,f),x(f,l[8]),a(e,v),a(e,_),k.m(_,null),h||(m=[te(i,"input",l[18]),te(f,"input",l[19]),te(e,"submit",l[13])],h=!0)},p($,q){q&32&&(i.disabled=$[5]),q&128&&i.value!==$[7]&&x(i,$[7]),q&32&&(f.disabled=$[5]),q&256&&f.value!==$[8]&&x(f,$[8]),C!==(C=g($))&&(k.d(1),k=C($),k&&(k.c(),k.m(_,null))),q&32&&(_.disabled=$[5])},d($){$&&w(e),k.d(),h=!1,He(m)}}}function pc(l){let e;return{c(){e=S("Create Account")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function dc(l){let e;return{c(){e=d("span"),p(e,"class","spinner svelte-16ksbsk")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function _c(l){let e;return{c(){e=S("Sign In")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function vc(l){let e;return{c(){e=d("span"),p(e,"class","spinner svelte-16ksbsk")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Cs(l){let e,t;return{c(){e=d("p"),t=S(l[6]),p(e,"class","error-message svelte-16ksbsk")},m(n,s){y(n,e,s),a(e,t)},p(n,s){s&64&&B(t,n[6])},d(n){n&&w(e)}}}function mc(l){let e,t,n,s,i,o,c,r,u,f,v,_,h=l[2]&&ws(),m=l[3]&&ys(l);function g(q,D){return q[4]==="login"?fc:uc}let C=g(l),k=C(l),$=l[6]&&Cs(l);return{c(){e=d("div"),t=d("div"),n=d("div"),s=d("h1"),h&&h.c(),i=b(),o=S(l[0]),c=b(),r=d("p"),u=S(l[1]),f=b(),m&&m.c(),v=b(),k.c(),_=b(),$&&$.c(),p(s,"class","svelte-16ksbsk"),p(r,"class","svelte-16ksbsk"),p(n,"class","auth-title svelte-16ksbsk"),p(t,"class","auth-card glass svelte-16ksbsk"),p(e,"class","auth-container svelte-16ksbsk")},m(q,D){y(q,e,D),a(e,t),a(t,n),a(n,s),h&&h.m(s,null),a(s,i),a(s,o),a(n,c),a(n,r),a(r,u),a(t,f),m&&m.m(t,null),a(t,v),k.m(t,null),a(t,_),$&&$.m(t,null)},p(q,[D]){q[2]?h||(h=ws(),h.c(),h.m(s,i)):h&&(h.d(1),h=null),D&1&&B(o,q[0]),D&2&&B(u,q[1]),q[3]?m?m.p(q,D):(m=ys(q),m.c(),m.m(t,v)):m&&(m.d(1),m=null),C===(C=g(q))&&k?k.p(q,D):(k.d(1),k=C(q),k&&(k.c(),k.m(t,_))),q[6]?$?$.p(q,D):($=Cs(q),$.c(),$.m(t,null)):$&&($.d(1),$=null)},i:ce,o:ce,d(q){q&&w(e),h&&h.d(),m&&m.d(),k.d(),$&&$.d()}}}function hc(l,e,t){let{title:n="Welcome"}=e,{subtitle:s="Sign in to your account"}=e,{apiBase:i="/api/v1"}=e,{showLogo:o=!0}=e,{allowSignup:c=!0}=e;const r=rn();let u="login",f=!1,v=null,_="",h="",m="",g="",C="";function k(I){t(4,u=I),t(6,v=null)}async function $(I,Y,J){const H=await fetch(i+Y,{method:I,headers:{"Content-Type":"application/json"},body:J?JSON.stringify(J):void 0});if(!H.ok){const F=await H.json().catch(()=>({detail:"Request failed"}));throw new Error(F.detail||F.error||F.message||"Request failed")}return H.json()}async function q(I){I.preventDefault(),t(5,f=!0),t(6,v=null);try{const J=(await $("POST","/auth/login",{username:_,password:h})).access_token,F=await(await fetch(i+"/auth/me",{headers:{Authorization:`Bearer ${J}`}})).json();r("success",{user:F,token:J})}catch(Y){t(6,v=Y.message),r("error",{error:Y.message,type:"login"})}finally{t(5,f=!1)}}async function D(I){if(I.preventDefault(),g!==C){t(6,v="Passwords do not match");return}t(5,f=!0),t(6,v=null);try{await $("POST","/auth/register",{username:m,email:m,password:g});const J=(await $("POST","/auth/login",{username:m,password:g})).access_token,F=await(await fetch(i+"/auth/me",{headers:{Authorization:`Bearer ${J}`}})).json();r("success",{user:F,token:J})}catch(Y){t(6,v=Y.message),r("error",{error:Y.message,type:"signup"})}finally{t(5,f=!1)}}const T=()=>k("login"),E=()=>k("signup");function M(){_=this.value,t(7,_)}function L(){h=this.value,t(8,h)}function O(){m=this.value,t(9,m)}function A(){g=this.value,t(10,g)}function z(){C=this.value,t(11,C)}return l.$$set=I=>{"title"in I&&t(0,n=I.title),"subtitle"in I&&t(1,s=I.subtitle),"apiBase"in I&&t(15,i=I.apiBase),"showLogo"in I&&t(2,o=I.showLogo),"allowSignup"in I&&t(3,c=I.allowSignup)},[n,s,o,c,u,f,v,_,h,m,g,C,k,q,D,i,T,E,M,L,O,A,z]}class gc extends et{constructor(e){super(),xe(this,e,hc,mc,Xe,{title:0,subtitle:1,apiBase:15,showLogo:2,allowSignup:3})}}function qa(l){const e=l-1;return e*e*e+1}function Ss(l,{delay:e=0,duration:t=400,easing:n=ia}={}){const s=+getComputedStyle(l).opacity;return{delay:e,duration:t,easing:n,css:i=>`opacity: ${i*s}`}}function qs(l,{delay:e=0,duration:t=400,easing:n=qa,x:s=0,y:i=0,opacity:o=0}={}){const c=getComputedStyle(l),r=+c.opacity,u=c.transform==="none"?"":c.transform,f=r*(1-o),[v,_]=hs(s),[h,m]=hs(i);return{delay:e,duration:t,easing:n,css:(g,C)=>`
			transform: ${u} translate(${(1-g)*v}${_}, ${(1-g)*h}${m});
			opacity: ${r-f*C}`}}function Ds(l,{delay:e=0,duration:t=400,easing:n=qa,start:s=0,opacity:i=0}={}){const o=getComputedStyle(l),c=+o.opacity,r=o.transform==="none"?"":o.transform,u=1-s,f=c*(1-i);return{delay:e,duration:t,easing:n,css:(v,_)=>`
			transform: ${r} scale(${1-u*_});
			opacity: ${c-f*_}
		`}}function Ts(l,e,t){const n=l.slice();return n[2]=e[t],n}function Ps(l,e){let t,n,s=e[2].message+"",i,o,c,r,u,f,v,_,h;function m(){return e[1](e[2])}return{key:l,first:null,c(){t=d("div"),n=d("span"),i=S(s),o=b(),c=d("button"),c.textContent="×",r=b(),p(n,"class","toast-message svelte-1l5lsfn"),p(c,"class","toast-close svelte-1l5lsfn"),p(t,"class",u="toast toast-"+e[2].type+" svelte-1l5lsfn"),this.first=t},m(g,C){y(g,t,C),a(t,n),a(n,i),a(t,o),a(t,c),a(t,r),v=!0,_||(h=te(c,"click",m),_=!0)},p(g,C){e=g,(!v||C&1)&&s!==(s=e[2].message+"")&&B(i,s),(!v||C&1&&u!==(u="toast toast-"+e[2].type+" svelte-1l5lsfn"))&&p(t,"class",u)},i(g){v||(g&&We(()=>{v&&(f||(f=Ol(t,qs,{x:100,duration:200},!0)),f.run(1))}),v=!0)},o(g){g&&(f||(f=Ol(t,qs,{x:100,duration:200},!1)),f.run(0)),v=!1},d(g){g&&w(t),g&&f&&f.end(),_=!1,h()}}}function bc(l){let e,t=[],n=new Map,s,i=me(l[0]);const o=c=>c[2].id;for(let c=0;c<i.length;c+=1){let r=Ts(l,i,c),u=o(r);n.set(u,t[c]=Ps(u,r))}return{c(){e=d("div");for(let c=0;c<t.length;c+=1)t[c].c();p(e,"class","toast-container svelte-1l5lsfn")},m(c,r){y(c,e,r);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(e,null);s=!0},p(c,[r]){r&1&&(i=me(c[0]),ke(),t=ba(t,r,o,1,c,i,n,e,ga,Ps,null,Ts),we())},i(c){if(!s){for(let r=0;r<i.length;r+=1)P(t[r]);s=!0}},o(c){for(let r=0;r<t.length;r+=1)N(t[r]);s=!1},d(c){c&&w(e);for(let r=0;r<t.length;r+=1)t[r].d()}}}function $c(l,e,t){let n;return Ze(l,ge,i=>t(0,n=i)),[n,i=>ge.remove(i.id)]}class kc extends et{constructor(e){super(),xe(this,e,$c,bc,Xe,{})}}function wc(l){let e,t,n,s,i,o,c=l[3]&&Es();const r=l[7].default,u=Wt(r,l,l[6],null);return{c(){e=d("button"),c&&c.c(),t=b(),u&&u.c(),p(e,"type",l[4]),p(e,"class",n="btn btn-"+l[0]+" btn-"+l[1]+" svelte-1vvc8tv"),e.disabled=l[2]},m(f,v){y(f,e,v),c&&c.m(e,null),a(e,t),u&&u.m(e,null),s=!0,i||(o=te(e,"click",l[9]),i=!0)},p(f,v){f[3]?c||(c=Es(),c.c(),c.m(e,t)):c&&(c.d(1),c=null),u&&u.p&&(!s||v&64)&&Yt(u,r,f,f[6],s?Jt(r,f[6],v,null):Vt(f[6]),null),(!s||v&16)&&p(e,"type",f[4]),(!s||v&3&&n!==(n="btn btn-"+f[0]+" btn-"+f[1]+" svelte-1vvc8tv"))&&p(e,"class",n),(!s||v&4)&&(e.disabled=f[2])},i(f){s||(P(u,f),s=!0)},o(f){N(u,f),s=!1},d(f){f&&w(e),c&&c.d(),u&&u.d(f),i=!1,o()}}}function yc(l){let e,t,n,s,i,o,c=l[3]&&Ms();const r=l[7].default,u=Wt(r,l,l[6],null);return{c(){e=d("a"),c&&c.c(),t=b(),u&&u.c(),p(e,"href",l[5]),p(e,"class",n="btn btn-"+l[0]+" btn-"+l[1]+" svelte-1vvc8tv"),De(e,"disabled",l[2])},m(f,v){y(f,e,v),c&&c.m(e,null),a(e,t),u&&u.m(e,null),s=!0,i||(o=te(e,"click",l[8]),i=!0)},p(f,v){f[3]?c||(c=Ms(),c.c(),c.m(e,t)):c&&(c.d(1),c=null),u&&u.p&&(!s||v&64)&&Yt(u,r,f,f[6],s?Jt(r,f[6],v,null):Vt(f[6]),null),(!s||v&32)&&p(e,"href",f[5]),(!s||v&3&&n!==(n="btn btn-"+f[0]+" btn-"+f[1]+" svelte-1vvc8tv"))&&p(e,"class",n),(!s||v&7)&&De(e,"disabled",f[2])},i(f){s||(P(u,f),s=!0)},o(f){N(u,f),s=!1},d(f){f&&w(e),c&&c.d(),u&&u.d(f),i=!1,o()}}}function Es(l){let e;return{c(){e=d("span"),p(e,"class","spinner svelte-1vvc8tv")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Ms(l){let e;return{c(){e=d("span"),p(e,"class","spinner svelte-1vvc8tv")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Cc(l){let e,t,n,s;const i=[yc,wc],o=[];function c(r,u){return r[5]?0:1}return e=c(l),t=o[e]=i[e](l),{c(){t.c(),n=je()},m(r,u){o[e].m(r,u),y(r,n,u),s=!0},p(r,[u]){let f=e;e=c(r),e===f?o[e].p(r,u):(ke(),N(o[f],1,1,()=>{o[f]=null}),we(),t=o[e],t?t.p(r,u):(t=o[e]=i[e](r),t.c()),P(t,1),t.m(n.parentNode,n))},i(r){s||(P(t),s=!0)},o(r){N(t),s=!1},d(r){r&&w(n),o[e].d(r)}}}function Sc(l,e,t){let{$$slots:n={},$$scope:s}=e,{variant:i="default"}=e,{size:o="md"}=e,{disabled:c=!1}=e,{loading:r=!1}=e,{type:u="button"}=e,{href:f=null}=e;function v(h){bs.call(this,l,h)}function _(h){bs.call(this,l,h)}return l.$$set=h=>{"variant"in h&&t(0,i=h.variant),"size"in h&&t(1,o=h.size),"disabled"in h&&t(2,c=h.disabled),"loading"in h&&t(3,r=h.loading),"type"in h&&t(4,u=h.type),"href"in h&&t(5,f=h.href),"$$scope"in h&&t(6,s=h.$$scope)},[i,o,c,r,u,f,s,n,v,_]}class Le extends et{constructor(e){super(),xe(this,e,Sc,Cc,Xe,{variant:0,size:1,disabled:2,loading:3,type:4,href:5})}}function Ls(l){let e,t=l[1].user.email+"",n;return{c(){e=d("span"),n=S(t),p(e,"class","user-email svelte-1qs0uw9")},m(s,i){y(s,e,i),a(e,n)},p(s,i){i&2&&t!==(t=s[1].user.email+"")&&B(n,t)},d(s){s&&w(e)}}}function qc(l){let e;return{c(){e=S("Logout")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Dc(l){let e,t,n,s,i,o,c,r,u,f,v=l[1].user&&Ls(l);return u=new Le({props:{variant:"ghost",size:"sm",$$slots:{default:[qc]},$$scope:{ctx:l}}}),u.$on("click",l[2]),{c(){e=d("header"),t=d("h1"),n=d("span"),s=b(),i=S(l[0]),o=b(),c=d("div"),v&&v.c(),r=b(),Z(u.$$.fragment),p(n,"class","brand-dot svelte-1qs0uw9"),p(t,"class","svelte-1qs0uw9"),p(c,"class","header-actions svelte-1qs0uw9"),p(e,"class","header glass svelte-1qs0uw9")},m(_,h){y(_,e,h),a(e,t),a(t,n),a(t,s),a(t,i),a(e,o),a(e,c),v&&v.m(c,null),a(c,r),K(u,c,null),f=!0},p(_,[h]){(!f||h&1)&&B(i,_[0]),_[1].user?v?v.p(_,h):(v=Ls(_),v.c(),v.m(c,r)):v&&(v.d(1),v=null);const m={};h&8&&(m.$$scope={dirty:h,ctx:_}),u.$set(m)},i(_){f||(P(u.$$.fragment,_),f=!0)},o(_){N(u.$$.fragment,_),f=!1},d(_){_&&w(e),v&&v.d(),Q(u)}}}function Tc(l,e,t){let n;Ze(l,gt,o=>t(1,n=o));let{title:s="Deploy Dashboard"}=e;function i(){gt.logout()}return l.$$set=o=>{"title"in o&&t(0,s=o.title)},[s,n,i]}class Pc extends et{constructor(e){super(),xe(this,e,Tc,Dc,Xe,{title:0})}}function Ns(l,e,t){const n=l.slice();return n[6]=e[t],n}function Rs(l){let e,t=l[6].icon+"",n;return{c(){e=d("span"),n=S(t),p(e,"class","tab-icon svelte-1po08a6")},m(s,i){y(s,e,i),a(e,n)},p(s,i){i&2&&t!==(t=s[6].icon+"")&&B(n,t)},d(s){s&&w(e)}}}function js(l){let e,t,n=l[6].label+"",s,i,o,c,r=l[6].icon&&Rs(l);function u(){return l[4](l[6])}return{c(){e=d("button"),r&&r.c(),t=b(),s=S(n),i=b(),p(e,"class","tab svelte-1po08a6"),De(e,"active",l[0]===l[6].id)},m(f,v){y(f,e,v),r&&r.m(e,null),a(e,t),a(e,s),a(e,i),o||(c=te(e,"click",u),o=!0)},p(f,v){l=f,l[6].icon?r?r.p(l,v):(r=Rs(l),r.c(),r.m(e,t)):r&&(r.d(1),r=null),v&2&&n!==(n=l[6].label+"")&&B(s,n),v&3&&De(e,"active",l[0]===l[6].id)},d(f){f&&w(e),r&&r.d(),o=!1,c()}}}function Ec(l){let e,t=me(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=js(Ns(l,t,s));return{c(){e=d("div");for(let s=0;s<n.length;s+=1)n[s].c();p(e,"class","tabs svelte-1po08a6"),De(e,"scrollable",l[2])},m(s,i){y(s,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,[i]){if(i&11){t=me(s[1]);let o;for(o=0;o<t.length;o+=1){const c=Ns(s,t,o);n[o]?n[o].p(c,i):(n[o]=js(c),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}i&4&&De(e,"scrollable",s[2])},i:ce,o:ce,d(s){s&&w(e),Re(n,s)}}}function Mc(l,e,t){let{tabs:n=[]}=e,{active:s=""}=e,{scrollable:i=!0}=e;const o=rn();function c(u){t(0,s=u),o("change",u)}const r=u=>c(u.id);return l.$$set=u=>{"tabs"in u&&t(1,n=u.tabs),"active"in u&&t(0,s=u.active),"scrollable"in u&&t(2,i=u.scrollable)},[s,n,i,c,r]}class Lc extends et{constructor(e){super(),xe(this,e,Mc,Ec,Xe,{tabs:1,active:0,scrollable:2})}}function Os(l,e,t){const n=l.slice();return n[16]=e[t],n}function As(l,e,t){var i,o,c;const n=l.slice();n[19]=e[t];const s=n[19].ip||((c=(o=(i=n[19].networks)==null?void 0:i.v4)==null?void 0:o[0])==null?void 0:c.ip_address);return n[20]=s,n}function Fs(l,e,t){const n=l.slice();return n[23]=e[t],n}function zs(l){let e,t=l[23]+"",n,s;return{c(){e=d("option"),n=S(t),e.__value=s=l[23],x(e,e.__value)},m(i,o){y(i,e,o),a(e,n)},p(i,o){o&8&&t!==(t=i[23]+"")&&B(n,t),o&8&&s!==(s=i[23])&&(e.__value=s,x(e,e.__value))},d(i){i&&w(e)}}}function Bs(l){let e,t=(l[19].name||"unnamed")+"",n,s,i=l[20]+"",o,c,r;return{c(){e=d("option"),n=S(t),s=S(" ("),o=S(i),c=S(")"),e.__value=r=l[20],x(e,e.__value)},m(u,f){y(u,e,f),a(e,n),a(e,s),a(e,o),a(e,c)},p(u,f){f&16&&t!==(t=(u[19].name||"unnamed")+"")&&B(n,t),f&16&&i!==(i=u[20]+"")&&B(o,i),f&16&&r!==(r=u[20])&&(e.__value=r,x(e,e.__value))},d(u){u&&w(e)}}}function Is(l){let e,t=l[20]&&Bs(l);return{c(){t&&t.c(),e=je()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,s){n[20]?t?t.p(n,s):(t=Bs(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&w(e),t&&t.d(n)}}}function Us(l){let e,t,n,s,i,o,c,r=me(l[5]),u=[];for(let f=0;f<r.length;f+=1)u[f]=Hs(Os(l,r,f));return{c(){e=d("div"),t=d("label"),t.textContent="Container:",n=b(),s=d("select"),i=d("option"),i.textContent="(All)";for(let f=0;f<u.length;f+=1)u[f].c();p(t,"class","svelte-1wvrz0m"),i.__value="",x(i,i.__value),p(s,"class","svelte-1wvrz0m"),l[2].container===void 0&&We(()=>l[12].call(s)),p(e,"class","scope-field svelte-1wvrz0m")},m(f,v){y(f,e,v),a(e,t),a(e,n),a(e,s),a(s,i);for(let _=0;_<u.length;_+=1)u[_]&&u[_].m(s,null);Ne(s,l[2].container,!0),o||(c=[te(s,"change",l[12]),te(s,"change",l[6])],o=!0)},p(f,v){if(v&32){r=me(f[5]);let _;for(_=0;_<r.length;_+=1){const h=Os(f,r,_);u[_]?u[_].p(h,v):(u[_]=Hs(h),u[_].c(),u[_].m(s,null))}for(;_<u.length;_+=1)u[_].d(1);u.length=r.length}v&12&&Ne(s,f[2].container)},d(f){f&&w(e),Re(u,f),o=!1,He(c)}}}function Hs(l){let e,t=l[16].name+"",n,s;return{c(){e=d("option"),n=S(t),e.__value=s=l[16].name,x(e,e.__value)},m(i,o){y(i,e,o),a(e,n)},p(i,o){o&32&&t!==(t=i[16].name+"")&&B(n,t),o&32&&s!==(s=i[16].name)&&(e.__value=s,x(e,e.__value))},d(i){i&&w(e)}}}function Gs(l){let e,t,n,s,i;return{c(){e=d("label"),t=d("input"),n=S(`
      Tail`),p(t,"type","checkbox"),p(t,"class","svelte-1wvrz0m"),p(e,"class","tail-toggle svelte-1wvrz0m")},m(o,c){y(o,e,c),a(e,t),t.checked=l[2].tail,a(e,n),s||(i=[te(t,"change",l[14]),te(t,"change",l[6])],s=!0)},p(o,c){c&12&&(t.checked=o[2].tail)},d(o){o&&w(e),s=!1,He(i)}}}function Nc(l){let e,t,n,s,i,o,c,r,u,f,v,_,h,m,g,C,k,$,q,D,T,E,M,L,O,A,z,I,Y,J,H,F,R,W,j,U,le,V,ie,ee,re,pe=me(l[3]),oe=[];for(let _e=0;_e<pe.length;_e+=1)oe[_e]=zs(Fs(l,pe,_e));let qe=me(l[4]),de=[];for(let _e=0;_e<qe.length;_e+=1)de[_e]=Is(As(l,qe,_e));let ae=l[1]&&l[2].server&&Us(l),ve=l[0]&&Gs(l);return{c(){e=d("div"),t=d("div"),n=d("div"),n.innerHTML='<span class="brand-dot svelte-1wvrz0m"></span> <span>cc</span>',s=b(),i=d("div"),o=d("label"),o.textContent="Project:",c=b(),r=d("select"),u=d("option"),u.textContent="All";for(let _e=0;_e<oe.length;_e+=1)oe[_e].c();f=b(),v=d("div"),_=d("label"),_.textContent="Env:",h=b(),m=d("select"),g=d("option"),g.textContent="All",C=d("option"),C.textContent="prod",k=d("option"),k.textContent="staging",$=d("option"),$.textContent="dev",q=b(),D=d("div"),T=d("label"),T.textContent="Server:",E=b(),M=d("select"),L=d("option"),L.textContent="(Fleet)";for(let _e=0;_e<de.length;_e+=1)de[_e].c();O=b(),ae&&ae.c(),A=b(),z=d("div"),I=d("label"),I.textContent="Last",Y=b(),J=d("select"),H=d("option"),H.textContent="15m",F=d("option"),F.textContent="1h",R=d("option"),R.textContent="6h",W=d("option"),W.textContent="24h",j=d("option"),j.textContent="7d",U=d("option"),U.textContent="30d",le=b(),V=d("button"),V.innerHTML='<svg viewBox="0 0 24 24" fill="none" class="svelte-1wvrz0m"><path d="M20 12a8 8 0 1 1-2.34-5.66" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path><path d="M20 4v6h-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>',ie=b(),ve&&ve.c(),p(n,"class","scope-brand svelte-1wvrz0m"),p(o,"class","svelte-1wvrz0m"),u.__value="",x(u,u.__value),p(r,"class","svelte-1wvrz0m"),l[2].project===void 0&&We(()=>l[9].call(r)),p(i,"class","scope-field svelte-1wvrz0m"),p(_,"class","svelte-1wvrz0m"),g.__value="",x(g,g.__value),C.__value="prod",x(C,C.__value),k.__value="staging",x(k,k.__value),$.__value="dev",x($,$.__value),p(m,"class","svelte-1wvrz0m"),l[2].env===void 0&&We(()=>l[10].call(m)),p(v,"class","scope-field svelte-1wvrz0m"),p(T,"class","svelte-1wvrz0m"),L.__value="",x(L,L.__value),p(M,"class","svelte-1wvrz0m"),l[2].server===void 0&&We(()=>l[11].call(M)),p(D,"class","scope-field svelte-1wvrz0m"),p(I,"class","svelte-1wvrz0m"),H.__value="15m",x(H,H.__value),F.__value="1h",x(F,F.__value),R.__value="6h",x(R,R.__value),W.__value="24h",x(W,W.__value),j.__value="7d",x(j,j.__value),U.__value="30d",x(U,U.__value),p(J,"class","svelte-1wvrz0m"),l[2].range===void 0&&We(()=>l[13].call(J)),p(z,"class","scope-field svelte-1wvrz0m"),p(V,"class","iconbtn svelte-1wvrz0m"),p(V,"title","Refresh"),p(t,"class","scope-bar-inner svelte-1wvrz0m"),p(e,"class","scope-bar glass svelte-1wvrz0m")},m(_e,ue){y(_e,e,ue),a(e,t),a(t,n),a(t,s),a(t,i),a(i,o),a(i,c),a(i,r),a(r,u);for(let se=0;se<oe.length;se+=1)oe[se]&&oe[se].m(r,null);Ne(r,l[2].project,!0),a(t,f),a(t,v),a(v,_),a(v,h),a(v,m),a(m,g),a(m,C),a(m,k),a(m,$),Ne(m,l[2].env,!0),a(t,q),a(t,D),a(D,T),a(D,E),a(D,M),a(M,L);for(let se=0;se<de.length;se+=1)de[se]&&de[se].m(M,null);Ne(M,l[2].server,!0),a(t,O),ae&&ae.m(t,null),a(t,A),a(t,z),a(z,I),a(z,Y),a(z,J),a(J,H),a(J,F),a(J,R),a(J,W),a(J,j),a(J,U),Ne(J,l[2].range,!0),a(t,le),a(t,V),a(e,ie),ve&&ve.m(e,null),ee||(re=[te(r,"change",l[9]),te(r,"change",l[6]),te(m,"change",l[10]),te(m,"change",l[6]),te(M,"change",l[11]),te(M,"change",l[7]),te(J,"change",l[13]),te(J,"change",l[6]),te(V,"click",l[8])],ee=!0)},p(_e,[ue]){if(ue&8){pe=me(_e[3]);let se;for(se=0;se<pe.length;se+=1){const Se=Fs(_e,pe,se);oe[se]?oe[se].p(Se,ue):(oe[se]=zs(Se),oe[se].c(),oe[se].m(r,null))}for(;se<oe.length;se+=1)oe[se].d(1);oe.length=pe.length}if(ue&12&&Ne(r,_e[2].project),ue&12&&Ne(m,_e[2].env),ue&16){qe=me(_e[4]);let se;for(se=0;se<qe.length;se+=1){const Se=As(_e,qe,se);de[se]?de[se].p(Se,ue):(de[se]=Is(Se),de[se].c(),de[se].m(M,null))}for(;se<de.length;se+=1)de[se].d(1);de.length=qe.length}ue&12&&Ne(M,_e[2].server),_e[1]&&_e[2].server?ae?ae.p(_e,ue):(ae=Us(_e),ae.c(),ae.m(t,A)):ae&&(ae.d(1),ae=null),ue&12&&Ne(J,_e[2].range),_e[0]?ve?ve.p(_e,ue):(ve=Gs(_e),ve.c(),ve.m(e,null)):ve&&(ve.d(1),ve=null)},i:ce,o:ce,d(_e){_e&&w(e),Re(oe,_e),Re(de,_e),ae&&ae.d(),ve&&ve.d(),ee=!1,He(re)}}}function Rc(l,e,t){let n,s,i,o;Ze(l,Dt,q=>t(2,n=q)),Ze(l,Sa,q=>t(3,s=q)),Ze(l,yl,q=>t(4,i=q)),Ze(l,rc,q=>t(5,o=q));let{showTail:c=!1}=e,{showContainer:r=!1}=e;const u=rn();function f(){u("change",n)}function v(){ms(Dt,n.container="",n),f()}function _(){u("refresh")}function h(){n.project=Qe(this),Dt.set(n)}function m(){n.env=Qe(this),Dt.set(n)}function g(){n.server=Qe(this),Dt.set(n)}function C(){n.container=Qe(this),Dt.set(n)}function k(){n.range=Qe(this),Dt.set(n)}function $(){n.tail=this.checked,Dt.set(n)}return l.$$set=q=>{"showTail"in q&&t(0,c=q.showTail),"showContainer"in q&&t(1,r=q.showContainer)},l.$$.update=()=>{l.$$.dirty&4&&(n.server?xn.fetch({server:n.server}):(xn.clear(),ms(Dt,n.container="",n)))},[c,r,n,s,i,o,f,v,_,h,m,g,C,k,$]}class jc extends et{constructor(e){super(),xe(this,e,Rc,Nc,Xe,{showTail:0,showContainer:1})}}const Oc=l=>({}),Ws=l=>({}),Ac=l=>({}),Js=l=>({});function Ys(l){let e,t,n,s=l[0]&&Vs(l);const i=l[5].header,o=Wt(i,l,l[4],Js);return{c(){e=d("div"),s&&s.c(),t=b(),o&&o.c(),p(e,"class","card-header svelte-1qbuf8h")},m(c,r){y(c,e,r),s&&s.m(e,null),a(e,t),o&&o.m(e,null),n=!0},p(c,r){c[0]?s?s.p(c,r):(s=Vs(c),s.c(),s.m(e,t)):s&&(s.d(1),s=null),o&&o.p&&(!n||r&16)&&Yt(o,i,c,c[4],n?Jt(i,c[4],r,Ac):Vt(c[4]),Js)},i(c){n||(P(o,c),n=!0)},o(c){N(o,c),n=!1},d(c){c&&w(e),s&&s.d(),o&&o.d(c)}}}function Vs(l){let e,t;return{c(){e=d("span"),t=S(l[0]),p(e,"class","card-title svelte-1qbuf8h")},m(n,s){y(n,e,s),a(e,t)},p(n,s){s&1&&B(t,n[0])},d(n){n&&w(e)}}}function Ks(l){let e,t;const n=l[5].footer,s=Wt(n,l,l[4],Ws);return{c(){e=d("div"),s&&s.c(),p(e,"class","card-footer svelte-1qbuf8h")},m(i,o){y(i,e,o),s&&s.m(e,null),t=!0},p(i,o){s&&s.p&&(!t||o&16)&&Yt(s,n,i,i[4],t?Jt(n,i[4],o,Oc):Vt(i[4]),Ws)},i(i){t||(P(s,i),t=!0)},o(i){N(s,i),t=!1},d(i){i&&w(e),s&&s.d(i)}}}function Fc(l){let e,t,n,s,i,o=(l[0]||l[3].header)&&Ys(l);const c=l[5].default,r=Wt(c,l,l[4],null);let u=l[3].footer&&Ks(l);return{c(){e=d("div"),o&&o.c(),t=b(),n=d("div"),r&&r.c(),s=b(),u&&u.c(),p(n,"class","card-body svelte-1qbuf8h"),p(e,"class","card svelte-1qbuf8h"),De(e,"glass",l[1]),De(e,"no-padding",!l[2])},m(f,v){y(f,e,v),o&&o.m(e,null),a(e,t),a(e,n),r&&r.m(n,null),a(e,s),u&&u.m(e,null),i=!0},p(f,[v]){f[0]||f[3].header?o?(o.p(f,v),v&9&&P(o,1)):(o=Ys(f),o.c(),P(o,1),o.m(e,t)):o&&(ke(),N(o,1,1,()=>{o=null}),we()),r&&r.p&&(!i||v&16)&&Yt(r,c,f,f[4],i?Jt(c,f[4],v,null):Vt(f[4]),null),f[3].footer?u?(u.p(f,v),v&8&&P(u,1)):(u=Ks(f),u.c(),P(u,1),u.m(e,null)):u&&(ke(),N(u,1,1,()=>{u=null}),we()),(!i||v&2)&&De(e,"glass",f[1]),(!i||v&4)&&De(e,"no-padding",!f[2])},i(f){i||(P(o),P(r,f),P(u),i=!0)},o(f){N(o),N(r,f),N(u),i=!1},d(f){f&&w(e),o&&o.d(),r&&r.d(f),u&&u.d()}}}function zc(l,e,t){let{$$slots:n={},$$scope:s}=e;const i=ca(n);let{title:o=""}=e,{glass:c=!1}=e,{padding:r=!0}=e;return l.$$set=u=>{"title"in u&&t(0,o=u.title),"glass"in u&&t(1,c=u.glass),"padding"in u&&t(2,r=u.padding),"$$scope"in u&&t(4,s=u.$$scope)},[o,c,r,i,s,n]}class ze extends et{constructor(e){super(),xe(this,e,zc,Fc,Xe,{title:0,glass:1,padding:2})}}const Bc=l=>({}),Qs=l=>({}),Ic=l=>({}),Zs=l=>({});function Xs(l){let e,t,n,s,i,o,c,r,u,f,v=(l[1]||l[6].header)&&xs(l);const _=l[9].default,h=Wt(_,l,l[8],null);let m=l[6].footer&&to(l);return{c(){e=d("div"),t=d("div"),v&&v.c(),n=b(),s=d("div"),h&&h.c(),i=b(),m&&m.c(),p(s,"class","modal-body svelte-kno8vc"),p(t,"class","modal svelte-kno8vc"),Ue(t,"max-width",l[2]),p(e,"class","modal-overlay svelte-kno8vc"),p(e,"role","dialog"),p(e,"aria-modal","true")},m(g,C){y(g,e,C),a(e,t),v&&v.m(t,null),a(t,n),a(t,s),h&&h.m(s,null),a(t,i),m&&m.m(t,null),r=!0,u||(f=te(e,"click",l[4]),u=!0)},p(g,C){g[1]||g[6].header?v?(v.p(g,C),C&66&&P(v,1)):(v=xs(g),v.c(),P(v,1),v.m(t,n)):v&&(ke(),N(v,1,1,()=>{v=null}),we()),h&&h.p&&(!r||C&256)&&Yt(h,_,g,g[8],r?Jt(_,g[8],C,null):Vt(g[8]),null),g[6].footer?m?(m.p(g,C),C&64&&P(m,1)):(m=to(g),m.c(),P(m,1),m.m(t,null)):m&&(ke(),N(m,1,1,()=>{m=null}),we()),(!r||C&4)&&Ue(t,"max-width",g[2])},i(g){r||(P(v),P(h,g),P(m),g&&We(()=>{r&&(o||(o=Ol(t,Ds,{duration:200,start:.95},!0)),o.run(1))}),g&&We(()=>{r&&(c||(c=Ol(e,Ss,{duration:150},!0)),c.run(1))}),r=!0)},o(g){N(v),N(h,g),N(m),g&&(o||(o=Ol(t,Ds,{duration:200,start:.95},!1)),o.run(0)),g&&(c||(c=Ol(e,Ss,{duration:150},!1)),c.run(0)),r=!1},d(g){g&&w(e),v&&v.d(),h&&h.d(g),m&&m.d(),g&&o&&o.end(),g&&c&&c.end(),u=!1,f()}}}function xs(l){let e,t,n,s,i,o,c,r=l[1]&&eo(l);const u=l[9].header,f=Wt(u,l,l[8],Zs);return{c(){e=d("div"),r&&r.c(),t=b(),f&&f.c(),n=b(),s=d("button"),s.innerHTML='<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-kno8vc"><path d="M18 6L6 18M6 6l12 12"></path></svg>',p(s,"class","modal-close svelte-kno8vc"),p(s,"aria-label","Close"),p(e,"class","modal-header svelte-kno8vc")},m(v,_){y(v,e,_),r&&r.m(e,null),a(e,t),f&&f.m(e,null),a(e,n),a(e,s),i=!0,o||(c=te(s,"click",l[3]),o=!0)},p(v,_){v[1]?r?r.p(v,_):(r=eo(v),r.c(),r.m(e,t)):r&&(r.d(1),r=null),f&&f.p&&(!i||_&256)&&Yt(f,u,v,v[8],i?Jt(u,v[8],_,Ic):Vt(v[8]),Zs)},i(v){i||(P(f,v),i=!0)},o(v){N(f,v),i=!1},d(v){v&&w(e),r&&r.d(),f&&f.d(v),o=!1,c()}}}function eo(l){let e,t;return{c(){e=d("h3"),t=S(l[1]),p(e,"class","svelte-kno8vc")},m(n,s){y(n,e,s),a(e,t)},p(n,s){s&2&&B(t,n[1])},d(n){n&&w(e)}}}function to(l){let e,t;const n=l[9].footer,s=Wt(n,l,l[8],Qs);return{c(){e=d("div"),s&&s.c(),p(e,"class","modal-footer svelte-kno8vc")},m(i,o){y(i,e,o),s&&s.m(e,null),t=!0},p(i,o){s&&s.p&&(!t||o&256)&&Yt(s,n,i,i[8],t?Jt(n,i[8],o,Bc):Vt(i[8]),Qs)},i(i){t||(P(s,i),t=!0)},o(i){N(s,i),t=!1},d(i){i&&w(e),s&&s.d(i)}}}function Uc(l){let e,t,n,s,i=l[0]&&Xs(l);return{c(){i&&i.c(),e=je()},m(o,c){i&&i.m(o,c),y(o,e,c),t=!0,n||(s=te(window,"keydown",l[5]),n=!0)},p(o,[c]){o[0]?i?(i.p(o,c),c&1&&P(i,1)):(i=Xs(o),i.c(),P(i,1),i.m(e.parentNode,e)):i&&(ke(),N(i,1,1,()=>{i=null}),we())},i(o){t||(P(i),t=!0)},o(o){N(i),t=!1},d(o){o&&w(e),i&&i.d(o),n=!1,s()}}}function Hc(l,e,t){let{$$slots:n={},$$scope:s}=e;const i=ca(n);let{open:o=!1}=e,{title:c=""}=e,{width:r="500px"}=e,{closeOnOverlay:u=!0}=e;const f=rn();function v(){f("close")}function _(m){u&&m.target===m.currentTarget&&v()}function h(m){m.key==="Escape"&&v()}return l.$$set=m=>{"open"in m&&t(0,o=m.open),"title"in m&&t(1,c=m.title),"width"in m&&t(2,r=m.width),"closeOnOverlay"in m&&t(7,u=m.closeOnOverlay),"$$scope"in m&&t(8,s=m.$$scope)},[o,c,r,v,_,h,i,u,s,n]}class wl extends et{constructor(e){super(),xe(this,e,Hc,Uc,Xe,{open:0,title:1,width:2,closeOnOverlay:7})}}function Gc(l){let e,t,n;const s=l[2].default,i=Wt(s,l,l[1],null);return{c(){e=d("span"),i&&i.c(),p(e,"class",t="badge badge-"+l[0]+" svelte-1d0la3i")},m(o,c){y(o,e,c),i&&i.m(e,null),n=!0},p(o,[c]){i&&i.p&&(!n||c&2)&&Yt(i,s,o,o[1],n?Jt(s,o[1],c,null):Vt(o[1]),null),(!n||c&1&&t!==(t="badge badge-"+o[0]+" svelte-1d0la3i"))&&p(e,"class",t)},i(o){n||(P(i,o),n=!0)},o(o){N(i,o),n=!1},d(o){o&&w(e),i&&i.d(o)}}}function Wc(l,e,t){let{$$slots:n={},$$scope:s}=e,{variant:i="info"}=e;return l.$$set=o=>{"variant"in o&&t(0,i=o.variant),"$$scope"in o&&t(1,s=o.$$scope)},[i,s,n]}class Be extends et{constructor(e){super(),xe(this,e,Wc,Gc,Xe,{variant:0})}}function lo(l,e,t){const n=l.slice();return n[15]=e[t],n}function no(l){let e,t;return e=new Be({props:{variant:"info",$$slots:{default:[Jc]},$$scope:{ctx:l}}}),{c(){Z(e.$$.fragment)},m(n,s){K(e,n,s),t=!0},p(n,s){const i={};s&262145&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){Q(e,n)}}}function Jc(l){let e=l[0].project+"",t;return{c(){t=S(e)},m(n,s){y(n,t,s)},p(n,s){s&1&&e!==(e=n[0].project+"")&&B(t,e)},d(n){n&&w(t)}}}function so(l){let e,t;return e=new Be({props:{variant:l[0].env==="prod"?"danger":"warning",$$slots:{default:[Yc]},$$scope:{ctx:l}}}),{c(){Z(e.$$.fragment)},m(n,s){K(e,n,s),t=!0},p(n,s){const i={};s&1&&(i.variant=n[0].env==="prod"?"danger":"warning"),s&262145&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){Q(e,n)}}}function Yc(l){let e=l[0].env+"",t;return{c(){t=S(e)},m(n,s){y(n,t,s)},p(n,s){s&1&&e!==(e=n[0].env+"")&&B(t,e)},d(n){n&&w(t)}}}function oo(l){let e,t,n,s,i=l[4].length+"",o;return{c(){e=d("div"),t=d("span"),t.textContent="Containers",n=b(),s=d("span"),o=S(i),p(t,"class","label svelte-1jkc1of"),p(e,"class","detail svelte-1jkc1of")},m(c,r){y(c,e,r),a(e,t),a(e,n),a(e,s),a(s,o)},p(c,r){r&16&&i!==(i=c[4].length+"")&&B(o,i)},d(c){c&&w(e)}}}function io(l){let e,t,n,s,i,o;return{c(){e=d("div"),t=d("span"),t.textContent="Agent",n=b(),s=d("span"),i=S("v"),o=S(l[1]),p(t,"class","label svelte-1jkc1of"),p(s,"class","svelte-1jkc1of"),De(s,"outdated",l[3]),p(e,"class","detail svelte-1jkc1of")},m(c,r){y(c,e,r),a(e,t),a(e,n),a(e,s),a(s,i),a(s,o)},p(c,r){r&2&&B(o,c[1]),r&8&&De(s,"outdated",c[3])},d(c){c&&w(e)}}}function ro(l){let e,t,n=me(l[4].slice(0,5)),s=[];for(let o=0;o<n.length;o+=1)s[o]=ao(lo(l,n,o));let i=l[4].length>5&&co(l);return{c(){e=d("div");for(let o=0;o<s.length;o+=1)s[o].c();t=b(),i&&i.c(),p(e,"class","containers svelte-1jkc1of")},m(o,c){y(o,e,c);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null);a(e,t),i&&i.m(e,null)},p(o,c){if(c&16){n=me(o[4].slice(0,5));let r;for(r=0;r<n.length;r+=1){const u=lo(o,n,r);s[r]?s[r].p(u,c):(s[r]=ao(u),s[r].c(),s[r].m(e,t))}for(;r<s.length;r+=1)s[r].d(1);s.length=n.length}o[4].length>5?i?i.p(o,c):(i=co(o),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(o){o&&w(e),Re(s,o),i&&i.d()}}}function ao(l){let e,t=(l[15].name||l[15])+"",n;return{c(){e=d("span"),n=S(t),p(e,"class","container-tag svelte-1jkc1of")},m(s,i){y(s,e,i),a(e,n)},p(s,i){i&16&&t!==(t=(s[15].name||s[15])+"")&&B(n,t)},d(s){s&&w(e)}}}function co(l){let e,t,n=l[4].length-5+"",s;return{c(){e=d("span"),t=S("+"),s=S(n),p(e,"class","container-tag more svelte-1jkc1of")},m(i,o){y(i,e,o),a(e,t),a(e,s)},p(i,o){o&16&&n!==(n=i[4].length-5+"")&&B(s,n)},d(i){i&&w(e)}}}function Vc(l){let e;return{c(){e=S("Terminal")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Kc(l){let e;return{c(){e=S("Details")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Qc(l){let e,t;return e=new Le({props:{variant:"warning",size:"sm",$$slots:{default:[Xc]},$$scope:{ctx:l}}}),e.$on("click",l[12]),{c(){Z(e.$$.fragment)},m(n,s){K(e,n,s),t=!0},p(n,s){const i={};s&262144&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){Q(e,n)}}}function Zc(l){let e,t;return e=new Le({props:{variant:"success",size:"sm",$$slots:{default:[xc]},$$scope:{ctx:l}}}),e.$on("click",l[11]),{c(){Z(e.$$.fragment)},m(n,s){K(e,n,s),t=!0},p(n,s){const i={};s&262144&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){Q(e,n)}}}function Xc(l){let e;return{c(){e=S("Stop")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function xc(l){let e;return{c(){e=S("Start")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function eu(l){let e;return{c(){e=S("Destroy")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function tu(l){var Ce;let e,t,n,s,i,o,c,r=(l[0].name||"Unnamed")+"",u,f,v,_,h,m,g,C,k,$,q,D,T,E,M,L,O=(l[0].size_slug||l[0].size||"N/A")+"",A,z,I,Y,J,H,F=(((Ce=l[0].region)==null?void 0:Ce.slug)||l[0].region||"N/A")+"",R,W,j,U,le,V,ie,ee,re,pe,oe,qe,de,ae,ve,_e=l[0].project&&no(l),ue=l[0].env&&so(l),se=l[4].length>0&&oo(l),Se=l[1]&&io(l),Fe=l[4].length>0&&ro(l);ie=new Le({props:{variant:"ghost",size:"sm",$$slots:{default:[Vc]},$$scope:{ctx:l}}}),ie.$on("click",l[9]),re=new Le({props:{variant:"ghost",size:"sm",$$slots:{default:[Kc]},$$scope:{ctx:l}}}),re.$on("click",l[10]);const nt=[Zc,Qc],Je=[];function pt(he,Ee){return he[5]?1:0}return oe=pt(l),qe=Je[oe]=nt[oe](l),ae=new Le({props:{variant:"danger",size:"sm",$$slots:{default:[eu]},$$scope:{ctx:l}}}),ae.$on("click",l[13]),{c(){e=d("div"),t=d("div"),n=d("div"),s=d("span"),o=b(),c=d("span"),u=S(r),f=b(),v=d("div"),_e&&_e.c(),_=b(),ue&&ue.c(),h=b(),m=d("div"),g=d("div"),C=d("span"),C.textContent="IP",k=b(),$=d("code"),q=S(l[6]),D=b(),T=d("div"),E=d("span"),E.textContent="Size",M=b(),L=d("span"),A=S(O),z=b(),I=d("div"),Y=d("span"),Y.textContent="Region",J=b(),H=d("span"),R=S(F),W=b(),se&&se.c(),j=b(),Se&&Se.c(),U=b(),Fe&&Fe.c(),le=b(),V=d("div"),Z(ie.$$.fragment),ee=b(),Z(re.$$.fragment),pe=b(),qe.c(),de=b(),Z(ae.$$.fragment),p(s,"class",i="status-dot "+l[7](l[2])+" svelte-1jkc1of"),p(n,"class","server-name svelte-1jkc1of"),p(v,"class","server-badges svelte-1jkc1of"),p(t,"class","server-header svelte-1jkc1of"),p(C,"class","label svelte-1jkc1of"),p($,"class","server-ip svelte-1jkc1of"),p(g,"class","detail svelte-1jkc1of"),p(E,"class","label svelte-1jkc1of"),p(T,"class","detail svelte-1jkc1of"),p(Y,"class","label svelte-1jkc1of"),p(I,"class","detail svelte-1jkc1of"),p(m,"class","server-details svelte-1jkc1of"),p(V,"class","server-actions svelte-1jkc1of"),p(e,"class","server-item svelte-1jkc1of")},m(he,Ee){y(he,e,Ee),a(e,t),a(t,n),a(n,s),a(n,o),a(n,c),a(c,u),a(t,f),a(t,v),_e&&_e.m(v,null),a(v,_),ue&&ue.m(v,null),a(e,h),a(e,m),a(m,g),a(g,C),a(g,k),a(g,$),a($,q),a(m,D),a(m,T),a(T,E),a(T,M),a(T,L),a(L,A),a(m,z),a(m,I),a(I,Y),a(I,J),a(I,H),a(H,R),a(m,W),se&&se.m(m,null),a(m,j),Se&&Se.m(m,null),a(e,U),Fe&&Fe.m(e,null),a(e,le),a(e,V),K(ie,V,null),a(V,ee),K(re,V,null),a(V,pe),Je[oe].m(V,null),a(V,de),K(ae,V,null),ve=!0},p(he,[Ee]){var Tt;(!ve||Ee&4&&i!==(i="status-dot "+he[7](he[2])+" svelte-1jkc1of"))&&p(s,"class",i),(!ve||Ee&1)&&r!==(r=(he[0].name||"Unnamed")+"")&&B(u,r),he[0].project?_e?(_e.p(he,Ee),Ee&1&&P(_e,1)):(_e=no(he),_e.c(),P(_e,1),_e.m(v,_)):_e&&(ke(),N(_e,1,1,()=>{_e=null}),we()),he[0].env?ue?(ue.p(he,Ee),Ee&1&&P(ue,1)):(ue=so(he),ue.c(),P(ue,1),ue.m(v,null)):ue&&(ke(),N(ue,1,1,()=>{ue=null}),we()),(!ve||Ee&64)&&B(q,he[6]),(!ve||Ee&1)&&O!==(O=(he[0].size_slug||he[0].size||"N/A")+"")&&B(A,O),(!ve||Ee&1)&&F!==(F=(((Tt=he[0].region)==null?void 0:Tt.slug)||he[0].region||"N/A")+"")&&B(R,F),he[4].length>0?se?se.p(he,Ee):(se=oo(he),se.c(),se.m(m,j)):se&&(se.d(1),se=null),he[1]?Se?Se.p(he,Ee):(Se=io(he),Se.c(),Se.m(m,null)):Se&&(Se.d(1),Se=null),he[4].length>0?Fe?Fe.p(he,Ee):(Fe=ro(he),Fe.c(),Fe.m(e,le)):Fe&&(Fe.d(1),Fe=null);const Ke={};Ee&262144&&(Ke.$$scope={dirty:Ee,ctx:he}),ie.$set(Ke);const tt={};Ee&262144&&(tt.$$scope={dirty:Ee,ctx:he}),re.$set(tt);let Oe=oe;oe=pt(he),oe===Oe?Je[oe].p(he,Ee):(ke(),N(Je[Oe],1,1,()=>{Je[Oe]=null}),we(),qe=Je[oe],qe?qe.p(he,Ee):(qe=Je[oe]=nt[oe](he),qe.c()),P(qe,1),qe.m(V,de));const yt={};Ee&262144&&(yt.$$scope={dirty:Ee,ctx:he}),ae.$set(yt)},i(he){ve||(P(_e),P(ue),P(ie.$$.fragment,he),P(re.$$.fragment,he),P(qe),P(ae.$$.fragment,he),ve=!0)},o(he){N(_e),N(ue),N(ie.$$.fragment,he),N(re.$$.fragment,he),N(qe),N(ae.$$.fragment,he),ve=!1},d(he){he&&w(e),_e&&_e.d(),ue&&ue.d(),se&&se.d(),Se&&Se.d(),Fe&&Fe.d(),Q(ie),Q(re),Je[oe].d(),Q(ae)}}}function lu(l,e,t){let n,s,i,o,c,r,{server:u}=e;const f=rn();function v($){switch($){case"active":case"online":return"green";case"new":case"starting":return"blue";case"off":case"stopped":return"yellow";default:return"red"}}function _($){f($,{server:u})}const h=()=>_("ssh"),m=()=>_("details"),g=()=>_("start"),C=()=>_("stop"),k=()=>_("destroy");return l.$$set=$=>{"server"in $&&t(0,u=$.server)},l.$$.update=()=>{var $,q,D;l.$$.dirty&1&&t(6,n=u.ip||((D=(q=($=u.networks)==null?void 0:$.v4)==null?void 0:q[0])==null?void 0:D.ip_address)||"N/A"),l.$$.dirty&1&&t(2,s=u.status||"unknown"),l.$$.dirty&4&&t(5,i=s==="active"||s==="online"),l.$$.dirty&1&&t(4,o=u.containers||[]),l.$$.dirty&1&&t(1,c=u.agent_version),l.$$.dirty&2&&t(3,r=c&&c!==ac)},[u,c,s,r,o,i,n,v,_,h,m,g,C,k]}class nu extends et{constructor(e){super(),xe(this,e,lu,tu,Xe,{server:0})}}function uo(l,e,t){const n=l.slice();return n[22]=e[t],n}function fo(l,e,t){const n=l.slice();return n[25]=e[t],n}function po(l,e,t){const n=l.slice();return n[28]=e[t],n}function su(l){let e,t;return{c(){e=d("span"),e.textContent="+",t=S(`
      Provision`),p(e,"class","plus-icon svelte-156md29")},m(n,s){y(n,e,s),y(n,t,s)},p:ce,d(n){n&&(w(e),w(t))}}}function ou(l){let e=[],t=new Map,n,s,i=me(l[3]);const o=c=>c[28].id;for(let c=0;c<i.length;c+=1){let r=po(l,i,c),u=o(r);t.set(u,e[c]=_o(u,r))}return{c(){for(let c=0;c<e.length;c+=1)e[c].c();n=je()},m(c,r){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(c,r);y(c,n,r),s=!0},p(c,r){r[0]&136&&(i=me(c[3]),ke(),e=ba(e,r,o,1,c,i,t,n.parentNode,ga,_o,n,po),we())},i(c){if(!s){for(let r=0;r<i.length;r+=1)P(e[r]);s=!0}},o(c){for(let r=0;r<e.length;r+=1)N(e[r]);s=!1},d(c){c&&w(n);for(let r=0;r<e.length;r+=1)e[r].d(c)}}}function iu(l){let e;return{c(){e=d("div"),e.innerHTML="<p>No servers found. Provision one to get started.</p>",p(e,"class","empty-state svelte-156md29")},m(t,n){y(t,e,n)},p:ce,i:ce,o:ce,d(t){t&&w(e)}}}function ru(l){let e;return{c(){e=d("div"),e.innerHTML="<p>Loading...</p>",p(e,"class","empty-state svelte-156md29")},m(t,n){y(t,e,n)},p:ce,i:ce,o:ce,d(t){t&&w(e)}}}function _o(l,e){let t,n,s;return n=new nu({props:{server:e[28]}}),n.$on("start",e[7]),n.$on("stop",e[7]),n.$on("destroy",e[7]),n.$on("ssh",e[7]),n.$on("details",e[7]),{key:l,first:null,c(){t=je(),Z(n.$$.fragment),this.first=t},m(i,o){y(i,t,o),K(n,i,o),s=!0},p(i,o){e=i;const c={};o[0]&8&&(c.server=e[28]),n.$set(c)},i(i){s||(P(n.$$.fragment,i),s=!0)},o(i){N(n.$$.fragment,i),s=!1},d(i){i&&w(t),Q(n,i)}}}function au(l){let e,t,n,s;const i=[ru,iu,ou],o=[];function c(r,u){return r[0]?0:r[3].length===0?1:2}return t=c(l),n=o[t]=i[t](l),{c(){e=d("div"),n.c(),p(e,"class","server-list svelte-156md29")},m(r,u){y(r,e,u),o[t].m(e,null),s=!0},p(r,u){let f=t;t=c(r),t===f?o[t].p(r,u):(ke(),N(o[f],1,1,()=>{o[f]=null}),we(),n=o[t],n?n.p(r,u):(n=o[t]=i[t](r),n.c()),P(n,1),n.m(e,null))},i(r){s||(P(n),s=!0)},o(r){N(n),s=!1},d(r){r&&w(e),o[t].d()}}}function cu(l){let e;return{c(){e=S("↻ Refresh")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function uu(l){let e,t;return e=new Le({props:{slot:"header",variant:"ghost",size:"sm",$$slots:{default:[cu]},$$scope:{ctx:l}}}),e.$on("click",l[12]),{c(){Z(e.$$.fragment)},m(n,s){K(e,n,s),t=!0},p(n,s){const i={};s[1]&1&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){Q(e,n)}}}function vo(l){let e,t=l[25].label+"",n;return{c(){e=d("option"),n=S(t),e.__value=l[25].value,x(e,e.__value)},m(s,i){y(s,e,i),a(e,n)},p:ce,d(s){s&&w(e)}}}function mo(l){let e,t=l[22].label+"",n;return{c(){e=d("option"),n=S(t),e.__value=l[22].value,x(e,e.__value)},m(s,i){y(s,e,i),a(e,n)},p:ce,d(s){s&&w(e)}}}function fu(l){let e,t,n,s,i,o,c,r,u,f,v,_,h,m,g,C,k,$,q,D,T,E,M,L,O,A,z,I,Y,J,H,F,R,W,j,U,le,V,ie=me(l[4]),ee=[];for(let oe=0;oe<ie.length;oe+=1)ee[oe]=vo(fo(l,ie,oe));let re=me(l[5]),pe=[];for(let oe=0;oe<re.length;oe+=1)pe[oe]=mo(uo(l,re,oe));return{c(){e=d("form"),t=d("div"),n=d("div"),s=d("label"),s.textContent="Name *",i=b(),o=d("input"),c=b(),r=d("div"),u=d("div"),f=d("label"),f.textContent="Project",v=b(),_=d("input"),h=b(),m=d("div"),g=d("label"),g.textContent="Environment",C=b(),k=d("select"),$=d("option"),$.textContent="Production",q=d("option"),q.textContent="Staging",D=d("option"),D.textContent="Development",T=b(),E=d("div"),M=d("div"),L=d("label"),L.textContent="Region",O=b(),A=d("select");for(let oe=0;oe<ee.length;oe+=1)ee[oe].c();z=b(),I=d("div"),Y=d("label"),Y.textContent="Count",J=b(),H=d("input"),F=b(),R=d("div"),W=d("label"),W.textContent="Size",j=b(),U=d("select");for(let oe=0;oe<pe.length;oe+=1)pe[oe].c();p(s,"for","prov-name"),p(s,"class","svelte-156md29"),p(o,"id","prov-name"),p(o,"type","text"),p(o,"placeholder","web-server-01"),o.required=!0,p(o,"class","svelte-156md29"),p(n,"class","form-group svelte-156md29"),p(t,"class","form-row svelte-156md29"),p(f,"for","prov-project"),p(f,"class","svelte-156md29"),p(_,"id","prov-project"),p(_,"type","text"),p(_,"placeholder","myapp"),p(_,"class","svelte-156md29"),p(u,"class","form-group svelte-156md29"),p(g,"for","prov-env"),p(g,"class","svelte-156md29"),$.__value="prod",x($,$.__value),q.__value="staging",x(q,q.__value),D.__value="dev",x(D,D.__value),p(k,"id","prov-env"),p(k,"class","svelte-156md29"),l[2].env===void 0&&We(()=>l[16].call(k)),p(m,"class","form-group svelte-156md29"),p(r,"class","form-row two-col svelte-156md29"),p(L,"for","prov-region"),p(L,"class","svelte-156md29"),p(A,"id","prov-region"),p(A,"class","svelte-156md29"),l[2].region===void 0&&We(()=>l[17].call(A)),p(M,"class","form-group svelte-156md29"),p(Y,"for","prov-count"),p(Y,"class","svelte-156md29"),p(H,"id","prov-count"),p(H,"type","number"),p(H,"min","1"),p(H,"max","10"),p(H,"class","svelte-156md29"),p(I,"class","form-group svelte-156md29"),p(E,"class","form-row two-col svelte-156md29"),p(W,"for","prov-size"),p(W,"class","svelte-156md29"),p(U,"id","prov-size"),p(U,"class","svelte-156md29"),l[2].size===void 0&&We(()=>l[19].call(U)),p(R,"class","form-group svelte-156md29")},m(oe,qe){y(oe,e,qe),a(e,t),a(t,n),a(n,s),a(n,i),a(n,o),x(o,l[2].name),a(e,c),a(e,r),a(r,u),a(u,f),a(u,v),a(u,_),x(_,l[2].project),a(r,h),a(r,m),a(m,g),a(m,C),a(m,k),a(k,$),a(k,q),a(k,D),Ne(k,l[2].env,!0),a(e,T),a(e,E),a(E,M),a(M,L),a(M,O),a(M,A);for(let de=0;de<ee.length;de+=1)ee[de]&&ee[de].m(A,null);Ne(A,l[2].region,!0),a(E,z),a(E,I),a(I,Y),a(I,J),a(I,H),x(H,l[2].count),a(e,F),a(e,R),a(R,W),a(R,j),a(R,U);for(let de=0;de<pe.length;de+=1)pe[de]&&pe[de].m(U,null);Ne(U,l[2].size,!0),le||(V=[te(o,"input",l[14]),te(_,"input",l[15]),te(k,"change",l[16]),te(A,"change",l[17]),te(H,"input",l[18]),te(U,"change",l[19]),te(e,"submit",_a(l[6]))],le=!0)},p(oe,qe){if(qe[0]&4&&o.value!==oe[2].name&&x(o,oe[2].name),qe[0]&4&&_.value!==oe[2].project&&x(_,oe[2].project),qe[0]&4&&Ne(k,oe[2].env),qe[0]&16){ie=me(oe[4]);let de;for(de=0;de<ie.length;de+=1){const ae=fo(oe,ie,de);ee[de]?ee[de].p(ae,qe):(ee[de]=vo(ae),ee[de].c(),ee[de].m(A,null))}for(;de<ee.length;de+=1)ee[de].d(1);ee.length=ie.length}if(qe[0]&4&&Ne(A,oe[2].region),qe[0]&4&&Rt(H.value)!==oe[2].count&&x(H,oe[2].count),qe[0]&32){re=me(oe[5]);let de;for(de=0;de<re.length;de+=1){const ae=uo(oe,re,de);pe[de]?pe[de].p(ae,qe):(pe[de]=mo(ae),pe[de].c(),pe[de].m(U,null))}for(;de<pe.length;de+=1)pe[de].d(1);pe.length=re.length}qe[0]&4&&Ne(U,oe[2].size)},d(oe){oe&&w(e),Re(ee,oe),Re(pe,oe),le=!1,He(V)}}}function pu(l){let e;return{c(){e=S("Cancel")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function du(l){let e;return{c(){e=S("🚀 Provision")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function _u(l){let e,t,n,s,i;return t=new Le({props:{variant:"ghost",$$slots:{default:[pu]},$$scope:{ctx:l}}}),t.$on("click",l[13]),s=new Le({props:{variant:"primary",$$slots:{default:[du]},$$scope:{ctx:l}}}),s.$on("click",l[6]),{c(){e=d("div"),Z(t.$$.fragment),n=b(),Z(s.$$.fragment),p(e,"slot","footer")},m(o,c){y(o,e,c),K(t,e,null),a(e,n),K(s,e,null),i=!0},p(o,c){const r={};c[1]&1&&(r.$$scope={dirty:c,ctx:o}),t.$set(r);const u={};c[1]&1&&(u.$$scope={dirty:c,ctx:o}),s.$set(u)},i(o){i||(P(t.$$.fragment,o),P(s.$$.fragment,o),i=!0)},o(o){N(t.$$.fragment,o),N(s.$$.fragment,o),i=!1},d(o){o&&w(e),Q(t),Q(s)}}}function vu(l){let e,t,n,s,i,o,c,r,u,f,v;i=new Le({props:{variant:"primary",$$slots:{default:[su]},$$scope:{ctx:l}}}),i.$on("click",l[11]),c=new ze({props:{title:"Servers",padding:!1,$$slots:{header:[uu],default:[au]},$$scope:{ctx:l}}});function _(m){l[20](m)}let h={title:"Provision Server",width:"500px",$$slots:{footer:[_u],default:[fu]},$$scope:{ctx:l}};return l[1]!==void 0&&(h.open=l[1]),u=new wl({props:h}),at.push(()=>kl(u,"open",_)),u.$on("close",l[21]),{c(){e=d("div"),t=d("div"),n=d("div"),n.innerHTML='<h1 class="svelte-156md29">Infrastructure</h1> <p class="subtitle svelte-156md29">Inventory &amp; lifecycle actions</p>',s=b(),Z(i.$$.fragment),o=b(),Z(c.$$.fragment),r=b(),Z(u.$$.fragment),p(t,"class","page-header svelte-156md29"),p(e,"class","infrastructure svelte-156md29")},m(m,g){y(m,e,g),a(e,t),a(t,n),a(t,s),K(i,t,null),a(e,o),K(c,e,null),y(m,r,g),K(u,m,g),v=!0},p(m,g){const C={};g[1]&1&&(C.$$scope={dirty:g,ctx:m}),i.$set(C);const k={};g[0]&9|g[1]&1&&(k.$$scope={dirty:g,ctx:m}),c.$set(k);const $={};g[0]&6|g[1]&1&&($.$$scope={dirty:g,ctx:m}),!f&&g[0]&2&&(f=!0,$.open=m[1],$l(()=>f=!1)),u.$set($)},i(m){v||(P(i.$$.fragment,m),P(c.$$.fragment,m),P(u.$$.fragment,m),v=!0)},o(m){N(i.$$.fragment,m),N(c.$$.fragment,m),N(u.$$.fragment,m),v=!1},d(m){m&&(w(e),w(r)),Q(i),Q(c),Q(u,m)}}}function mu(l,e,t){let n,s,i;Ze(l,cl,O=>t(10,s=O)),Ze(l,yl,O=>t(3,i=O));let o=!1,c=!1,r={name:"",project:"",env:"prod",region:"nyc1",size:"s-1vcpu-1gb",count:1};const u=[{value:"nyc1",label:"New York 1"},{value:"nyc3",label:"New York 3"},{value:"sfo3",label:"San Francisco 3"},{value:"ams3",label:"Amsterdam 3"},{value:"sgp1",label:"Singapore 1"},{value:"lon1",label:"London 1"},{value:"fra1",label:"Frankfurt 1"},{value:"tor1",label:"Toronto 1"},{value:"blr1",label:"Bangalore 1"}],f=[{value:"s-1vcpu-512mb-10gb",label:"$4/mo - 1 vCPU, 512MB RAM"},{value:"s-1vcpu-1gb",label:"$6/mo - 1 vCPU, 1GB RAM"},{value:"s-1vcpu-2gb",label:"$12/mo - 1 vCPU, 2GB RAM"},{value:"s-2vcpu-2gb",label:"$18/mo - 2 vCPU, 2GB RAM"},{value:"s-2vcpu-4gb",label:"$24/mo - 2 vCPU, 4GB RAM"},{value:"s-4vcpu-8gb",label:"$48/mo - 4 vCPU, 8GB RAM"}];async function v(){try{const O=await Ae("POST","/infra/servers/provision",{name:r.name,project:r.project,env:r.env,region:r.region,size:r.size,count:r.count});ge.success(`Provisioned ${O.created||1} server(s)`),t(1,c=!1),cl.refresh()}catch(O){ge.error("Failed to provision: "+O.message)}}async function _(O){const{server:A}=O.detail,z=O.type;try{switch(z){case"start":ge.info("Power actions not yet implemented. Use DigitalOcean console.");break;case"stop":ge.info("Power actions not yet implemented. Use DigitalOcean console.");break;case"destroy":confirm(`Are you sure you want to destroy ${A.name}? This cannot be undone.`)&&(await Ae("DELETE",`/infra/servers/${A.id}`),ge.success(`Destroyed ${A.name}`));break;case"ssh":ge.info("Terminal feature coming soon");break;case"details":ge.info("Details modal coming soon");break}cl.refresh()}catch(I){ge.error(`Failed to ${z}: ${I.message}`)}}function h(){cl.refresh()}const m=()=>t(1,c=!0),g=()=>cl.refresh(),C=()=>t(1,c=!1);function k(){r.name=this.value,t(2,r)}function $(){r.project=this.value,t(2,r)}function q(){r.env=Qe(this),t(2,r)}function D(){r.region=Qe(this),t(2,r)}function T(){r.count=Rt(this.value),t(2,r)}function E(){r.size=Qe(this),t(2,r)}function M(O){c=O,t(1,c)}const L=()=>t(1,c=!1);return l.$$.update=()=>{l.$$.dirty[0]&1024&&t(9,n=s||{loading:!1}),l.$$.dirty[0]&512&&t(0,o=n.loading)},[o,c,r,i,u,f,v,_,h,n,s,m,g,C,k,$,q,D,T,E,M,L]}class hu extends et{constructor(e){super(),xe(this,e,mu,vu,Xe,{refresh:8},null,[-1,-1])}get refresh(){return this.$$.ctx[8]}}const gu="modulepreload",bu=function(l){return"/static/"+l},ho={},go=function(e,t,n){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(t.map(r=>{if(r=bu(r),r in ho)return;ho[r]=!0;const u=r.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${f}`))return;const v=document.createElement("link");if(v.rel=u?"stylesheet":gu,u||(v.as="script"),v.crossOrigin="",v.href=r,c&&v.setAttribute("nonce",c),document.head.appendChild(v),u)return new Promise((_,h)=>{v.addEventListener("load",_),v.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${r}`)))})}))}function i(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return s.then(o=>{for(const c of o||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})},{Boolean:as}=pa;function bo(l,e,t){const n=l.slice();return n[152]=e[t],n}function $o(l,e,t){const n=l.slice();return n[152]=e[t],n}function ko(l,e,t){const n=l.slice();return n[152]=e[t],n}function wo(l,e,t){const n=l.slice();return n[152]=e[t],n}function yo(l,e,t){const n=l.slice();return n[72]=e[t],n}function Co(l,e,t){const n=l.slice();return n[163]=e[t],n}function So(l,e,t){const n=l.slice();return n[166]=e[t],n}function qo(l,e,t){const n=l.slice();return n[169]=e[t],n}function Do(l,e,t){var i,o,c;const n=l.slice();n[152]=e[t];const s=n[152].ip||((c=(o=(i=n[152].networks)==null?void 0:i.v4)==null?void 0:o[0])==null?void 0:c.ip_address);return n[172]=s,n}function To(l,e,t){const n=l.slice();return n[175]=e[t],n[177]=t,n}function $u(l){const e=l.slice(),t=e[19].find(s=>s.isMain);e[178]=t;const n=e[19].filter(s=>!s.isMain).length;return e[179]=n,e}function Po(l,e,t){const n=l.slice();return n[175]=e[t],n[177]=t,n}function Eo(l,e,t){const n=l.slice();return n[181]=e[t],n}function Mo(l){let e,t=l[181]+"",n;return{c(){e=d("option"),n=S(t),e.__value=l[181],x(e,e.__value)},m(s,i){y(s,e,i),a(e,n)},p:ce,d(s){s&&w(e)}}}function ku(l){let e;return{c(){e=S("📥 Load")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function wu(l){let e;return{c(){e=S("💾 Save")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function yu(l){let e;return{c(){e=S("🚫 Exclusions")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Lo(l){let e,t;return{c(){e=d("span"),t=S(l[46]),p(e,"class","config-status svelte-oth49g")},m(n,s){y(n,e,s),a(e,t)},p(n,s){s[1]&32768&&B(t,n[46])},d(n){n&&w(e)}}}function No(l){let e,t,n,s,i,o,c,r,u,f,v,_;return i=new Le({props:{variant:"ghost",size:"sm",$$slots:{default:[Cu]},$$scope:{ctx:l}}}),i.$on("click",l[56]),{c(){e=d("div"),t=d("div"),n=d("label"),n.textContent="Exclusion Patterns",s=b(),Z(i.$$.fragment),o=b(),c=d("textarea"),r=b(),u=d("small"),u.textContent="One pattern per line. Applied to folder uploads and git clones.",p(n,"class","svelte-oth49g"),p(t,"class","exclude-header svelte-oth49g"),p(c,"rows","6"),p(c,"placeholder","node_modules/ __pycache__/ *.pyc .git/"),p(c,"class","svelte-oth49g"),p(u,"class","svelte-oth49g"),p(e,"class","exclude-editor svelte-oth49g")},m(h,m){y(h,e,m),a(e,t),a(t,n),a(t,s),K(i,t,null),a(e,o),a(e,c),x(c,l[48]),a(e,r),a(e,u),f=!0,v||(_=te(c,"input",l[77]),v=!0)},p(h,m){const g={};m[5]&536870912&&(g.$$scope={dirty:m,ctx:h}),i.$set(g),m[1]&131072&&x(c,h[48])},i(h){f||(P(i.$$.fragment,h),f=!0)},o(h){N(i.$$.fragment,h),f=!1},d(h){h&&w(e),Q(i),v=!1,_()}}}function Cu(l){let e;return{c(){e=S("Reset to Defaults")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Ro(l){let e,t,n,s,i,o,c,r,u,f,v,_,h,m,g,C,k,$,q,D,T,E,M,L,O,A=l[22]&&jo(),z=l[19].length>0&&Oo(l);v=new Le({props:{size:"sm",$$slots:{default:[qu]},$$scope:{ctx:l}}}),v.$on("click",l[59]);function I(R,W){return W[0]&524288&&(C=null),R[19].length===0?Tu:(C==null&&(C=!R[19].some(sf)),C?Du:zo)}function Y(R,W){return W===zo?$u(R):R}let J=I(l,[-1,-1,-1,-1,-1,-1]),H=J(Y(l,J)),F=l[25]&&Io(l);return{c(){e=d("div"),t=d("div"),n=d("label"),n.textContent="Build Folders",s=b(),i=d("div"),A&&A.c(),o=b(),c=d("input"),r=b(),z&&z.c(),u=b(),f=d("div"),Z(v.$$.fragment),_=b(),h=d("span"),h.textContent="or drag & drop folders here",m=b(),g=d("div"),H.c(),k=b(),$=d("label"),q=d("input"),D=b(),T=d("span"),T.textContent="Remember folder configuration for this service",E=b(),F&&F.c(),p(n,"class","svelte-oth49g"),p(c,"type","file"),p(c,"webkitdirectory",""),p(c,"directory",""),c.multiple=!0,Ue(c,"display","none"),p(c,"class","svelte-oth49g"),p(h,"class","drop-hint svelte-oth49g"),p(f,"class","folder-actions svelte-oth49g"),p(i,"class","folder-drop-zone svelte-oth49g"),De(i,"dragover",l[22]),p(g,"class","code-selection-info svelte-oth49g"),De(g,"success",l[19].some(gi)),De(g,"warning",l[19].length>0&&!l[19].some(bi)),p(q,"type","checkbox"),p(q,"class","svelte-oth49g"),p($,"class","checkbox-label small-check svelte-oth49g"),p(t,"class","form-group svelte-oth49g"),p(e,"class","source-config svelte-oth49g")},m(R,W){y(R,e,W),a(e,t),a(t,n),a(t,s),a(t,i),A&&A.m(i,null),a(i,o),a(i,c),l[84](c),a(i,r),z&&z.m(i,null),a(i,u),a(i,f),K(v,f,null),a(f,_),a(f,h),a(t,m),a(t,g),H.m(g,null),a(t,k),a(t,$),a($,q),q.checked=l[21],a($,D),a($,T),a(e,E),F&&F.m(e,null),M=!0,L||(O=[te(c,"change",l[60]),te(i,"dragenter",l[61]),te(i,"dragleave",l[62]),te(i,"dragover",nf),te(i,"drop",l[63]),te(q,"change",l[87])],L=!0)},p(R,W){R[22]?A||(A=jo(),A.c(),A.m(i,o)):A&&(A.d(1),A=null),R[19].length>0?z?(z.p(R,W),W[0]&524288&&P(z,1)):(z=Oo(R),z.c(),P(z,1),z.m(i,u)):z&&(ke(),N(z,1,1,()=>{z=null}),we());const j={};W[5]&536870912&&(j.$$scope={dirty:W,ctx:R}),v.$set(j),(!M||W[0]&4194304)&&De(i,"dragover",R[22]),J===(J=I(R,W))&&H?H.p(Y(R,J),W):(H.d(1),H=J(Y(R,J)),H&&(H.c(),H.m(g,null))),(!M||W[0]&524288)&&De(g,"success",R[19].some(gi)),(!M||W[0]&524288)&&De(g,"warning",R[19].length>0&&!R[19].some(bi)),W[0]&2097152&&(q.checked=R[21]),R[25]?F?(F.p(R,W),W[0]&33554432&&P(F,1)):(F=Io(R),F.c(),P(F,1),F.m(e,null)):F&&(ke(),N(F,1,1,()=>{F=null}),we())},i(R){M||(P(z),P(v.$$.fragment,R),P(F),M=!0)},o(R){N(z),N(v.$$.fragment,R),N(F),M=!1},d(R){R&&w(e),A&&A.d(),l[84](null),z&&z.d(),Q(v),H.d(),F&&F.d(),L=!1,He(O)}}}function jo(l){let e;return{c(){e=d("div"),e.innerHTML='<span class="drop-icon svelte-oth49g">📂</span> <span>Drop folder here</span>',p(e,"class","drop-overlay svelte-oth49g")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Oo(l){let e,t,n=me(l[19]),s=[];for(let o=0;o<n.length;o+=1)s[o]=Fo(Po(l,n,o));const i=o=>N(s[o],1,1,()=>{s[o]=null});return{c(){e=d("div");for(let o=0;o<s.length;o+=1)s[o].c();p(e,"class","folder-list svelte-oth49g")},m(o,c){y(o,e,c);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null);t=!0},p(o,c){if(c[0]&524288|c[2]&12){n=me(o[19]);let r;for(r=0;r<n.length;r+=1){const u=Po(o,n,r);s[r]?(s[r].p(u,c),P(s[r],1)):(s[r]=Fo(u),s[r].c(),P(s[r],1),s[r].m(e,null))}for(ke(),r=n.length;r<s.length;r+=1)i(r);we()}},i(o){if(!t){for(let c=0;c<n.length;c+=1)P(s[c]);t=!0}},o(o){s=s.filter(as);for(let c=0;c<s.length;c+=1)N(s[c]);t=!1},d(o){o&&w(e),Re(s,o)}}}function Su(l){let e=l[175].isMain?"MAIN":"dependency",t;return{c(){t=S(e)},m(n,s){y(n,t,s)},p(n,s){s[0]&524288&&e!==(e=n[175].isMain?"MAIN":"dependency")&&B(t,e)},d(n){n&&w(t)}}}function Ao(l){let e,t,n;function s(){return l[85](l[177])}return{c(){e=d("button"),e.textContent="⭐",p(e,"type","button"),p(e,"class","set-main-btn svelte-oth49g"),p(e,"title","Set as main")},m(i,o){y(i,e,o),t||(n=te(e,"click",s),t=!0)},p(i,o){l=i},d(i){i&&w(e),t=!1,n()}}}function Fo(l){let e,t,n=l[175].isMain?"📁":"📂",s,i,o,c=l[175].name+"",r,u,f,v,_,h,m=l[175].fileCount+"",g,C,k,$,q,D,T,E,M;v=new Be({props:{variant:l[175].isMain?"success":"secondary",$$slots:{default:[Su]},$$scope:{ctx:l}}});let L=!l[175].isMain&&Ao(l);function O(){return l[86](l[177])}return{c(){e=d("div"),t=d("span"),s=S(n),i=b(),o=d("strong"),r=S(c),u=S("/"),f=b(),Z(v.$$.fragment),_=b(),h=d("span"),g=S(m),C=S(" files"),k=b(),L&&L.c(),$=b(),q=d("button"),q.textContent="✕",D=b(),p(t,"class","folder-icon svelte-oth49g"),p(o,"class","svelte-oth49g"),p(h,"class","file-count svelte-oth49g"),p(q,"type","button"),p(q,"class","remove-btn svelte-oth49g"),p(e,"class","folder-item svelte-oth49g")},m(A,z){y(A,e,z),a(e,t),a(t,s),a(e,i),a(e,o),a(o,r),a(o,u),a(e,f),K(v,e,null),a(e,_),a(e,h),a(h,g),a(h,C),a(e,k),L&&L.m(e,null),a(e,$),a(e,q),a(e,D),T=!0,E||(M=te(q,"click",O),E=!0)},p(A,z){l=A,(!T||z[0]&524288)&&n!==(n=l[175].isMain?"📁":"📂")&&B(s,n),(!T||z[0]&524288)&&c!==(c=l[175].name+"")&&B(r,c);const I={};z[0]&524288&&(I.variant=l[175].isMain?"success":"secondary"),z[0]&524288|z[5]&536870912&&(I.$$scope={dirty:z,ctx:l}),v.$set(I),(!T||z[0]&524288)&&m!==(m=l[175].fileCount+"")&&B(g,m),l[175].isMain?L&&(L.d(1),L=null):L?L.p(l,z):(L=Ao(l),L.c(),L.m(e,$))},i(A){T||(P(v.$$.fragment,A),T=!0)},o(A){N(v.$$.fragment,A),T=!1},d(A){A&&w(e),Q(v),L&&L.d(),E=!1,M()}}}function qu(l){let e;return{c(){e=S("➕ Add Folder")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function zo(l){let e,t,n=l[178].name+"",s,i,o,c,r=l[179]>0&&Bo(l);return{c(){e=S("✓ Main: "),t=d("strong"),s=S(n),i=S("/"),o=b(),r&&r.c(),c=je()},m(u,f){y(u,e,f),y(u,t,f),a(t,s),a(t,i),y(u,o,f),r&&r.m(u,f),y(u,c,f)},p(u,f){f[0]&524288&&n!==(n=u[178].name+"")&&B(s,n),u[179]>0?r?r.p(u,f):(r=Bo(u),r.c(),r.m(c.parentNode,c)):r&&(r.d(1),r=null)},d(u){u&&(w(e),w(t),w(o),w(c)),r&&r.d(u)}}}function Du(l){let e;return{c(){e=S("⚠️ No main folder selected. Click ⭐ to set one as main.")},m(t,n){y(t,e,n)},p:ce,d(t){t&&w(e)}}}function Tu(l){let e;return{c(){e=S("No folders selected. Add your main service folder and any dependencies.")},m(t,n){y(t,e,n)},p:ce,d(t){t&&w(e)}}}function Bo(l){let e,t=l[179]+"",n,s,i=l[179]===1?"y":"ies",o;return{c(){e=S("+ "),n=S(t),s=S(" dependenc"),o=S(i)},m(c,r){y(c,e,r),y(c,n,r),y(c,s,r),y(c,o,r)},p(c,r){r[0]&524288&&t!==(t=c[179]+"")&&B(n,t),r[0]&524288&&i!==(i=c[179]===1?"y":"ies")&&B(o,i)},d(c){c&&(w(e),w(n),w(s),w(o))}}}function Io(l){let e,t,n,s,i,o,c,r,u,f,v,_,h,m,g,C,k,$,q,D,T,E;return i=new Be({props:{variant:l[24]==="from folder"?"success":l[24]==="multi-folder"?"info":"warning",$$slots:{default:[Pu]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),n=d("label"),s=S(`🐳 Dockerfile
                    `),Z(i.$$.fragment),o=b(),c=d("textarea"),r=b(),u=d("div"),f=d("select"),v=d("option"),v.textContent="FROM...",_=d("option"),_.textContent="python:3.11-slim",h=d("option"),h.textContent="python:3.12-slim",m=d("option"),m.textContent="node:20-alpine",g=d("option"),g.textContent="node:18-alpine",C=d("option"),C.textContent="golang:1.21-alpine",k=d("option"),k.textContent="nginx:alpine",$=b(),q=d("input"),p(n,"class","svelte-oth49g"),p(t,"class","dockerfile-header svelte-oth49g"),p(c,"rows","8"),p(c,"class","dockerfile-editor svelte-oth49g"),p(c,"spellcheck","false"),v.__value="",x(v,v.__value),_.__value="python:3.11-slim",x(_,_.__value),h.__value="python:3.12-slim",x(h,h.__value),m.__value="node:20-alpine",x(m,m.__value),g.__value="node:18-alpine",x(g,g.__value),C.__value="golang:1.21-alpine",x(C,C.__value),k.__value="nginx:alpine",x(k,k.__value),p(f,"class","svelte-oth49g"),l[26]===void 0&&We(()=>l[89].call(f)),p(q,"type","text"),p(q,"placeholder","CMD (e.g. uvicorn main:app ...)"),p(q,"class","svelte-oth49g"),p(u,"class","dockerfile-quick-fields svelte-oth49g"),p(e,"class","dockerfile-preview svelte-oth49g")},m(M,L){y(M,e,L),a(e,t),a(t,n),a(n,s),K(i,n,null),a(e,o),a(e,c),x(c,l[23]),a(e,r),a(e,u),a(u,f),a(f,v),a(f,_),a(f,h),a(f,m),a(f,g),a(f,C),a(f,k),Ne(f,l[26],!0),a(u,$),a(u,q),x(q,l[27]),D=!0,T||(E=[te(c,"input",l[88]),te(f,"change",l[89]),te(f,"change",l[90]),te(q,"input",l[91]),te(q,"change",l[92])],T=!0)},p(M,L){const O={};L[0]&16777216&&(O.variant=M[24]==="from folder"?"success":M[24]==="multi-folder"?"info":"warning"),L[0]&16777216|L[5]&536870912&&(O.$$scope={dirty:L,ctx:M}),i.$set(O),L[0]&8388608&&x(c,M[23]),L[0]&67108864&&Ne(f,M[26]),L[0]&134217728&&q.value!==M[27]&&x(q,M[27])},i(M){D||(P(i.$$.fragment,M),D=!0)},o(M){N(i.$$.fragment,M),D=!1},d(M){M&&w(e),Q(i),T=!1,He(E)}}}function Pu(l){let e;return{c(){e=S(l[24])},m(t,n){y(t,e,n)},p(t,n){n[0]&16777216&&B(e,t[24])},d(t){t&&w(e)}}}function Uo(l){let e,t,n,s,i,o,c,r,u,f,v,_,h,m,g,C,k,$,q,D,T,E,M,L,O,A,z,I,Y,J,H,F,R,W,j,U,le,V,ie=l[12].length>0&&Ho(l);return T=new Le({props:{size:"sm",$$slots:{default:[Mu]},$$scope:{ctx:l}}}),T.$on("click",l[97]),M=new Le({props:{variant:"ghost",size:"sm",$$slots:{default:[Lu]},$$scope:{ctx:l}}}),M.$on("click",l[98]),{c(){e=d("div"),t=d("div"),n=d("label"),n.textContent="Git Repository URL *",s=b(),i=d("input"),o=b(),c=d("small"),c.textContent="HTTPS URL (SSH not supported)",r=b(),u=d("div"),f=d("label"),f.textContent="Branch",v=b(),_=d("input"),h=b(),m=d("div"),g=d("label"),g.textContent="Folders to Include",C=b(),ie&&ie.c(),k=b(),$=d("div"),q=d("input"),D=b(),Z(T.$$.fragment),E=b(),Z(M.$$.fragment),L=b(),O=d("small"),O.textContent="Leave empty to use entire repo. Add paths for multi-folder builds (main folder contains Dockerfile).",A=b(),z=d("details"),I=d("summary"),I.textContent="🔐 Private repository?",Y=b(),J=d("div"),H=d("label"),H.textContent="Personal Access Token",F=b(),R=d("input"),W=b(),j=d("small"),j.innerHTML="Needs <code>repo</code> scope for private repos",p(n,"for","git-url"),p(n,"class","svelte-oth49g"),p(i,"id","git-url"),p(i,"type","url"),p(i,"placeholder","https://github.com/user/repo"),p(i,"class","svelte-oth49g"),p(c,"class","svelte-oth49g"),p(t,"class","form-group svelte-oth49g"),p(f,"for","git-branch"),p(f,"class","svelte-oth49g"),p(_,"id","git-branch"),p(_,"type","text"),p(_,"placeholder","main"),p(_,"class","svelte-oth49g"),p(u,"class","form-group svelte-oth49g"),p(g,"class","svelte-oth49g"),p(q,"type","text"),p(q,"placeholder","e.g. services/my_api"),p(q,"class","svelte-oth49g"),p($,"class","folder-input svelte-oth49g"),p(O,"class","svelte-oth49g"),p(m,"class","form-group svelte-oth49g"),p(I,"class","svelte-oth49g"),p(H,"for","git-token"),p(H,"class","svelte-oth49g"),p(R,"id","git-token"),p(R,"type","password"),p(R,"placeholder","ghp_xxxxxxxxxxxx"),p(R,"class","svelte-oth49g"),p(j,"class","svelte-oth49g"),p(J,"class","form-group svelte-oth49g"),p(z,"class","private-repo svelte-oth49g"),p(e,"class","source-config svelte-oth49g")},m(ee,re){y(ee,e,re),a(e,t),a(t,n),a(t,s),a(t,i),x(i,l[9]),a(t,o),a(t,c),a(e,r),a(e,u),a(u,f),a(u,v),a(u,_),x(_,l[10]),a(e,h),a(e,m),a(m,g),a(m,C),ie&&ie.m(m,null),a(m,k),a(m,$),a($,q),x(q,l[13]),a($,D),K(T,$,null),a($,E),K(M,$,null),a(m,L),a(m,O),a(e,A),a(e,z),a(z,I),a(z,Y),a(z,J),a(J,H),a(J,F),a(J,R),x(R,l[11]),a(J,W),a(J,j),U=!0,le||(V=[te(i,"input",l[93]),te(_,"input",l[94]),te(q,"input",l[96]),te(R,"input",l[99])],le=!0)},p(ee,re){re[0]&512&&i.value!==ee[9]&&x(i,ee[9]),re[0]&1024&&_.value!==ee[10]&&x(_,ee[10]),ee[12].length>0?ie?(ie.p(ee,re),re[0]&4096&&P(ie,1)):(ie=Ho(ee),ie.c(),P(ie,1),ie.m(m,k)):ie&&(ke(),N(ie,1,1,()=>{ie=null}),we()),re[0]&8192&&q.value!==ee[13]&&x(q,ee[13]);const pe={};re[5]&536870912&&(pe.$$scope={dirty:re,ctx:ee}),T.$set(pe);const oe={};re[5]&536870912&&(oe.$$scope={dirty:re,ctx:ee}),M.$set(oe),re[0]&2048&&R.value!==ee[11]&&x(R,ee[11])},i(ee){U||(P(ie),P(T.$$.fragment,ee),P(M.$$.fragment,ee),U=!0)},o(ee){N(ie),N(T.$$.fragment,ee),N(M.$$.fragment,ee),U=!1},d(ee){ee&&w(e),ie&&ie.d(),Q(T),Q(M),le=!1,He(V)}}}function Ho(l){let e,t,n=me(l[12]),s=[];for(let o=0;o<n.length;o+=1)s[o]=Go(To(l,n,o));const i=o=>N(s[o],1,1,()=>{s[o]=null});return{c(){e=d("div");for(let o=0;o<s.length;o+=1)s[o].c();p(e,"class","folder-list svelte-oth49g")},m(o,c){y(o,e,c);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null);t=!0},p(o,c){if(c[0]&4096|c[2]&64){n=me(o[12]);let r;for(r=0;r<n.length;r+=1){const u=To(o,n,r);s[r]?(s[r].p(u,c),P(s[r],1)):(s[r]=Go(u),s[r].c(),P(s[r],1),s[r].m(e,null))}for(ke(),r=n.length;r<s.length;r+=1)i(r);we()}},i(o){if(!t){for(let c=0;c<n.length;c+=1)P(s[c]);t=!0}},o(o){s=s.filter(as);for(let c=0;c<s.length;c+=1)N(s[c]);t=!1},d(o){o&&w(e),Re(s,o)}}}function Eu(l){let e=l[175].isMain?"MAIN":"dependency",t;return{c(){t=S(e)},m(n,s){y(n,t,s)},p(n,s){s[0]&4096&&e!==(e=n[175].isMain?"MAIN":"dependency")&&B(t,e)},d(n){n&&w(t)}}}function Go(l){let e,t,n=l[175].isMain?"📁":"📂",s,i,o,c=l[175].path+"",r,u,f,v,_,h,m,g,C;f=new Be({props:{variant:l[175].isMain?"success":"secondary",$$slots:{default:[Eu]},$$scope:{ctx:l}}});function k(){return l[95](l[177])}return{c(){e=d("div"),t=d("span"),s=S(n),i=b(),o=d("strong"),r=S(c),u=b(),Z(f.$$.fragment),v=b(),_=d("button"),_.textContent="✕",h=b(),p(o,"class","svelte-oth49g"),p(_,"type","button"),p(_,"class","remove-btn svelte-oth49g"),p(e,"class","folder-item svelte-oth49g")},m($,q){y($,e,q),a(e,t),a(t,s),a(e,i),a(e,o),a(o,r),a(e,u),K(f,e,null),a(e,v),a(e,_),a(e,h),m=!0,g||(C=te(_,"click",k),g=!0)},p($,q){l=$,(!m||q[0]&4096)&&n!==(n=l[175].isMain?"📁":"📂")&&B(s,n),(!m||q[0]&4096)&&c!==(c=l[175].path+"")&&B(r,c);const D={};q[0]&4096&&(D.variant=l[175].isMain?"success":"secondary"),q[0]&4096|q[5]&536870912&&(D.$$scope={dirty:q,ctx:l}),f.$set(D)},i($){m||(P(f.$$.fragment,$),m=!0)},o($){N(f.$$.fragment,$),m=!1},d($){$&&w(e),Q(f),g=!1,C()}}}function Mu(l){let e;return{c(){e=S("+ Main")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Lu(l){let e;return{c(){e=S("+ Dep")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Wo(l){let e,t,n,s,i,o,c,r,u;return{c(){e=d("div"),t=d("div"),n=d("label"),n.textContent="Docker Image *",s=b(),i=d("input"),o=b(),c=d("small"),c.textContent="Full image URL from DO Registry or Docker Hub",p(n,"for","image-url"),p(n,"class","svelte-oth49g"),p(i,"id","image-url"),p(i,"type","text"),p(i,"placeholder","registry.digitalocean.com/my-registry/app:latest"),p(i,"class","svelte-oth49g"),p(c,"class","svelte-oth49g"),p(t,"class","form-group svelte-oth49g"),p(e,"class","source-config svelte-oth49g")},m(f,v){y(f,e,v),a(e,t),a(t,n),a(t,s),a(t,i),x(i,l[14]),a(t,o),a(t,c),r||(u=te(i,"input",l[100]),r=!0)},p(f,v){v[0]&16384&&i.value!==f[14]&&x(i,f[14])},d(f){f&&w(e),r=!1,u()}}}function Jo(l){let e,t,n,s,i,o,c,r,u,f,v,_,h,m,g,C,k,$,q,D,T,E,M,L,O,A,z,I,Y=l[15]&&Yo(l);return{c(){e=d("div"),t=d("div"),n=d("label"),n.textContent="Docker Image File (.tar) *",s=b(),i=d("input"),o=b(),Y&&Y.c(),c=b(),r=d("small"),r.innerHTML="Export from Docker with: <code>docker save myimage:latest -o image.tar</code>",u=b(),f=d("div"),v=d("label"),v.textContent="Image Name *",_=b(),h=d("input"),m=b(),g=d("small"),g.textContent="The image name/tag as it appears in the tar file",C=b(),k=d("div"),$=d("div"),q=d("label"),q.textContent="Container Port",D=b(),T=d("input"),E=b(),M=d("div"),L=d("label"),L.textContent="Host Port",O=b(),A=d("input"),p(n,"for","image-file"),p(n,"class","svelte-oth49g"),p(i,"id","image-file"),p(i,"type","file"),p(i,"accept",".tar,.tar.gz"),p(i,"class","svelte-oth49g"),p(r,"class","svelte-oth49g"),p(t,"class","form-group svelte-oth49g"),p(v,"for","image-name"),p(v,"class","svelte-oth49g"),p(h,"id","image-name"),p(h,"type","text"),p(h,"placeholder","myapp:latest"),p(h,"class","svelte-oth49g"),p(g,"class","svelte-oth49g"),p(f,"class","form-group svelte-oth49g"),p(q,"for","container-port"),p(q,"class","svelte-oth49g"),p(T,"id","container-port"),p(T,"type","number"),p(T,"placeholder",l[7]),p(T,"class","svelte-oth49g"),p($,"class","form-group svelte-oth49g"),p(L,"for","host-port"),p(L,"class","svelte-oth49g"),p(A,"id","host-port"),p(A,"type","number"),p(A,"placeholder",l[7]),p(A,"class","svelte-oth49g"),p(M,"class","form-group svelte-oth49g"),p(k,"class","form-row svelte-oth49g"),p(e,"class","source-config svelte-oth49g")},m(J,H){y(J,e,H),a(e,t),a(t,n),a(t,s),a(t,i),a(t,o),Y&&Y.m(t,null),a(t,c),a(t,r),a(e,u),a(e,f),a(f,v),a(f,_),a(f,h),x(h,l[16]),a(f,m),a(f,g),a(e,C),a(e,k),a(k,$),a($,q),a($,D),a($,T),x(T,l[17]),a(k,E),a(k,M),a(M,L),a(M,O),a(M,A),x(A,l[18]),z||(I=[te(i,"change",l[69]),te(h,"input",l[101]),te(T,"input",l[102]),te(A,"input",l[103])],z=!0)},p(J,H){J[15]?Y?Y.p(J,H):(Y=Yo(J),Y.c(),Y.m(t,c)):Y&&(Y.d(1),Y=null),H[0]&65536&&h.value!==J[16]&&x(h,J[16]),H[0]&128&&p(T,"placeholder",J[7]),H[0]&131072&&Rt(T.value)!==J[17]&&x(T,J[17]),H[0]&128&&p(A,"placeholder",J[7]),H[0]&262144&&Rt(A.value)!==J[18]&&x(A,J[18])},d(J){J&&w(e),Y&&Y.d(),z=!1,He(I)}}}function Yo(l){let e,t,n=l[15].name+"",s,i,o=(l[15].size/1024/1024).toFixed(2)+"",c,r;return{c(){e=d("div"),t=S("📦 "),s=S(n),i=S(" ("),c=S(o),r=S(" MB)"),p(e,"class","file-selected svelte-oth49g")},m(u,f){y(u,e,f),a(e,t),a(e,s),a(e,i),a(e,c),a(e,r)},p(u,f){f[0]&32768&&n!==(n=u[15].name+"")&&B(s,n),f[0]&32768&&o!==(o=(u[15].size/1024/1024).toFixed(2)+"")&&B(c,o)},d(u){u&&w(e)}}}function Vo(l){let e,t,n,s,i,o,c,r,u,f,v,_,h,m,g,C,k,$,q,D,T;return{c(){e=d("div"),t=d("label"),t.textContent="Dependencies:",n=b(),s=d("div"),i=d("label"),o=d("input"),c=S(`
                  🐘 PostgreSQL`),r=b(),u=d("label"),f=d("input"),v=S(`
                  ⚡ Redis`),_=b(),h=d("label"),m=d("input"),g=S(`
                  🐬 MySQL`),C=b(),k=d("label"),$=d("input"),q=S(`
                  🍃 MongoDB`),p(o,"type","checkbox"),p(o,"class","svelte-oth49g"),p(i,"class","dep-item svelte-oth49g"),p(f,"type","checkbox"),p(f,"class","svelte-oth49g"),p(u,"class","dep-item svelte-oth49g"),p(m,"type","checkbox"),p(m,"class","svelte-oth49g"),p(h,"class","dep-item svelte-oth49g"),p($,"type","checkbox"),p($,"class","svelte-oth49g"),p(k,"class","dep-item svelte-oth49g"),p(s,"class","dep-list svelte-oth49g"),p(e,"class","dependencies svelte-oth49g")},m(E,M){y(E,e,M),a(e,t),a(e,n),a(e,s),a(s,i),a(i,o),o.checked=l[43].postgres,a(i,c),a(s,r),a(s,u),a(u,f),f.checked=l[43].redis,a(u,v),a(s,_),a(s,h),a(h,m),m.checked=l[43].mysql,a(h,g),a(s,C),a(s,k),a(k,$),$.checked=l[43].mongo,a(k,q),D||(T=[te(o,"change",l[107]),te(f,"change",l[108]),te(m,"change",l[109]),te($,"change",l[110])],D=!0)},p(E,M){M[1]&4096&&(o.checked=E[43].postgres),M[1]&4096&&(f.checked=E[43].redis),M[1]&4096&&(m.checked=E[43].mysql),M[1]&4096&&($.checked=E[43].mongo)},d(E){E&&w(e),D=!1,He(T)}}}function Ko(l){let e,t,n,s,i,o=(l[50]||"app-project-env.domain.com")+"",c,r,u,f,v,_,h,m,g,C,k,$,q,D,T;return{c(){e=d("div"),t=d("div"),n=d("label"),n.textContent="Domain Preview:",s=b(),i=d("code"),c=S(o),r=b(),u=d("div"),f=d("label"),f.textContent="Base Domain",v=b(),_=d("input"),h=b(),m=d("div"),g=d("label"),g.innerHTML='Custom Aliases <small class="svelte-oth49g">(optional)</small>',C=b(),k=d("input"),$=b(),q=d("small"),q.textContent="Comma-separated custom domains (requires DNS setup)",p(n,"class","svelte-oth49g"),p(i,"class","svelte-oth49g"),p(t,"class","domain-preview svelte-oth49g"),p(f,"for","base-domain"),p(f,"class","svelte-oth49g"),p(_,"id","base-domain"),p(_,"type","text"),p(_,"placeholder","example.com"),p(_,"class","svelte-oth49g"),p(u,"class","form-group svelte-oth49g"),p(g,"for","domain-aliases"),p(g,"class","svelte-oth49g"),p(k,"id","domain-aliases"),p(k,"type","text"),p(k,"placeholder","api.myclient.com, app.example.com"),p(k,"class","svelte-oth49g"),p(q,"class","svelte-oth49g"),p(m,"class","form-group svelte-oth49g"),p(e,"class","domain-config svelte-oth49g")},m(E,M){y(E,e,M),a(e,t),a(t,n),a(t,s),a(t,i),a(i,c),a(e,r),a(e,u),a(u,f),a(u,v),a(u,_),x(_,l[4]),a(e,h),a(e,m),a(m,g),a(m,C),a(m,k),x(k,l[45]),a(m,$),a(m,q),D||(T=[te(_,"input",l[113]),te(k,"input",l[114])],D=!0)},p(E,M){M[1]&524288&&o!==(o=(E[50]||"app-project-env.domain.com")+"")&&B(c,o),M[0]&16&&_.value!==E[4]&&x(_,E[4]),M[1]&16384&&k.value!==E[45]&&x(k,E[45])},d(E){E&&w(e),D=!1,He(T)}}}function Nu(l){let e=l[35].size+"",t,n;return{c(){t=S(e),n=S(" selected")},m(s,i){y(s,t,i),y(s,n,i)},p(s,i){i[1]&16&&e!==(e=s[35].size+"")&&B(t,e)},d(s){s&&(w(t),w(n))}}}function Ru(l){let e;return{c(){e=S("✓ All")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function ju(l){let e;return{c(){e=S("✕ None")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Ou(l){let e,t,n=me(l[49]),s=[];for(let o=0;o<n.length;o+=1)s[o]=Xo(Do(l,n,o));const i=o=>N(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=je()},m(o,c){for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(o,c);y(o,e,c),t=!0},p(o,c){if(c[1]&67371024){n=me(o[49]);let r;for(r=0;r<n.length;r+=1){const u=Do(o,n,r);s[r]?(s[r].p(u,c),P(s[r],1)):(s[r]=Xo(u),s[r].c(),P(s[r],1),s[r].m(e.parentNode,e))}for(ke(),r=n.length;r<s.length;r+=1)i(r);we()}},i(o){if(!t){for(let c=0;c<n.length;c+=1)P(s[c]);t=!0}},o(o){s=s.filter(as);for(let c=0;c<s.length;c+=1)N(s[c]);t=!1},d(o){o&&w(e),Re(s,o)}}}function Au(l){let e,t,n=(l[3]||"any region")+"",s;return{c(){e=d("div"),t=S("No servers in "),s=S(n),p(e,"class","empty svelte-oth49g")},m(i,o){y(i,e,o),a(e,t),a(e,s)},p(i,o){o[0]&8&&n!==(n=(i[3]||"any region")+"")&&B(s,n)},i:ce,o:ce,d(i){i&&w(e)}}}function Qo(l){let e,t,n,s,i,o=(l[152].name||"unnamed")+"",c,r,u,f=l[172]+"",v,_,h,m,g,C;function k(){return l[117](l[172])}let $=l[152].project&&Zo(l);return{c(){e=d("label"),t=d("input"),s=b(),i=d("span"),c=S(o),r=b(),u=d("code"),v=S(f),_=b(),$&&$.c(),h=b(),p(t,"type","checkbox"),t.checked=n=l[35].has(l[172]),p(t,"class","svelte-oth49g"),p(i,"class","server-name svelte-oth49g"),p(u,"class","server-ip svelte-oth49g"),p(e,"class","server-item svelte-oth49g"),De(e,"selected",l[35].has(l[172]))},m(q,D){y(q,e,D),a(e,t),a(e,s),a(e,i),a(i,c),a(e,r),a(e,u),a(u,v),a(e,_),$&&$.m(e,null),a(e,h),m=!0,g||(C=te(t,"change",k),g=!0)},p(q,D){l=q,(!m||D[1]&262160&&n!==(n=l[35].has(l[172])))&&(t.checked=n),(!m||D[1]&262144)&&o!==(o=(l[152].name||"unnamed")+"")&&B(c,o),(!m||D[1]&262144)&&f!==(f=l[172]+"")&&B(v,f),l[152].project?$?($.p(l,D),D[1]&262144&&P($,1)):($=Zo(l),$.c(),P($,1),$.m(e,h)):$&&(ke(),N($,1,1,()=>{$=null}),we()),(!m||D[1]&262160)&&De(e,"selected",l[35].has(l[172]))},i(q){m||(P($),m=!0)},o(q){N($),m=!1},d(q){q&&w(e),$&&$.d(),g=!1,C()}}}function Zo(l){let e,t;return e=new Be({props:{variant:"info",$$slots:{default:[Fu]},$$scope:{ctx:l}}}),{c(){Z(e.$$.fragment)},m(n,s){K(e,n,s),t=!0},p(n,s){const i={};s[1]&262144|s[5]&536870912&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){Q(e,n)}}}function Fu(l){let e=l[152].project+"",t;return{c(){t=S(e)},m(n,s){y(n,t,s)},p(n,s){s[1]&262144&&e!==(e=n[152].project+"")&&B(t,e)},d(n){n&&w(t)}}}function Xo(l){let e,t,n=l[172]&&Qo(l);return{c(){n&&n.c(),e=je()},m(s,i){n&&n.m(s,i),y(s,e,i),t=!0},p(s,i){s[172]?n?(n.p(s,i),i[1]&262144&&P(n,1)):(n=Qo(s),n.c(),P(n,1),n.m(e.parentNode,e)):n&&(ke(),N(n,1,1,()=>{n=null}),we())},i(s){t||(P(n),t=!0)},o(s){N(n),t=!1},d(s){s&&w(e),n&&n.d(s)}}}function xo(l){let e;return{c(){e=S("*")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function ei(l){let e,t=l[169].name+"",n,s;return{c(){e=d("option"),n=S(t),e.__value=s=l[169].id,x(e,e.__value)},m(i,o){y(i,e,o),a(e,n)},p(i,o){o[1]&1048576&&t!==(t=i[169].name+"")&&B(n,t),o[1]&1048576&&s!==(s=i[169].id)&&(e.__value=s,x(e,e.__value))},d(i){i&&w(e)}}}function ti(l){let e,t=(l[166].name||l[166].slug)+"",n,s;return{c(){e=d("option"),n=S(t),e.__value=s=l[166].slug,x(e,e.__value)},m(i,o){y(i,e,o),a(e,n)},p(i,o){o[0]&1073741824&&t!==(t=(i[166].name||i[166].slug)+"")&&B(n,t),o[0]&1073741824&&s!==(s=i[166].slug)&&(e.__value=s,x(e,e.__value))},d(i){i&&w(e)}}}function li(l){let e,t=(l[163].description||l[163].slug)+"",n,s;return{c(){e=d("option"),n=S(t),e.__value=s=l[163].slug,x(e,e.__value)},m(i,o){y(i,e,o),a(e,n)},p(i,o){o[1]&1&&t!==(t=(i[163].description||i[163].slug)+"")&&B(n,t),o[1]&1&&s!==(s=i[163].slug)&&(e.__value=s,x(e,e.__value))},d(i){i&&w(e)}}}function ni(l){let e;return{c(){e=d("small"),e.textContent="⚠️ Select a snapshot for new servers",p(e,"class","warning svelte-oth49g")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function zu(l){let e;return{c(){e=S("🚀 Deploy")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Bu(l){let e;return{c(){e=S("Deploying...")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Iu(l){let e;function t(i,o){return i[32]?Bu:zu}let n=t(l),s=n(l);return{c(){s.c(),e=je()},m(i,o){s.m(i,o),y(i,e,o)},p(i,o){n!==(n=t(i))&&(s.d(1),s=n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&w(e),s.d(i)}}}function Uu(l){let e,t,n,s,i,o,c,r,u,f,v,_,h,m,g,C,k,$,q,D,T,E,M,L,O,A,z,I,Y,J,H,F,R,W,j,U,le,V,ie,ee,re,pe,oe,qe,de,ae,ve,_e,ue,se,Se,Fe,nt,Je,pt,Ce,he,Ee,Ke,tt,Oe,yt,Tt,Cl,ct,ut,an,Ct,Ul,dl,Sl,Ge,ql,cn,Kt,At,un,Hl,fn,Dl,Gl,_l,Wl,Tl,Qt,Ft,pn,vl,Jl,ml,Yl,Vl,dt,Zt,zt,Kl,Ql,dn,Zl,_n,vn,bt,Xt,xt,Xl,mn,Bt,hn,el,Pt,gn,Et,bn,hl,ft,_t,$n,Pl,Mt,tl,It,kn,wn,vt,ll,yn,nl,gl,Cn,$t,Sn,sl,bl,qn,kt,Dn,St,xl,Tn,Lt,ol,Pn,wt,En,il,Mn,Ln,Ut,Nt,en,tn,Nn,G=me(l[52]),ne=[];for(let X=0;X<G.length;X+=1)ne[X]=Mo(Eo(l,G,X));T=new Le({props:{variant:"ghost",size:"sm",title:"Load saved config",$$slots:{default:[ku]},$$scope:{ctx:l}}}),T.$on("click",l[53]),M=new Le({props:{variant:"ghost",size:"sm",title:"Save current settings",$$slots:{default:[wu]},$$scope:{ctx:l}}}),M.$on("click",l[54]),O=new Le({props:{variant:"ghost",size:"sm",title:"Edit exclusion patterns",$$slots:{default:[yu]},$$scope:{ctx:l}}}),O.$on("click",l[55]);let fe=l[46]&&Lo(l),be=l[47]&&No(l),ye=l[6]==="code"&&Ro(l),Pe=l[6]==="git"&&Uo(l),Te=l[6]==="image"&&Wo(l),Ie=l[6]==="image_file"&&Jo(l),Ye=l[41]&&Vo(l),st=l[44]&&Ko(l);Bt=new Be({props:{variant:"info",$$slots:{default:[Nu]},$$scope:{ctx:l}}}),Pt=new Le({props:{variant:"ghost",size:"sm",$$slots:{default:[Ru]},$$scope:{ctx:l}}}),Pt.$on("click",l[115]),Et=new Le({props:{variant:"ghost",size:"sm",$$slots:{default:[ju]},$$scope:{ctx:l}}}),Et.$on("click",l[116]);const Rn=[Au,Ou],rl=[];function cs(X,$e){return X[49].length===0?0:1}ft=cs(l),_t=rl[ft]=Rn[ft](l);let mt=l[36]>0&&xo(),El=me(l[51]),ot=[];for(let X=0;X<El.length;X+=1)ot[X]=ei(qo(l,El,X));let Ml=me(l[30]),it=[];for(let X=0;X<Ml.length;X+=1)it[X]=ti(So(l,Ml,X));let Ll=me(l[31]),rt=[];for(let X=0;X<Ll.length;X+=1)rt[X]=li(Co(l,Ll,X));let ht=l[36]>0&&!l[28]&&ni();return Ut=new Le({props:{variant:"primary",type:"submit",disabled:l[32],$$slots:{default:[Iu]},$$scope:{ctx:l}}}),en=va(l[80][0]),{c(){e=d("form"),t=d("div"),n=d("div"),s=d("label"),s.textContent="App Name *",i=b(),o=d("input"),c=b(),r=d("div"),u=d("label"),u.textContent="Project",f=b(),v=d("input"),_=b(),h=d("div"),m=d("label"),m.textContent="Environment",g=b(),C=d("select");for(let X=0;X<ne.length;X+=1)ne[X].c();k=b(),$=d("div"),q=d("span"),q.textContent="Config:",D=b(),Z(T.$$.fragment),E=b(),Z(M.$$.fragment),L=b(),Z(O.$$.fragment),A=b(),fe&&fe.c(),z=b(),be&&be.c(),I=b(),Y=d("div"),J=d("label"),J.innerHTML='Tags <small class="svelte-oth49g">(comma-separated)</small>',H=b(),F=d("input"),R=b(),W=d("div"),j=d("label"),j.textContent="Source Type *",U=b(),le=d("div"),V=d("label"),ie=d("input"),ee=S(`
              📁 Local Code`),re=b(),pe=d("label"),oe=d("input"),qe=S(`
              📦 Git Repo`),de=b(),ae=d("label"),ve=d("input"),_e=S(`
              🐳 Registry`),ue=b(),se=d("label"),Se=d("input"),Fe=S(`
              📦 Local Image`),nt=b(),ye&&ye.c(),Je=b(),Pe&&Pe.c(),pt=b(),Te&&Te.c(),Ce=b(),Ie&&Ie.c(),he=b(),Ee=d("div"),Ke=d("label"),Ke.textContent="App Port",tt=b(),Oe=d("input"),yt=b(),Tt=d("small"),Tt.textContent="Port your app listens on inside the container",Cl=b(),ct=d("div"),ut=d("label"),ut.textContent="Environment Variables",an=b(),Ct=d("textarea"),Ul=b(),dl=d("small"),dl.textContent="One per line: KEY=value",Sl=b(),Ge=d("div"),ql=d("div"),ql.innerHTML="<span>🔧</span> <span>Service Configuration</span>",cn=b(),Kt=d("label"),At=d("input"),un=b(),Hl=d("span"),Hl.textContent="Auto-inject service discovery",fn=b(),Dl=d("small"),Dl.textContent="Injects DATABASE_URL, REDIS_URL, etc. based on dependencies",Gl=b(),Ye&&Ye.c(),_l=b(),Wl=d("div"),Tl=b(),Qt=d("label"),Ft=d("input"),pn=b(),vl=d("span"),vl.textContent="💾 Persist data (mount volume)",Jl=b(),ml=d("small"),ml.textContent="Mounts /data volume for databases and stateful services",Yl=b(),Vl=d("div"),dt=b(),Zt=d("label"),zt=d("input"),Kl=b(),Ql=d("span"),Ql.textContent="🌐 Setup domain (Cloudflare)",dn=b(),Zl=d("small"),Zl.textContent="Auto-provision subdomain with SSL via Cloudflare",_n=b(),st&&st.c(),vn=b(),bt=d("div"),Xt=d("div"),xt=d("div"),Xl=d("span"),Xl.textContent="🖥️ Servers",mn=b(),Z(Bt.$$.fragment),hn=b(),el=d("div"),Z(Pt.$$.fragment),gn=b(),Z(Et.$$.fragment),bn=b(),hl=d("div"),_t.c(),$n=b(),Pl=d("div"),Mt=d("div"),tl=d("div"),It=d("label"),kn=S("Snapshot "),mt&&mt.c(),wn=b(),vt=d("select"),ll=d("option"),ll.textContent="Select snapshot...";for(let X=0;X<ot.length;X+=1)ot[X].c();yn=b(),nl=d("div"),gl=d("label"),gl.textContent="Region",Cn=b(),$t=d("select");for(let X=0;X<it.length;X+=1)it[X].c();Sn=b(),sl=d("div"),bl=d("label"),bl.textContent="Size",qn=b(),kt=d("select");for(let X=0;X<rt.length;X+=1)rt[X].c();Dn=b(),St=d("div"),xl=d("span"),xl.textContent="➕ New servers:",Tn=b(),Lt=d("div"),ol=d("button"),ol.textContent="−",Pn=b(),wt=d("input"),En=b(),il=d("button"),il.textContent="+",Mn=b(),ht&&ht.c(),Ln=b(),Z(Ut.$$.fragment),p(s,"for","deploy-name"),p(s,"class","svelte-oth49g"),p(o,"id","deploy-name"),p(o,"type","text"),p(o,"placeholder","my-app"),o.required=!0,p(o,"pattern","[-a-z0-9]+"),p(o,"title","Lowercase letters, numbers, hyphens only"),p(o,"class","svelte-oth49g"),p(n,"class","form-group svelte-oth49g"),p(u,"for","deploy-project"),p(u,"class","svelte-oth49g"),p(v,"id","deploy-project"),p(v,"type","text"),p(v,"placeholder","my-project"),p(v,"pattern","[-a-z0-9]*"),p(v,"class","svelte-oth49g"),p(r,"class","form-group svelte-oth49g"),p(m,"for","deploy-env"),p(m,"class","svelte-oth49g"),p(C,"id","deploy-env"),p(C,"class","svelte-oth49g"),l[2]===void 0&&We(()=>l[76].call(C)),p(h,"class","form-group svelte-oth49g"),p(t,"class","form-row three-col svelte-oth49g"),p(q,"class","config-label svelte-oth49g"),p($,"class","config-bar svelte-oth49g"),p(J,"for","deploy-tags"),p(J,"class","svelte-oth49g"),p(F,"id","deploy-tags"),p(F,"type","text"),p(F,"placeholder","api, backend, v2"),p(F,"class","svelte-oth49g"),p(Y,"class","form-group svelte-oth49g"),p(j,"class","svelte-oth49g"),p(ie,"type","radio"),ie.__value="code",x(ie,ie.__value),p(ie,"class","svelte-oth49g"),p(V,"class","source-option svelte-oth49g"),De(V,"active",l[6]==="code"),p(oe,"type","radio"),oe.__value="git",x(oe,oe.__value),p(oe,"class","svelte-oth49g"),p(pe,"class","source-option svelte-oth49g"),De(pe,"active",l[6]==="git"),p(ve,"type","radio"),ve.__value="image",x(ve,ve.__value),p(ve,"class","svelte-oth49g"),p(ae,"class","source-option svelte-oth49g"),De(ae,"active",l[6]==="image"),p(Se,"type","radio"),Se.__value="image_file",x(Se,Se.__value),p(Se,"class","svelte-oth49g"),p(se,"class","source-option svelte-oth49g"),De(se,"active",l[6]==="image_file"),p(le,"class","source-radio-group svelte-oth49g"),p(W,"class","form-group svelte-oth49g"),p(Ke,"for","deploy-port"),p(Ke,"class","svelte-oth49g"),p(Oe,"id","deploy-port"),p(Oe,"type","number"),p(Oe,"min","1"),p(Oe,"max","65535"),p(Oe,"class","svelte-oth49g"),p(Tt,"class","svelte-oth49g"),p(Ee,"class","form-group svelte-oth49g"),p(ut,"for","deploy-envvars"),p(ut,"class","svelte-oth49g"),p(Ct,"id","deploy-envvars"),p(Ct,"rows","3"),p(Ct,"placeholder","KEY=value ANOTHER_KEY=value"),p(Ct,"class","svelte-oth49g"),p(dl,"class","svelte-oth49g"),p(ct,"class","form-group svelte-oth49g"),p(ql,"class","config-header svelte-oth49g"),p(At,"type","checkbox"),p(At,"class","svelte-oth49g"),p(Kt,"class","checkbox-label svelte-oth49g"),p(Wl,"class","config-divider svelte-oth49g"),p(Ft,"type","checkbox"),p(Ft,"class","svelte-oth49g"),p(Qt,"class","checkbox-label svelte-oth49g"),p(Vl,"class","config-divider svelte-oth49g"),p(zt,"type","checkbox"),p(zt,"class","svelte-oth49g"),p(Zt,"class","checkbox-label svelte-oth49g"),p(Ge,"class","service-config svelte-oth49g"),p(xt,"class","server-title svelte-oth49g"),p(el,"class","server-actions svelte-oth49g"),p(Xt,"class","server-header svelte-oth49g"),p(hl,"class","server-list svelte-oth49g"),p(It,"for","snapshot-select"),p(It,"class","svelte-oth49g"),ll.__value="",x(ll,ll.__value),p(vt,"id","snapshot-select"),p(vt,"class","svelte-oth49g"),l[28]===void 0&&We(()=>l[118].call(vt)),p(tl,"class","form-group svelte-oth49g"),p(gl,"for","region-select"),p(gl,"class","svelte-oth49g"),p($t,"id","region-select"),p($t,"class","svelte-oth49g"),l[3]===void 0&&We(()=>l[119].call($t)),p(nl,"class","form-group svelte-oth49g"),p(bl,"for","size-select"),p(bl,"class","svelte-oth49g"),p(kt,"id","size-select"),p(kt,"class","svelte-oth49g"),l[29]===void 0&&We(()=>l[120].call(kt)),p(sl,"class","form-group svelte-oth49g"),p(Mt,"class","form-row three-col svelte-oth49g"),p(Pl,"class","provisioning-config svelte-oth49g"),p(ol,"type","button"),p(ol,"class","svelte-oth49g"),p(wt,"type","number"),p(wt,"min","0"),p(wt,"max","10"),p(wt,"class","svelte-oth49g"),p(il,"type","button"),p(il,"class","svelte-oth49g"),p(Lt,"class","number-spinner svelte-oth49g"),p(St,"class","new-servers svelte-oth49g"),p(bt,"class","server-selection svelte-oth49g"),en.p(ie,oe,ve,Se)},m(X,$e){y(X,e,$e),a(e,t),a(t,n),a(n,s),a(n,i),a(n,o),x(o,l[0]),a(t,c),a(t,r),a(r,u),a(r,f),a(r,v),x(v,l[1]),a(t,_),a(t,h),a(h,m),a(h,g),a(h,C);for(let Ve=0;Ve<ne.length;Ve+=1)ne[Ve]&&ne[Ve].m(C,null);Ne(C,l[2],!0),a(e,k),a(e,$),a($,q),a($,D),K(T,$,null),a($,E),K(M,$,null),a($,L),K(O,$,null),a($,A),fe&&fe.m($,null),a(e,z),be&&be.m(e,null),a(e,I),a(e,Y),a(Y,J),a(Y,H),a(Y,F),x(F,l[5]),a(e,R),a(e,W),a(W,j),a(W,U),a(W,le),a(le,V),a(V,ie),ie.checked=ie.__value===l[6],a(V,ee),a(le,re),a(le,pe),a(pe,oe),oe.checked=oe.__value===l[6],a(pe,qe),a(le,de),a(le,ae),a(ae,ve),ve.checked=ve.__value===l[6],a(ae,_e),a(le,ue),a(le,se),a(se,Se),Se.checked=Se.__value===l[6],a(se,Fe),a(e,nt),ye&&ye.m(e,null),a(e,Je),Pe&&Pe.m(e,null),a(e,pt),Te&&Te.m(e,null),a(e,Ce),Ie&&Ie.m(e,null),a(e,he),a(e,Ee),a(Ee,Ke),a(Ee,tt),a(Ee,Oe),x(Oe,l[7]),a(Ee,yt),a(Ee,Tt),a(e,Cl),a(e,ct),a(ct,ut),a(ct,an),a(ct,Ct),x(Ct,l[8]),a(ct,Ul),a(ct,dl),a(e,Sl),a(e,Ge),a(Ge,ql),a(Ge,cn),a(Ge,Kt),a(Kt,At),At.checked=l[41],a(Kt,un),a(Kt,Hl),a(Ge,fn),a(Ge,Dl),a(Ge,Gl),Ye&&Ye.m(Ge,null),a(Ge,_l),a(Ge,Wl),a(Ge,Tl),a(Ge,Qt),a(Qt,Ft),Ft.checked=l[42],a(Qt,pn),a(Qt,vl),a(Ge,Jl),a(Ge,ml),a(Ge,Yl),a(Ge,Vl),a(Ge,dt),a(Ge,Zt),a(Zt,zt),zt.checked=l[44],a(Zt,Kl),a(Zt,Ql),a(Ge,dn),a(Ge,Zl),a(Ge,_n),st&&st.m(Ge,null),a(e,vn),a(e,bt),a(bt,Xt),a(Xt,xt),a(xt,Xl),a(xt,mn),K(Bt,xt,null),a(Xt,hn),a(Xt,el),K(Pt,el,null),a(el,gn),K(Et,el,null),a(bt,bn),a(bt,hl),rl[ft].m(hl,null),a(bt,$n),a(bt,Pl),a(Pl,Mt),a(Mt,tl),a(tl,It),a(It,kn),mt&&mt.m(It,null),a(tl,wn),a(tl,vt),a(vt,ll);for(let Ve=0;Ve<ot.length;Ve+=1)ot[Ve]&&ot[Ve].m(vt,null);Ne(vt,l[28],!0),a(Mt,yn),a(Mt,nl),a(nl,gl),a(nl,Cn),a(nl,$t);for(let Ve=0;Ve<it.length;Ve+=1)it[Ve]&&it[Ve].m($t,null);Ne($t,l[3],!0),a(Mt,Sn),a(Mt,sl),a(sl,bl),a(sl,qn),a(sl,kt);for(let Ve=0;Ve<rt.length;Ve+=1)rt[Ve]&&rt[Ve].m(kt,null);Ne(kt,l[29],!0),a(bt,Dn),a(bt,St),a(St,xl),a(St,Tn),a(St,Lt),a(Lt,ol),a(Lt,Pn),a(Lt,wt),x(wt,l[36]),a(Lt,En),a(Lt,il),a(St,Mn),ht&&ht.m(St,null),a(e,Ln),K(Ut,e,null),Nt=!0,tn||(Nn=[te(o,"input",l[74]),te(v,"input",l[75]),te(C,"change",l[76]),te(F,"input",l[78]),te(ie,"change",l[79]),te(oe,"change",l[81]),te(ve,"change",l[82]),te(Se,"change",l[83]),te(Oe,"input",l[104]),te(Ct,"input",l[105]),te(At,"change",l[106]),te(Ft,"change",l[111]),te(zt,"change",l[112]),te(vt,"change",l[118]),te($t,"change",l[119]),te(kt,"change",l[120]),te(ol,"click",l[121]),te(wt,"input",l[122]),te(il,"click",l[123]),te(e,"submit",l[70])],tn=!0)},p(X,$e){if($e[0]&1&&o.value!==X[0]&&x(o,X[0]),$e[0]&2&&v.value!==X[1]&&x(v,X[1]),$e[1]&2097152){G=me(X[52]);let Me;for(Me=0;Me<G.length;Me+=1){const qt=Eo(X,G,Me);ne[Me]?ne[Me].p(qt,$e):(ne[Me]=Mo(qt),ne[Me].c(),ne[Me].m(C,null))}for(;Me<ne.length;Me+=1)ne[Me].d(1);ne.length=G.length}$e[0]&4|$e[1]&2097152&&Ne(C,X[2]);const Ve={};$e[5]&536870912&&(Ve.$$scope={dirty:$e,ctx:X}),T.$set(Ve);const us={};$e[5]&536870912&&(us.$$scope={dirty:$e,ctx:X}),M.$set(us);const fs={};$e[5]&536870912&&(fs.$$scope={dirty:$e,ctx:X}),O.$set(fs),X[46]?fe?fe.p(X,$e):(fe=Lo(X),fe.c(),fe.m($,null)):fe&&(fe.d(1),fe=null),X[47]?be?(be.p(X,$e),$e[1]&65536&&P(be,1)):(be=No(X),be.c(),P(be,1),be.m(e,I)):be&&(ke(),N(be,1,1,()=>{be=null}),we()),$e[0]&32&&F.value!==X[5]&&x(F,X[5]),$e[0]&64&&(ie.checked=ie.__value===X[6]),(!Nt||$e[0]&64)&&De(V,"active",X[6]==="code"),$e[0]&64&&(oe.checked=oe.__value===X[6]),(!Nt||$e[0]&64)&&De(pe,"active",X[6]==="git"),$e[0]&64&&(ve.checked=ve.__value===X[6]),(!Nt||$e[0]&64)&&De(ae,"active",X[6]==="image"),$e[0]&64&&(Se.checked=Se.__value===X[6]),(!Nt||$e[0]&64)&&De(se,"active",X[6]==="image_file"),X[6]==="code"?ye?(ye.p(X,$e),$e[0]&64&&P(ye,1)):(ye=Ro(X),ye.c(),P(ye,1),ye.m(e,Je)):ye&&(ke(),N(ye,1,1,()=>{ye=null}),we()),X[6]==="git"?Pe?(Pe.p(X,$e),$e[0]&64&&P(Pe,1)):(Pe=Uo(X),Pe.c(),P(Pe,1),Pe.m(e,pt)):Pe&&(ke(),N(Pe,1,1,()=>{Pe=null}),we()),X[6]==="image"?Te?Te.p(X,$e):(Te=Wo(X),Te.c(),Te.m(e,Ce)):Te&&(Te.d(1),Te=null),X[6]==="image_file"?Ie?Ie.p(X,$e):(Ie=Jo(X),Ie.c(),Ie.m(e,he)):Ie&&(Ie.d(1),Ie=null),$e[0]&128&&Rt(Oe.value)!==X[7]&&x(Oe,X[7]),$e[0]&256&&x(Ct,X[8]),$e[1]&1024&&(At.checked=X[41]),X[41]?Ye?Ye.p(X,$e):(Ye=Vo(X),Ye.c(),Ye.m(Ge,_l)):Ye&&(Ye.d(1),Ye=null),$e[1]&2048&&(Ft.checked=X[42]),$e[1]&8192&&(zt.checked=X[44]),X[44]?st?st.p(X,$e):(st=Ko(X),st.c(),st.m(Ge,null)):st&&(st.d(1),st=null);const ps={};$e[1]&16|$e[5]&536870912&&(ps.$$scope={dirty:$e,ctx:X}),Bt.$set(ps);const ds={};$e[5]&536870912&&(ds.$$scope={dirty:$e,ctx:X}),Pt.$set(ds);const _s={};$e[5]&536870912&&(_s.$$scope={dirty:$e,ctx:X}),Et.$set(_s);let Wn=ft;if(ft=cs(X),ft===Wn?rl[ft].p(X,$e):(ke(),N(rl[Wn],1,1,()=>{rl[Wn]=null}),we(),_t=rl[ft],_t?_t.p(X,$e):(_t=rl[ft]=Rn[ft](X),_t.c()),P(_t,1),_t.m(hl,null)),X[36]>0?mt||(mt=xo(),mt.c(),mt.m(It,null)):mt&&(mt.d(1),mt=null),$e[1]&1048576){El=me(X[51]);let Me;for(Me=0;Me<El.length;Me+=1){const qt=qo(X,El,Me);ot[Me]?ot[Me].p(qt,$e):(ot[Me]=ei(qt),ot[Me].c(),ot[Me].m(vt,null))}for(;Me<ot.length;Me+=1)ot[Me].d(1);ot.length=El.length}if($e[0]&268435456|$e[1]&1048576&&Ne(vt,X[28]),$e[0]&1073741824){Ml=me(X[30]);let Me;for(Me=0;Me<Ml.length;Me+=1){const qt=So(X,Ml,Me);it[Me]?it[Me].p(qt,$e):(it[Me]=ti(qt),it[Me].c(),it[Me].m($t,null))}for(;Me<it.length;Me+=1)it[Me].d(1);it.length=Ml.length}if($e[0]&1073741832&&Ne($t,X[3]),$e[1]&1){Ll=me(X[31]);let Me;for(Me=0;Me<Ll.length;Me+=1){const qt=Co(X,Ll,Me);rt[Me]?rt[Me].p(qt,$e):(rt[Me]=li(qt),rt[Me].c(),rt[Me].m(kt,null))}for(;Me<rt.length;Me+=1)rt[Me].d(1);rt.length=Ll.length}$e[0]&536870912|$e[1]&1&&Ne(kt,X[29]),$e[1]&32&&Rt(wt.value)!==X[36]&&x(wt,X[36]),X[36]>0&&!X[28]?ht||(ht=ni(),ht.c(),ht.m(St,null)):ht&&(ht.d(1),ht=null);const Jn={};$e[1]&2&&(Jn.disabled=X[32]),$e[1]&2|$e[5]&536870912&&(Jn.$$scope={dirty:$e,ctx:X}),Ut.$set(Jn)},i(X){Nt||(P(T.$$.fragment,X),P(M.$$.fragment,X),P(O.$$.fragment,X),P(be),P(ye),P(Pe),P(Bt.$$.fragment,X),P(Pt.$$.fragment,X),P(Et.$$.fragment,X),P(_t),P(Ut.$$.fragment,X),Nt=!0)},o(X){N(T.$$.fragment,X),N(M.$$.fragment,X),N(O.$$.fragment,X),N(be),N(ye),N(Pe),N(Bt.$$.fragment,X),N(Pt.$$.fragment,X),N(Et.$$.fragment,X),N(_t),N(Ut.$$.fragment,X),Nt=!1},d(X){X&&w(e),Re(ne,X),Q(T),Q(M),Q(O),fe&&fe.d(),be&&be.d(),ye&&ye.d(),Pe&&Pe.d(),Te&&Te.d(),Ie&&Ie.d(),Ye&&Ye.d(),st&&st.d(),Q(Bt),Q(Pt),Q(Et),rl[ft].d(),mt&&mt.d(),Re(ot,X),Re(it,X),Re(rt,X),ht&&ht.d(),Q(Ut),en.r(),tn=!1,He(Nn)}}}function Hu(l){let e;return{c(){e=d("div"),e.innerHTML='<p>No deployment in progress</p> <p class="hint svelte-oth49g">Fill in the form and click Deploy to start</p>',p(e,"class","empty-state svelte-oth49g")},m(t,n){y(t,e,n)},p:ce,d(t){t&&w(e)}}}function Gu(l){let e,t,n,s,i,o,c=me(l[34]),r=[];for(let _=0;_<c.length;_+=1)r[_]=si(yo(l,c,_));function u(_,h){if(_[37]&&_[37].success)return Ju;if(_[37]&&!_[37].success)return Wu}let f=u(l),v=f&&f(l);return{c(){e=d("div"),t=d("div"),n=d("div"),s=b(),i=d("div");for(let _=0;_<r.length;_+=1)r[_].c();o=b(),v&&v.c(),p(n,"class","progress-fill svelte-oth49g"),Ue(n,"width",l[33]+"%"),p(t,"class","progress-bar svelte-oth49g"),p(i,"class","log-output svelte-oth49g"),p(e,"class","progress-section svelte-oth49g")},m(_,h){y(_,e,h),a(e,t),a(t,n),a(e,s),a(e,i);for(let m=0;m<r.length;m+=1)r[m]&&r[m].m(i,null);a(e,o),v&&v.m(e,null)},p(_,h){if(h[1]&4&&Ue(n,"width",_[33]+"%"),h[1]&8){c=me(_[34]);let m;for(m=0;m<c.length;m+=1){const g=yo(_,c,m);r[m]?r[m].p(g,h):(r[m]=si(g),r[m].c(),r[m].m(i,null))}for(;m<r.length;m+=1)r[m].d(1);r.length=c.length}f===(f=u(_))&&v?v.p(_,h):(v&&v.d(1),v=f&&f(_),v&&(v.c(),v.m(e,null)))},d(_){_&&w(e),Re(r,_),v&&v.d()}}}function si(l){let e,t,n=l[72].time.toLocaleTimeString()+"",s,i,o,c=mi(l[72].message)+"",r,u;return{c(){e=d("div"),t=d("span"),s=S(n),i=b(),o=new Fa(!1),r=b(),p(t,"class","log-time svelte-oth49g"),o.a=r,p(e,"class",u="log-line "+l[72].type+" svelte-oth49g")},m(f,v){y(f,e,v),a(e,t),a(t,s),a(e,i),o.m(c,e),a(e,r)},p(f,v){v[1]&8&&n!==(n=f[72].time.toLocaleTimeString()+"")&&B(s,n),v[1]&8&&c!==(c=mi(f[72].message)+"")&&o.p(c),v[1]&8&&u!==(u="log-line "+f[72].type+" svelte-oth49g")&&p(e,"class",u)},d(f){f&&w(e)}}}function Wu(l){let e,t,n,s,i,o=l[2].toUpperCase()+"",c,r,u,f=l[37].error&&oi(l);function v(m,g){return m[37].servers&&m[37].servers.length>0?Vu:Yu}let _=v(l),h=_(l);return{c(){e=d("div"),t=d("div"),n=d("h4"),n.textContent="❌ Deployment Failed",s=b(),i=d("span"),c=S(o),r=b(),f&&f.c(),u=b(),h.c(),p(n,"class","svelte-oth49g"),p(i,"class","env-badge svelte-oth49g"),p(t,"class","result-header svelte-oth49g"),p(e,"class","deploy-failure-box svelte-oth49g")},m(m,g){y(m,e,g),a(e,t),a(t,n),a(t,s),a(t,i),a(i,c),a(e,r),f&&f.m(e,null),a(e,u),h.m(e,null)},p(m,g){g[0]&4&&o!==(o=m[2].toUpperCase()+"")&&B(c,o),m[37].error?f?f.p(m,g):(f=oi(m),f.c(),f.m(e,u)):f&&(f.d(1),f=null),_===(_=v(m))&&h?h.p(m,g):(h.d(1),h=_(m),h&&(h.c(),h.m(e,null)))},d(m){m&&w(e),f&&f.d(),h.d()}}}function Ju(l){let e,t,n,s,i,o=l[2].toUpperCase()+"",c,r,u,f=l[37].domain&&ai(l),v=l[37].servers&&l[37].servers.length>0&&ci(l);return{c(){e=d("div"),t=d("div"),n=d("h4"),n.textContent="✅ Deployment Complete",s=b(),i=d("span"),c=S(o),r=b(),f&&f.c(),u=b(),v&&v.c(),p(n,"class","svelte-oth49g"),p(i,"class","env-badge svelte-oth49g"),p(t,"class","result-header svelte-oth49g"),p(e,"class","deploy-success-box svelte-oth49g")},m(_,h){y(_,e,h),a(e,t),a(t,n),a(t,s),a(t,i),a(i,c),a(e,r),f&&f.m(e,null),a(e,u),v&&v.m(e,null)},p(_,h){h[0]&4&&o!==(o=_[2].toUpperCase()+"")&&B(c,o),_[37].domain?f?f.p(_,h):(f=ai(_),f.c(),f.m(e,u)):f&&(f.d(1),f=null),_[37].servers&&_[37].servers.length>0?v?v.p(_,h):(v=ci(_),v.c(),v.m(e,null)):v&&(v.d(1),v=null)},d(_){_&&w(e),f&&f.d(),v&&v.d()}}}function oi(l){let e,t=l[37].error+"",n;return{c(){e=d("p"),n=S(t)},m(s,i){y(s,e,i),a(e,n)},p(s,i){i[1]&64&&t!==(t=s[37].error+"")&&B(n,t)},d(s){s&&w(e)}}}function Yu(l){let e;return{c(){e=d("p"),e.textContent="No server details available",Ue(e,"margin-top","8px"),Ue(e,"opacity","0.8")},m(t,n){y(t,e,n)},p:ce,d(t){t&&w(e)}}}function Vu(l){let e,t,n,s,i=me(l[37].servers),o=[];for(let c=0;c<i.length;c+=1)o[c]=ri($o(l,i,c));return{c(){e=d("div"),t=d("span"),t.textContent="Server Status:",n=b(),s=d("div");for(let c=0;c<o.length;c+=1)o[c].c();p(t,"class","result-label svelte-oth49g"),p(s,"class","server-links svelte-oth49g"),p(e,"class","result-section svelte-oth49g"),Ue(e,"margin-top","12px")},m(c,r){y(c,e,r),a(e,t),a(e,n),a(e,s);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(s,null)},p(c,r){if(r[0]&1|r[1]&64){i=me(c[37].servers);let u;for(u=0;u<i.length;u+=1){const f=$o(c,i,u);o[u]?o[u].p(f,r):(o[u]=ri(f),o[u].c(),o[u].m(s,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=i.length}},d(c){c&&w(e),Re(o,c)}}}function Ku(l){let e,t=l[152].ip+"",n,s,i=l[152].error&&ii(l);return{c(){e=S("❌ "),n=S(t),i&&i.c(),s=je()},m(o,c){y(o,e,c),y(o,n,c),i&&i.m(o,c),y(o,s,c)},p(o,c){c[1]&64&&t!==(t=o[152].ip+"")&&B(n,t),o[152].error?i?i.p(o,c):(i=ii(o),i.c(),i.m(s.parentNode,s)):i&&(i.d(1),i=null)},d(o){o&&(w(e),w(n),w(s)),i&&i.d(o)}}}function Qu(l){let e,t=l[152].ip+"",n;return{c(){e=S("✅ "),n=S(t)},m(s,i){y(s,e,i),y(s,n,i)},p(s,i){i[1]&64&&t!==(t=s[152].ip+"")&&B(n,t)},d(s){s&&(w(e),w(n))}}}function ii(l){let e,t=l[152].error+"",n;return{c(){e=S(": "),n=S(t)},m(s,i){y(s,e,i),y(s,n,i)},p(s,i){i[1]&64&&t!==(t=s[152].error+"")&&B(n,t)},d(s){s&&(w(e),w(n))}}}function ri(l){let e,t,n,s,i,o,c;function r(_,h){return _[152].success?Qu:Ku}let u=r(l),f=u(l);function v(){return l[126](l[152])}return{c(){e=d("div"),t=d("span"),f.c(),n=b(),s=d("button"),s.textContent="📋 Logs",i=b(),p(s,"class","log-btn svelte-oth49g"),p(e,"class","server-link-row svelte-oth49g")},m(_,h){y(_,e,h),a(e,t),f.m(t,null),a(e,n),a(e,s),a(e,i),o||(c=te(s,"click",v),o=!0)},p(_,h){l=_,u===(u=r(l))&&f?f.p(l,h):(f.d(1),f=u(l),f&&(f.c(),f.m(t,null)))},d(_){_&&w(e),f.d(),o=!1,c()}}}function ai(l){let e,t,n,s,i,o=l[37].domain+"",c,r;return{c(){e=d("div"),t=d("span"),t.textContent="Domain:",n=b(),s=d("a"),i=S("https://"),c=S(o),p(t,"class","result-label svelte-oth49g"),p(s,"href",r="https://"+l[37].domain),p(s,"target","_blank"),p(s,"class","result-link svelte-oth49g"),p(e,"class","result-section svelte-oth49g")},m(u,f){y(u,e,f),a(e,t),a(e,n),a(e,s),a(s,i),a(s,c)},p(u,f){f[1]&64&&o!==(o=u[37].domain+"")&&B(c,o),f[1]&64&&r!==(r="https://"+u[37].domain)&&p(s,"href",r)},d(u){u&&w(e)}}}function ci(l){let e,t,n,s,i,o=l[37].servers.some(hi),c,r=me(l[37].servers.filter($i)),u=[];for(let v=0;v<r.length;v+=1)u[v]=ui(wo(l,r,v));let f=o&&fi(l);return{c(){e=d("div"),t=d("span"),t.textContent="Servers:",n=b(),s=d("div");for(let v=0;v<u.length;v+=1)u[v].c();i=b(),f&&f.c(),c=je(),p(t,"class","result-label svelte-oth49g"),p(s,"class","server-links svelte-oth49g"),p(e,"class","result-section svelte-oth49g")},m(v,_){y(v,e,_),a(e,t),a(e,n),a(e,s);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(s,null);y(v,i,_),f&&f.m(v,_),y(v,c,_)},p(v,_){if(_[0]&1|_[1]&64){r=me(v[37].servers.filter($i));let h;for(h=0;h<r.length;h+=1){const m=wo(v,r,h);u[h]?u[h].p(m,_):(u[h]=ui(m),u[h].c(),u[h].m(s,null))}for(;h<u.length;h+=1)u[h].d(1);u.length=r.length}_[1]&64&&(o=v[37].servers.some(hi)),o?f?f.p(v,_):(f=fi(v),f.c(),f.m(c.parentNode,c)):f&&(f.d(1),f=null)},d(v){v&&(w(e),w(i),w(c)),Re(u,v),f&&f.d(v)}}}function ui(l){let e,t,n=l[152].url+"",s,i,o,c,r,u,f;function v(){return l[124](l[152])}return{c(){e=d("div"),t=d("a"),s=S(n),o=b(),c=d("button"),c.textContent="📋 Logs",r=b(),p(t,"href",i=l[152].url),p(t,"target","_blank"),p(t,"class","result-link svelte-oth49g"),p(c,"class","log-btn svelte-oth49g"),p(e,"class","server-link-row svelte-oth49g")},m(_,h){y(_,e,h),a(e,t),a(t,s),a(e,o),a(e,c),a(e,r),u||(f=te(c,"click",v),u=!0)},p(_,h){l=_,h[1]&64&&n!==(n=l[152].url+"")&&B(s,n),h[1]&64&&i!==(i=l[152].url)&&p(t,"href",i)},d(_){_&&w(e),u=!1,f()}}}function fi(l){let e,t,n,s=me(l[37].servers.filter(ki)),i=[];for(let o=0;o<s.length;o+=1)i[o]=pi(ko(l,s,o));return{c(){e=d("div"),t=d("span"),t.textContent="Failed Servers:",n=b();for(let o=0;o<i.length;o+=1)i[o].c();p(t,"class","result-label svelte-oth49g"),Ue(t,"color","#fef3c7"),p(e,"class","failed-servers-section svelte-oth49g")},m(o,c){y(o,e,c),a(e,t),a(e,n);for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(e,null)},p(o,c){if(c[0]&1|c[1]&64){s=me(o[37].servers.filter(ki));let r;for(r=0;r<s.length;r+=1){const u=ko(o,s,r);i[r]?i[r].p(u,c):(i[r]=pi(u),i[r].c(),i[r].m(e,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=s.length}},d(o){o&&w(e),Re(i,o)}}}function pi(l){let e,t,n,s=l[152].ip+"",i,o,c=(l[152].error||"Unknown error")+"",r,u,f,v,_,h;function m(){return l[125](l[152])}return{c(){e=d("div"),t=d("span"),n=S("❌ "),i=S(s),o=S(": "),r=S(c),u=b(),f=d("button"),f.textContent="📋 Logs",v=b(),Ue(t,"color","#fef3c7"),p(f,"class","log-btn svelte-oth49g"),p(e,"class","server-link-row svelte-oth49g")},m(g,C){y(g,e,C),a(e,t),a(t,n),a(t,i),a(t,o),a(t,r),a(e,u),a(e,f),a(e,v),_||(h=te(f,"click",m),_=!0)},p(g,C){l=g,C[1]&64&&s!==(s=l[152].ip+"")&&B(i,s),C[1]&64&&c!==(c=(l[152].error||"Unknown error")+"")&&B(r,c)},d(g){g&&w(e),_=!1,h()}}}function Zu(l){let e;function t(i,o){return i[32]||i[34].length>0?Gu:Hu}let n=t(l),s=n(l);return{c(){s.c(),e=je()},m(i,o){s.m(i,o),y(i,e,o)},p(i,o){n===(n=t(i))&&s?s.p(i,o):(s.d(1),s=n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&w(e),s.d(i)}}}function di(l){let e,t,n=(l[152].name||l[152].ip)+"",s,i,o,c=l[152].ip+"",r,u;return{c(){e=d("div"),t=d("span"),s=S(n),i=b(),o=d("span"),r=S(c),u=b(),p(t,"class","server-name svelte-oth49g"),p(o,"class","server-ip svelte-oth49g"),p(e,"class","cleanup-server-item svelte-oth49g")},m(f,v){y(f,e,v),a(e,t),a(t,s),a(e,i),a(e,o),a(o,r),a(e,u)},p(f,v){v[1]&256&&n!==(n=(f[152].name||f[152].ip)+"")&&B(s,n),v[1]&256&&c!==(c=f[152].ip+"")&&B(r,c)},d(f){f&&w(e)}}}function Xu(l){let e,t,n,s,i=l[39].length+[...l[35]].length+"",o,c,r,u=[...l[35]].length+"",f,v,_,h,m,g,C=me(l[39]),k=[];for(let $=0;$<C.length;$+=1)k[$]=di(bo(l,C,$));return{c(){e=d("div"),t=d("p"),n=S("This service is currently running on "),s=d("strong"),o=S(i),c=S(` servers.
      You're deploying to `),r=d("strong"),f=S(u),v=S(" servers."),_=b(),h=d("p"),h.textContent="Stop containers on the following servers?",m=b(),g=d("div");for(let $=0;$<k.length;$+=1)k[$].c();p(t,"class","svelte-oth49g"),p(h,"class","svelte-oth49g"),p(g,"class","cleanup-server-list svelte-oth49g"),p(e,"class","cleanup-confirm-content svelte-oth49g")},m($,q){y($,e,q),a(e,t),a(t,n),a(t,s),a(s,o),a(t,c),a(t,r),a(r,f),a(t,v),a(e,_),a(e,h),a(e,m),a(e,g);for(let D=0;D<k.length;D+=1)k[D]&&k[D].m(g,null)},p($,q){if(q[1]&272&&i!==(i=$[39].length+[...$[35]].length+"")&&B(o,i),q[1]&16&&u!==(u=[...$[35]].length+"")&&B(f,u),q[1]&256){C=me($[39]);let D;for(D=0;D<C.length;D+=1){const T=bo($,C,D);k[D]?k[D].p(T,q):(k[D]=di(T),k[D].c(),k[D].m(g,null))}for(;D<k.length;D+=1)k[D].d(1);k.length=C.length}},d($){$&&w(e),Re(k,$)}}}function xu(l){let e;return{c(){e=S("Proceed")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function ef(l){let e;return{c(){e=S("Cancel")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function tf(l){let e,t,n,s,i;return t=new Le({props:{variant:"primary",$$slots:{default:[xu]},$$scope:{ctx:l}}}),t.$on("click",l[71]),s=new Le({props:{variant:"ghost",$$slots:{default:[ef]},$$scope:{ctx:l}}}),s.$on("click",l[127]),{c(){e=d("div"),Z(t.$$.fragment),n=b(),Z(s.$$.fragment),p(e,"slot","footer")},m(o,c){y(o,e,c),K(t,e,null),a(e,n),K(s,e,null),i=!0},p(o,c){const r={};c[5]&536870912&&(r.$$scope={dirty:c,ctx:o}),t.$set(r);const u={};c[5]&536870912&&(u.$$scope={dirty:c,ctx:o}),s.$set(u)},i(o){i||(P(t.$$.fragment,o),P(s.$$.fragment,o),i=!0)},o(o){N(t.$$.fragment,o),N(s.$$.fragment,o),i=!1},d(o){o&&w(e),Q(t),Q(s)}}}function lf(l){let e,t,n,s,i,o,c,r,u;n=new ze({props:{title:"🚀 Deploy Application",$$slots:{default:[Uu]},$$scope:{ctx:l}}}),i=new ze({props:{title:"📋 Deployment Progress",$$slots:{default:[Zu]},$$scope:{ctx:l}}});function f(_){l[128](_)}let v={title:"⚠️ Service Already Running",width:"500px",$$slots:{footer:[tf],default:[Xu]},$$scope:{ctx:l}};return l[38]!==void 0&&(v.open=l[38]),c=new wl({props:v}),at.push(()=>kl(c,"open",f)),c.$on("close",l[129]),{c(){e=d("div"),t=d("div"),Z(n.$$.fragment),s=b(),Z(i.$$.fragment),o=b(),Z(c.$$.fragment),p(t,"class","deploy-grid svelte-oth49g"),p(e,"class","deploy-page svelte-oth49g")},m(_,h){y(_,e,h),a(e,t),K(n,t,null),a(t,s),K(i,t,null),y(_,o,h),K(c,_,h),u=!0},p(_,h){const m={};h[0]&2147483647|h[1]&2096179|h[5]&536870912&&(m.$$scope={dirty:h,ctx:_}),n.$set(m);const g={};h[0]&5|h[1]&78|h[5]&536870912&&(g.$$scope={dirty:h,ctx:_}),i.$set(g);const C={};h[1]&912|h[5]&536870912&&(C.$$scope={dirty:h,ctx:_}),!r&&h[1]&128&&(r=!0,C.open=_[38],$l(()=>r=!1)),c.$set(C)},i(_){u||(P(n.$$.fragment,_),P(i.$$.fragment,_),P(c.$$.fragment,_),u=!0)},o(_){N(n.$$.fragment,_),N(i.$$.fragment,_),N(c.$$.fragment,_),u=!1},d(_){_&&(w(e),w(o)),Q(n),Q(i),Q(c,_)}}}function nf(l){l.preventDefault(),l.stopPropagation()}async function Da(l,e){const t=[],n=l.createReader();let s=[],i;do i=await new Promise((o,c)=>{n.readEntries(o,c)}),s=s.concat(i);while(i.length>0);for(const o of s){const c=e?`${e}/${o.name}`:o.name;if(o.isFile){const r=await new Promise((u,f)=>{o.file(u,f)});r._relativePath=c,t.push(r)}else if(o.isDirectory){const r=await Da(o,c);t.push(...r)}}return t}function _i(l){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>e(new Uint8Array(n.result)),n.onerror=t,n.readAsArrayBuffer(l)})}function vi(l){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>e(n.result),n.onerror=t,n.readAsText(l)})}function mi(l){const e=/(https?:\/\/[^\s]+)/g;return l.replace(e,'<a href="$1" target="_blank" class="log-link">$1</a>')}const hi=l=>!l.success,sf=l=>l.isMain,gi=l=>l.isMain,bi=l=>l.isMain,$i=l=>l.success,ki=l=>!l.success;function of(l,e,t){let n,s,i,o;Ze(l,es,G=>t(51,i=G)),Ze(l,yl,G=>t(73,o=G));let c="",r="",u="prod",f="",v="code",_=8e3,h="",m="",g="main",C="",k=[],$="",q="",D=null,T="",E="",M="",L=[],O=null,A=null,z=!0,I=!1,Y="",J="",H=!1,F="",R="",W="",j="lon1",U="s-1vcpu-2gb",le=[],V=[],ie=!1,ee=0,re=[],pe=new Set,oe=0,qe=null,de=!1,ae=[],ve=null,_e=!0,ue=!0,se={postgres:!1,redis:!1,mysql:!1,mongo:!1},Se=!0,Fe="digitalpixo.com",nt="",Je="",pt=!1,Ce=["node_modules/","__pycache__/","*.pyc",".git/",".venv/","venv/",".env",".DS_Store",".idea/",".vscode/","dist/","build/",".pytest_cache/",".mypy_cache/"],he=Ce.join(`
`);const Ee=[...Ce],Ke=["dev","test","staging","uat","prod"];fl(()=>{tt(),Oe(),yt()});async function tt(){try{const G=await Ae("GET","/infra/servers");yl.set(G.servers||G||[])}catch(G){console.error("Failed to load servers:",G)}}async function Oe(){try{const G=await Ae("GET","/infra/snapshots");es.set(G.snapshots||G||[]),i.length>0&&!W&&t(28,W=i[0].id)}catch(G){console.error("Failed to load snapshots:",G)}}async function yt(){try{try{const G=await Ae("GET","/infra/regions");t(30,le=G.regions||G||[])}catch{t(30,le=[{slug:"nyc1",name:"New York 1"},{slug:"nyc3",name:"New York 3"},{slug:"sfo3",name:"San Francisco 3"},{slug:"ams3",name:"Amsterdam 3"},{slug:"sgp1",name:"Singapore 1"},{slug:"lon1",name:"London 1"},{slug:"fra1",name:"Frankfurt 1"}])}try{const G=await Ae("GET","/infra/sizes");t(31,V=G.sizes||G||[])}catch{t(31,V=[{slug:"s-1vcpu-512mb-10gb",description:"512MB / 1 vCPU"},{slug:"s-1vcpu-1gb",description:"1GB / 1 vCPU"},{slug:"s-1vcpu-2gb",description:"2GB / 1 vCPU"},{slug:"s-2vcpu-2gb",description:"2GB / 2 vCPU"},{slug:"s-2vcpu-4gb",description:"4GB / 2 vCPU"},{slug:"s-4vcpu-8gb",description:"8GB / 4 vCPU"}])}}catch(G){console.error("Failed to load regions/sizes:",G)}}async function Tt(){var G;if(!c){ge.warning("Enter app name first");return}t(46,Je="Loading...");try{const fe=await Ae("GET",`/infra/deploy-configs/${r||"default"}/${c}/${u}`);ct(fe),t(46,Je="✓ Loaded"),ge.success("Config loaded")}catch(ne){(G=ne.message)!=null&&G.includes("404")?(t(46,Je="No saved config"),ge.info("No saved config found")):(t(46,Je="Load failed"),ge.error("Failed to load config"))}}async function Cl(){try{const ne=await Ae("GET",`/infra/deploy-configs/${r||"default"}/${c}/${u}`);ct(ne),t(46,Je="✓ Auto-loaded")}catch{t(46,Je="")}}function ct(G){var ne,fe;G.source_type&&t(6,v={folder:"code",git:"git",image:"image"}[G.source_type]||G.source_type),G.git_url&&t(9,m=G.git_url),G.git_branch&&t(10,g=G.git_branch),G.port&&t(7,_=G.port),G.env_vars&&Object.keys(G.env_vars).length>0&&t(8,h=Object.entries(G.env_vars).map(([be,ye])=>`${be}=${ye}`).join(`
`)),((ne=G.exclude_patterns)==null?void 0:ne.length)>0&&(Ce=G.exclude_patterns,t(48,he=Ce.join(`
`))),((fe=G.server_ips)==null?void 0:fe.length)>0&&t(35,pe=new Set(G.server_ips))}async function ut(){if(!c){ge.warning("Enter app name first");return}t(46,Je="Saving...");const G={};for(const be of h.split(`
`)){const ye=be.trim();if(ye&&ye.includes("=")){const[Pe,...Te]=ye.split("=");G[Pe.trim()]=Te.join("=").trim()}}const ne=he.split(`
`).map(be=>be.trim()).filter(Boolean),fe={project_name:r||"default",service_name:c,env:u,source_type:v==="code"?"folder":v,git_url:m||null,git_branch:g||"main",exclude_patterns:ne.length>0?ne:Ee,port:_,env_vars:G,server_ips:Array.from(pe)};try{await Ae("POST","/infra/deploy-configs",fe),t(46,Je="✓ Saved"),ge.success("Config saved")}catch{t(46,Je="Save failed"),ge.error("Failed to save config")}}function an(){t(47,pt=!pt),pt||(Ce=he.split(`
`).map(G=>G.trim()).filter(Boolean))}function Ct(){Ce=[...Ee],t(48,he=Ee.join(`
`)),ge.info("Reset to default patterns")}function Ul(G){for(const ne of Ce)if(ne.endsWith("/")){const fe=ne.slice(0,-1);if(G.startsWith(fe+"/")||G.includes("/"+fe+"/"))return!0}else if(ne.startsWith("*")){const fe=ne.slice(1);if(G.endsWith(fe))return!0}else if(G===ne||G.endsWith("/"+ne))return!0;return!1}function dl(G){pe.has(G)?pe.delete(G):pe.add(G),t(35,pe)}function Sl(G){G?n.forEach(ne=>{var be,ye,Pe;const fe=ne.ip||((Pe=(ye=(be=ne.networks)==null?void 0:be.v4)==null?void 0:ye[0])==null?void 0:Pe.ip_address);fe&&pe.add(fe)}):pe.clear(),t(35,pe)}function Ge(){A=async(G,ne)=>{await fn(G,ne,L.length===0)},O==null||O.click()}async function ql(G){const ne=Array.from(G.target.files||[]);if(!ne.length||!A)return;console.log(`[Deploy] Browser returned ${ne.length} files`),ne.length<50?console.log("[Deploy] Files:",ne.map(ye=>ye.webkitRelativePath)):console.log("[Deploy] First 20 files:",ne.slice(0,20).map(ye=>ye.webkitRelativePath));const be=ne[0].webkitRelativePath.split("/")[0];await A(ne,be),A=null,G.target.value=""}function cn(G){G.preventDefault(),G.stopPropagation(),t(22,I=!0)}function Kt(G){G.preventDefault(),G.stopPropagation(),G.currentTarget.contains(G.relatedTarget)||t(22,I=!1)}async function At(G){var fe,be;G.preventDefault(),G.stopPropagation(),t(22,I=!1);const ne=(fe=G.dataTransfer)==null?void 0:fe.items;if(!(!ne||ne.length===0)){for(const ye of ne)if(ye.kind==="file"){const Pe=(be=ye.webkitGetAsEntry)==null?void 0:be.call(ye);Pe!=null&&Pe.isDirectory&&await un(Pe)}}}async function un(G){const ne=G.name;if(L.some(ye=>ye.name===ne)){ge.error(`Folder "${ne}" is already added`);return}ge.info(`Reading ${ne}/...`);const fe=await Da(G,"");if(fe.length===0){ge.error(`No files found in ${ne}/`);return}const be=L.length===0;await Hl(fe,ne,be)}async function Hl(G,ne,fe){fe&&L.some(Te=>Te.isMain)&&t(19,L=L.map(Te=>({...Te,isMain:!1})));const be=[];let ye=null,Pe=0;for(const Te of G){const Ie=Te._relativePath||Te.name;if(Ul(Ie)){Pe++;continue}const Ye=await _i(Te);be.push({path:Ie,content:Ye}),fe&&Ie==="Dockerfile"&&(ye=await vi(Te))}console.log(`[Deploy] Dropped ${ne}/: ${G.length} total, ${Pe} skipped, ${be.length} included`),t(19,L=[...L,{name:ne,fileContents:be,isMain:fe,fileCount:be.length}]),_l(),L.some(Te=>Te.isMain)&&Tl(ye),z&&r&&c&&Jl(),ge.success(`Added ${ne}/ (${be.length} files)`)}async function fn(G,ne,fe){if(L.some(Te=>Te.name===ne)){ge.error(`Folder "${ne}" is already added`);return}fe&&L.some(Te=>Te.isMain)&&t(19,L=L.map(Te=>({...Te,isMain:!1})));const be=[];let ye=null,Pe=0;for(const Te of G){const Ie=Te.webkitRelativePath.replace(`${ne}/`,"");if(Ul(Ie)){Pe++;continue}const Ye=await _i(Te);be.push({path:Ie,content:Ye}),fe&&Ie==="Dockerfile"&&(ye=await vi(Te))}console.log(`[Deploy] Processed ${ne}/: ${G.length} total, ${Pe} skipped, ${be.length} included`),t(19,L=[...L,{name:ne,fileContents:be,isMain:fe,fileCount:be.length}]),_l(),L.some(Te=>Te.isMain)&&Tl(ye),z&&r&&c&&Jl(),ge.success(`Added ${ne}/ (${be.length} files)`)}function Dl(G){t(19,L=L.filter((ne,fe)=>fe!==G)),_l(),L.length>0&&!L.some(ne=>ne.isMain)&&t(19,L=L.map((ne,fe)=>({...ne,isMain:fe===0})))}function Gl(G){t(19,L=L.map((ne,fe)=>({...ne,isMain:fe===G}))),Tl()}function _l(){const G=L.some(ne=>ne.isMain);L.length&&G&&Wl()}async function Wl(){if(!L.length)return;const{default:G}=await go(async()=>{const{default:fe}=await import("https://cdn.jsdelivr.net/npm/jszip@3.10.1/+esm");return{default:fe}},[]),ne=new G;for(const fe of L)for(const{path:be,content:ye}of fe.fileContents)ne.file(`${fe.name}/${be}`,ye);L.length>1&&Y&&ne.file("Dockerfile",Y),await ne.generateAsync({type:"blob"})}function Tl(G=null){if(t(25,H=!0),G)t(23,Y=G),t(24,J="from folder");else if(L.length>1)t(23,Y=Qt()),t(24,J="multi-folder");else if(L.length===1){const ne=L[0];t(23,Y=Ft(ne.fileContents.map(fe=>fe.path))),t(24,J="generated")}pn()}function Qt(){const G=L.find(ye=>ye.isMain);if(!G)return"";const ne=L.filter(ye=>!ye.isMain),fe=G.fileContents.some(ye=>ye.path==="requirements.txt");G.fileContents.some(ye=>ye.path==="package.json");let be=`FROM python:3.11-slim

WORKDIR /app

`;for(const ye of ne)be+=`# Copy ${ye.name}
COPY ${ye.name}/ ./${ye.name}/

`;return be+=`# Copy main service
COPY ${G.name}/ ./${G.name}/

`,fe&&(be+=`# Install dependencies
RUN pip install --no-cache-dir -r ${G.name}/requirements.txt

`),be+=`EXPOSE ${_}

`,be+=`CMD ["uvicorn", "${G.name}.main:app", "--host", "0.0.0.0", "--port", "${_}"]
`,be}function Ft(G){const ne=G.includes("requirements.txt"),fe=G.includes("package.json"),be=G.includes("pyproject.toml");return ne||be?`FROM python:3.11-slim

WORKDIR /app

COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

COPY . .

EXPOSE ${_}

CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "${_}"]
`:fe?`FROM node:20-alpine

WORKDIR /app

COPY package*.json ./
RUN npm ci --only=production

COPY . .

EXPOSE ${_}

CMD ["node", "index.js"]
`:`FROM python:3.11-slim

WORKDIR /app

COPY . .

EXPOSE ${_}

CMD ["python", "main.py"]
`}function pn(){const G=Y.match(/^FROM\s+(\S+)/m),ne=Y.match(/^CMD\s+(.+)$/m);t(26,F=G?G[1]:""),t(27,R=ne?ne[1]:"")}function vl(G){G==="from"&&F?t(23,Y=Y.replace(/^FROM\s+\S+/m,`FROM ${F}`)):G==="cmd"&&R&&(Y.includes("CMD ")?t(23,Y=Y.replace(/^CMD\s+.+$/m,`CMD ${R}`)):t(23,Y+=`
CMD ${R}
`)),t(24,J="edited")}function Jl(){if(!r||!c)return;const G=`build_folders_${r}_${c}`,ne=L.map(fe=>({name:fe.name,isMain:fe.isMain}));localStorage.setItem(G,JSON.stringify(ne))}function ml(G){if(!$.trim()){ge.error("Please enter a folder path");return}const ne=$.trim();if(G&&k.some(fe=>fe.isMain)&&t(12,k=k.map(fe=>({...fe,isMain:!1}))),k.some(fe=>fe.path===ne)){ge.error("This folder is already added");return}t(12,k=[...k,{path:ne,isMain:G}]),t(13,$="")}function Yl(G){t(12,k=k.filter((ne,fe)=>fe!==G))}function Vl(G){var fe;const ne=(fe=G.target.files)==null?void 0:fe[0];if(ne){if(!ne.name.endsWith(".tar")&&!ne.name.endsWith(".tar.gz")){ge.error("Only .tar or .tar.gz image files are supported");return}t(15,D=ne),ge.success(`Selected: ${ne.name}`)}}function dt(G,ne="info"){t(34,re=[...re,{message:G,type:ne,time:new Date}])}async function Zt(G){if(G.preventDefault(),!c){ge.error("App name is required");return}if(v==="code"&&!L.some(fe=>fe.isMain)){ge.error("Add a main folder with your code");return}if(v==="git"&&!m){ge.error("Git URL is required");return}if(v==="image"&&!q){ge.error("Docker image URL is required");return}if(v==="image_file"&&!D){ge.error("Upload a Docker image file (.tar)");return}if(v==="image_file"&&!T){ge.error("Image name is required for local images");return}if(pe.size===0&&oe===0){ge.error("Select at least one server or add new servers");return}if(oe>0&&!W){ge.error("Select a snapshot for new servers");return}if(!ul()){ge.error("Configure your DO Token in Settings first");return}if(Se&&!Xn()){ge.error("Configure your Cloudflare Token in Settings first (required for domain setup)");return}const ne=[...pe];if(r&&c&&u)try{const fe=new URLSearchParams({project:r,environment:u,service_name:c}),be=await Ae("GET",`/infra/services/state?${fe}`);if(be.server_ips&&be.server_ips.length>0){const ye=be.servers.filter(Pe=>!ne.includes(Pe.ip));if(ye.length>0){t(39,ae=ye),t(40,ve=()=>Kl(G)),t(38,de=!0);return}}}catch(fe){console.log("Service state check:",fe.message||fe)}await Kl()}async function zt(){t(38,de=!1);const G=`${r}_${c}_${u}`.replace(/[^a-zA-Z0-9_]/g,"_");if(ae.length>0){const ne=ae.map(fe=>fe.ip);dt(`Stopping containers on ${ae.length} server(s)...`);try{const fe=await Ae("POST",`/infra/services/cleanup?do_token=${ul()}`,{server_ips:ne,container_name:G});dt(`Cleanup complete: ${fe.cleaned} stopped, ${fe.failed} failed`)}catch(fe){dt(`Cleanup warning: ${fe.message||fe}`,"warning")}}t(39,ae=[]),ve&&(await ve(),t(40,ve=null))}async function Kl(G){t(32,ie=!0),t(33,ee=0),t(34,re=[]),t(37,qe=null);try{dt(`Starting deployment of ${c}...`),t(33,ee=10);let ne=null;if(v==="code"){dt("Creating code archive...");const{default:Te}=await go(async()=>{const{default:Ye}=await import("https://cdn.jsdelivr.net/npm/jszip@3.10.1/+esm");return{default:Ye}},[]),Ie=new Te;for(const Ye of L)for(const{path:st,content:Rn}of Ye.fileContents)Ie.file(`${Ye.name}/${st}`,Rn);L.length>1&&Y&&Ie.file("Dockerfile",Y),ne=await Ie.generateAsync({type:"blob"})}dt("Sending deployment request... server provisioning may take 30-60s"),t(33,ee=20);const fe=ul(),be=Xn(),ye=new URLSearchParams({do_token:fe,snapshot_id:W||"",new_server_count:String(oe),region:j,size:U,project:r||"",environment:u,setup_domain:String(Se),base_domain:Fe,domain_aliases:JSON.stringify(nt.split(",").map(Te=>Te.trim()).filter(Boolean))});Se&&be&&ye.set("cf_token",be);const Pe=new FormData;Pe.append("name",c),Pe.append("port",String(_)),Pe.append("source_type",v),Pe.append("env_vars",h),Pe.append("tags",f),Pe.append("server_ips",JSON.stringify(Array.from(pe))),Pe.append("depends_on",JSON.stringify(Object.entries(se).filter(([Te,Ie])=>Ie).map(([Te])=>Te))),Pe.append("exclude_patterns",JSON.stringify(Ce)),Y&&Pe.append("dockerfile",Y),m&&Pe.append("git_url",m),g&&Pe.append("git_branch",g),C&&Pe.append("git_token",C),k.length&&Pe.append("git_folders",JSON.stringify(k)),q&&Pe.append("image",q),ne&&Pe.append("code_tar",ne,"code.zip"),v==="image_file"&&(D&&Pe.append("image_tar",D),T&&Pe.append("image",T),E&&Pe.append("container_port",String(E)),M&&Pe.append("host_port",String(M))),await lc(`/infra/deploy/multipart?${ye}`,Pe,Te=>{if(Te.type==="log")dt(Te.message);else if(Te.type==="progress")t(33,ee=Math.min(20+(Te.percent||0)*.8,95));else if(Te.type==="done"){if(t(37,qe=Te),t(33,ee=100),!Te.success){const Ie=Te.failed_count||0,Ye=Te.error||`Deployment failed: ${Ie} server(s) failed`;throw new Error(Ye)}}else if(Te.type==="error")throw new Error(Te.message||"Deployment failed")}),dt("✅ Deployment complete!","success"),ge.success("Deployment successful!"),await tt()}catch(ne){let fe="Unknown error";if(typeof ne=="string")fe=ne;else if(ne!=null&&ne.message)fe=ne.message;else if(ne!=null&&ne.detail)fe=ne.detail;else if(ne!=null&&ne.error)fe=ne.error;else try{fe=JSON.stringify(ne)}catch{fe=String(ne)}dt(`❌ Error: ${fe}`,"error"),ge.error(fe)}finally{t(32,ie=!1)}}const Ql=[[]];function dn(){c=this.value,t(0,c)}function Zl(){r=this.value,t(1,r)}function _n(){u=Qe(this),t(2,u),t(52,Ke)}function vn(){he=this.value,t(48,he)}function bt(){f=this.value,t(5,f)}function Xt(){v=this.__value,t(6,v)}function xt(){v=this.__value,t(6,v)}function Xl(){v=this.__value,t(6,v)}function mn(){v=this.__value,t(6,v)}function Bt(G){at[G?"unshift":"push"](()=>{O=G,t(20,O)})}const hn=G=>Gl(G),el=G=>Dl(G);function Pt(){z=this.checked,t(21,z)}function gn(){Y=this.value,t(23,Y)}function Et(){F=Qe(this),t(26,F)}const bn=()=>vl("from");function hl(){R=this.value,t(27,R)}const ft=()=>vl("cmd");function _t(){m=this.value,t(9,m)}function $n(){g=this.value,t(10,g)}const Pl=G=>Yl(G);function Mt(){$=this.value,t(13,$)}const tl=()=>ml(!0),It=()=>ml(!1);function kn(){C=this.value,t(11,C)}function wn(){q=this.value,t(14,q)}function vt(){T=this.value,t(16,T)}function ll(){E=Rt(this.value),t(17,E)}function yn(){M=Rt(this.value),t(18,M)}function nl(){_=Rt(this.value),t(7,_)}function gl(){h=this.value,t(8,h)}function Cn(){_e=this.checked,t(41,_e)}function $t(){se.postgres=this.checked,t(43,se)}function Sn(){se.redis=this.checked,t(43,se)}function sl(){se.mysql=this.checked,t(43,se)}function bl(){se.mongo=this.checked,t(43,se)}function qn(){ue=this.checked,t(42,ue)}function kt(){Se=this.checked,t(44,Se)}function Dn(){Fe=this.value,t(4,Fe)}function St(){nt=this.value,t(45,nt)}const xl=()=>Sl(!0),Tn=()=>Sl(!1),Lt=G=>dl(G);function ol(){W=Qe(this),t(28,W)}function Pn(){j=Qe(this),t(3,j),t(30,le)}function wt(){U=Qe(this),t(29,U),t(31,V)}const En=()=>t(36,oe=Math.max(0,oe-1));function il(){oe=Rt(this.value),t(36,oe)}const Mn=()=>t(36,oe=Math.min(10,oe+1)),Ln=G=>window.open(`/api/v1/infra/logs/${G.ip}/${G.container_name||qe.container_name||c}`,"_blank"),Ut=G=>window.open(`/api/v1/infra/logs/${G.ip}/${G.container_name||qe.container_name||c}`,"_blank"),Nt=G=>window.open(`/api/v1/infra/logs/${G.ip}/${G.container_name||qe.container_name||c}`,"_blank"),en=()=>{t(38,de=!1),t(40,ve=null)};function tn(G){de=G,t(38,de)}const Nn=()=>{t(38,de=!1),t(40,ve=null)};return l.$$.update=()=>{l.$$.dirty[0]&8|l.$$.dirty[2]&2048&&t(49,n=o.filter(G=>!j||G.region===j)),l.$$.dirty[0]&23&&t(50,s=c&&r&&u?`${c}-${r}-${u}.${Fe}`:""),l.$$.dirty[0]&3&&c&&r&&Cl()},[c,r,u,j,Fe,f,v,_,h,m,g,C,k,$,q,D,T,E,M,L,O,z,I,Y,J,H,F,R,W,U,le,V,ie,ee,re,pe,oe,qe,de,ae,ve,_e,ue,se,Se,nt,Je,pt,he,n,s,i,Ke,Tt,ut,an,Ct,dl,Sl,Ge,ql,cn,Kt,At,Dl,Gl,vl,ml,Yl,Vl,Zt,zt,dt,o,dn,Zl,_n,vn,bt,Xt,Ql,xt,Xl,mn,Bt,hn,el,Pt,gn,Et,bn,hl,ft,_t,$n,Pl,Mt,tl,It,kn,wn,vt,ll,yn,nl,gl,Cn,$t,Sn,sl,bl,qn,kt,Dn,St,xl,Tn,Lt,ol,Pn,wt,En,il,Mn,Ln,Ut,Nt,en,tn,Nn]}class rf extends et{constructor(e){super(),xe(this,e,of,lf,Xe,{},null,[-1,-1,-1,-1,-1,-1])}}function wi(l,e,t){const n=l.slice();return n[53]=e[t],n}function yi(l,e,t){const n=l.slice();return n[53]=e[t],n}function Ci(l,e,t){const n=l.slice();return n[53]=e[t],n}function Si(l,e,t){const n=l.slice();return n[60]=e[t],n}function qi(l,e,t){const n=l.slice();return n[64]=e[t],n}function Di(l,e,t){const n=l.slice();return n[67]=e[t][0],n[68]=e[t][1],n}function af(l){const e=l.slice(),t=e[14].config_snapshot;return e[63]=t,e}function Ti(l,e,t){const n=l.slice();return n[60]=e[t],n}function Pi(l,e,t){const n=l.slice();return n[73]=e[t],n}function Ei(l,e,t){const n=l.slice();n[76]=e[t];const s=Gt(n[76]);return n[77]=s,n}function Mi(l){let e,t,n=fr(l[20])+"",s;return{c(){e=d("span"),t=S("Updated "),s=S(n),p(e,"class","last-updated svelte-cuxyqu")},m(i,o){y(i,e,o),a(e,t),a(e,s)},p(i,o){o[0]&1048576&&n!==(n=fr(i[20])+"")&&B(s,n)},d(i){i&&w(e)}}}function cf(l){let e;return{c(){e=S("↻ Refresh")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function uf(l){let e,t,n=me(l[19]),s=[];for(let o=0;o<n.length;o+=1)s[o]=ji(Ei(l,n,o));const i=o=>N(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=je()},m(o,c){for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(o,c);y(o,e,c),t=!0},p(o,c){if(c[0]&27787264){n=me(o[19]);let r;for(r=0;r<n.length;r+=1){const u=Ei(o,n,r);s[r]?(s[r].p(u,c),P(s[r],1)):(s[r]=ji(u),s[r].c(),P(s[r],1),s[r].m(e.parentNode,e))}for(ke(),r=n.length;r<s.length;r+=1)i(r);we()}},i(o){if(!t){for(let c=0;c<n.length;c+=1)P(s[c]);t=!0}},o(o){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)N(s[c]);t=!1},d(o){o&&w(e),Re(s,o)}}}function ff(l){let e;return{c(){e=d("tr"),e.innerHTML='<td colspan="12" class="empty-cell svelte-cuxyqu">No deployments found</td>',p(e,"class","svelte-cuxyqu")},m(t,n){y(t,e,n)},p:ce,i:ce,o:ce,d(t){t&&w(e)}}}function pf(l){let e;return{c(){e=d("tr"),e.innerHTML='<td colspan="12" class="loading-cell svelte-cuxyqu">Loading deployment history...</td>',p(e,"class","svelte-cuxyqu")},m(t,n){y(t,e,n)},p:ce,i:ce,o:ce,d(t){t&&w(e)}}}function df(l){let e=(l[76].environment||"-")+"",t;return{c(){t=S(e)},m(n,s){y(n,t,s)},p(n,s){s[0]&524288&&e!==(e=(n[76].environment||"-")+"")&&B(t,e)},d(n){n&&w(t)}}}function _f(l){let e;return{c(){e=d("span"),e.textContent="-",p(e,"class","version-none svelte-cuxyqu")},m(t,n){y(t,e,n)},p:ce,d(t){t&&w(e)}}}function vf(l){let e,t,n=l[76].version+"",s;return{c(){e=d("span"),t=S("v"),s=S(n),p(e,"class","version-badge svelte-cuxyqu")},m(i,o){y(i,e,o),a(e,t),a(e,s)},p(i,o){o[0]&524288&&n!==(n=i[76].version+"")&&B(s,n)},d(i){i&&w(e)}}}function mf(l){let e=l[76].is_rollback?"rollback":"deploy",t;return{c(){t=S(e)},m(n,s){y(n,t,s)},p(n,s){s[0]&524288&&e!==(e=n[76].is_rollback?"rollback":"deploy")&&B(t,e)},d(n){n&&w(t)}}}function hf(l){let e=l[77]+"",t;return{c(){t=S(e)},m(n,s){y(n,t,s)},p(n,s){s[0]&524288&&e!==(e=n[77]+"")&&B(t,e)},d(n){n&&w(t)}}}function Li(l){let e,t,n;function s(){return l[32](l[76])}return{c(){e=d("button"),e.textContent="⚙️",p(e,"class","icon-btn svelte-cuxyqu"),p(e,"title","View config")},m(i,o){y(i,e,o),t||(n=te(e,"click",s),t=!0)},p(i,o){l=i},d(i){i&&w(e),t=!1,n()}}}function Ni(l){let e,t,n;function s(){return l[33](l[76])}return{c(){e=d("button"),e.textContent="📋",p(e,"class","icon-btn svelte-cuxyqu"),p(e,"title","View logs")},m(i,o){y(i,e,o),t||(n=te(e,"click",s),t=!0)},p(i,o){l=i},d(i){i&&w(e),t=!1,n()}}}function Ri(l){let e,t,n;function s(){return l[34](l[76])}return{c(){e=d("button"),e.textContent="⏪",p(e,"class","icon-btn rollback-icon-btn svelte-cuxyqu"),p(e,"title","Rollback")},m(i,o){y(i,e,o),t||(n=te(e,"click",s),t=!0)},p(i,o){l=i},d(i){i&&w(e),t=!1,n()}}}function ji(l){let e,t,n,s=(l[76].project||"-")+"",i,o,c,r,u=(l[76].service||l[76].name)+"",f,v,_,h,m,g,C,k,$=Ot(l[76].deployed_at||l[76].created_at)+"",q,D,T,E=(l[76].deployed_by||l[76].user||"-")+"",M,L,O,A,z,I,Y,J,H,F,R=(l[76].comment||"-")+"",W,j,U,le,V,ie,ee,re,pe;h=new Be({props:{variant:l[76].environment==="prod"?"purple":l[76].environment==="staging"?"warning":"info",$$slots:{default:[df]},$$scope:{ctx:l}}});function oe(ue,se){return ue[76].version?vf:_f}let qe=oe(l),de=qe(l);z=new Be({props:{variant:l[76].is_rollback?"warning":"info",$$slots:{default:[mf]},$$scope:{ctx:l}}}),J=new Be({props:{variant:Bl(l[77]),$$slots:{default:[hf]},$$scope:{ctx:l}}});let ae=l[76].config_snapshot&&Li(l),ve=l[76].has_logs&&Ni(l),_e=l[76].is_current_active&&Ri(l);return{c(){e=d("tr"),t=d("td"),n=d("span"),i=S(s),o=b(),c=d("td"),r=d("span"),f=S(u),v=b(),_=d("td"),Z(h.$$.fragment),m=b(),g=d("td"),de.c(),C=b(),k=d("td"),q=S($),D=b(),T=d("td"),M=S(E),O=b(),A=d("td"),Z(z.$$.fragment),I=b(),Y=d("td"),Z(J.$$.fragment),H=b(),F=d("td"),W=S(R),j=b(),U=d("td"),ae&&ae.c(),le=b(),V=d("td"),ve&&ve.c(),ie=b(),ee=d("td"),_e&&_e.c(),re=b(),p(n,"class","project-name svelte-cuxyqu"),p(t,"class","svelte-cuxyqu"),p(r,"class","service-name svelte-cuxyqu"),p(c,"class","svelte-cuxyqu"),p(_,"class","svelte-cuxyqu"),p(g,"class","version-cell svelte-cuxyqu"),p(k,"class","date-cell svelte-cuxyqu"),p(T,"class","by-cell svelte-cuxyqu"),p(T,"title",L=l[76].deployed_by||l[76].user||"-"),p(A,"class","svelte-cuxyqu"),p(Y,"class","svelte-cuxyqu"),p(F,"class","comment-cell svelte-cuxyqu"),p(U,"class","config-cell svelte-cuxyqu"),p(V,"class","logs-cell svelte-cuxyqu"),p(ee,"class","rollback-cell svelte-cuxyqu"),p(e,"class","svelte-cuxyqu")},m(ue,se){y(ue,e,se),a(e,t),a(t,n),a(n,i),a(e,o),a(e,c),a(c,r),a(r,f),a(e,v),a(e,_),K(h,_,null),a(e,m),a(e,g),de.m(g,null),a(e,C),a(e,k),a(k,q),a(e,D),a(e,T),a(T,M),a(e,O),a(e,A),K(z,A,null),a(e,I),a(e,Y),K(J,Y,null),a(e,H),a(e,F),a(F,W),a(e,j),a(e,U),ae&&ae.m(U,null),a(e,le),a(e,V),ve&&ve.m(V,null),a(e,ie),a(e,ee),_e&&_e.m(ee,null),a(e,re),pe=!0},p(ue,se){(!pe||se[0]&524288)&&s!==(s=(ue[76].project||"-")+"")&&B(i,s),(!pe||se[0]&524288)&&u!==(u=(ue[76].service||ue[76].name)+"")&&B(f,u);const Se={};se[0]&524288&&(Se.variant=ue[76].environment==="prod"?"purple":ue[76].environment==="staging"?"warning":"info"),se[0]&524288|se[2]&262144&&(Se.$$scope={dirty:se,ctx:ue}),h.$set(Se),qe===(qe=oe(ue))&&de?de.p(ue,se):(de.d(1),de=qe(ue),de&&(de.c(),de.m(g,null))),(!pe||se[0]&524288)&&$!==($=Ot(ue[76].deployed_at||ue[76].created_at)+"")&&B(q,$),(!pe||se[0]&524288)&&E!==(E=(ue[76].deployed_by||ue[76].user||"-")+"")&&B(M,E),(!pe||se[0]&524288&&L!==(L=ue[76].deployed_by||ue[76].user||"-"))&&p(T,"title",L);const Fe={};se[0]&524288&&(Fe.variant=ue[76].is_rollback?"warning":"info"),se[0]&524288|se[2]&262144&&(Fe.$$scope={dirty:se,ctx:ue}),z.$set(Fe);const nt={};se[0]&524288&&(nt.variant=Bl(ue[77])),se[0]&524288|se[2]&262144&&(nt.$$scope={dirty:se,ctx:ue}),J.$set(nt),(!pe||se[0]&524288)&&R!==(R=(ue[76].comment||"-")+"")&&B(W,R),ue[76].config_snapshot?ae?ae.p(ue,se):(ae=Li(ue),ae.c(),ae.m(U,null)):ae&&(ae.d(1),ae=null),ue[76].has_logs?ve?ve.p(ue,se):(ve=Ni(ue),ve.c(),ve.m(V,null)):ve&&(ve.d(1),ve=null),ue[76].is_current_active?_e?_e.p(ue,se):(_e=Ri(ue),_e.c(),_e.m(ee,null)):_e&&(_e.d(1),_e=null)},i(ue){pe||(P(h.$$.fragment,ue),P(z.$$.fragment,ue),P(J.$$.fragment,ue),pe=!0)},o(ue){N(h.$$.fragment,ue),N(z.$$.fragment,ue),N(J.$$.fragment,ue),pe=!1},d(ue){ue&&w(e),Q(h),de.d(),Q(z),Q(J),ae&&ae.d(),ve&&ve.d(),_e&&_e.d()}}}function gf(l){let e,t,n,s,i,o,c,r;const u=[pf,ff,uf],f=[];function v(_,h){return _[0]&&_[19].length===0?0:_[19].length===0?1:2}return o=v(l),c=f[o]=u[o](l),{c(){e=d("div"),t=d("table"),n=d("thead"),n.innerHTML='<tr class="svelte-cuxyqu"><th class="svelte-cuxyqu">Project</th> <th class="svelte-cuxyqu">Service</th> <th class="svelte-cuxyqu">Environment</th> <th class="version-col svelte-cuxyqu">v</th> <th class="svelte-cuxyqu">Deployed</th> <th class="svelte-cuxyqu">By</th> <th class="svelte-cuxyqu">Type</th> <th class="svelte-cuxyqu">Status</th> <th class="svelte-cuxyqu">Comment</th> <th class="config-col svelte-cuxyqu"></th> <th class="logs-col svelte-cuxyqu"></th> <th class="rollback-col svelte-cuxyqu"></th></tr>',s=b(),i=d("tbody"),c.c(),p(t,"class","table svelte-cuxyqu"),p(e,"class","table-container svelte-cuxyqu")},m(_,h){y(_,e,h),a(e,t),a(t,n),a(t,s),a(t,i),f[o].m(i,null),r=!0},p(_,h){let m=o;o=v(_),o===m?f[o].p(_,h):(ke(),N(f[m],1,1,()=>{f[m]=null}),we(),c=f[o],c?c.p(_,h):(c=f[o]=u[o](_),c.c()),P(c,1),c.m(i,null))},i(_){r||(P(c),r=!0)},o(_){N(c),r=!1},d(_){_&&w(e),f[o].d()}}}function Oi(l){let e,t,n,s=(l[2].service||l[2].name)+"",i,o,c,r=l[2].project+"",u,f,v=l[2].environment+"",_,h,m,g,C,k,$,q=Ot(l[2].deployed_at||l[2].created_at)+"",D,T,E,M,L=(l[2].deployed_by||l[2].user||"unknown")+"",O,A,z,I,Y,J,H,F,R,W,j=l[2].comment&&Ai(l);const U=[$f,bf],le=[];function V(ee,re){return ee[3].length===0?0:1}H=V(l),F=le[H]=U[H](l);let ie=l[6].length>0&&zi(l);return{c(){e=d("div"),t=d("div"),n=d("div"),i=S(s),o=b(),c=d("div"),u=S(r),f=S(" / "),_=S(v),h=b(),m=d("div"),g=d("label"),g.textContent="📍 Current Deployment",C=b(),k=d("div"),$=d("div"),D=S(q),T=b(),E=d("div"),M=S("by "),O=S(L),A=b(),j&&j.c(),z=b(),I=d("div"),Y=d("label"),Y.textContent="🎯 Rollback to",J=b(),F.c(),R=b(),ie&&ie.c(),p(n,"class","service-name svelte-cuxyqu"),p(c,"class","service-coords svelte-cuxyqu"),p(t,"class","service-info svelte-cuxyqu"),p(g,"class","svelte-cuxyqu"),p($,"class","deploy-date svelte-cuxyqu"),p(E,"class","deploy-by svelte-cuxyqu"),p(k,"class","deployment-card current svelte-cuxyqu"),p(m,"class","section svelte-cuxyqu"),p(Y,"class","svelte-cuxyqu"),p(I,"class","section svelte-cuxyqu"),p(e,"class","rollback-content svelte-cuxyqu")},m(ee,re){y(ee,e,re),a(e,t),a(t,n),a(n,i),a(t,o),a(t,c),a(c,u),a(c,f),a(c,_),a(e,h),a(e,m),a(m,g),a(m,C),a(m,k),a(k,$),a($,D),a(k,T),a(k,E),a(E,M),a(E,O),a(k,A),j&&j.m(k,null),a(e,z),a(e,I),a(I,Y),a(I,J),le[H].m(I,null),a(e,R),ie&&ie.m(e,null),W=!0},p(ee,re){(!W||re[0]&4)&&s!==(s=(ee[2].service||ee[2].name)+"")&&B(i,s),(!W||re[0]&4)&&r!==(r=ee[2].project+"")&&B(u,r),(!W||re[0]&4)&&v!==(v=ee[2].environment+"")&&B(_,v),(!W||re[0]&4)&&q!==(q=Ot(ee[2].deployed_at||ee[2].created_at)+"")&&B(D,q),(!W||re[0]&4)&&L!==(L=(ee[2].deployed_by||ee[2].user||"unknown")+"")&&B(O,L),ee[2].comment?j?j.p(ee,re):(j=Ai(ee),j.c(),j.m(k,null)):j&&(j.d(1),j=null);let pe=H;H=V(ee),H===pe?le[H].p(ee,re):(ke(),N(le[pe],1,1,()=>{le[pe]=null}),we(),F=le[H],F?F.p(ee,re):(F=le[H]=U[H](ee),F.c()),P(F,1),F.m(I,null)),ee[6].length>0?ie?ie.p(ee,re):(ie=zi(ee),ie.c(),ie.m(e,null)):ie&&(ie.d(1),ie=null)},i(ee){W||(P(F),W=!0)},o(ee){N(F),W=!1},d(ee){ee&&w(e),j&&j.d(),le[H].d(),ie&&ie.d()}}}function Ai(l){let e,t=l[2].comment+"",n;return{c(){e=d("div"),n=S(t),p(e,"class","deploy-comment svelte-cuxyqu")},m(s,i){y(s,e,i),a(e,n)},p(s,i){i[0]&4&&t!==(t=s[2].comment+"")&&B(n,t)},d(s){s&&w(e)}}}function bf(l){let e,t,n=me(l[3]),s=[];for(let o=0;o<n.length;o+=1)s[o]=Fi(Pi(l,n,o));const i=o=>N(s[o],1,1,()=>{s[o]=null});return{c(){e=d("div");for(let o=0;o<s.length;o+=1)s[o].c();p(e,"class","deployment-list svelte-cuxyqu")},m(o,c){y(o,e,c);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null);t=!0},p(o,c){if(c[0]&56){n=me(o[3]);let r;for(r=0;r<n.length;r+=1){const u=Pi(o,n,r);s[r]?(s[r].p(u,c),P(s[r],1)):(s[r]=Fi(u),s[r].c(),P(s[r],1),s[r].m(e,null))}for(ke(),r=n.length;r<s.length;r+=1)i(r);we()}},i(o){if(!t){for(let c=0;c<n.length;c+=1)P(s[c]);t=!0}},o(o){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)N(s[c]);t=!1},d(o){o&&w(e),Re(s,o)}}}function $f(l){let e;return{c(){e=d("div"),e.textContent="No previous deployments found",p(e,"class","no-deployments svelte-cuxyqu")},m(t,n){y(t,e,n)},p:ce,i:ce,o:ce,d(t){t&&w(e)}}}function kf(l){let e,t=l[73].id.substring(0,8)+"",n;return{c(){e=d("span"),n=S(t),p(e,"class","version-badge muted svelte-cuxyqu")},m(s,i){y(s,e,i),a(e,n)},p(s,i){i[0]&8&&t!==(t=s[73].id.substring(0,8)+"")&&B(n,t)},d(s){s&&w(e)}}}function wf(l){let e,t,n=l[73].version+"",s;return{c(){e=d("span"),t=S("v"),s=S(n),p(e,"class","version-badge svelte-cuxyqu")},m(i,o){y(i,e,o),a(e,t),a(e,s)},p(i,o){o[0]&8&&n!==(n=i[73].version+"")&&B(s,n)},d(i){i&&w(e)}}}function yf(l){let e=Gt(l[73])+"",t;return{c(){t=S(e)},m(n,s){y(n,t,s)},p(n,s){s[0]&8&&e!==(e=Gt(n[73])+"")&&B(t,e)},d(n){n&&w(t)}}}function Fi(l){let e,t,n,s=!1,i,o,c,r,u,f=Ot(l[73].deployed_at||l[73].created_at)+"",v,_,h,m,g=(l[73].deployed_by||l[73].user||"unknown")+"",C,k,$,q,D,T,E,M;function L(z,I){return z[73].version?wf:kf}let O=L(l),A=O(l);return $=new Be({props:{variant:Bl(Gt(l[73])),$$slots:{default:[yf]},$$scope:{ctx:l}}}),T=va(l[37][0]),{c(){e=d("label"),t=d("input"),i=b(),o=d("div"),A.c(),c=b(),r=d("div"),u=d("div"),v=S(f),_=b(),h=d("div"),m=S("by "),C=S(g),k=b(),Z($.$$.fragment),q=b(),p(t,"type","radio"),t.__value=n=l[73].id,x(t,t.__value),t.disabled=l[5],p(t,"class","svelte-cuxyqu"),p(o,"class","deploy-version svelte-cuxyqu"),p(u,"class","deploy-date svelte-cuxyqu"),p(h,"class","deploy-by svelte-cuxyqu"),p(r,"class","deploy-info svelte-cuxyqu"),p(e,"class","deployment-option svelte-cuxyqu"),De(e,"selected",l[4]===l[73].id),T.p(t)},m(z,I){y(z,e,I),a(e,t),t.checked=t.__value===l[4],a(e,i),a(e,o),A.m(o,null),a(e,c),a(e,r),a(r,u),a(u,v),a(r,_),a(r,h),a(h,m),a(h,C),a(e,k),K($,e,null),a(e,q),D=!0,E||(M=te(t,"change",l[36]),E=!0)},p(z,I){(!D||I[0]&8&&n!==(n=z[73].id))&&(t.__value=n,x(t,t.__value),s=!0),(!D||I[0]&32)&&(t.disabled=z[5]),(s||I[0]&24)&&(t.checked=t.__value===z[4]),O===(O=L(z))&&A?A.p(z,I):(A.d(1),A=O(z),A&&(A.c(),A.m(o,null))),(!D||I[0]&8)&&f!==(f=Ot(z[73].deployed_at||z[73].created_at)+"")&&B(v,f),(!D||I[0]&8)&&g!==(g=(z[73].deployed_by||z[73].user||"unknown")+"")&&B(C,g);const Y={};I[0]&8&&(Y.variant=Bl(Gt(z[73]))),I[0]&8|I[2]&262144&&(Y.$$scope={dirty:I,ctx:z}),$.$set(Y),(!D||I[0]&24)&&De(e,"selected",z[4]===z[73].id)},i(z){D||(P($.$$.fragment,z),D=!0)},o(z){N($.$$.fragment,z),D=!1},d(z){z&&w(e),A.d(),Q($),T.r(),E=!1,M()}}}function zi(l){let e,t,n,s,i,o=me(l[6]),c=[];for(let u=0;u<o.length;u+=1)c[u]=Bi(Ti(l,o,u));let r=l[5]&&Ii();return{c(){e=d("div"),t=d("label"),t.textContent="📋 Progress",n=b(),s=d("div");for(let u=0;u<c.length;u+=1)c[u].c();i=b(),r&&r.c(),p(t,"class","svelte-cuxyqu"),p(s,"class","rollback-logs svelte-cuxyqu"),p(e,"class","section rollback-logs-section svelte-cuxyqu")},m(u,f){y(u,e,f),a(e,t),a(e,n),a(e,s);for(let v=0;v<c.length;v+=1)c[v]&&c[v].m(s,null);a(s,i),r&&r.m(s,null)},p(u,f){if(f[0]&64){o=me(u[6]);let v;for(v=0;v<o.length;v+=1){const _=Ti(u,o,v);c[v]?c[v].p(_,f):(c[v]=Bi(_),c[v].c(),c[v].m(s,i))}for(;v<c.length;v+=1)c[v].d(1);c.length=o.length}u[5]?r||(r=Ii(),r.c(),r.m(s,null)):r&&(r.d(1),r=null)},d(u){u&&w(e),Re(c,u),r&&r.d()}}}function Bi(l){let e,t=l[60].message+"",n,s;return{c(){e=d("div"),n=S(t),p(e,"class",s="log-entry log-"+l[60].type+" svelte-cuxyqu")},m(i,o){y(i,e,o),a(e,n)},p(i,o){o[0]&64&&t!==(t=i[60].message+"")&&B(n,t),o[0]&64&&s!==(s="log-entry log-"+i[60].type+" svelte-cuxyqu")&&p(e,"class",s)},d(i){i&&w(e)}}}function Ii(l){let e;return{c(){e=d("div"),e.innerHTML='<span class="spinner svelte-cuxyqu">⏳</span> Working...',p(e,"class","log-entry log-info svelte-cuxyqu")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Cf(l){let e,t,n=l[2]&&Oi(l);return{c(){n&&n.c(),e=je()},m(s,i){n&&n.m(s,i),y(s,e,i),t=!0},p(s,i){s[2]?n?(n.p(s,i),i[0]&4&&P(n,1)):(n=Oi(s),n.c(),P(n,1),n.m(e.parentNode,e)):n&&(ke(),N(n,1,1,()=>{n=null}),we())},i(s){t||(P(n),t=!0)},o(s){N(n),t=!1},d(s){s&&w(e),n&&n.d(s)}}}function Sf(l){let e=l[6].length>0?"Close":"Cancel",t;return{c(){t=S(e)},m(n,s){y(n,t,s)},p(n,s){s[0]&64&&e!==(e=n[6].length>0?"Close":"Cancel")&&B(t,e)},d(n){n&&w(t)}}}function qf(l){let e;return{c(){e=S("⏪ Execute Rollback")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Df(l){let e;return{c(){e=S("⏳ Rolling back...")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Tf(l){let e;function t(i,o){return i[5]?Df:qf}let n=t(l),s=n(l);return{c(){s.c(),e=je()},m(i,o){s.m(i,o),y(i,e,o)},p(i,o){n!==(n=t(i))&&(s.d(1),s=n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&w(e),s.d(i)}}}function Pf(l){let e,t,n,s,i;return t=new Le({props:{variant:"ghost",$$slots:{default:[Sf]},$$scope:{ctx:l}}}),t.$on("click",l[35]),s=new Le({props:{variant:"warning",disabled:!l[4]||l[5],$$slots:{default:[Tf]},$$scope:{ctx:l}}}),s.$on("click",l[25]),{c(){e=d("div"),Z(t.$$.fragment),n=b(),Z(s.$$.fragment),p(e,"slot","footer")},m(o,c){y(o,e,c),K(t,e,null),a(e,n),K(s,e,null),i=!0},p(o,c){const r={};c[0]&64|c[2]&262144&&(r.$$scope={dirty:c,ctx:o}),t.$set(r);const u={};c[0]&48&&(u.disabled=!o[4]||o[5]),c[0]&32|c[2]&262144&&(u.$$scope={dirty:c,ctx:o}),s.$set(u)},i(o){i||(P(t.$$.fragment,o),P(s.$$.fragment,o),i=!0)},o(o){N(t.$$.fragment,o),N(s.$$.fragment,o),i=!1},d(o){o&&w(e),Q(t),Q(s)}}}function Ui(l){let e,t,n,s=(l[14].service_name||l[14].service)+"",i,o,c,r=l[14].environment+"",u,f,v=Ot(l[14].deployed_at)+"",_,h,m,g,C;const k=[Mf,Ef],$=[];function q(T,E){return T[14].config_snapshot?0:1}function D(T,E){return E===0?af(T):T}return m=q(l),g=$[m]=k[m](D(l,m)),{c(){e=d("div"),t=d("div"),n=d("span"),i=S(s),o=b(),c=d("span"),u=S(r),f=S(" • "),_=S(v),h=b(),g.c(),p(n,"class","service-name svelte-cuxyqu"),p(c,"class","meta svelte-cuxyqu"),p(t,"class","config-header-info svelte-cuxyqu"),p(e,"class","config-content svelte-cuxyqu")},m(T,E){y(T,e,E),a(e,t),a(t,n),a(n,i),a(t,o),a(t,c),a(c,u),a(c,f),a(c,_),a(e,h),$[m].m(e,null),C=!0},p(T,E){(!C||E[0]&16384)&&s!==(s=(T[14].service_name||T[14].service)+"")&&B(i,s),(!C||E[0]&16384)&&r!==(r=T[14].environment+"")&&B(u,r),(!C||E[0]&16384)&&v!==(v=Ot(T[14].deployed_at)+"")&&B(_,v);let M=m;m=q(T),m===M?$[m].p(D(T,m),E):(ke(),N($[M],1,1,()=>{$[M]=null}),we(),g=$[m],g?g.p(D(T,m),E):(g=$[m]=k[m](D(T,m)),g.c()),P(g,1),g.m(e,null))},i(T){C||(P(g),C=!0)},o(T){N(g),C=!1},d(T){T&&w(e),$[m].d()}}}function Ef(l){let e;return{c(){e=d("div"),e.textContent="No config snapshot available",p(e,"class","no-config svelte-cuxyqu")},m(t,n){y(t,e,n)},p:ce,i:ce,o:ce,d(t){t&&w(e)}}}function Mf(l){var qe,de;let e,t,n,s,i,o,c=(l[63].source_type||"-")+"",r,u,f,v,_,h,m,g,C=(l[63].port||"-")+"",k,$,q,D,T,E,M,L,O,A,z=l[63].env_vars&&Object.keys(l[63].env_vars).length>0,I,Y,J,H=l[63].git_url&&Hi(l),F=l[63].git_branch&&Gi(l),R=l[63].image&&Wi(l),W=l[63].container_port&&Ji(l),j=l[63].host_port&&Yi(l),U=l[63].snapshot_id&&Vi(l),le=l[63].region&&Ki(l),V=l[63].size&&Qi(l),ie=((qe=l[63].server_ips)==null?void 0:qe.length)&&Zi(l),ee=l[63].setup_domain&&Xi(),re=l[63].base_domain&&xi(l),pe=z&&er(l),oe=((de=l[63].tags)==null?void 0:de.length)&&lr(l);return{c(){e=d("table"),t=d("tbody"),n=d("tr"),s=d("td"),s.textContent="Source Type",i=d("td"),o=d("strong"),r=S(c),u=b(),H&&H.c(),f=b(),F&&F.c(),v=b(),R&&R.c(),_=b(),h=d("tr"),m=d("td"),m.textContent="Port",g=d("td"),k=S(C),$=b(),W&&W.c(),q=b(),j&&j.c(),D=b(),U&&U.c(),T=b(),le&&le.c(),E=b(),V&&V.c(),M=b(),ie&&ie.c(),L=b(),ee&&ee.c(),O=b(),re&&re.c(),A=b(),pe&&pe.c(),I=b(),oe&&oe.c(),Y=je(),p(s,"class","label svelte-cuxyqu"),p(i,"class","svelte-cuxyqu"),p(m,"class","label svelte-cuxyqu"),p(g,"class","svelte-cuxyqu"),p(t,"class","svelte-cuxyqu"),p(e,"class","config-table svelte-cuxyqu")},m(ae,ve){y(ae,e,ve),a(e,t),a(t,n),a(n,s),a(n,i),a(i,o),a(o,r),a(t,u),H&&H.m(t,null),a(t,f),F&&F.m(t,null),a(t,v),R&&R.m(t,null),a(t,_),a(t,h),a(h,m),a(h,g),a(g,k),a(t,$),W&&W.m(t,null),a(t,q),j&&j.m(t,null),a(t,D),U&&U.m(t,null),a(t,T),le&&le.m(t,null),a(t,E),V&&V.m(t,null),a(t,M),ie&&ie.m(t,null),a(t,L),ee&&ee.m(t,null),a(t,O),re&&re.m(t,null),y(ae,A,ve),pe&&pe.m(ae,ve),y(ae,I,ve),oe&&oe.m(ae,ve),y(ae,Y,ve),J=!0},p(ae,ve){var _e,ue;(!J||ve[0]&16384)&&c!==(c=(ae[63].source_type||"-")+"")&&B(r,c),ae[63].git_url?H?H.p(ae,ve):(H=Hi(ae),H.c(),H.m(t,f)):H&&(H.d(1),H=null),ae[63].git_branch?F?F.p(ae,ve):(F=Gi(ae),F.c(),F.m(t,v)):F&&(F.d(1),F=null),ae[63].image?R?R.p(ae,ve):(R=Wi(ae),R.c(),R.m(t,_)):R&&(R.d(1),R=null),(!J||ve[0]&16384)&&C!==(C=(ae[63].port||"-")+"")&&B(k,C),ae[63].container_port?W?W.p(ae,ve):(W=Ji(ae),W.c(),W.m(t,q)):W&&(W.d(1),W=null),ae[63].host_port?j?j.p(ae,ve):(j=Yi(ae),j.c(),j.m(t,D)):j&&(j.d(1),j=null),ae[63].snapshot_id?U?U.p(ae,ve):(U=Vi(ae),U.c(),U.m(t,T)):U&&(U.d(1),U=null),ae[63].region?le?le.p(ae,ve):(le=Ki(ae),le.c(),le.m(t,E)):le&&(le.d(1),le=null),ae[63].size?V?V.p(ae,ve):(V=Qi(ae),V.c(),V.m(t,M)):V&&(V.d(1),V=null),(_e=ae[63].server_ips)!=null&&_e.length?ie?ie.p(ae,ve):(ie=Zi(ae),ie.c(),ie.m(t,L)):ie&&(ie.d(1),ie=null),ae[63].setup_domain?ee||(ee=Xi(),ee.c(),ee.m(t,O)):ee&&(ee.d(1),ee=null),ae[63].base_domain?re?re.p(ae,ve):(re=xi(ae),re.c(),re.m(t,null)):re&&(re.d(1),re=null),ve[0]&16384&&(z=ae[63].env_vars&&Object.keys(ae[63].env_vars).length>0),z?pe?pe.p(ae,ve):(pe=er(ae),pe.c(),pe.m(I.parentNode,I)):pe&&(pe.d(1),pe=null),(ue=ae[63].tags)!=null&&ue.length?oe?(oe.p(ae,ve),ve[0]&16384&&P(oe,1)):(oe=lr(ae),oe.c(),P(oe,1),oe.m(Y.parentNode,Y)):oe&&(ke(),N(oe,1,1,()=>{oe=null}),we())},i(ae){J||(P(oe),J=!0)},o(ae){N(oe),J=!1},d(ae){ae&&(w(e),w(A),w(I),w(Y)),H&&H.d(),F&&F.d(),R&&R.d(),W&&W.d(),j&&j.d(),U&&U.d(),le&&le.d(),V&&V.d(),ie&&ie.d(),ee&&ee.d(),re&&re.d(),pe&&pe.d(ae),oe&&oe.d(ae)}}}function Hi(l){let e,t,n,s=l[63].git_url+"",i;return{c(){e=d("tr"),t=d("td"),t.textContent="Git URL",n=d("td"),i=S(s),p(t,"class","label svelte-cuxyqu"),p(n,"class","svelte-cuxyqu")},m(o,c){y(o,e,c),a(e,t),a(e,n),a(n,i)},p(o,c){c[0]&16384&&s!==(s=o[63].git_url+"")&&B(i,s)},d(o){o&&w(e)}}}function Gi(l){let e,t,n,s=l[63].git_branch+"",i;return{c(){e=d("tr"),t=d("td"),t.textContent="Git Branch",n=d("td"),i=S(s),p(t,"class","label svelte-cuxyqu"),p(n,"class","svelte-cuxyqu")},m(o,c){y(o,e,c),a(e,t),a(e,n),a(n,i)},p(o,c){c[0]&16384&&s!==(s=o[63].git_branch+"")&&B(i,s)},d(o){o&&w(e)}}}function Wi(l){let e,t,n,s=l[63].image+"",i;return{c(){e=d("tr"),t=d("td"),t.textContent="Image",n=d("td"),i=S(s),p(t,"class","label svelte-cuxyqu"),p(n,"class","svelte-cuxyqu")},m(o,c){y(o,e,c),a(e,t),a(e,n),a(n,i)},p(o,c){c[0]&16384&&s!==(s=o[63].image+"")&&B(i,s)},d(o){o&&w(e)}}}function Ji(l){let e,t,n,s=l[63].container_port+"",i;return{c(){e=d("tr"),t=d("td"),t.textContent="Container Port",n=d("td"),i=S(s),p(t,"class","label svelte-cuxyqu"),p(n,"class","svelte-cuxyqu")},m(o,c){y(o,e,c),a(e,t),a(e,n),a(n,i)},p(o,c){c[0]&16384&&s!==(s=o[63].container_port+"")&&B(i,s)},d(o){o&&w(e)}}}function Yi(l){let e,t,n,s=l[63].host_port+"",i;return{c(){e=d("tr"),t=d("td"),t.textContent="Host Port",n=d("td"),i=S(s),p(t,"class","label svelte-cuxyqu"),p(n,"class","svelte-cuxyqu")},m(o,c){y(o,e,c),a(e,t),a(e,n),a(n,i)},p(o,c){c[0]&16384&&s!==(s=o[63].host_port+"")&&B(i,s)},d(o){o&&w(e)}}}function Vi(l){let e,t,n,s=l[63].snapshot_id+"",i;return{c(){e=d("tr"),t=d("td"),t.textContent="Snapshot ID",n=d("td"),i=S(s),p(t,"class","label svelte-cuxyqu"),p(n,"class","svelte-cuxyqu")},m(o,c){y(o,e,c),a(e,t),a(e,n),a(n,i)},p(o,c){c[0]&16384&&s!==(s=o[63].snapshot_id+"")&&B(i,s)},d(o){o&&w(e)}}}function Ki(l){let e,t,n,s=l[63].region+"",i;return{c(){e=d("tr"),t=d("td"),t.textContent="Region",n=d("td"),i=S(s),p(t,"class","label svelte-cuxyqu"),p(n,"class","svelte-cuxyqu")},m(o,c){y(o,e,c),a(e,t),a(e,n),a(n,i)},p(o,c){c[0]&16384&&s!==(s=o[63].region+"")&&B(i,s)},d(o){o&&w(e)}}}function Qi(l){let e,t,n,s=l[63].size+"",i;return{c(){e=d("tr"),t=d("td"),t.textContent="Size",n=d("td"),i=S(s),p(t,"class","label svelte-cuxyqu"),p(n,"class","svelte-cuxyqu")},m(o,c){y(o,e,c),a(e,t),a(e,n),a(n,i)},p(o,c){c[0]&16384&&s!==(s=o[63].size+"")&&B(i,s)},d(o){o&&w(e)}}}function Zi(l){let e,t,n,s=l[63].server_ips.join(", ")+"",i;return{c(){e=d("tr"),t=d("td"),t.textContent="Servers",n=d("td"),i=S(s),p(t,"class","label svelte-cuxyqu"),p(n,"class","svelte-cuxyqu")},m(o,c){y(o,e,c),a(e,t),a(e,n),a(n,i)},p(o,c){c[0]&16384&&s!==(s=o[63].server_ips.join(", ")+"")&&B(i,s)},d(o){o&&w(e)}}}function Xi(l){let e;return{c(){e=d("tr"),e.innerHTML='<td class="label svelte-cuxyqu">Setup Domain</td><td class="svelte-cuxyqu">Yes</td>'},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function xi(l){let e,t,n,s=l[63].base_domain+"",i;return{c(){e=d("tr"),t=d("td"),t.textContent="Base Domain",n=d("td"),i=S(s),p(t,"class","label svelte-cuxyqu"),p(n,"class","svelte-cuxyqu")},m(o,c){y(o,e,c),a(e,t),a(e,n),a(n,i)},p(o,c){c[0]&16384&&s!==(s=o[63].base_domain+"")&&B(i,s)},d(o){o&&w(e)}}}function er(l){let e,t,n,s,i=me(Object.entries(l[63].env_vars)),o=[];for(let c=0;c<i.length;c+=1)o[c]=tr(Di(l,i,c));return{c(){e=d("div"),t=d("div"),t.textContent="Environment Variables",n=b(),s=d("div");for(let c=0;c<o.length;c+=1)o[c].c();p(t,"class","section-title svelte-cuxyqu"),p(s,"class","env-list svelte-cuxyqu"),p(e,"class","env-section svelte-cuxyqu")},m(c,r){y(c,e,r),a(e,t),a(e,n),a(e,s);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(s,null)},p(c,r){if(r[0]&16384){i=me(Object.entries(c[63].env_vars));let u;for(u=0;u<i.length;u+=1){const f=Di(c,i,u);o[u]?o[u].p(f,r):(o[u]=tr(f),o[u].c(),o[u].m(s,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=i.length}},d(c){c&&w(e),Re(o,c)}}}function tr(l){let e,t=l[67]+"",n,s,i=(l[68].length>20?l[68].substring(0,20)+"...":l[68])+"",o;return{c(){e=d("div"),n=S(t),s=S("="),o=S(i),p(e,"class","env-item svelte-cuxyqu")},m(c,r){y(c,e,r),a(e,n),a(e,s),a(e,o)},p(c,r){r[0]&16384&&t!==(t=c[67]+"")&&B(n,t),r[0]&16384&&i!==(i=(c[68].length>20?c[68].substring(0,20)+"...":c[68])+"")&&B(o,i)},d(c){c&&w(e)}}}function lr(l){let e,t,n,s,i,o=me(l[63].tags),c=[];for(let u=0;u<o.length;u+=1)c[u]=nr(qi(l,o,u));const r=u=>N(c[u],1,1,()=>{c[u]=null});return{c(){e=d("div"),t=d("div"),t.textContent="Tags",n=b(),s=d("div");for(let u=0;u<c.length;u+=1)c[u].c();p(t,"class","section-title svelte-cuxyqu"),p(s,"class","tags-list svelte-cuxyqu"),p(e,"class","tags-section svelte-cuxyqu")},m(u,f){y(u,e,f),a(e,t),a(e,n),a(e,s);for(let v=0;v<c.length;v+=1)c[v]&&c[v].m(s,null);i=!0},p(u,f){if(f[0]&16384){o=me(u[63].tags);let v;for(v=0;v<o.length;v+=1){const _=qi(u,o,v);c[v]?(c[v].p(_,f),P(c[v],1)):(c[v]=nr(_),c[v].c(),P(c[v],1),c[v].m(s,null))}for(ke(),v=o.length;v<c.length;v+=1)r(v);we()}},i(u){if(!i){for(let f=0;f<o.length;f+=1)P(c[f]);i=!0}},o(u){c=c.filter(Boolean);for(let f=0;f<c.length;f+=1)N(c[f]);i=!1},d(u){u&&w(e),Re(c,u)}}}function Lf(l){let e=l[64]+"",t;return{c(){t=S(e)},m(n,s){y(n,t,s)},p(n,s){s[0]&16384&&e!==(e=n[64]+"")&&B(t,e)},d(n){n&&w(t)}}}function nr(l){let e,t;return e=new Be({props:{$$slots:{default:[Lf]},$$scope:{ctx:l}}}),{c(){Z(e.$$.fragment)},m(n,s){K(e,n,s),t=!0},p(n,s){const i={};s[0]&16384|s[2]&262144&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){Q(e,n)}}}function Nf(l){let e,t,n=l[14]&&Ui(l);return{c(){n&&n.c(),e=je()},m(s,i){n&&n.m(s,i),y(s,e,i),t=!0},p(s,i){s[14]?n?(n.p(s,i),i[0]&16384&&P(n,1)):(n=Ui(s),n.c(),P(n,1),n.m(e.parentNode,e)):n&&(ke(),N(n,1,1,()=>{n=null}),we())},i(s){t||(P(n),t=!0)},o(s){N(n),t=!1},d(s){s&&w(e),n&&n.d(s)}}}function Rf(l){let e;return{c(){e=S("🚀 Redeploy with this config")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function jf(l){let e;return{c(){e=S("Close")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Of(l){let e,t,n,s,i;return t=new Le({props:{variant:"primary",$$slots:{default:[Rf]},$$scope:{ctx:l}}}),t.$on("click",l[22]),s=new Le({props:{variant:"ghost",$$slots:{default:[jf]},$$scope:{ctx:l}}}),s.$on("click",l[40]),{c(){e=d("div"),Z(t.$$.fragment),n=b(),Z(s.$$.fragment),p(e,"slot","footer")},m(o,c){y(o,e,c),K(t,e,null),a(e,n),K(s,e,null),i=!0},p(o,c){const r={};c[2]&262144&&(r.$$scope={dirty:c,ctx:o}),t.$set(r);const u={};c[2]&262144&&(u.$$scope={dirty:c,ctx:o}),s.$set(u)},i(o){i||(P(t.$$.fragment,o),P(s.$$.fragment,o),i=!0)},o(o){N(t.$$.fragment,o),N(s.$$.fragment,o),i=!1},d(o){o&&w(e),Q(t),Q(s)}}}function sr(l){let e,t,n,s=(l[16].service||l[16].name)+"",i,o,c,r=l[16].environment+"",u,f,v=Ot(l[16].deployed_at)+"",_,h,m,g,C,k,$=l[16].version&&or(l);g=new Be({props:{variant:Bl(Gt(l[16])),$$slots:{default:[Ff]},$$scope:{ctx:l}}});function q(E,M){return E[18]?If:E[17].length===0?Bf:zf}let D=q(l),T=D(l);return{c(){e=d("div"),t=d("div"),n=d("span"),i=S(s),o=b(),c=d("span"),u=S(r),f=S(" • "),_=S(v),h=b(),$&&$.c(),m=b(),Z(g.$$.fragment),C=b(),T.c(),p(n,"class","service-name svelte-cuxyqu"),p(c,"class","meta svelte-cuxyqu"),p(t,"class","logs-header-info svelte-cuxyqu"),p(e,"class","logs-modal-content svelte-cuxyqu")},m(E,M){y(E,e,M),a(e,t),a(t,n),a(n,i),a(t,o),a(t,c),a(c,u),a(c,f),a(c,_),a(t,h),$&&$.m(t,null),a(t,m),K(g,t,null),a(e,C),T.m(e,null),k=!0},p(E,M){(!k||M[0]&65536)&&s!==(s=(E[16].service||E[16].name)+"")&&B(i,s),(!k||M[0]&65536)&&r!==(r=E[16].environment+"")&&B(u,r),(!k||M[0]&65536)&&v!==(v=Ot(E[16].deployed_at)+"")&&B(_,v),E[16].version?$?($.p(E,M),M[0]&65536&&P($,1)):($=or(E),$.c(),P($,1),$.m(t,m)):$&&(ke(),N($,1,1,()=>{$=null}),we());const L={};M[0]&65536&&(L.variant=Bl(Gt(E[16]))),M[0]&65536|M[2]&262144&&(L.$$scope={dirty:M,ctx:E}),g.$set(L),D===(D=q(E))&&T?T.p(E,M):(T.d(1),T=D(E),T&&(T.c(),T.m(e,null)))},i(E){k||(P($),P(g.$$.fragment,E),k=!0)},o(E){N($),N(g.$$.fragment,E),k=!1},d(E){E&&w(e),$&&$.d(),Q(g),T.d()}}}function or(l){let e,t;return e=new Be({props:{variant:"purple",$$slots:{default:[Af]},$$scope:{ctx:l}}}),{c(){Z(e.$$.fragment)},m(n,s){K(e,n,s),t=!0},p(n,s){const i={};s[0]&65536|s[2]&262144&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){Q(e,n)}}}function Af(l){let e,t=l[16].version+"",n;return{c(){e=S("v"),n=S(t)},m(s,i){y(s,e,i),y(s,n,i)},p(s,i){i[0]&65536&&t!==(t=s[16].version+"")&&B(n,t)},d(s){s&&(w(e),w(n))}}}function Ff(l){let e=Gt(l[16])+"",t;return{c(){t=S(e)},m(n,s){y(n,t,s)},p(n,s){s[0]&65536&&e!==(e=Gt(n[16])+"")&&B(t,e)},d(n){n&&w(t)}}}function zf(l){let e,t=me(l[17]),n=[];for(let s=0;s<t.length;s+=1)n[s]=ir(Si(l,t,s));return{c(){e=d("div");for(let s=0;s<n.length;s+=1)n[s].c();p(e,"class","logs-container svelte-cuxyqu")},m(s,i){y(s,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,i){if(i[0]&131072){t=me(s[17]);let o;for(o=0;o<t.length;o+=1){const c=Si(s,t,o);n[o]?n[o].p(c,i):(n[o]=ir(c),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&w(e),Re(n,s)}}}function Bf(l){let e;return{c(){e=d("div"),e.textContent="No logs available for this deployment",p(e,"class","no-logs svelte-cuxyqu")},m(t,n){y(t,e,n)},p:ce,d(t){t&&w(e)}}}function If(l){let e;return{c(){e=d("div"),e.textContent="Loading logs...",p(e,"class","logs-loading svelte-cuxyqu")},m(t,n){y(t,e,n)},p:ce,d(t){t&&w(e)}}}function ir(l){let e,t,n=(l[60].timestamp?new Date(l[60].timestamp).toLocaleTimeString():"")+"",s,i,o,c=l[60].message+"",r,u;return{c(){e=d("div"),t=d("span"),s=S(n),i=b(),o=d("span"),r=S(c),u=b(),p(t,"class","log-time svelte-cuxyqu"),p(o,"class","log-message svelte-cuxyqu"),p(e,"class","log-line svelte-cuxyqu")},m(f,v){y(f,e,v),a(e,t),a(t,s),a(e,i),a(e,o),a(o,r),a(e,u)},p(f,v){v[0]&131072&&n!==(n=(f[60].timestamp?new Date(f[60].timestamp).toLocaleTimeString():"")+"")&&B(s,n),v[0]&131072&&c!==(c=f[60].message+"")&&B(r,c)},d(f){f&&w(e)}}}function Uf(l){let e,t,n=l[16]&&sr(l);return{c(){n&&n.c(),e=je()},m(s,i){n&&n.m(s,i),y(s,e,i),t=!0},p(s,i){s[16]?n?(n.p(s,i),i[0]&65536&&P(n,1)):(n=sr(s),n.c(),P(n,1),n.m(e.parentNode,e)):n&&(ke(),N(n,1,1,()=>{n=null}),we())},i(s){t||(P(n),t=!0)},o(s){N(n),t=!1},d(s){s&&w(e),n&&n.d(s)}}}function Hf(l){let e;return{c(){e=S("Close")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Gf(l){let e,t,n;return t=new Le({props:{variant:"ghost",$$slots:{default:[Hf]},$$scope:{ctx:l}}}),t.$on("click",l[43]),{c(){e=d("div"),Z(t.$$.fragment),p(e,"slot","footer")},m(s,i){y(s,e,i),K(t,e,null),n=!0},p(s,i){const o={};i[2]&262144&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){n||(P(t.$$.fragment,s),n=!0)},o(s){N(t.$$.fragment,s),n=!1},d(s){s&&w(e),Q(t)}}}function Wf(l){let e,t,n,s=l[10].length+"",i,o,c,r,u,f,v=me(l[10]),_=[];for(let g=0;g<v.length;g+=1)_[g]=rr(yi(l,v,g));const h=g=>N(_[g],1,1,()=>{_[g]=null});let m=l[11].length>0&&ar(l);return{c(){e=d("div"),t=d("p"),n=d("strong"),i=S(s),o=S(" server(s) from the original deployment are unavailable:"),c=b(),r=d("div");for(let g=0;g<_.length;g+=1)_[g].c();u=b(),m&&m.c(),p(t,"class","svelte-cuxyqu"),p(r,"class","confirm-server-list unavailable svelte-cuxyqu"),p(e,"class","rollback-confirm-content svelte-cuxyqu")},m(g,C){y(g,e,C),a(e,t),a(t,n),a(n,i),a(t,o),a(e,c),a(e,r);for(let k=0;k<_.length;k+=1)_[k]&&_[k].m(r,null);a(e,u),m&&m.m(e,null),f=!0},p(g,C){if((!f||C[0]&1024)&&s!==(s=g[10].length+"")&&B(i,s),C[0]&1024){v=me(g[10]);let k;for(k=0;k<v.length;k+=1){const $=yi(g,v,k);_[k]?(_[k].p($,C),P(_[k],1)):(_[k]=rr($),_[k].c(),P(_[k],1),_[k].m(r,null))}for(ke(),k=v.length;k<_.length;k+=1)h(k);we()}g[11].length>0?m?(m.p(g,C),C[0]&2048&&P(m,1)):(m=ar(g),m.c(),P(m,1),m.m(e,null)):m&&(ke(),N(m,1,1,()=>{m=null}),we())},i(g){if(!f){for(let C=0;C<v.length;C+=1)P(_[C]);P(m),f=!0}},o(g){_=_.filter(Boolean);for(let C=0;C<_.length;C+=1)N(_[C]);N(m),f=!1},d(g){g&&w(e),Re(_,g),m&&m.d()}}}function Jf(l){let e,t,n,s,i=l[11].length+"",o,c,r,u=l[11].length+l[9].length+"",f,v,_,h,m,g,C=me(l[9]),k=[];for(let $=0;$<C.length;$+=1)k[$]=ur(Ci(l,C,$));return{c(){e=d("div"),t=d("p"),n=S("Rolling back will restore to "),s=d("strong"),o=S(i),c=S(` servers.
        Service currently runs on `),r=d("strong"),f=S(u),v=S(" servers."),_=b(),h=d("p"),h.textContent="Stop containers on the following servers?",m=b(),g=d("div");for(let $=0;$<k.length;$+=1)k[$].c();p(t,"class","svelte-cuxyqu"),p(h,"class","svelte-cuxyqu"),p(g,"class","confirm-server-list svelte-cuxyqu"),p(e,"class","rollback-confirm-content svelte-cuxyqu")},m($,q){y($,e,q),a(e,t),a(t,n),a(t,s),a(s,o),a(t,c),a(t,r),a(r,f),a(t,v),a(e,_),a(e,h),a(e,m),a(e,g);for(let D=0;D<k.length;D+=1)k[D]&&k[D].m(g,null)},p($,q){if(q[0]&2048&&i!==(i=$[11].length+"")&&B(o,i),q[0]&2560&&u!==(u=$[11].length+$[9].length+"")&&B(f,u),q[0]&512){C=me($[9]);let D;for(D=0;D<C.length;D+=1){const T=Ci($,C,D);k[D]?k[D].p(T,q):(k[D]=ur(T),k[D].c(),k[D].m(g,null))}for(;D<k.length;D+=1)k[D].d(1);k.length=C.length}},i:ce,o:ce,d($){$&&w(e),Re(k,$)}}}function Yf(l){let e;return{c(){e=S("offline")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function rr(l){let e,t,n=(l[53].name||l[53].ip)+"",s,i,o,c=l[53].ip+"",r,u,f,v,_;return f=new Be({props:{variant:"error",$$slots:{default:[Yf]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("span"),s=S(n),i=b(),o=d("span"),r=S(c),u=b(),Z(f.$$.fragment),v=b(),p(t,"class","server-name svelte-cuxyqu"),p(o,"class","server-ip svelte-cuxyqu"),p(e,"class","confirm-server-item svelte-cuxyqu")},m(h,m){y(h,e,m),a(e,t),a(t,s),a(e,i),a(e,o),a(o,r),a(e,u),K(f,e,null),a(e,v),_=!0},p(h,m){(!_||m[0]&1024)&&n!==(n=(h[53].name||h[53].ip)+"")&&B(s,n),(!_||m[0]&1024)&&c!==(c=h[53].ip+"")&&B(r,c);const g={};m[2]&262144&&(g.$$scope={dirty:m,ctx:h}),f.$set(g)},i(h){_||(P(f.$$.fragment,h),_=!0)},o(h){N(f.$$.fragment,h),_=!1},d(h){h&&w(e),Q(f)}}}function ar(l){let e,t,n=l[11].length+"",s,i,o,c,r,u=me(l[11]),f=[];for(let _=0;_<u.length;_+=1)f[_]=cr(wi(l,u,_));const v=_=>N(f[_],1,1,()=>{f[_]=null});return{c(){e=d("p"),t=S("Available servers ("),s=S(n),i=S("):"),o=b(),c=d("div");for(let _=0;_<f.length;_+=1)f[_].c();p(e,"class","svelte-cuxyqu"),p(c,"class","confirm-server-list available svelte-cuxyqu")},m(_,h){y(_,e,h),a(e,t),a(e,s),a(e,i),y(_,o,h),y(_,c,h);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(c,null);r=!0},p(_,h){if((!r||h[0]&2048)&&n!==(n=_[11].length+"")&&B(s,n),h[0]&2048){u=me(_[11]);let m;for(m=0;m<u.length;m+=1){const g=wi(_,u,m);f[m]?(f[m].p(g,h),P(f[m],1)):(f[m]=cr(g),f[m].c(),P(f[m],1),f[m].m(c,null))}for(ke(),m=u.length;m<f.length;m+=1)v(m);we()}},i(_){if(!r){for(let h=0;h<u.length;h+=1)P(f[h]);r=!0}},o(_){f=f.filter(Boolean);for(let h=0;h<f.length;h+=1)N(f[h]);r=!1},d(_){_&&(w(e),w(o),w(c)),Re(f,_)}}}function Vf(l){let e;return{c(){e=S("online")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function cr(l){let e,t,n=(l[53].name||l[53].ip)+"",s,i,o,c=l[53].ip+"",r,u,f,v,_;return f=new Be({props:{variant:"success",$$slots:{default:[Vf]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("span"),s=S(n),i=b(),o=d("span"),r=S(c),u=b(),Z(f.$$.fragment),v=b(),p(t,"class","server-name svelte-cuxyqu"),p(o,"class","server-ip svelte-cuxyqu"),p(e,"class","confirm-server-item svelte-cuxyqu")},m(h,m){y(h,e,m),a(e,t),a(t,s),a(e,i),a(e,o),a(o,r),a(e,u),K(f,e,null),a(e,v),_=!0},p(h,m){(!_||m[0]&2048)&&n!==(n=(h[53].name||h[53].ip)+"")&&B(s,n),(!_||m[0]&2048)&&c!==(c=h[53].ip+"")&&B(r,c);const g={};m[2]&262144&&(g.$$scope={dirty:m,ctx:h}),f.$set(g)},i(h){_||(P(f.$$.fragment,h),_=!0)},o(h){N(f.$$.fragment,h),_=!1},d(h){h&&w(e),Q(f)}}}function ur(l){let e,t,n=(l[53].name||l[53].ip)+"",s,i,o,c=l[53].ip+"",r,u;return{c(){e=d("div"),t=d("span"),s=S(n),i=b(),o=d("span"),r=S(c),u=b(),p(t,"class","server-name svelte-cuxyqu"),p(o,"class","server-ip svelte-cuxyqu"),p(e,"class","confirm-server-item svelte-cuxyqu")},m(f,v){y(f,e,v),a(e,t),a(t,s),a(e,i),a(e,o),a(o,r),a(e,u)},p(f,v){v[0]&512&&n!==(n=(f[53].name||f[53].ip)+"")&&B(s,n),v[0]&512&&c!==(c=f[53].ip+"")&&B(r,c)},d(f){f&&w(e)}}}function Kf(l){let e,t,n,s;const i=[Jf,Wf],o=[];function c(r,u){return r[8]==="cleanup"?0:r[8]==="missing"?1:-1}return~(e=c(l))&&(t=o[e]=i[e](l)),{c(){t&&t.c(),n=je()},m(r,u){~e&&o[e].m(r,u),y(r,n,u),s=!0},p(r,u){let f=e;e=c(r),e===f?~e&&o[e].p(r,u):(t&&(ke(),N(o[f],1,1,()=>{o[f]=null}),we()),~e?(t=o[e],t?t.p(r,u):(t=o[e]=i[e](r),t.c()),P(t,1),t.m(n.parentNode,n)):t=null)},i(r){s||(P(t),s=!0)},o(r){N(t),s=!1},d(r){r&&w(n),~e&&o[e].d(r)}}}function Qf(l){let e,t;return e=new Le({props:{variant:"primary",$$slots:{default:[Xf]},$$scope:{ctx:l}}}),e.$on("click",l[27]),{c(){Z(e.$$.fragment)},m(n,s){K(e,n,s),t=!0},p(n,s){const i={};s[2]&262144&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){Q(e,n)}}}function Zf(l){let e,t;return e=new Le({props:{variant:"primary",$$slots:{default:[xf]},$$scope:{ctx:l}}}),e.$on("click",l[26]),{c(){Z(e.$$.fragment)},m(n,s){K(e,n,s),t=!0},p(n,s){const i={};s[2]&262144&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){Q(e,n)}}}function Xf(l){let e;return{c(){e=S("Proceed with available only")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function xf(l){let e;return{c(){e=S("Proceed")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function ep(l){let e;return{c(){e=S("Cancel")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function tp(l){let e,t,n,s,i,o;const c=[Zf,Qf],r=[];function u(f,v){return f[8]==="cleanup"?0:f[8]==="missing"&&f[11].length>0?1:-1}return~(t=u(l))&&(n=r[t]=c[t](l)),i=new Le({props:{variant:"ghost",$$slots:{default:[ep]},$$scope:{ctx:l}}}),i.$on("click",l[46]),{c(){e=d("div"),n&&n.c(),s=b(),Z(i.$$.fragment),p(e,"slot","footer")},m(f,v){y(f,e,v),~t&&r[t].m(e,null),a(e,s),K(i,e,null),o=!0},p(f,v){let _=t;t=u(f),t===_?~t&&r[t].p(f,v):(n&&(ke(),N(r[_],1,1,()=>{r[_]=null}),we()),~t?(n=r[t],n?n.p(f,v):(n=r[t]=c[t](f),n.c()),P(n,1),n.m(e,s)):n=null);const h={};v[2]&262144&&(h.$$scope={dirty:v,ctx:f}),i.$set(h)},i(f){o||(P(n),P(i.$$.fragment,f),o=!0)},o(f){N(n),N(i.$$.fragment,f),o=!1},d(f){f&&w(e),~t&&r[t].d(),Q(i)}}}function lp(l){let e,t,n,s,i,o,c,r,u,f,v,_,h,m,g,C,k,$,q,D,T,E,M=l[20]&&Mi(l);c=new Le({props:{variant:"ghost",$$slots:{default:[cf]},$$scope:{ctx:l}}}),c.$on("click",l[31]),u=new ze({props:{padding:!1,$$slots:{default:[gf]},$$scope:{ctx:l}}});function L(F){l[38](F)}let O={title:"⏪ Rollback",width:"600px",$$slots:{footer:[Pf],default:[Cf]},$$scope:{ctx:l}};l[1]!==void 0&&(O.open=l[1]),v=new wl({props:O}),at.push(()=>kl(v,"open",L)),v.$on("close",l[39]);function A(F){l[41](F)}let z={title:"⚙️ Deployment Config",width:"500px",$$slots:{footer:[Of],default:[Nf]},$$scope:{ctx:l}};l[13]!==void 0&&(z.open=l[13]),m=new wl({props:z}),at.push(()=>kl(m,"open",A)),m.$on("close",l[42]);function I(F){l[44](F)}let Y={title:"📋 Deployment Logs",width:"700px",$$slots:{footer:[Gf],default:[Uf]},$$scope:{ctx:l}};l[15]!==void 0&&(Y.open=l[15]),k=new wl({props:Y}),at.push(()=>kl(k,"open",I)),k.$on("close",l[45]);function J(F){l[47](F)}let H={title:l[8]==="cleanup"?"⚠️ Stop Orphan Containers":"⚠️ Servers Unavailable",width:"500px",$$slots:{footer:[tp],default:[Kf]},$$scope:{ctx:l}};return l[7]!==void 0&&(H.open=l[7]),D=new wl({props:H}),at.push(()=>kl(D,"open",J)),D.$on("close",l[48]),{c(){e=d("div"),t=d("div"),n=d("h1"),n.textContent="Deployment History",s=b(),i=d("div"),M&&M.c(),o=b(),Z(c.$$.fragment),r=b(),Z(u.$$.fragment),f=b(),Z(v.$$.fragment),h=b(),Z(m.$$.fragment),C=b(),Z(k.$$.fragment),q=b(),Z(D.$$.fragment),p(n,"class","svelte-cuxyqu"),p(i,"class","header-actions svelte-cuxyqu"),p(t,"class","page-header svelte-cuxyqu"),p(e,"class","deployments-page svelte-cuxyqu")},m(F,R){y(F,e,R),a(e,t),a(t,n),a(t,s),a(t,i),M&&M.m(i,null),a(i,o),K(c,i,null),a(e,r),K(u,e,null),y(F,f,R),K(v,F,R),y(F,h,R),K(m,F,R),y(F,C,R),K(k,F,R),y(F,q,R),K(D,F,R),E=!0},p(F,R){F[20]?M?M.p(F,R):(M=Mi(F),M.c(),M.m(i,o)):M&&(M.d(1),M=null);const W={};R[2]&262144&&(W.$$scope={dirty:R,ctx:F}),c.$set(W);const j={};R[0]&524289|R[2]&262144&&(j.$$scope={dirty:R,ctx:F}),u.$set(j);const U={};R[0]&126|R[2]&262144&&(U.$$scope={dirty:R,ctx:F}),!_&&R[0]&2&&(_=!0,U.open=F[1],$l(()=>_=!1)),v.$set(U);const le={};R[0]&24576|R[2]&262144&&(le.$$scope={dirty:R,ctx:F}),!g&&R[0]&8192&&(g=!0,le.open=F[13],$l(()=>g=!1)),m.$set(le);const V={};R[0]&491520|R[2]&262144&&(V.$$scope={dirty:R,ctx:F}),!$&&R[0]&32768&&($=!0,V.open=F[15],$l(()=>$=!1)),k.$set(V);const ie={};R[0]&256&&(ie.title=F[8]==="cleanup"?"⚠️ Stop Orphan Containers":"⚠️ Servers Unavailable"),R[0]&8064|R[2]&262144&&(ie.$$scope={dirty:R,ctx:F}),!T&&R[0]&128&&(T=!0,ie.open=F[7],$l(()=>T=!1)),D.$set(ie)},i(F){E||(P(c.$$.fragment,F),P(u.$$.fragment,F),P(v.$$.fragment,F),P(m.$$.fragment,F),P(k.$$.fragment,F),P(D.$$.fragment,F),E=!0)},o(F){N(c.$$.fragment,F),N(u.$$.fragment,F),N(v.$$.fragment,F),N(m.$$.fragment,F),N(k.$$.fragment,F),N(D.$$.fragment,F),E=!1},d(F){F&&(w(e),w(f),w(h),w(C),w(q)),M&&M.d(),Q(c),Q(u),Q(v,F),Q(m,F),Q(k,F),Q(D,F)}}}function fr(l){return l?l.toLocaleTimeString():""}function np(l){const e=[...l],t=new Set;for(const n of e){const s=`${n.project}/${n.service||n.name}/${n.environment}`;n.status==="success"&&n.can_rollback&&!t.has(s)?(n.is_current_active=!0,t.add(s)):n.is_current_active=!1}return e}function Ot(l){return l?new Date(l).toLocaleString():"-"}function Bl(l){switch(l){case"success":case"active":return"success";case"failed":case"error":return"danger";case"pending":case"deploying":return"warning";case"superseded":return"secondary";default:return"info"}}function Gt(l){const e=l.status||"unknown";return e==="rolled_back"?l.is_rollback?"failed":"superseded":e}function sp(l,e,t){let n,s,i;Ze(l,Al,Ce=>t(30,i=Ce));let o=!1,c=!1,r=null,u=[],f=null,v=!1,_=[],h=!1,m="",g=[],C=[],k=[],$=null,q=!1,D=null,T=!1,E=null,M=[],L=!1,O=[];function A(Ce){t(14,D=Ce),t(13,q=!0)}function z(){if(!(D!=null&&D.config_snapshot))return;const Ce=new CustomEvent("redeploy",{detail:{deployment:D,config:D.config_snapshot},bubbles:!0});document.dispatchEvent(Ce),t(13,q=!1),ge.info("Config loaded - switch to Deploy tab")}async function I(Ce){t(16,E=Ce),t(15,T=!0),t(18,L=!0),t(17,M=[]);try{const he=await Ae("GET",`/infra/deployments/history/${Ce.id}/logs`);t(17,M=he.logs||[])}catch(he){ge.error("Failed to load logs: "+(he.message||he))}finally{t(18,L=!1)}}async function Y(Ce){t(2,r=Ce);try{const he=new URLSearchParams({project:Ce.project||"",environment:Ce.environment||"",service_name:Ce.service_name||Ce.service||""}),Ee=await Ae("GET",`/infra/deployments/rollback/preview?${he}`);t(3,u=(Ee.recent_deployments||[]).filter(Ke=>Ke.id!==Ce.id&&Ke.status==="success"))}catch{t(3,u=[])}t(1,c=!0)}async function J(){if(!r||!f){ge.error("Select a deployment to rollback to");return}const Ce=u.find(tt=>tt.id===f);if(!Ce){ge.error("Target deployment not found");return}const he=r.project||"",Ee=r.environment||"",Ke=r.service_name||r.service||"";try{const tt=new URLSearchParams({project:he,environment:Ee,service_name:Ke}),Oe=await Ae("GET",`/infra/services/state?${tt}`),yt=Ce.server_ips||[],Cl=(Oe.server_ips||[]).filter(ut=>!yt.includes(ut)),ct=(Oe.servers||[]).filter(ut=>Cl.includes(ut.ip));if(yt.length>0){const ut=await Ae("POST",`/infra/services/check-servers?do_token=${ul()}&server_ips=${yt.join(",")}`,null);if(t(10,C=ut.unavailable||[]),t(11,k=ut.available||[]),C.length>0){t(8,m="missing"),t(12,$=Ce),t(7,h=!0);return}}if(ct.length>0){t(9,g=ct),t(8,m="cleanup"),t(12,$=Ce),t(7,h=!0);return}}catch(tt){console.log("Rollback pre-check:",tt.message||tt)}await j()}async function H(){if(t(7,h=!1),m==="cleanup"&&g.length>0){const Ce=`${r.project}_${r.service||r.service_name}_${r.environment}`.replace(/[^a-zA-Z0-9_]/g,"_"),he=g.map(Ee=>Ee.ip);try{const Ee=await Ae("POST",`/infra/services/cleanup?do_token=${ul()}`,{server_ips:he,container_name:Ce});t(6,_=[..._,{message:`Cleanup: ${Ee.cleaned} stopped`,type:"info",time:new Date}])}catch(Ee){t(6,_=[..._,{message:`Cleanup warning: ${Ee.message}`,type:"warning",time:new Date}])}}t(9,g=[]),t(10,C=[]),t(12,$=null),await j()}let F=!1,R=[];async function W(){t(7,h=!1),F=!0,R=k.map(Ce=>Ce.ip),t(10,C=[]),t(12,$=null),await j()}async function j(){t(6,_=[]),t(5,v=!0);const Ce=(he,Ee="info")=>{t(6,_=[..._,{message:he,type:Ee,time:new Date}])};try{const he=new URLSearchParams({project:r.project||"",environment:r.environment||"",service_name:r.service_name||r.service||""}).toString();Ce("Starting rollback...");let Ee=!1,Ke="";const tt={deployment_id:f};if(F&&R.length>0&&(tt.server_ips=R,Ce(`Partial rollback to ${R.length} available server(s)`)),await ya("POST",`/infra/deployments/rollback?${he}`,tt,Oe=>{Oe.type==="progress"||Oe.type==="start"?Ce(Oe.message,"info"):Oe.type==="server_complete"?Ce(`✅ ${Oe.ip}: Success`,"success"):Oe.type==="error"?(Ce(`❌ ${Oe.message||Oe.error}`,"error"),Ke=Oe.message||Oe.error||"Unknown error"):Oe.type==="complete"&&(Ee=Oe.success,Ee?Ce(`✅ ${Oe.message}`,"success"):(Ke=Oe.message||"Rollback failed",Ce(`❌ ${Ke}`,"error")))}),Ee)ge.success("Rollback completed successfully"),await U();else throw new Error(Ke||"Rollback failed")}catch(he){Ce(`❌ Error: ${he.message||String(he)}`,"error"),ge.error("Rollback failed: "+(he.message||String(he)))}finally{t(5,v=!1),F=!1,R=[]}}function U(){Al.refresh()}function le(){Al.refresh()}const V=[[]],ie=()=>Al.refresh(),ee=Ce=>A(Ce),re=Ce=>I(Ce),pe=Ce=>Y(Ce),oe=()=>{t(1,c=!1),t(6,_=[])};function qe(){f=this.__value,t(4,f)}function de(Ce){c=Ce,t(1,c)}const ae=()=>t(1,c=!1),ve=()=>t(13,q=!1);function _e(Ce){q=Ce,t(13,q)}const ue=()=>t(13,q=!1),se=()=>t(15,T=!1);function Se(Ce){T=Ce,t(15,T)}const Fe=()=>t(15,T=!1),nt=()=>{t(7,h=!1),t(12,$=null)};function Je(Ce){h=Ce,t(7,h)}const pt=()=>{t(7,h=!1),t(12,$=null)};return l.$$.update=()=>{l.$$.dirty[0]&1073741824&&t(29,n=i||{loading:!1}),l.$$.dirty[0]&536870912&&t(0,o=n.loading),l.$$.dirty[0]&536870912&&t(20,s=n.lastFetched),l.$$.dirty[0]&536870912&&n.data&&t(19,O=np(n.data))},[o,c,r,u,f,v,_,h,m,g,C,k,$,q,D,T,E,M,L,O,s,A,z,I,Y,J,H,W,le,n,i,ie,ee,re,pe,oe,qe,V,de,ae,ve,_e,ue,se,Se,Fe,nt,Je,pt]}class op extends et{constructor(e){super(),xe(this,e,sp,lp,Xe,{refresh:28},null,[-1,-1,-1])}get refresh(){return this.$$.ctx[28]}}function ip(l){let e;return{c(){e=S("📋 Copy")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function rp(l){let e;return{c(){e=S("⬇ Download")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function pr(l){let e;return{c(){e=d("div"),e.textContent="Loading logs...",p(e,"class","loading-overlay svelte-vo5055")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function ap(l){let e;return{c(){e=d("span"),e.textContent="Select a server and container from the scope bar above to view logs.",p(e,"class","placeholder svelte-vo5055")},m(t,n){y(t,e,n)},p:ce,d(t){t&&w(e)}}}function cp(l){let e;return{c(){e=S(l[0])},m(t,n){y(t,e,n)},p(t,n){n&1&&B(e,t[0])},d(t){t&&w(e)}}}function up(l){let e,t,n,s,i,o,c,r,u,f,v,_,h,m,g,C,k,$,q,D,T,E,M;m=new Le({props:{variant:"ghost",size:"sm",$$slots:{default:[ip]},$$scope:{ctx:l}}}),m.$on("click",l[6]),C=new Le({props:{variant:"ghost",size:"sm",$$slots:{default:[rp]},$$scope:{ctx:l}}}),C.$on("click",l[7]);let L=l[1]&&pr();function O(I,Y){return I[0]?cp:ap}let A=O(l),z=A(l);return{c(){e=d("div"),t=d("div"),n=d("span"),n.textContent="🔍",s=b(),i=d("input"),o=b(),c=d("select"),r=d("option"),r.textContent="All Levels",u=d("option"),u.textContent="ERROR",f=d("option"),f.textContent="WARN",v=d("option"),v.textContent="INFO",_=d("option"),_.textContent="DEBUG",h=b(),Z(m.$$.fragment),g=b(),Z(C.$$.fragment),k=b(),$=d("div"),L&&L.c(),q=b(),D=d("pre"),z.c(),p(n,"class","search-icon svelte-vo5055"),p(i,"type","text"),p(i,"placeholder","Search logs..."),p(i,"class","svelte-vo5055"),p(t,"class","search-box svelte-vo5055"),r.__value="",x(r,r.__value),u.__value="ERROR",x(u,u.__value),f.__value="WARN",x(f,f.__value),v.__value="INFO",x(v,v.__value),_.__value="DEBUG",x(_,_.__value),p(c,"class","svelte-vo5055"),l[3]===void 0&&We(()=>l[11].call(c)),p(e,"class","toolbar svelte-vo5055"),p(D,"class","log-content svelte-vo5055"),p($,"class","log-viewer svelte-vo5055")},m(I,Y){y(I,e,Y),a(e,t),a(t,n),a(t,s),a(t,i),x(i,l[2]),a(e,o),a(e,c),a(c,r),a(c,u),a(c,f),a(c,v),a(c,_),Ne(c,l[3],!0),a(e,h),K(m,e,null),a(e,g),K(C,e,null),y(I,k,Y),y(I,$,Y),L&&L.m($,null),a($,q),a($,D),z.m(D,null),T=!0,E||(M=[te(i,"input",l[10]),te(i,"input",l[5]),te(c,"change",l[11]),te(c,"change",l[5])],E=!0)},p(I,Y){Y&4&&i.value!==I[2]&&x(i,I[2]),Y&8&&Ne(c,I[3]);const J={};Y&131072&&(J.$$scope={dirty:Y,ctx:I}),m.$set(J);const H={};Y&131072&&(H.$$scope={dirty:Y,ctx:I}),C.$set(H),I[1]?L||(L=pr(),L.c(),L.m($,q)):L&&(L.d(1),L=null),A===(A=O(I))&&z?z.p(I,Y):(z.d(1),z=A(I),z&&(z.c(),z.m(D,null)))},i(I){T||(P(m.$$.fragment,I),P(C.$$.fragment,I),T=!0)},o(I){N(m.$$.fragment,I),N(C.$$.fragment,I),T=!1},d(I){I&&(w(e),w(k),w($)),Q(m),Q(C),L&&L.d(),z.d(),E=!1,He(M)}}}function fp(l){let e,t,n,s,i,o,c,r;return c=new ze({props:{padding:!1,$$slots:{default:[up]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("h2"),n=S("Logs · "),s=d("span"),i=S(l[4]),o=b(),Z(c.$$.fragment),p(s,"class","context svelte-vo5055"),p(t,"class","page-title svelte-vo5055"),p(e,"class","logs-page svelte-vo5055")},m(u,f){y(u,e,f),a(e,t),a(t,n),a(t,s),a(s,i),a(e,o),K(c,e,null),r=!0},p(u,[f]){(!r||f&16)&&B(i,u[4]);const v={};f&131087&&(v.$$scope={dirty:f,ctx:u}),c.$set(v)},i(u){r||(P(c.$$.fragment,u),r=!0)},o(u){N(c.$$.fragment,u),r=!1},d(u){u&&w(e),Q(c)}}}function pp(l,e,t){let n,s;Ze(l,Dt,D=>t(9,s=D));let i="",o="",c=!1,r="",u="",f=null;fl(()=>{s.server&&v()}),ss(()=>{m()});async function v(){if(!s.server){i="Select a server and container from the scope bar above to view logs.",t(0,o=i);return}t(1,c=!0);try{const D=s.server,T=s.container;if(!D){i="Select a server to view logs",t(0,o=i);return}if(!T||T==="all"){i=`Select a specific container from the scope bar above to view logs.

Tip: Use the Server dropdown to pick a server, then select a container.`,t(0,o=i),t(1,c=!1);return}const E=new URLSearchParams;E.set("lines","500");const M=`/infra/agent/${D}/containers/${T}/logs?${E}`,L=await Ae("GET",M);L.data&&L.data.logs!==void 0?i=L.data.logs:L.logs!==void 0?i=L.logs:typeof L=="string"?i=L:i=JSON.stringify(L,null,2),_()}catch(D){i=`Error loading logs: ${D.message}`,t(0,o=i),ge.error("Failed to load logs: "+D.message)}finally{t(1,c=!1)}}function _(){let D=i;r&&(D=D.split(`
`).filter(E=>E.toLowerCase().includes(r.toLowerCase())).join(`
`)),u&&(D=D.split(`
`).filter(E=>E.toUpperCase().includes(u)).join(`
`)),t(0,o=D)}function h(){f||(f=setInterval(v,5e3),ge.info("Tailing logs..."))}function m(){f&&(clearInterval(f),f=null)}function g(){navigator.clipboard.writeText(o),ge.success("Logs copied to clipboard")}function C(){const D=new Blob([o],{type:"text/plain"}),T=URL.createObjectURL(D),E=document.createElement("a");E.href=T,E.download=`logs-${s.server||"unknown"}-${new Date().toISOString()}.txt`,E.click(),URL.revokeObjectURL(T)}function k(){v()}function $(){r=this.value,t(2,r)}function q(){u=Qe(this),t(3,u)}return l.$$.update=()=>{l.$$.dirty&512&&t(4,n=s.server?s.container?`${s.server} / ${s.container}`:s.server:"Select a server"),l.$$.dirty&512&&(s.server||s.container||s.range)&&v(),l.$$.dirty&512&&(s.tail?h():m())},_(),[o,c,r,u,n,_,g,C,k,s,$,q]}class dp extends et{constructor(e){super(),xe(this,e,pp,fp,Xe,{refresh:8})}get refresh(){return this.$$.ctx[8]}}function dr(l,e,t){const n=l.slice();return n[23]=e[t],n}function _r(l,e,t){const n=l.slice();n[18]=e[t];const s=n[18].status==="online";n[19]=s;const i=n[18].containers>0?Math.round(n[18].healthy/n[18].containers*100):100;return n[20]=i,n}function _p(l){var D;let e,t,n,s,i=(((D=l[11])==null?void 0:D.name)||l[2].server)+"",o,c,r,u,f,v,_,h,m,g,C=l[4]&&vr(l);f=new Le({props:{variant:"ghost",size:"sm",$$slots:{default:[mp]},$$scope:{ctx:l}}}),f.$on("click",l[0]);const k=[gp,hp],$=[];function q(T,E){return T[5]?0:1}return _=q(l),h=$[_]=k[_](l),{c(){e=d("div"),t=d("h2"),n=S("Metrics · "),s=d("span"),o=S(i),c=b(),r=d("div"),C&&C.c(),u=b(),Z(f.$$.fragment),v=b(),h.c(),m=je(),p(s,"class","server-name svelte-9h3o9i"),p(t,"class","page-title svelte-9h3o9i"),p(r,"class","header-actions svelte-9h3o9i"),p(e,"class","page-header svelte-9h3o9i")},m(T,E){y(T,e,E),a(e,t),a(t,n),a(t,s),a(s,o),a(e,c),a(e,r),C&&C.m(r,null),a(r,u),K(f,r,null),y(T,v,E),$[_].m(T,E),y(T,m,E),g=!0},p(T,E){var O;(!g||E&2052)&&i!==(i=(((O=T[11])==null?void 0:O.name)||T[2].server)+"")&&B(o,i),T[4]?C?C.p(T,E):(C=vr(T),C.c(),C.m(r,u)):C&&(C.d(1),C=null);const M={};E&67108864&&(M.$$scope={dirty:E,ctx:T}),f.$set(M);let L=_;_=q(T),_===L?$[_].p(T,E):(ke(),N($[L],1,1,()=>{$[L]=null}),we(),h=$[_],h?h.p(T,E):(h=$[_]=k[_](T),h.c()),P(h,1),h.m(m.parentNode,m))},i(T){g||(P(f.$$.fragment,T),P(h),g=!0)},o(T){N(f.$$.fragment,T),N(h),g=!1},d(T){T&&(w(e),w(v),w(m)),C&&C.d(),Q(f),$[_].d(T)}}}function vp(l){let e,t,n,s,i,o,c,r,u,f,v,_=l[4]&&hr(l);o=new Le({props:{variant:"ghost",size:"sm",$$slots:{default:[Tp]},$$scope:{ctx:l}}}),o.$on("click",l[0]);const h=[Ep,Pp],m=[];function g(C,k){return C[5]?0:1}return r=g(l),u=m[r]=h[r](l),{c(){e=d("div"),t=d("h2"),t.textContent="Metrics · Fleet",n=b(),s=d("div"),_&&_.c(),i=b(),Z(o.$$.fragment),c=b(),u.c(),f=je(),p(t,"class","page-title svelte-9h3o9i"),p(s,"class","header-actions svelte-9h3o9i"),p(e,"class","page-header svelte-9h3o9i")},m(C,k){y(C,e,k),a(e,t),a(e,n),a(e,s),_&&_.m(s,null),a(s,i),K(o,s,null),y(C,c,k),m[r].m(C,k),y(C,f,k),v=!0},p(C,k){C[4]?_?_.p(C,k):(_=hr(C),_.c(),_.m(s,i)):_&&(_.d(1),_=null);const $={};k&67108864&&($.$$scope={dirty:k,ctx:C}),o.$set($);let q=r;r=g(C),r===q?m[r].p(C,k):(ke(),N(m[q],1,1,()=>{m[q]=null}),we(),u=m[r],u?u.p(C,k):(u=m[r]=h[r](C),u.c()),P(u,1),u.m(f.parentNode,f))},i(C){v||(P(o.$$.fragment,C),P(u),v=!0)},o(C){N(o.$$.fragment,C),N(u),v=!1},d(C){C&&(w(e),w(c),w(f)),_&&_.d(),Q(o),m[r].d(C)}}}function vr(l){let e,t,n=zn(l[4])+"",s;return{c(){e=d("span"),t=S("Updated "),s=S(n),p(e,"class","last-updated svelte-9h3o9i")},m(i,o){y(i,e,o),a(e,t),a(e,s)},p(i,o){o&16&&n!==(n=zn(i[4])+"")&&B(s,n)},d(i){i&&w(e)}}}function mp(l){let e;return{c(){e=S("↻ Refresh")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function hp(l){let e,t,n,s,i,o,c,r,u,f,v;return t=new ze({props:{$$slots:{default:[bp]},$$scope:{ctx:l}}}),s=new ze({props:{$$slots:{default:[$p]},$$scope:{ctx:l}}}),o=new ze({props:{$$slots:{default:[kp]},$$scope:{ctx:l}}}),r=new ze({props:{$$slots:{default:[wp]},$$scope:{ctx:l}}}),f=new ze({props:{title:"🐳 Containers",$$slots:{default:[Dp]},$$scope:{ctx:l}}}),{c(){e=d("div"),Z(t.$$.fragment),n=b(),Z(s.$$.fragment),i=b(),Z(o.$$.fragment),c=b(),Z(r.$$.fragment),u=b(),Z(f.$$.fragment),p(e,"class","metrics-grid svelte-9h3o9i")},m(_,h){y(_,e,h),K(t,e,null),a(e,n),K(s,e,null),a(e,i),K(o,e,null),a(e,c),K(r,e,null),y(_,u,h),K(f,_,h),v=!0},p(_,h){const m={};h&67109120&&(m.$$scope={dirty:h,ctx:_}),t.$set(m);const g={};h&67109120&&(g.$$scope={dirty:h,ctx:_}),s.$set(g);const C={};h&67109120&&(C.$$scope={dirty:h,ctx:_}),o.$set(C);const k={};h&67109120&&(k.$$scope={dirty:h,ctx:_}),r.$set(k);const $={};h&67109e3&&($.$$scope={dirty:h,ctx:_}),f.$set($)},i(_){v||(P(t.$$.fragment,_),P(s.$$.fragment,_),P(o.$$.fragment,_),P(r.$$.fragment,_),P(f.$$.fragment,_),v=!0)},o(_){N(t.$$.fragment,_),N(s.$$.fragment,_),N(o.$$.fragment,_),N(r.$$.fragment,_),N(f.$$.fragment,_),v=!1},d(_){_&&(w(e),w(u)),Q(t),Q(s),Q(o),Q(r),Q(f,_)}}}function gp(l){let e,t,n,s;return{c(){e=d("div"),t=d("p"),n=S("Failed to load: "),s=S(l[5]),p(e,"class","empty-state svelte-9h3o9i")},m(i,o){y(i,e,o),a(e,t),a(t,n),a(t,s)},p(i,o){o&32&&B(s,i[5])},i:ce,o:ce,d(i){i&&w(e)}}}function bp(l){var r;let e,t,n,s,i=(((r=l[8])==null?void 0:r.cpu)||0)+"",o,c;return{c(){var u;e=d("div"),t=d("div"),t.textContent="CPU",n=b(),s=d("div"),o=S(i),c=S("%"),p(t,"class","metric-label svelte-9h3o9i"),p(s,"class","metric-value svelte-9h3o9i"),Ue(s,"color",jt(((u=l[8])==null?void 0:u.cpu)||0)),p(e,"class","metric-card svelte-9h3o9i")},m(u,f){y(u,e,f),a(e,t),a(e,n),a(e,s),a(s,o),a(s,c)},p(u,f){var v,_;f&256&&i!==(i=(((v=u[8])==null?void 0:v.cpu)||0)+"")&&B(o,i),f&256&&Ue(s,"color",jt(((_=u[8])==null?void 0:_.cpu)||0))},d(u){u&&w(e)}}}function $p(l){var g,C,k;let e,t,n,s,i=(((g=l[8])==null?void 0:g.memory)||0)+"",o,c,r,u,f=lt((C=l[8])==null?void 0:C.memoryUsed)+"",v,_,h=lt((k=l[8])==null?void 0:k.memoryTotal)+"",m;return{c(){var $;e=d("div"),t=d("div"),t.textContent="Memory",n=b(),s=d("div"),o=S(i),c=S("%"),r=b(),u=d("div"),v=S(f),_=S(" / "),m=S(h),p(t,"class","metric-label svelte-9h3o9i"),p(s,"class","metric-value svelte-9h3o9i"),Ue(s,"color",jt((($=l[8])==null?void 0:$.memory)||0)),p(u,"class","metric-detail svelte-9h3o9i"),p(e,"class","metric-card svelte-9h3o9i")},m($,q){y($,e,q),a(e,t),a(e,n),a(e,s),a(s,o),a(s,c),a(e,r),a(e,u),a(u,v),a(u,_),a(u,m)},p($,q){var D,T,E,M;q&256&&i!==(i=(((D=$[8])==null?void 0:D.memory)||0)+"")&&B(o,i),q&256&&Ue(s,"color",jt(((T=$[8])==null?void 0:T.memory)||0)),q&256&&f!==(f=lt((E=$[8])==null?void 0:E.memoryUsed)+"")&&B(v,f),q&256&&h!==(h=lt((M=$[8])==null?void 0:M.memoryTotal)+"")&&B(m,h)},d($){$&&w(e)}}}function kp(l){var g,C,k;let e,t,n,s,i=(((g=l[8])==null?void 0:g.disk)||0)+"",o,c,r,u,f=lt((C=l[8])==null?void 0:C.diskUsed)+"",v,_,h=lt((k=l[8])==null?void 0:k.diskTotal)+"",m;return{c(){var $;e=d("div"),t=d("div"),t.textContent="Disk",n=b(),s=d("div"),o=S(i),c=S("%"),r=b(),u=d("div"),v=S(f),_=S(" / "),m=S(h),p(t,"class","metric-label svelte-9h3o9i"),p(s,"class","metric-value svelte-9h3o9i"),Ue(s,"color",jt((($=l[8])==null?void 0:$.disk)||0)),p(u,"class","metric-detail svelte-9h3o9i"),p(e,"class","metric-card svelte-9h3o9i")},m($,q){y($,e,q),a(e,t),a(e,n),a(e,s),a(s,o),a(s,c),a(e,r),a(e,u),a(u,v),a(u,_),a(u,m)},p($,q){var D,T,E,M;q&256&&i!==(i=(((D=$[8])==null?void 0:D.disk)||0)+"")&&B(o,i),q&256&&Ue(s,"color",jt(((T=$[8])==null?void 0:T.disk)||0)),q&256&&f!==(f=lt((E=$[8])==null?void 0:E.diskUsed)+"")&&B(v,f),q&256&&h!==(h=lt((M=$[8])==null?void 0:M.diskTotal)+"")&&B(m,h)},d($){$&&w(e)}}}function wp(l){var g,C,k,$;let e,t,n,s,i,o=lt(((C=(g=l[8])==null?void 0:g.network)==null?void 0:C.in)||0)+"",c,r,u,f,v,_=lt((($=(k=l[8])==null?void 0:k.network)==null?void 0:$.out)||0)+"",h,m;return{c(){e=d("div"),t=d("div"),t.textContent="Network",n=b(),s=d("div"),i=S("↓ "),c=S(o),r=S("/s"),u=b(),f=d("div"),v=S("↑ "),h=S(_),m=S("/s"),p(t,"class","metric-label svelte-9h3o9i"),p(s,"class","metric-value small svelte-9h3o9i"),p(f,"class","metric-detail svelte-9h3o9i"),p(e,"class","metric-card svelte-9h3o9i")},m(q,D){y(q,e,D),a(e,t),a(e,n),a(e,s),a(s,i),a(s,c),a(s,r),a(e,u),a(e,f),a(f,v),a(f,h),a(f,m)},p(q,D){var T,E,M,L;D&256&&o!==(o=lt(((E=(T=q[8])==null?void 0:T.network)==null?void 0:E.in)||0)+"")&&B(c,o),D&256&&_!==(_=lt(((L=(M=q[8])==null?void 0:M.network)==null?void 0:L.out)||0)+"")&&B(h,_)},d(q){q&&w(e)}}}function yp(l){let e,t,n,s,i,o,c=me(l[7]),r=[];for(let f=0;f<c.length;f+=1)r[f]=mr(dr(l,c,f));const u=f=>N(r[f],1,1,()=>{r[f]=null});return{c(){e=d("div"),t=d("table"),n=d("thead"),n.innerHTML='<tr><th class="svelte-9h3o9i">Container</th> <th class="svelte-9h3o9i">Status</th> <th class="svelte-9h3o9i">CPU</th> <th class="svelte-9h3o9i">Memory</th> <th class="svelte-9h3o9i">Network I/O</th></tr>',s=b(),i=d("tbody");for(let f=0;f<r.length;f+=1)r[f].c();p(t,"class","table svelte-9h3o9i"),p(e,"class","table-container svelte-9h3o9i")},m(f,v){y(f,e,v),a(e,t),a(t,n),a(t,s),a(t,i);for(let _=0;_<r.length;_+=1)r[_]&&r[_].m(i,null);o=!0},p(f,v){if(v&128){c=me(f[7]);let _;for(_=0;_<c.length;_+=1){const h=dr(f,c,_);r[_]?(r[_].p(h,v),P(r[_],1)):(r[_]=mr(h),r[_].c(),P(r[_],1),r[_].m(i,null))}for(ke(),_=c.length;_<r.length;_+=1)u(_);we()}},i(f){if(!o){for(let v=0;v<c.length;v+=1)P(r[v]);o=!0}},o(f){r=r.filter(Boolean);for(let v=0;v<r.length;v+=1)N(r[v]);o=!1},d(f){f&&w(e),Re(r,f)}}}function Cp(l){let e;return{c(){e=d("div"),e.textContent="No containers found",p(e,"class","empty-state svelte-9h3o9i")},m(t,n){y(t,e,n)},p:ce,i:ce,o:ce,d(t){t&&w(e)}}}function Sp(l){let e;return{c(){e=d("div"),e.textContent="Loading containers...",p(e,"class","empty-state svelte-9h3o9i")},m(t,n){y(t,e,n)},p:ce,i:ce,o:ce,d(t){t&&w(e)}}}function qp(l){let e=l[23].status+"",t;return{c(){t=S(e)},m(n,s){y(n,t,s)},p(n,s){s&128&&e!==(e=n[23].status+"")&&B(t,e)},d(n){n&&w(t)}}}function mr(l){let e,t,n=l[23].name+"",s,i,o,c,r,u,f=l[23].cpu.toFixed(2)+"",v,_,h,m,g,C=l[23].memory_percent.toFixed(2)+"",k,$,q,D,T,E=lt(l[23].memory_used)+"",M,L,O,A,z,I=lt(l[23].net_in)+"",Y,J,H=lt(l[23].net_out)+"",F,R,W;return c=new Be({props:{variant:l[23].status==="running"?"success":"warning",$$slots:{default:[qp]},$$scope:{ctx:l}}}),{c(){e=d("tr"),t=d("td"),s=S(n),i=b(),o=d("td"),Z(c.$$.fragment),r=b(),u=d("td"),v=S(f),_=S("%"),h=b(),m=d("td"),g=d("span"),k=S(C),$=S("%"),q=b(),D=d("span"),T=S("("),M=S(E),L=S(")"),O=b(),A=d("td"),z=S("↓"),Y=S(I),J=S(" / ↑"),F=S(H),R=b(),p(t,"class","container-name svelte-9h3o9i"),p(o,"class","svelte-9h3o9i"),Ue(u,"color",jt(l[23].cpu)),p(u,"class","svelte-9h3o9i"),Ue(g,"color",jt(l[23].memory_percent)),p(D,"class","detail svelte-9h3o9i"),p(m,"class","svelte-9h3o9i"),p(A,"class","network-io svelte-9h3o9i")},m(j,U){y(j,e,U),a(e,t),a(t,s),a(e,i),a(e,o),K(c,o,null),a(e,r),a(e,u),a(u,v),a(u,_),a(e,h),a(e,m),a(m,g),a(g,k),a(g,$),a(m,q),a(m,D),a(D,T),a(D,M),a(D,L),a(e,O),a(e,A),a(A,z),a(A,Y),a(A,J),a(A,F),a(e,R),W=!0},p(j,U){(!W||U&128)&&n!==(n=j[23].name+"")&&B(s,n);const le={};U&128&&(le.variant=j[23].status==="running"?"success":"warning"),U&67108992&&(le.$$scope={dirty:U,ctx:j}),c.$set(le),(!W||U&128)&&f!==(f=j[23].cpu.toFixed(2)+"")&&B(v,f),(!W||U&128)&&Ue(u,"color",jt(j[23].cpu)),(!W||U&128)&&C!==(C=j[23].memory_percent.toFixed(2)+"")&&B(k,C),(!W||U&128)&&Ue(g,"color",jt(j[23].memory_percent)),(!W||U&128)&&E!==(E=lt(j[23].memory_used)+"")&&B(M,E),(!W||U&128)&&I!==(I=lt(j[23].net_in)+"")&&B(Y,I),(!W||U&128)&&H!==(H=lt(j[23].net_out)+"")&&B(F,H)},i(j){W||(P(c.$$.fragment,j),W=!0)},o(j){N(c.$$.fragment,j),W=!1},d(j){j&&w(e),Q(c)}}}function Dp(l){let e,t,n,s;const i=[Sp,Cp,yp],o=[];function c(r,u){return r[3]?0:r[7].length===0?1:2}return e=c(l),t=o[e]=i[e](l),{c(){t.c(),n=je()},m(r,u){o[e].m(r,u),y(r,n,u),s=!0},p(r,u){let f=e;e=c(r),e===f?o[e].p(r,u):(ke(),N(o[f],1,1,()=>{o[f]=null}),we(),t=o[e],t?t.p(r,u):(t=o[e]=i[e](r),t.c()),P(t,1),t.m(n.parentNode,n))},i(r){s||(P(t),s=!0)},o(r){N(t),s=!1},d(r){r&&w(n),o[e].d(r)}}}function hr(l){let e,t,n=zn(l[4])+"",s;return{c(){e=d("span"),t=S("Updated "),s=S(n),p(e,"class","last-updated svelte-9h3o9i")},m(i,o){y(i,e,o),a(e,t),a(e,s)},p(i,o){o&16&&n!==(n=zn(i[4])+"")&&B(s,n)},d(i){i&&w(e)}}}function Tp(l){let e;return{c(){e=S("↻ Refresh")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Pp(l){let e,t,n,s,i,o,c,r,u,f,v;return t=new ze({props:{$$slots:{default:[Mp]},$$scope:{ctx:l}}}),s=new ze({props:{$$slots:{default:[Lp]},$$scope:{ctx:l}}}),o=new ze({props:{$$slots:{default:[Np]},$$scope:{ctx:l}}}),r=new ze({props:{$$slots:{default:[jp]},$$scope:{ctx:l}}}),f=new ze({props:{title:"Server Health",$$slots:{default:[Up]},$$scope:{ctx:l}}}),{c(){e=d("div"),Z(t.$$.fragment),n=b(),Z(s.$$.fragment),i=b(),Z(o.$$.fragment),c=b(),Z(r.$$.fragment),u=b(),Z(f.$$.fragment),p(e,"class","metrics-grid svelte-9h3o9i")},m(_,h){y(_,e,h),K(t,e,null),a(e,n),K(s,e,null),a(e,i),K(o,e,null),a(e,c),K(r,e,null),y(_,u,h),K(f,_,h),v=!0},p(_,h){const m={};h&67109888&&(m.$$scope={dirty:h,ctx:_}),t.$set(m);const g={};h&67109888&&(g.$$scope={dirty:h,ctx:_}),s.$set(g);const C={};h&67109888&&(C.$$scope={dirty:h,ctx:_}),o.$set(C);const k={};h&67109888&&(k.$$scope={dirty:h,ctx:_}),r.$set(k);const $={};h&67109386&&($.$$scope={dirty:h,ctx:_}),f.$set($)},i(_){v||(P(t.$$.fragment,_),P(s.$$.fragment,_),P(o.$$.fragment,_),P(r.$$.fragment,_),P(f.$$.fragment,_),v=!0)},o(_){N(t.$$.fragment,_),N(s.$$.fragment,_),N(o.$$.fragment,_),N(r.$$.fragment,_),N(f.$$.fragment,_),v=!1},d(_){_&&(w(e),w(u)),Q(t),Q(s),Q(o),Q(r),Q(f,_)}}}function Ep(l){let e,t,n,s;return{c(){e=d("div"),t=d("p"),n=S("Failed to load: "),s=S(l[5]),p(e,"class","empty-state svelte-9h3o9i")},m(i,o){y(i,e,o),a(e,t),a(t,n),a(t,s)},p(i,o){o&32&&B(s,i[5])},i:ce,o:ce,d(i){i&&w(e)}}}function Mp(l){let e,t,n,s,i=l[10].serverCount+"",o;return{c(){e=d("div"),t=d("div"),t.textContent="Servers",n=b(),s=d("div"),o=S(i),p(t,"class","metric-label svelte-9h3o9i"),p(s,"class","metric-value svelte-9h3o9i"),p(e,"class","metric-card svelte-9h3o9i")},m(c,r){y(c,e,r),a(e,t),a(e,n),a(e,s),a(s,o)},p(c,r){r&1024&&i!==(i=c[10].serverCount+"")&&B(o,i)},d(c){c&&w(e)}}}function Lp(l){let e,t,n,s,i=l[10].containerCount+"",o;return{c(){e=d("div"),t=d("div"),t.textContent="Containers",n=b(),s=d("div"),o=S(i),p(t,"class","metric-label svelte-9h3o9i"),p(s,"class","metric-value svelte-9h3o9i"),p(e,"class","metric-card svelte-9h3o9i")},m(c,r){y(c,e,r),a(e,t),a(e,n),a(e,s),a(s,o)},p(c,r){r&1024&&i!==(i=c[10].containerCount+"")&&B(o,i)},d(c){c&&w(e)}}}function Np(l){let e,t,n,s,i=wr(l[10].monthlyCost)+"",o;return{c(){e=d("div"),t=d("div"),t.textContent="Monthly Cost",n=b(),s=d("div"),o=S(i),p(t,"class","metric-label svelte-9h3o9i"),p(s,"class","metric-value svelte-9h3o9i"),p(e,"class","metric-card svelte-9h3o9i")},m(c,r){y(c,e,r),a(e,t),a(e,n),a(e,s),a(s,o)},p(c,r){r&1024&&i!==(i=wr(c[10].monthlyCost)+"")&&B(o,i)},d(c){c&&w(e)}}}function Rp(l){let e=l[10].health+"",t;return{c(){t=S(e)},m(n,s){y(n,t,s)},p(n,s){s&1024&&e!==(e=n[10].health+"")&&B(t,e)},d(n){n&&w(t)}}}function jp(l){let e,t,n,s,i,o;return i=new Be({props:{variant:yr(l[10].health),$$slots:{default:[Rp]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),t.textContent="Health",n=b(),s=d("div"),Z(i.$$.fragment),p(t,"class","metric-label svelte-9h3o9i"),p(s,"class","metric-value svelte-9h3o9i"),p(e,"class","metric-card svelte-9h3o9i")},m(c,r){y(c,e,r),a(e,t),a(e,n),a(e,s),K(i,s,null),o=!0},p(c,r){const u={};r&1024&&(u.variant=yr(c[10].health)),r&67109888&&(u.$$scope={dirty:r,ctx:c}),i.$set(u)},i(c){o||(P(i.$$.fragment,c),o=!0)},o(c){N(i.$$.fragment,c),o=!1},d(c){c&&w(e),Q(i)}}}function Op(l){let e,t=me(l[9]),n=[];for(let s=0;s<t.length;s+=1)n[s]=$r(_r(l,t,s));return{c(){e=d("div");for(let s=0;s<n.length;s+=1)n[s].c();p(e,"class","usage-list svelte-9h3o9i")},m(s,i){y(s,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,i){if(i&512){t=me(s[9]);let o;for(o=0;o<t.length;o+=1){const c=_r(s,t,o);n[o]?n[o].p(c,i):(n[o]=$r(c),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&w(e),Re(n,s)}}}function Ap(l){let e;return{c(){e=d("div"),e.textContent="No servers found",p(e,"class","empty-state svelte-9h3o9i")},m(t,n){y(t,e,n)},p:ce,d(t){t&&w(e)}}}function Fp(l){let e;return{c(){e=d("div"),e.textContent="Unable to load fleet health. Check your DO token.",p(e,"class","empty-state svelte-9h3o9i")},m(t,n){y(t,e,n)},p:ce,d(t){t&&w(e)}}}function zp(l){let e;return{c(){e=d("div"),e.textContent="Loading fleet health...",p(e,"class","empty-state svelte-9h3o9i")},m(t,n){y(t,e,n)},p:ce,d(t){t&&w(e)}}}function Bp(l){let e,t=l[18].status+"",n;return{c(){e=d("span"),n=S(t),p(e,"class","usage-value svelte-9h3o9i"),Ue(e,"color","var(--text-muted)")},m(s,i){y(s,e,i),a(e,n)},p(s,i){i&512&&t!==(t=s[18].status+"")&&B(n,t)},d(s){s&&w(e)}}}function Ip(l){let e,t=l[18].healthy+"",n,s,i=l[18].containers+"",o;return{c(){e=d("span"),n=S(t),s=S("/"),o=S(i),p(e,"class","usage-value svelte-9h3o9i"),Ue(e,"color",l[18].unhealthy>0?"var(--danger)":"var(--success)")},m(c,r){y(c,e,r),a(e,n),a(e,s),a(e,o)},p(c,r){r&512&&t!==(t=c[18].healthy+"")&&B(n,t),r&512&&i!==(i=c[18].containers+"")&&B(o,i),r&512&&Ue(e,"color",c[18].unhealthy>0?"var(--danger)":"var(--success)")},d(c){c&&w(e)}}}function gr(l){let e,t,n,s,i,o,c=l[18].containers+"",r,u,f,v,_=l[18].healthy+"",h,m,g=l[18].unhealthy>0&&br(l);return{c(){e=d("div"),t=d("div"),n=b(),s=d("div"),i=d("span"),o=S("Containers: "),r=S(c),u=b(),f=d("span"),v=S("Healthy: "),h=S(_),m=b(),g&&g.c(),p(t,"class","usage-fill svelte-9h3o9i"),Ue(t,"width",l[20]+"%"),Ue(t,"background",l[18].unhealthy>0?"var(--warning)":"var(--success)"),p(e,"class","usage-bar svelte-9h3o9i"),p(s,"class","usage-details svelte-9h3o9i")},m(C,k){y(C,e,k),a(e,t),y(C,n,k),y(C,s,k),a(s,i),a(i,o),a(i,r),a(s,u),a(s,f),a(f,v),a(f,h),a(s,m),g&&g.m(s,null)},p(C,k){k&512&&Ue(t,"width",C[20]+"%"),k&512&&Ue(t,"background",C[18].unhealthy>0?"var(--warning)":"var(--success)"),k&512&&c!==(c=C[18].containers+"")&&B(r,c),k&512&&_!==(_=C[18].healthy+"")&&B(h,_),C[18].unhealthy>0?g?g.p(C,k):(g=br(C),g.c(),g.m(s,null)):g&&(g.d(1),g=null)},d(C){C&&(w(e),w(n),w(s)),g&&g.d()}}}function br(l){let e,t,n=l[18].unhealthy+"",s;return{c(){e=d("span"),t=S("Unhealthy: "),s=S(n),Ue(e,"color","var(--danger)")},m(i,o){y(i,e,o),a(e,t),a(e,s)},p(i,o){o&512&&n!==(n=i[18].unhealthy+"")&&B(s,n)},d(i){i&&w(e)}}}function $r(l){let e,t,n,s,i,o=l[18].name+"",c,r,u,f;function v(g,C){return g[19]?Ip:Bp}let _=v(l),h=_(l),m=l[19]&&gr(l);return{c(){e=d("div"),t=d("div"),n=d("span"),s=d("span"),i=b(),c=S(o),r=b(),h.c(),u=b(),m&&m.c(),f=b(),p(s,"class","status-dot svelte-9h3o9i"),De(s,"online",l[19]),De(s,"offline",!l[19]),p(n,"class","usage-name svelte-9h3o9i"),p(t,"class","usage-header svelte-9h3o9i"),p(e,"class","usage-item svelte-9h3o9i")},m(g,C){y(g,e,C),a(e,t),a(t,n),a(n,s),a(n,i),a(n,c),a(t,r),h.m(t,null),a(e,u),m&&m.m(e,null),a(e,f)},p(g,C){C&512&&De(s,"online",g[19]),C&512&&De(s,"offline",!g[19]),C&512&&o!==(o=g[18].name+"")&&B(c,o),_===(_=v(g))&&h?h.p(g,C):(h.d(1),h=_(g),h&&(h.c(),h.m(t,null))),g[19]?m?m.p(g,C):(m=gr(g),m.c(),m.m(e,f)):m&&(m.d(1),m=null)},d(g){g&&w(e),h.d(),m&&m.d()}}}function Up(l){let e;function t(i,o){return i[3]&&!i[1]?zp:i[1]?i[9].length===0?Ap:Op:Fp}let n=t(l),s=n(l);return{c(){s.c(),e=je()},m(i,o){s.m(i,o),y(i,e,o)},p(i,o){n===(n=t(i))&&s?s.p(i,o):(s.d(1),s=n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&w(e),s.d(i)}}}function Hp(l){let e,t,n,s;const i=[vp,_p],o=[];function c(r,u){return r[6]?0:1}return t=c(l),n=o[t]=i[t](l),{c(){e=d("div"),n.c(),p(e,"class","metrics-page svelte-9h3o9i")},m(r,u){y(r,e,u),o[t].m(e,null),s=!0},p(r,[u]){let f=t;t=c(r),t===f?o[t].p(r,u):(ke(),N(o[f],1,1,()=>{o[f]=null}),we(),n=o[t],n?n.p(r,u):(n=o[t]=i[t](r),n.c()),P(n,1),n.m(e,null))},i(r){s||(P(n),s=!0)},o(r){N(n),s=!1},d(r){r&&w(e),o[t].d()}}}function zn(l){return l?l.toLocaleTimeString():""}function kr(l){if(!l)return 0;const e=l.match(/([\d.]+)\s*(B|KB|KiB|MB|MiB|GB|GiB|TB|TiB)?/i);if(!e)return 0;const t=parseFloat(e[1]),n=(e[2]||"B").toLowerCase(),s={b:1,kb:1024,kib:1024,mb:1024**2,mib:1024**2,gb:1024**3,gib:1024**3,tb:1024**4,tib:1024**4};return t*(s[n]||1)}function lt(l){if(!l)return"0 B";const e=["B","KB","MB","GB","TB"];let t=0;for(;l>=1024&&t<e.length-1;)l/=1024,t++;return`${l.toFixed(1)} ${e[t]}`}function wr(l){return`$${(l||0).toFixed(2)}`}function yr(l){switch(l){case"healthy":return"success";case"degraded":return"warning";case"unhealthy":return"danger";default:return"info"}}function jt(l){return l>=90?"var(--danger)":l>=70?"var(--warning)":"var(--success)"}function Gp(l,e,t){let n,s,i,o,c,r,u,f;Ze(l,Dt,T=>t(2,u=T)),Ze(l,yl,T=>t(15,f=T));let v=!1,_=null,h=null,m=!1,g=null,C=null,k=null;fl(()=>{q(),t(12,g=setInterval(q,n?3e4:15e3))}),ss(()=>{g&&clearInterval(g)});let $=null;async function q(){m||t(3,v=!0),t(5,h=null);try{n?t(1,C=await Ae("GET","/infra/fleet/health")):t(13,k=await Ae("GET",`/infra/agent/${u.server}/metrics`)),t(4,_=new Date),m=!0}catch(T){t(5,h=T.message)}finally{t(3,v=!1)}}function D(){q()}return l.$$.update=()=>{var T,E,M,L,O,A,z,I,Y,J,H,F;if(l.$$.dirty&4&&t(6,n=!u.server),l.$$.dirty&32772&&t(11,s=f.find(R=>{var W,j,U;return(R.ip||((U=(j=(W=R.networks)==null?void 0:W.v4)==null?void 0:j[0])==null?void 0:U.ip_address))===u.server})),l.$$.dirty&32770&&t(10,i=C?{serverCount:((T=C.summary)==null?void 0:T.total)||f.length,containerCount:((E=C.servers)==null?void 0:E.reduce((R,W)=>{var j;return R+(((j=W.containers)==null?void 0:j.length)||0)},0))||0,monthlyCost:(((M=C.summary)==null?void 0:M.total)||0)*12,health:((L=C.summary)==null?void 0:L.healthy)===((O=C.summary)==null?void 0:O.total)?"healthy":"degraded"}:{serverCount:f.length,containerCount:0,monthlyCost:0,health:"unknown"}),l.$$.dirty&2&&t(9,o=((C==null?void 0:C.servers)||[]).map(R=>({name:R.name||R.ip||"Unknown",ip:R.ip,status:R.status||"unknown",containers:R.containers??0,healthy:R.healthy??0,unhealthy:R.unhealthy??0,healthStatus:R.health_status||"unknown"}))),l.$$.dirty&8192&&t(8,c=k?{cpu:((A=k.system)==null?void 0:A.load_1m)||0,memory:((z=k.system)==null?void 0:z.mem_percent)||0,memoryUsed:((I=k.system)==null?void 0:I.mem_used)||0,memoryTotal:((Y=k.system)==null?void 0:Y.mem_total)||0,disk:((J=k.system)==null?void 0:J.disk_percent)||0,diskUsed:((H=k.system)==null?void 0:H.disk_used)||0,diskTotal:((F=k.system)==null?void 0:F.disk_total)||0,network:{in:0,out:0}}:null),l.$$.dirty&8192&&t(7,r=((k==null?void 0:k.containers)||[]).map(R=>{var V;const W=R.cpu||"0%",j=R.memory||"0B / 0B",U=R.mem_perc||"0%",le=j.split("/");return{name:R.name||"unknown",cpu:parseFloat(W.replace("%",""))||0,memory_percent:parseFloat(U.replace("%",""))||0,memory_used:kr((V=le[0])==null?void 0:V.trim()),memory_total:le[1]?kr(le[1].trim()):0,net_in:R.net_in||0,net_out:R.net_out||0,status:R.state||"running"}})),l.$$.dirty&20484){const R=u.server;R!==$&&$!==null&&(g&&clearInterval(g),m=!1,q(),t(12,g=setInterval(q,R?15e3:3e4))),t(14,$=R)}},[D,C,u,v,_,h,n,r,c,o,i,s,g,k,$,f]}class Wp extends et{constructor(e){super(),xe(this,e,Gp,Hp,Xe,{refresh:0})}get refresh(){return this.$$.ctx[0]}}function Cr(l,e,t){const n=l.slice();return n[32]=e[t],n}function Sr(l,e,t){const n=l.slice();return n[35]=e[t],n}function qr(l,e,t){const n=l.slice();return n[38]=e[t],n}function Jp(l){let e,t,n=me(l[12]),s=[];for(let o=0;o<n.length;o+=1)s[o]=Dr(qr(l,n,o));const i=o=>N(s[o],1,1,()=>{s[o]=null});return{c(){e=d("div");for(let o=0;o<s.length;o+=1)s[o].c();p(e,"class","snapshot-list svelte-m8qcvw")},m(o,c){y(o,e,c);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null);t=!0},p(o,c){if(c[0]&135168){n=me(o[12]);let r;for(r=0;r<n.length;r+=1){const u=qr(o,n,r);s[r]?(s[r].p(u,c),P(s[r],1)):(s[r]=Dr(u),s[r].c(),P(s[r],1),s[r].m(e,null))}for(ke(),r=n.length;r<s.length;r+=1)i(r);we()}},i(o){if(!t){for(let c=0;c<n.length;c+=1)P(s[c]);t=!0}},o(o){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)N(s[c]);t=!1},d(o){o&&w(e),Re(s,o)}}}function Yp(l){let e;return{c(){e=d("div"),e.textContent="No snapshots found",p(e,"class","empty-state svelte-m8qcvw")},m(t,n){y(t,e,n)},p:ce,i:ce,o:ce,d(t){t&&w(e)}}}function Vp(l){let e;return{c(){e=d("div"),e.textContent="Loading...",p(e,"class","empty-state svelte-m8qcvw")},m(t,n){y(t,e,n)},p:ce,i:ce,o:ce,d(t){t&&w(e)}}}function Kp(l){let e;return{c(){e=S("🗑️")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Dr(l){var Y;let e,t,n,s=l[38].name+"",i,o,c,r,u=Bn(l[38].created_at)+"",f,v,_,h,m,g=Mr(l[38].size_gigabytes)+"",C,k,$,q,D,T=(((Y=l[38].regions)==null?void 0:Y.join(", "))||"-")+"",E,M,L,O,A,z;function I(){return l[21](l[38])}return O=new Le({props:{variant:"danger",size:"sm",$$slots:{default:[Kp]},$$scope:{ctx:l}}}),O.$on("click",I),{c(){e=d("div"),t=d("div"),n=d("div"),i=S(s),o=b(),c=d("div"),r=d("span"),f=S(u),v=b(),_=d("span"),_.textContent="•",h=b(),m=d("span"),C=S(g),k=b(),$=d("span"),$.textContent="•",q=b(),D=d("span"),E=S(T),M=b(),L=d("div"),Z(O.$$.fragment),A=b(),p(n,"class","snapshot-name svelte-m8qcvw"),p(c,"class","snapshot-meta svelte-m8qcvw"),p(t,"class","snapshot-info"),p(L,"class","snapshot-actions"),p(e,"class","snapshot-item svelte-m8qcvw")},m(J,H){y(J,e,H),a(e,t),a(t,n),a(n,i),a(t,o),a(t,c),a(c,r),a(r,f),a(c,v),a(c,_),a(c,h),a(c,m),a(m,C),a(c,k),a(c,$),a(c,q),a(c,D),a(D,E),a(e,M),a(e,L),K(O,L,null),a(e,A),z=!0},p(J,H){var R;l=J,(!z||H[0]&4096)&&s!==(s=l[38].name+"")&&B(i,s),(!z||H[0]&4096)&&u!==(u=Bn(l[38].created_at)+"")&&B(f,u),(!z||H[0]&4096)&&g!==(g=Mr(l[38].size_gigabytes)+"")&&B(C,g),(!z||H[0]&4096)&&T!==(T=(((R=l[38].regions)==null?void 0:R.join(", "))||"-")+"")&&B(E,T);const F={};H[1]&1024&&(F.$$scope={dirty:H,ctx:l}),O.$set(F)},i(J){z||(P(O.$$.fragment,J),z=!0)},o(J){N(O.$$.fragment,J),z=!1},d(J){J&&w(e),Q(O)}}}function Qp(l){let e;return{c(){e=S("↻ Refresh")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Zp(l){let e,t,n,s,i,o;const c=[Vp,Yp,Jp],r=[];function u(f,v){return f[0]?0:f[12].length===0?1:2}return e=u(l),t=r[e]=c[e](l),i=new Le({props:{variant:"ghost",size:"sm",$$slots:{default:[Qp]},$$scope:{ctx:l}}}),i.$on("click",l[14]),{c(){t.c(),n=b(),s=d("div"),Z(i.$$.fragment),p(s,"class","card-footer svelte-m8qcvw")},m(f,v){r[e].m(f,v),y(f,n,v),y(f,s,v),K(i,s,null),o=!0},p(f,v){let _=e;e=u(f),e===_?r[e].p(f,v):(ke(),N(r[_],1,1,()=>{r[_]=null}),we(),t=r[e],t?t.p(f,v):(t=r[e]=c[e](f),t.c()),P(t,1),t.m(n.parentNode,n));const h={};v[1]&1024&&(h.$$scope={dirty:v,ctx:f}),i.$set(h)},i(f){o||(P(t),P(i.$$.fragment,f),o=!0)},o(f){N(t),N(i.$$.fragment,f),o=!1},d(f){f&&(w(n),w(s)),r[e].d(f),Q(i)}}}function Xp(l){let e;return{c(){e=S("+ Custom")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function xp(l){let e,t;return e=new Le({props:{slot:"header",variant:"success",size:"sm",$$slots:{default:[Xp]},$$scope:{ctx:l}}}),e.$on("click",l[20]),{c(){Z(e.$$.fragment)},m(n,s){K(e,n,s),t=!0},p(n,s){const i={};s[1]&1024&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){Q(e,n)}}}function ed(l){let e,t,n,s,i,o,c;return t=new Be({props:{variant:"warning",$$slots:{default:[nd]},$$scope:{ctx:l}}}),o=new Le({props:{variant:"primary",$$slots:{default:[sd]},$$scope:{ctx:l}}}),o.$on("click",l[15]),{c(){e=d("div"),Z(t.$$.fragment),n=b(),s=d("p"),s.textContent="Base snapshot is required for provisioning new servers.",i=b(),Z(o.$$.fragment),p(s,"class","svelte-m8qcvw"),p(e,"class","status-missing svelte-m8qcvw")},m(r,u){y(r,e,u),K(t,e,null),a(e,n),a(e,s),a(e,i),K(o,e,null),c=!0},p(r,u){const f={};u[1]&1024&&(f.$$scope={dirty:u,ctx:r}),t.$set(f);const v={};u[1]&1024&&(v.$$scope={dirty:u,ctx:r}),o.$set(v)},i(r){c||(P(t.$$.fragment,r),P(o.$$.fragment,r),c=!0)},o(r){N(t.$$.fragment,r),N(o.$$.fragment,r),c=!1},d(r){r&&w(e),Q(t),Q(o)}}}function td(l){let e,t,n,s,i,o,c=l[1].name+"",r,u,f,v,_=Bn(l[1].created_at)+"",h,m;return t=new Be({props:{variant:"success",$$slots:{default:[od]},$$scope:{ctx:l}}}),{c(){e=d("div"),Z(t.$$.fragment),n=b(),s=d("div"),i=d("div"),o=S("Name: "),r=S(c),u=b(),f=d("div"),v=S("Created: "),h=S(_),p(s,"class","status-details svelte-m8qcvw"),p(e,"class","status-ok svelte-m8qcvw")},m(g,C){y(g,e,C),K(t,e,null),a(e,n),a(e,s),a(s,i),a(i,o),a(i,r),a(s,u),a(s,f),a(f,v),a(f,h),m=!0},p(g,C){const k={};C[1]&1024&&(k.$$scope={dirty:C,ctx:g}),t.$set(k),(!m||C[0]&2)&&c!==(c=g[1].name+"")&&B(r,c),(!m||C[0]&2)&&_!==(_=Bn(g[1].created_at)+"")&&B(h,_)},i(g){m||(P(t.$$.fragment,g),m=!0)},o(g){N(t.$$.fragment,g),m=!1},d(g){g&&w(e),Q(t)}}}function ld(l){let e;return{c(){e=d("div"),e.textContent="Checking...",p(e,"class","status-checking svelte-m8qcvw")},m(t,n){y(t,e,n)},p:ce,i:ce,o:ce,d(t){t&&w(e)}}}function nd(l){let e;return{c(){e=S("Not found")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function sd(l){let e;return{c(){e=S("Create Base Snapshot")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function od(l){let e;return{c(){e=S("✓ Ready")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function id(l){let e,t,n,s;const i=[ld,td,ed],o=[];function c(r,u){return r[1]===null?0:r[1].exists?1:2}return e=c(l),t=o[e]=i[e](l),{c(){t.c(),n=je()},m(r,u){o[e].m(r,u),y(r,n,u),s=!0},p(r,u){let f=e;e=c(r),e===f?o[e].p(r,u):(ke(),N(o[f],1,1,()=>{o[f]=null}),we(),t=o[e],t?t.p(r,u):(t=o[e]=i[e](r),t.c()),P(t,1),t.m(n.parentNode,n))},i(r){s||(P(t),s=!0)},o(r){N(t),s=!1},d(r){r&&w(n),o[e].d(r)}}}function rd(l){let e,t,n,s,i;return t=new Be({props:{variant:"info",$$slots:{default:[ud]},$$scope:{ctx:l}}}),{c(){e=d("div"),Z(t.$$.fragment),n=b(),s=d("p"),s.textContent="Optional: Use DO Container Registry for private images.",p(s,"class","svelte-m8qcvw"),p(e,"class","status-missing svelte-m8qcvw")},m(o,c){y(o,e,c),K(t,e,null),a(e,n),a(e,s),i=!0},p(o,c){const r={};c[1]&1024&&(r.$$scope={dirty:c,ctx:o}),t.$set(r)},i(o){i||(P(t.$$.fragment,o),i=!0)},o(o){N(t.$$.fragment,o),i=!1},d(o){o&&w(e),Q(t)}}}function ad(l){let e,t,n,s,i,o,c=l[2].name+"",r,u,f,v,_=l[2].region+"",h,m;return t=new Be({props:{variant:"success",$$slots:{default:[fd]},$$scope:{ctx:l}}}),{c(){e=d("div"),Z(t.$$.fragment),n=b(),s=d("div"),i=d("div"),o=S("Name: "),r=S(c),u=b(),f=d("div"),v=S("Region: "),h=S(_),p(s,"class","status-details svelte-m8qcvw"),p(e,"class","status-ok svelte-m8qcvw")},m(g,C){y(g,e,C),K(t,e,null),a(e,n),a(e,s),a(s,i),a(i,o),a(i,r),a(s,u),a(s,f),a(f,v),a(f,h),m=!0},p(g,C){const k={};C[1]&1024&&(k.$$scope={dirty:C,ctx:g}),t.$set(k),(!m||C[0]&4)&&c!==(c=g[2].name+"")&&B(r,c),(!m||C[0]&4)&&_!==(_=g[2].region+"")&&B(h,_)},i(g){m||(P(t.$$.fragment,g),m=!0)},o(g){N(t.$$.fragment,g),m=!1},d(g){g&&w(e),Q(t)}}}function cd(l){let e;return{c(){e=d("div"),e.textContent="Checking...",p(e,"class","status-checking svelte-m8qcvw")},m(t,n){y(t,e,n)},p:ce,i:ce,o:ce,d(t){t&&w(e)}}}function ud(l){let e;return{c(){e=S("Not configured")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function fd(l){let e;return{c(){e=S("✓ Connected")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function pd(l){let e,t,n,s;const i=[cd,ad,rd],o=[];function c(r,u){return r[2]===null?0:r[2].exists?1:2}return e=c(l),t=o[e]=i[e](l),{c(){t.c(),n=je()},m(r,u){o[e].m(r,u),y(r,n,u),s=!0},p(r,u){let f=e;e=c(r),e===f?o[e].p(r,u):(ke(),N(o[f],1,1,()=>{o[f]=null}),we(),t=o[e],t?t.p(r,u):(t=o[e]=i[e](r),t.c()),P(t,1),t.m(n.parentNode,n))},i(r){s||(P(t),s=!0)},o(r){N(t),s=!1},d(r){r&&w(n),o[e].d(r)}}}function Tr(l){let e,t;return e=new ze({props:{title:"📋 Progress",$$slots:{default:[dd]},$$scope:{ctx:l}}}),{c(){Z(e.$$.fragment)},m(n,s){K(e,n,s),t=!0},p(n,s){const i={};s[0]&48|s[1]&1024&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){Q(e,n)}}}function Pr(l){let e,t=l[35].message+"",n,s;return{c(){e=d("div"),n=S(t),p(e,"class",s="log-line "+l[35].type+" svelte-m8qcvw")},m(i,o){y(i,e,o),a(e,n)},p(i,o){o[0]&32&&t!==(t=i[35].message+"")&&B(n,t),o[0]&32&&s!==(s="log-line "+i[35].type+" svelte-m8qcvw")&&p(e,"class",s)},d(i){i&&w(e)}}}function dd(l){let e,t,n,s,i=me(l[5]),o=[];for(let c=0;c<i.length;c+=1)o[c]=Pr(Sr(l,i,c));return{c(){e=d("div"),t=d("div"),n=b(),s=d("div");for(let c=0;c<o.length;c+=1)o[c].c();p(t,"class","progress-fill svelte-m8qcvw"),Ue(t,"width",l[4]+"%"),p(e,"class","progress-bar svelte-m8qcvw"),p(s,"class","log-container svelte-m8qcvw")},m(c,r){y(c,e,r),a(e,t),y(c,n,r),y(c,s,r);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(s,null)},p(c,r){if(r[0]&16&&Ue(t,"width",c[4]+"%"),r[0]&32){i=me(c[5]);let u;for(u=0;u<i.length;u+=1){const f=Sr(c,i,u);o[u]?o[u].p(f,r):(o[u]=Pr(f),o[u].c(),o[u].m(s,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=i.length}},d(c){c&&(w(e),w(n),w(s)),Re(o,c)}}}function Er(l){let e,t=l[32].label+"",n;return{c(){e=d("option"),n=S(t),e.__value=l[32].value,x(e,e.__value)},m(s,i){y(s,e,i),a(e,n)},p:ce,d(s){s&&w(e)}}}function _d(l){let e,t,n,s,i,o,c,r,u,f,v,_,h,m,g,C,k,$,q,D,T,E,M,L,O,A,z,I,Y=me(l[13]),J=[];for(let H=0;H<Y.length;H+=1)J[H]=Er(Cr(l,Y,H));return{c(){e=d("form"),t=d("div"),n=d("label"),n.textContent="Snapshot Name *",s=b(),i=d("input"),o=b(),c=d("div"),r=d("label"),r.textContent="Base Image",u=b(),f=d("select");for(let H=0;H<J.length;H+=1)J[H].c();v=b(),_=d("div"),h=d("label"),h.textContent="Pre-install",m=b(),g=d("div"),C=d("label"),k=d("input"),$=S(`
          Docker`),q=b(),D=d("label"),T=d("input"),E=S(`
          Nginx`),M=b(),L=d("label"),O=d("input"),A=S(`
          Certbot (SSL)`),p(n,"for","snap-name"),p(n,"class","svelte-m8qcvw"),p(i,"id","snap-name"),p(i,"type","text"),p(i,"placeholder","my-base-snapshot"),i.required=!0,p(i,"class","svelte-m8qcvw"),p(t,"class","form-group svelte-m8qcvw"),p(r,"for","base-image"),p(r,"class","svelte-m8qcvw"),p(f,"id","base-image"),p(f,"class","svelte-m8qcvw"),l[8]===void 0&&We(()=>l[24].call(f)),p(c,"class","form-group svelte-m8qcvw"),p(h,"class","svelte-m8qcvw"),p(k,"type","checkbox"),p(k,"class","svelte-m8qcvw"),p(C,"class","checkbox-item svelte-m8qcvw"),p(T,"type","checkbox"),p(T,"class","svelte-m8qcvw"),p(D,"class","checkbox-item svelte-m8qcvw"),p(O,"type","checkbox"),p(O,"class","svelte-m8qcvw"),p(L,"class","checkbox-item svelte-m8qcvw"),p(g,"class","checkbox-list svelte-m8qcvw"),p(_,"class","form-group svelte-m8qcvw")},m(H,F){y(H,e,F),a(e,t),a(t,n),a(t,s),a(t,i),x(i,l[7]),a(e,o),a(e,c),a(c,r),a(c,u),a(c,f);for(let R=0;R<J.length;R+=1)J[R]&&J[R].m(f,null);Ne(f,l[8],!0),a(e,v),a(e,_),a(_,h),a(_,m),a(_,g),a(g,C),a(C,k),k.checked=l[9],a(C,$),a(g,q),a(g,D),a(D,T),T.checked=l[10],a(D,E),a(g,M),a(g,L),a(L,O),O.checked=l[11],a(L,A),z||(I=[te(i,"input",l[23]),te(f,"change",l[24]),te(k,"change",l[25]),te(T,"change",l[26]),te(O,"change",l[27]),te(e,"submit",_a(l[16]))],z=!0)},p(H,F){if(F[0]&128&&i.value!==H[7]&&x(i,H[7]),F[0]&8192){Y=me(H[13]);let R;for(R=0;R<Y.length;R+=1){const W=Cr(H,Y,R);J[R]?J[R].p(W,F):(J[R]=Er(W),J[R].c(),J[R].m(f,null))}for(;R<J.length;R+=1)J[R].d(1);J.length=Y.length}F[0]&8448&&Ne(f,H[8]),F[0]&512&&(k.checked=H[9]),F[0]&1024&&(T.checked=H[10]),F[0]&2048&&(O.checked=H[11])},d(H){H&&w(e),Re(J,H),z=!1,He(I)}}}function vd(l){let e;return{c(){e=S("Cancel")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function md(l){let e;return{c(){e=S("🔨 Build Snapshot")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function hd(l){let e;return{c(){e=S("Building...")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function gd(l){let e;function t(i,o){return i[6]?hd:md}let n=t(l),s=n(l);return{c(){s.c(),e=je()},m(i,o){s.m(i,o),y(i,e,o)},p(i,o){n!==(n=t(i))&&(s.d(1),s=n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&w(e),s.d(i)}}}function bd(l){let e,t,n,s,i;return t=new Le({props:{variant:"ghost",$$slots:{default:[vd]},$$scope:{ctx:l}}}),t.$on("click",l[22]),s=new Le({props:{variant:"primary",disabled:l[6],$$slots:{default:[gd]},$$scope:{ctx:l}}}),s.$on("click",l[16]),{c(){e=d("div"),Z(t.$$.fragment),n=b(),Z(s.$$.fragment),p(e,"slot","footer")},m(o,c){y(o,e,c),K(t,e,null),a(e,n),K(s,e,null),i=!0},p(o,c){const r={};c[1]&1024&&(r.$$scope={dirty:c,ctx:o}),t.$set(r);const u={};c[0]&64&&(u.disabled=o[6]),c[0]&64|c[1]&1024&&(u.$$scope={dirty:c,ctx:o}),s.$set(u)},i(o){i||(P(t.$$.fragment,o),P(s.$$.fragment,o),i=!0)},o(o){N(t.$$.fragment,o),N(s.$$.fragment,o),i=!1},d(o){o&&w(e),Q(t),Q(s)}}}function $d(l){let e,t,n,s,i,o,c,r,u,f,v,_,h;n=new ze({props:{title:"📸 Your Snapshots",$$slots:{header:[xp],default:[Zp]},$$scope:{ctx:l}}}),o=new ze({props:{title:"🏗️ Base Snapshot",$$slots:{default:[id]},$$scope:{ctx:l}}}),r=new ze({props:{title:"📦 App Registry (DO)",$$slots:{default:[pd]},$$scope:{ctx:l}}});let m=l[5].length>0&&Tr(l);function g(k){l[28](k)}let C={title:"Build Custom Snapshot",width:"500px",$$slots:{footer:[bd],default:[_d]},$$scope:{ctx:l}};return l[3]!==void 0&&(C.open=l[3]),v=new wl({props:C}),at.push(()=>kl(v,"open",g)),v.$on("close",l[29]),{c(){e=d("div"),t=d("div"),Z(n.$$.fragment),s=b(),i=d("div"),Z(o.$$.fragment),c=b(),Z(r.$$.fragment),u=b(),m&&m.c(),f=b(),Z(v.$$.fragment),p(i,"class","right-column svelte-m8qcvw"),p(t,"class","snapshots-grid svelte-m8qcvw"),p(e,"class","snapshots-page svelte-m8qcvw")},m(k,$){y(k,e,$),a(e,t),K(n,t,null),a(t,s),a(t,i),K(o,i,null),a(i,c),K(r,i,null),a(i,u),m&&m.m(i,null),y(k,f,$),K(v,k,$),h=!0},p(k,$){const q={};$[0]&4105|$[1]&1024&&(q.$$scope={dirty:$,ctx:k}),n.$set(q);const D={};$[0]&2|$[1]&1024&&(D.$$scope={dirty:$,ctx:k}),o.$set(D);const T={};$[0]&4|$[1]&1024&&(T.$$scope={dirty:$,ctx:k}),r.$set(T),k[5].length>0?m?(m.p(k,$),$[0]&32&&P(m,1)):(m=Tr(k),m.c(),P(m,1),m.m(i,null)):m&&(ke(),N(m,1,1,()=>{m=null}),we());const E={};$[0]&4040|$[1]&1024&&(E.$$scope={dirty:$,ctx:k}),!_&&$[0]&8&&(_=!0,E.open=k[3],$l(()=>_=!1)),v.$set(E)},i(k){h||(P(n.$$.fragment,k),P(o.$$.fragment,k),P(r.$$.fragment,k),P(m),P(v.$$.fragment,k),h=!0)},o(k){N(n.$$.fragment,k),N(o.$$.fragment,k),N(r.$$.fragment,k),N(m),N(v.$$.fragment,k),h=!1},d(k){k&&(w(e),w(f)),Q(n),Q(o),Q(r),m&&m.d(),Q(v,k)}}}function Bn(l){return l?new Date(l).toLocaleDateString():"-"}function Mr(l){return l?`${l} GB`:"-"}function kd(l,e,t){let n,s,i;Ze(l,Fn,j=>t(19,s=j)),Ze(l,es,j=>t(12,i=j));let o=!1,c=null,r=null,u=!1,f=0,v=[],_=!1,h="",m="ubuntu-22-04-x64",g=!0,C=!0,k=!0;const $=[{value:"ubuntu-22-04-x64",label:"Ubuntu 22.04 LTS"},{value:"ubuntu-20-04-x64",label:"Ubuntu 20.04 LTS"},{value:"debian-11-x64",label:"Debian 11"},{value:"debian-12-x64",label:"Debian 12"}];fl(()=>{D(),T()});function q(){Fn.refresh()}async function D(){try{const j=await Ae("GET","/infra/setup/status");t(1,c=j)}catch(j){t(1,c={exists:!1,error:j.message})}}async function T(){try{const j=await Ae("GET","/infra/registry");t(2,r=j)}catch(j){t(2,r={exists:!1,error:j.message})}}async function E(){t(6,_=!0),t(4,f=0),t(5,v=[]);try{v.push({message:"🚀 Creating base snapshot...",type:"info"}),t(4,f=5),await ya("POST","/infra/setup/init/stream",{},j=>{j.message&&(v.push({message:j.message,type:j.type||"info"}),t(5,v)),j.progress&&t(4,f=j.progress),(j.type==="done"||j.type==="complete")&&t(4,f=100)}),v.push({message:"✅ Base snapshot created successfully",type:"success"}),ge.success("Base snapshot created!"),await D(),await q()}catch(j){v.push({message:`❌ Error: ${j.message}`,type:"error"}),ge.error("Failed to create base snapshot: "+j.message)}finally{t(6,_=!1)}}async function M(){if(!h){ge.error("Snapshot name is required");return}t(6,_=!0),t(4,f=0),t(5,v=[]);try{v.push({message:`Building snapshot: ${h}`,type:"info"}),t(4,f=10);const j=await Ae("POST","/infra/snapshots/build",{name:h,base_image:m,install_docker:g,install_nginx:C,install_certbot:k});t(4,f=100),v.push({message:"✅ Snapshot created successfully",type:"success"}),ge.success("Snapshot created!"),await q(),t(3,u=!1)}catch(j){v.push({message:`❌ Error: ${j.message}`,type:"error"}),ge.error(j.message)}finally{t(6,_=!1)}}async function L(j,U){if(confirm(`Delete snapshot "${U}"? This cannot be undone.`))try{await Ae("DELETE",`/infra/snapshots/${j}`),ge.success("Snapshot deleted"),await q()}catch(le){ge.error("Failed to delete snapshot: "+le.message)}}const O=()=>t(3,u=!0),A=j=>L(j.id,j.name),z=()=>t(3,u=!1);function I(){h=this.value,t(7,h)}function Y(){m=Qe(this),t(8,m),t(13,$)}function J(){g=this.checked,t(9,g)}function H(){C=this.checked,t(10,C)}function F(){k=this.checked,t(11,k)}function R(j){u=j,t(3,u)}const W=()=>t(3,u=!1);return l.$$.update=()=>{l.$$.dirty[0]&524288&&t(18,n=s||{loading:!1}),l.$$.dirty[0]&262144&&t(0,o=n.loading)},[o,c,r,u,f,v,_,h,m,g,C,k,i,$,q,E,M,L,n,s,O,A,z,I,Y,J,H,F,R,W]}class wd extends et{constructor(e){super(),xe(this,e,kd,$d,Xe,{},null,[-1,-1])}}function Lr(l,e,t){var i,o,c;const n=l.slice();n[22]=e[t];const s=n[22].ip||((c=(o=(i=n[22].networks)==null?void 0:i.v4)==null?void 0:o[0])==null?void 0:c.ip_address);return n[23]=s,n}function Nr(l,e,t){const n=l.slice();return n[26]=e[t],n}function Rr(l,e,t){const n=l.slice();return n[29]=e[t],n}function jr(l){let e,t=l[29].label+"",n;return{c(){e=d("option"),n=S(t),e.__value=l[29].value,x(e,e.__value)},m(s,i){y(s,e,i),a(e,n)},p:ce,d(s){s&&w(e)}}}function Or(l){let e,t=l[26].charAt(0).toUpperCase()+l[26].slice(1)+"",n;return{c(){e=d("option"),n=S(t),e.__value=l[26],x(e,e.__value)},m(s,i){y(s,e,i),a(e,n)},p:ce,d(s){s&&w(e)}}}function Ar(l){let e,t=(l[22].name||"unnamed")+"",n,s,i=l[23]+"",o,c,r;return{c(){e=d("option"),n=S(t),s=S(" ("),o=S(i),c=S(")"),e.__value=r=l[23],x(e,e.__value)},m(u,f){y(u,e,f),a(e,n),a(e,s),a(e,o),a(e,c)},p(u,f){f[0]&64&&t!==(t=(u[22].name||"unnamed")+"")&&B(n,t),f[0]&64&&i!==(i=u[23]+"")&&B(o,i),f[0]&64&&r!==(r=u[23])&&(e.__value=r,x(e,e.__value))},d(u){u&&w(e)}}}function Fr(l){let e,t=l[23]&&Ar(l);return{c(){t&&t.c(),e=je()},m(n,s){t&&t.m(n,s),y(n,e,s)},p(n,s){n[23]?t?t.p(n,s):(t=Ar(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&w(e),t&&t.d(n)}}}function yd(l){let e;return{c(){e=S("🚀 Deploy Service")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Cd(l){let e;return{c(){e=S("Deploying...")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Sd(l){let e;function t(i,o){return i[4]?Cd:yd}let n=t(l),s=n(l);return{c(){s.c(),e=je()},m(i,o){s.m(i,o),y(i,e,o)},p(i,o){n!==(n=t(i))&&(s.d(1),s=n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&w(e),s.d(i)}}}function qd(l){let e,t,n,s,i,o,c,r,u,f,v,_,h,m,g,C,k,$,q,D,T,E,M,L,O,A,z,I,Y,J,H,F=me(l[7]),R=[];for(let V=0;V<F.length;V+=1)R[V]=jr(Rr(l,F,V));let W=me(l[8]),j=[];for(let V=0;V<W.length;V+=1)j[V]=Or(Nr(l,W,V));let U=me(l[6]),le=[];for(let V=0;V<U.length;V+=1)le[V]=Fr(Lr(l,U,V));return I=new Le({props:{variant:"primary",type:"submit",disabled:l[4],$$slots:{default:[Sd]},$$scope:{ctx:l}}}),{c(){e=d("p"),e.textContent="Deploy stateful services with automatic configuration, persistence, and service mesh.",t=b(),n=d("form"),s=d("div"),i=d("label"),i.textContent="Service Type *",o=b(),c=d("select"),r=d("option"),r.textContent="Select service...";for(let V=0;V<R.length;V+=1)R[V].c();u=b(),f=d("div"),v=d("label"),v.textContent="Project *",_=b(),h=d("input"),m=b(),g=d("div"),C=d("label"),C.textContent="Environment",k=b(),$=d("select");for(let V=0;V<j.length;V+=1)j[V].c();q=b(),D=d("div"),T=d("label"),T.textContent="Target Server *",E=b(),M=d("select"),L=d("option"),L.textContent="Select server...";for(let V=0;V<le.length;V+=1)le[V].c();O=b(),A=d("small"),A.textContent="Servers from Infrastructure tab",z=b(),Z(I.$$.fragment),p(e,"class","description svelte-2vlpp7"),p(i,"for","svc-type"),p(i,"class","svelte-2vlpp7"),r.__value="",x(r,r.__value),p(c,"id","svc-type"),c.required=!0,p(c,"class","svelte-2vlpp7"),l[0]===void 0&&We(()=>l[11].call(c)),p(s,"class","form-group svelte-2vlpp7"),p(v,"for","svc-project"),p(v,"class","svelte-2vlpp7"),p(h,"id","svc-project"),p(h,"type","text"),p(h,"placeholder","myapp"),h.required=!0,p(h,"class","svelte-2vlpp7"),p(f,"class","form-group svelte-2vlpp7"),p(C,"for","svc-env"),p(C,"class","svelte-2vlpp7"),p($,"id","svc-env"),p($,"class","svelte-2vlpp7"),l[2]===void 0&&We(()=>l[13].call($)),p(g,"class","form-group svelte-2vlpp7"),p(T,"for","svc-server"),p(T,"class","svelte-2vlpp7"),L.__value="",x(L,L.__value),p(M,"id","svc-server"),M.required=!0,p(M,"class","svelte-2vlpp7"),l[3]===void 0&&We(()=>l[14].call(M)),p(A,"class","svelte-2vlpp7"),p(D,"class","form-group svelte-2vlpp7")},m(V,ie){y(V,e,ie),y(V,t,ie),y(V,n,ie),a(n,s),a(s,i),a(s,o),a(s,c),a(c,r);for(let ee=0;ee<R.length;ee+=1)R[ee]&&R[ee].m(c,null);Ne(c,l[0],!0),a(n,u),a(n,f),a(f,v),a(f,_),a(f,h),x(h,l[1]),a(n,m),a(n,g),a(g,C),a(g,k),a(g,$);for(let ee=0;ee<j.length;ee+=1)j[ee]&&j[ee].m($,null);Ne($,l[2],!0),a(n,q),a(n,D),a(D,T),a(D,E),a(D,M),a(M,L);for(let ee=0;ee<le.length;ee+=1)le[ee]&&le[ee].m(M,null);Ne(M,l[3],!0),a(D,O),a(D,A),a(n,z),K(I,n,null),Y=!0,J||(H=[te(c,"change",l[11]),te(h,"input",l[12]),te($,"change",l[13]),te(M,"change",l[14]),te(n,"submit",l[9])],J=!0)},p(V,ie){if(ie[0]&128){F=me(V[7]);let re;for(re=0;re<F.length;re+=1){const pe=Rr(V,F,re);R[re]?R[re].p(pe,ie):(R[re]=jr(pe),R[re].c(),R[re].m(c,null))}for(;re<R.length;re+=1)R[re].d(1);R.length=F.length}if(ie[0]&129&&Ne(c,V[0]),ie[0]&2&&h.value!==V[1]&&x(h,V[1]),ie[0]&256){W=me(V[8]);let re;for(re=0;re<W.length;re+=1){const pe=Nr(V,W,re);j[re]?j[re].p(pe,ie):(j[re]=Or(pe),j[re].c(),j[re].m($,null))}for(;re<j.length;re+=1)j[re].d(1);j.length=W.length}if(ie[0]&260&&Ne($,V[2]),ie[0]&64){U=me(V[6]);let re;for(re=0;re<U.length;re+=1){const pe=Lr(V,U,re);le[re]?le[re].p(pe,ie):(le[re]=Fr(pe),le[re].c(),le[re].m(M,null))}for(;re<le.length;re+=1)le[re].d(1);le.length=U.length}ie[0]&72&&Ne(M,V[3]);const ee={};ie[0]&16&&(ee.disabled=V[4]),ie[0]&16|ie[1]&2&&(ee.$$scope={dirty:ie,ctx:V}),I.$set(ee)},i(V){Y||(P(I.$$.fragment,V),Y=!0)},o(V){N(I.$$.fragment,V),Y=!1},d(V){V&&(w(e),w(t),w(n)),Re(R,V),Re(j,V),Re(le,V),Q(I),J=!1,He(H)}}}function Dd(l){let e;return{c(){e=d("div"),e.innerHTML='<div class="empty-icon svelte-2vlpp7">🗄️</div> <div>Deploy a service to see connection details</div>',p(e,"class","empty-result svelte-2vlpp7")},m(t,n){y(t,e,n)},p:ce,d(t){t&&w(e)}}}function Td(l){let e,t,n,s,i,o=l[5].service_type+"",c,r,u,f,v,_,h,m,g=(l[5].host||"localhost")+"",C,k,$,q,D,T,E=l[5].port+"",M,L,O,A,z,I,Y,J,H,F=l[5].database&&zr(l),R=l[5].username&&Br(l),W=l[5].password&&Ir(l),j=l[5].connection_url&&Ur(l);return{c(){e=d("div"),t=d("div"),n=d("span"),n.textContent="✅",s=b(),i=d("span"),c=S(o),r=S(" deployed"),u=b(),f=d("div"),v=d("div"),_=d("span"),_.textContent="Host:",h=b(),m=d("code"),C=S(g),k=b(),$=d("div"),q=d("span"),q.textContent="Port:",D=b(),T=d("code"),M=S(E),L=b(),F&&F.c(),O=b(),R&&R.c(),A=b(),W&&W.c(),z=b(),j&&j.c(),I=b(),Y=d("small"),Y.textContent="Click any value to copy",p(n,"class","result-icon svelte-2vlpp7"),p(i,"class","result-title svelte-2vlpp7"),p(t,"class","result-header svelte-2vlpp7"),p(_,"class","label svelte-2vlpp7"),p(m,"class","value clickable svelte-2vlpp7"),p(v,"class","info-row svelte-2vlpp7"),p(q,"class","label svelte-2vlpp7"),p(T,"class","value clickable svelte-2vlpp7"),p($,"class","info-row svelte-2vlpp7"),p(f,"class","connection-info svelte-2vlpp7"),p(Y,"class","copy-hint svelte-2vlpp7"),p(e,"class","result-content svelte-2vlpp7")},m(U,le){y(U,e,le),a(e,t),a(t,n),a(t,s),a(t,i),a(i,c),a(i,r),a(e,u),a(e,f),a(f,v),a(v,_),a(v,h),a(v,m),a(m,C),a(f,k),a(f,$),a($,q),a($,D),a($,T),a(T,M),a(f,L),F&&F.m(f,null),a(f,O),R&&R.m(f,null),a(f,A),W&&W.m(f,null),a(f,z),j&&j.m(f,null),a(e,I),a(e,Y),J||(H=[te(m,"click",l[15]),te(T,"click",l[16])],J=!0)},p(U,le){le[0]&32&&o!==(o=U[5].service_type+"")&&B(c,o),le[0]&32&&g!==(g=(U[5].host||"localhost")+"")&&B(C,g),le[0]&32&&E!==(E=U[5].port+"")&&B(M,E),U[5].database?F?F.p(U,le):(F=zr(U),F.c(),F.m(f,O)):F&&(F.d(1),F=null),U[5].username?R?R.p(U,le):(R=Br(U),R.c(),R.m(f,A)):R&&(R.d(1),R=null),U[5].password?W?W.p(U,le):(W=Ir(U),W.c(),W.m(f,z)):W&&(W.d(1),W=null),U[5].connection_url?j?j.p(U,le):(j=Ur(U),j.c(),j.m(f,null)):j&&(j.d(1),j=null)},d(U){U&&w(e),F&&F.d(),R&&R.d(),W&&W.d(),j&&j.d(),J=!1,He(H)}}}function zr(l){let e,t,n,s,i=l[5].database+"",o,c,r;return{c(){e=d("div"),t=d("span"),t.textContent="Database:",n=b(),s=d("code"),o=S(i),p(t,"class","label svelte-2vlpp7"),p(s,"class","value clickable svelte-2vlpp7"),p(e,"class","info-row svelte-2vlpp7")},m(u,f){y(u,e,f),a(e,t),a(e,n),a(e,s),a(s,o),c||(r=te(s,"click",l[17]),c=!0)},p(u,f){f[0]&32&&i!==(i=u[5].database+"")&&B(o,i)},d(u){u&&w(e),c=!1,r()}}}function Br(l){let e,t,n,s,i=l[5].username+"",o,c,r;return{c(){e=d("div"),t=d("span"),t.textContent="Username:",n=b(),s=d("code"),o=S(i),p(t,"class","label svelte-2vlpp7"),p(s,"class","value clickable svelte-2vlpp7"),p(e,"class","info-row svelte-2vlpp7")},m(u,f){y(u,e,f),a(e,t),a(e,n),a(e,s),a(s,o),c||(r=te(s,"click",l[18]),c=!0)},p(u,f){f[0]&32&&i!==(i=u[5].username+"")&&B(o,i)},d(u){u&&w(e),c=!1,r()}}}function Ir(l){let e,t,n,s,i=l[5].password+"",o,c,r;return{c(){e=d("div"),t=d("span"),t.textContent="Password:",n=b(),s=d("code"),o=S(i),p(t,"class","label svelte-2vlpp7"),p(s,"class","value clickable svelte-2vlpp7"),p(e,"class","info-row svelte-2vlpp7")},m(u,f){y(u,e,f),a(e,t),a(e,n),a(e,s),a(s,o),c||(r=te(s,"click",l[19]),c=!0)},p(u,f){f[0]&32&&i!==(i=u[5].password+"")&&B(o,i)},d(u){u&&w(e),c=!1,r()}}}function Ur(l){let e,t,n,s,i=l[5].connection_url+"",o,c,r;return{c(){e=d("div"),t=d("span"),t.textContent="Connection URL:",n=b(),s=d("code"),o=S(i),p(t,"class","label svelte-2vlpp7"),p(s,"class","value url clickable svelte-2vlpp7"),p(e,"class","info-row full-width svelte-2vlpp7")},m(u,f){y(u,e,f),a(e,t),a(e,n),a(e,s),a(s,o),c||(r=te(s,"click",l[20]),c=!0)},p(u,f){f[0]&32&&i!==(i=u[5].connection_url+"")&&B(o,i)},d(u){u&&w(e),c=!1,r()}}}function Pd(l){let e;function t(i,o){return i[5]?Td:Dd}let n=t(l),s=n(l);return{c(){s.c(),e=je()},m(i,o){s.m(i,o),y(i,e,o)},p(i,o){n===(n=t(i))&&s?s.p(i,o):(s.d(1),s=n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&w(e),s.d(i)}}}function Ed(l){let e;return{c(){e=d("div"),e.innerHTML='<div class="feature svelte-2vlpp7"><strong class="svelte-2vlpp7">🔐 Auto Credentials</strong> <p class="svelte-2vlpp7">Deterministic passwords generated from project/env. Same inputs = same password.</p></div> <div class="feature svelte-2vlpp7"><strong class="svelte-2vlpp7">💾 Persistent Storage</strong> <p class="svelte-2vlpp7">Data volumes mounted at /data. Survives container restarts and redeploys.</p></div> <div class="feature svelte-2vlpp7"><strong class="svelte-2vlpp7">🔀 Service Mesh</strong> <p class="svelte-2vlpp7">Nginx proxy on internal ports. Apps connect to localhost:PORT.</p></div> <div class="feature svelte-2vlpp7"><strong class="svelte-2vlpp7">🔧 Auto-Inject</strong> <p class="svelte-2vlpp7">Enable &quot;Auto-inject&quot; in Deploy tab to get DATABASE_URL automatically.</p></div>',p(e,"class","features-grid svelte-2vlpp7")},m(t,n){y(t,e,n)},p:ce,d(t){t&&w(e)}}}function Md(l){let e,t,n,s,i,o,c,r;return n=new ze({props:{title:"🗄️ Deploy Database/Cache",$$slots:{default:[qd]},$$scope:{ctx:l}}}),i=new ze({props:{title:"📋 Deployment Result",$$slots:{default:[Pd]},$$scope:{ctx:l}}}),c=new ze({props:{title:"ℹ️ How It Works",$$slots:{default:[Ed]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),Z(n.$$.fragment),s=b(),Z(i.$$.fragment),o=b(),Z(c.$$.fragment),p(t,"class","services-grid svelte-2vlpp7"),p(e,"class","services-page svelte-2vlpp7")},m(u,f){y(u,e,f),a(e,t),K(n,t,null),a(t,s),K(i,t,null),a(e,o),K(c,e,null),r=!0},p(u,f){const v={};f[0]&95|f[1]&2&&(v.$$scope={dirty:f,ctx:u}),n.$set(v);const _={};f[0]&32|f[1]&2&&(_.$$scope={dirty:f,ctx:u}),i.$set(_);const h={};f[1]&2&&(h.$$scope={dirty:f,ctx:u}),c.$set(h)},i(u){r||(P(n.$$.fragment,u),P(i.$$.fragment,u),P(c.$$.fragment,u),r=!0)},o(u){N(n.$$.fragment,u),N(i.$$.fragment,u),N(c.$$.fragment,u),r=!1},d(u){u&&w(e),Q(n),Q(i),Q(c)}}}function Ld(l,e,t){let n;Ze(l,yl,O=>t(6,n=O));let s="",i="",o="prod",c="",r=!1,u=null;const f=[{value:"postgres",label:"🐘 PostgreSQL",port:5432},{value:"redis",label:"⚡ Redis",port:6379},{value:"mysql",label:"🐬 MySQL",port:3306},{value:"mongo",label:"🍃 MongoDB",port:27017}],v=["prod","staging","dev"];fl(()=>{_()});async function _(){try{const O=await Ae("GET","/infra/servers");yl.set(O.servers||O||[])}catch(O){console.error("Failed to load servers:",O)}}async function h(O){if(O.preventDefault(),!s||!i||!c){ge.error("Please fill in all required fields");return}t(4,r=!0),t(5,u=null);try{ge.error("Service deployment not yet implemented. Use Deploy tab instead.");return}catch(A){ge.error("Deployment failed: "+A.message)}finally{t(4,r=!1)}}function m(O){navigator.clipboard.writeText(O),ge.success("Copied to clipboard")}function g(){s=Qe(this),t(0,s),t(7,f)}function C(){i=this.value,t(1,i)}function k(){o=Qe(this),t(2,o),t(8,v)}function $(){c=Qe(this),t(3,c)}return[s,i,o,c,r,u,n,f,v,h,m,g,C,k,$,()=>m(u.host||"localhost"),()=>m(String(u.port)),()=>m(u.database),()=>m(u.username),()=>m(u.password),()=>m(u.connection_url)]}class Nd extends et{constructor(e){super(),xe(this,e,Ld,Md,Xe,{},null,[-1,-1])}}const{Boolean:Rd}=pa;function Hr(l,e,t){const n=l.slice();return n[32]=e[t],n}function jd(l){let e,t,n,s,i,o,c,r,u,f;return{c(){e=d("div"),t=d("label"),t.textContent="Theme",n=b(),s=d("select"),i=d("option"),i.textContent="🌙 Dark (Space)",o=d("option"),o.textContent="☀️ Light",c=b(),r=d("p"),r.textContent="Theme preference is saved to your browser.",p(t,"for","theme-select"),p(t,"class","svelte-16vnl3x"),i.__value="dark",x(i,i.__value),o.__value="light",x(o,o.__value),p(s,"id","theme-select"),p(s,"class","svelte-16vnl3x"),l[14]===void 0&&We(()=>l[21].call(s)),p(e,"class","form-group svelte-16vnl3x"),p(r,"class","hint svelte-16vnl3x")},m(v,_){y(v,e,_),a(e,t),a(e,n),a(e,s),a(s,i),a(s,o),Ne(s,l[14],!0),y(v,c,_),y(v,r,_),u||(f=[te(s,"change",l[21]),te(s,"change",l[22])],u=!0)},p(v,_){_[0]&16384&&Ne(s,v[14])},d(v){v&&(w(e),w(c),w(r)),u=!1,He(f)}}}function Od(l){let e;return{c(){e=S("Save Token")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Ad(l){let e,t;return e=new Be({props:{variant:"danger",$$slots:{default:[Bd]},$$scope:{ctx:l}}}),{c(){Z(e.$$.fragment)},m(n,s){K(e,n,s),t=!0},p(n,s){const i={};s[1]&16&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){Q(e,n)}}}function Fd(l){let e,t;return e=new Be({props:{variant:"warning",$$slots:{default:[Id]},$$scope:{ctx:l}}}),{c(){Z(e.$$.fragment)},m(n,s){K(e,n,s),t=!0},p(n,s){const i={};s[1]&16&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){Q(e,n)}}}function zd(l){let e,t,n,s,i;return e=new Be({props:{variant:"success",$$slots:{default:[Ud]},$$scope:{ctx:l}}}),{c(){Z(e.$$.fragment),t=b(),n=d("span"),s=S(l[0]),p(n,"class","token-preview svelte-16vnl3x")},m(o,c){K(e,o,c),y(o,t,c),y(o,n,c),a(n,s),i=!0},p(o,c){const r={};c[1]&16&&(r.$$scope={dirty:c,ctx:o}),e.$set(r),(!i||c[0]&1)&&B(s,o[0])},i(o){i||(P(e.$$.fragment,o),i=!0)},o(o){N(e.$$.fragment,o),i=!1},d(o){o&&(w(t),w(n)),Q(e,o)}}}function Bd(l){let e;return{c(){e=S("Invalid token")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Id(l){let e;return{c(){e=S("Not configured")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Ud(l){let e;return{c(){e=S("✓ Connected")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Hd(l){let e,t,n,s,i,o,c,r,u,f,v,_,h,m,g;r=new Le({props:{variant:"primary",type:"submit",$$slots:{default:[Od]},$$scope:{ctx:l}}});const C=[zd,Fd,Ad],k=[];function $(q,D){var T,E;return(T=q[1])!=null&&T.valid?0:(E=q[1])!=null&&E.missing?1:2}return v=$(l),_=k[v]=C[v](l),{c(){e=d("p"),e.innerHTML=`Get your token from 
      <a href="https://cloud.digitalocean.com/account/api/tokens" target="_blank" class="svelte-16vnl3x">DO Control Panel</a>.`,t=b(),n=d("div"),n.innerHTML='<div class="info-title svelte-16vnl3x">🔒 Browser Storage</div> <div class="info-text svelte-16vnl3x">Token stored in browser cookie. Passed with each API request. Never stored on server.</div>',s=b(),i=d("form"),o=d("div"),o.innerHTML='<label for="do-token" class="svelte-16vnl3x">DigitalOcean API Token</label> <input id="do-token" type="password" placeholder="dop_v1_xxxxx" class="svelte-16vnl3x"/>',c=b(),Z(r.$$.fragment),u=b(),f=d("div"),_.c(),p(e,"class","description svelte-16vnl3x"),p(n,"class","info-box svelte-16vnl3x"),p(o,"class","form-group svelte-16vnl3x"),p(f,"class","token-status svelte-16vnl3x")},m(q,D){y(q,e,D),y(q,t,D),y(q,n,D),y(q,s,D),y(q,i,D),a(i,o),a(i,c),K(r,i,null),y(q,u,D),y(q,f,D),k[v].m(f,null),h=!0,m||(g=te(i,"submit",l[15]),m=!0)},p(q,D){const T={};D[1]&16&&(T.$$scope={dirty:D,ctx:q}),r.$set(T);let E=v;v=$(q),v===E?k[v].p(q,D):(ke(),N(k[E],1,1,()=>{k[E]=null}),we(),_=k[v],_?_.p(q,D):(_=k[v]=C[v](q),_.c()),P(_,1),_.m(f,null))},i(q){h||(P(r.$$.fragment,q),P(_),h=!0)},o(q){N(r.$$.fragment,q),N(_),h=!1},d(q){q&&(w(e),w(t),w(n),w(s),w(i),w(u),w(f)),Q(r),k[v].d(),m=!1,g()}}}function Gd(l){let e;return{c(){e=S("Save Token")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Wd(l){let e,t;return e=new Be({props:{variant:"warning",$$slots:{default:[Yd]},$$scope:{ctx:l}}}),{c(){Z(e.$$.fragment)},m(n,s){K(e,n,s),t=!0},p(n,s){const i={};s[1]&16&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){Q(e,n)}}}function Jd(l){let e,t,n,s,i;return e=new Be({props:{variant:"success",$$slots:{default:[Vd]},$$scope:{ctx:l}}}),{c(){Z(e.$$.fragment),t=b(),n=d("span"),s=S(l[2]),p(n,"class","token-preview svelte-16vnl3x")},m(o,c){K(e,o,c),y(o,t,c),y(o,n,c),a(n,s),i=!0},p(o,c){const r={};c[1]&16&&(r.$$scope={dirty:c,ctx:o}),e.$set(r),(!i||c[0]&4)&&B(s,o[2])},i(o){i||(P(e.$$.fragment,o),i=!0)},o(o){N(e.$$.fragment,o),i=!1},d(o){o&&(w(t),w(n)),Q(e,o)}}}function Yd(l){let e;return{c(){e=S("Not configured")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Vd(l){let e;return{c(){e=S("✓ Connected")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Kd(l){let e,t,n,s,i,o,c,r,u,f,v,_,h;o=new Le({props:{variant:"primary",type:"submit",$$slots:{default:[Gd]},$$scope:{ctx:l}}});const m=[Jd,Wd],g=[];function C(k,$){var q;return(q=k[3])!=null&&q.valid?0:1}return u=C(l),f=g[u]=m[u](l),{c(){e=d("p"),e.innerHTML=`Get your token from 
      <a href="https://dash.cloudflare.com/profile/api-tokens" target="_blank" class="svelte-16vnl3x">Cloudflare Dashboard</a>.`,t=b(),n=d("form"),s=d("div"),s.innerHTML='<label for="cf-token" class="svelte-16vnl3x">Cloudflare API Token</label> <input id="cf-token" type="password" placeholder="xxxxx" class="svelte-16vnl3x"/>',i=b(),Z(o.$$.fragment),c=b(),r=d("div"),f.c(),p(e,"class","description svelte-16vnl3x"),p(s,"class","form-group svelte-16vnl3x"),p(r,"class","token-status svelte-16vnl3x")},m(k,$){y(k,e,$),y(k,t,$),y(k,n,$),a(n,s),a(n,i),K(o,n,null),y(k,c,$),y(k,r,$),g[u].m(r,null),v=!0,_||(h=te(n,"submit",l[16]),_=!0)},p(k,$){const q={};$[1]&16&&(q.$$scope={dirty:$,ctx:k}),o.$set(q);let D=u;u=C(k),u===D?g[u].p(k,$):(ke(),N(g[D],1,1,()=>{g[D]=null}),we(),f=g[u],f?f.p(k,$):(f=g[u]=m[u](k),f.c()),P(f,1),f.m(r,null))},i(k){v||(P(o.$$.fragment,k),P(f),v=!0)},o(k){N(o.$$.fragment,k),N(f),v=!1},d(k){k&&(w(e),w(t),w(n),w(c),w(r)),Q(o),g[u].d(),_=!1,h()}}}function Qd(l){let e;return{c(){e=S("Setup Domain")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Gr(l){let e,t=l[7].message+"",n;return{c(){e=d("div"),n=S(t),p(e,"class","result svelte-16vnl3x"),De(e,"success",l[7].success),De(e,"error",!l[7].success)},m(s,i){y(s,e,i),a(e,n)},p(s,i){i[0]&128&&t!==(t=s[7].message+"")&&B(n,t),i[0]&128&&De(e,"success",s[7].success),i[0]&128&&De(e,"error",!s[7].success)},d(s){s&&w(e)}}}function Zd(l){let e,t,n,s,i,o,c,r,u,f,v,_,h,m,g,C,k,$,q,D,T,E,M,L;q=new Le({props:{variant:"primary",type:"submit",$$slots:{default:[Qd]},$$scope:{ctx:l}}});let O=l[7]&&Gr(l);return{c(){e=d("p"),e.textContent='Point a domain to your server. With "Proxied" enabled, HTTPS works automatically.',t=b(),n=d("form"),s=d("div"),i=d("label"),i.textContent="Domain",o=b(),c=d("input"),r=b(),u=d("div"),f=d("label"),f.textContent="Server IP",v=b(),_=d("input"),h=b(),m=d("label"),g=d("input"),C=S(`
        Proxied (Cloudflare handles SSL)`),k=b(),$=d("div"),Z(q.$$.fragment),D=b(),O&&O.c(),T=je(),p(e,"class","description svelte-16vnl3x"),p(i,"for","domain-name"),p(i,"class","svelte-16vnl3x"),p(c,"id","domain-name"),p(c,"type","text"),p(c,"placeholder","api.example.com"),c.required=!0,p(c,"class","svelte-16vnl3x"),p(s,"class","form-group svelte-16vnl3x"),p(f,"for","domain-ip"),p(f,"class","svelte-16vnl3x"),p(_,"id","domain-ip"),p(_,"type","text"),p(_,"placeholder","1.2.3.4"),_.required=!0,p(_,"class","svelte-16vnl3x"),p(u,"class","form-group svelte-16vnl3x"),p(g,"type","checkbox"),p(g,"class","svelte-16vnl3x"),p(m,"class","checkbox-label svelte-16vnl3x"),p($,"class","form-actions svelte-16vnl3x")},m(A,z){y(A,e,z),y(A,t,z),y(A,n,z),a(n,s),a(s,i),a(s,o),a(s,c),x(c,l[4]),a(n,r),a(n,u),a(u,f),a(u,v),a(u,_),x(_,l[5]),a(n,h),a(n,m),a(m,g),g.checked=l[6],a(m,C),a(n,k),a(n,$),K(q,$,null),y(A,D,z),O&&O.m(A,z),y(A,T,z),E=!0,M||(L=[te(c,"input",l[23]),te(_,"input",l[24]),te(g,"change",l[25]),te(n,"submit",l[17])],M=!0)},p(A,z){z[0]&16&&c.value!==A[4]&&x(c,A[4]),z[0]&32&&_.value!==A[5]&&x(_,A[5]),z[0]&64&&(g.checked=A[6]);const I={};z[1]&16&&(I.$$scope={dirty:z,ctx:A}),q.$set(I),A[7]?O?O.p(A,z):(O=Gr(A),O.c(),O.m(T.parentNode,T)):O&&(O.d(1),O=null)},i(A){E||(P(q.$$.fragment,A),E=!0)},o(A){N(q.$$.fragment,A),E=!1},d(A){A&&(w(e),w(t),w(n),w(D),w(T)),Q(q),O&&O.d(A),M=!1,He(L)}}}function Xd(l){let e;return{c(){e=S("Setup DNS Round-Robin")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Wr(l){let e,t=l[11].message+"",n;return{c(){e=d("div"),n=S(t),p(e,"class","result svelte-16vnl3x"),De(e,"success",l[11].success),De(e,"error",!l[11].success)},m(s,i){y(s,e,i),a(e,n)},p(s,i){i[0]&2048&&t!==(t=s[11].message+"")&&B(n,t),i[0]&2048&&De(e,"success",s[11].success),i[0]&2048&&De(e,"error",!s[11].success)},d(s){s&&w(e)}}}function xd(l){let e,t,n,s,i,o,c,r,u,f,v,_,h,m,g,C,k,$,q,D,T,E,M,L;q=new Le({props:{variant:"primary",type:"submit",$$slots:{default:[Xd]},$$scope:{ctx:l}}});let O=l[11]&&Wr(l);return{c(){e=d("p"),e.innerHTML=`Simple load distribution via multiple A records. Cloudflare rotates between IPs at DNS level.
      <strong>FREE</strong>, but no health checks.`,t=b(),n=d("form"),s=d("div"),i=d("label"),i.textContent="Domain",o=b(),c=d("input"),r=b(),u=d("div"),f=d("label"),f.textContent="Server IPs (comma-separated)",v=b(),_=d("input"),h=b(),m=d("label"),g=d("input"),C=S(`
        Proxied (SSL + CDN)`),k=b(),$=d("div"),Z(q.$$.fragment),D=b(),O&&O.c(),T=je(),p(e,"class","description svelte-16vnl3x"),p(i,"for","lb-domain"),p(i,"class","svelte-16vnl3x"),p(c,"id","lb-domain"),p(c,"type","text"),p(c,"placeholder","api.example.com"),c.required=!0,p(c,"class","svelte-16vnl3x"),p(s,"class","form-group svelte-16vnl3x"),p(f,"for","lb-ips"),p(f,"class","svelte-16vnl3x"),p(_,"id","lb-ips"),p(_,"type","text"),p(_,"placeholder","1.2.3.4, 5.6.7.8"),_.required=!0,p(_,"class","svelte-16vnl3x"),p(u,"class","form-group svelte-16vnl3x"),p(g,"type","checkbox"),p(g,"class","svelte-16vnl3x"),p(m,"class","checkbox-label svelte-16vnl3x"),p($,"class","form-actions svelte-16vnl3x")},m(A,z){y(A,e,z),y(A,t,z),y(A,n,z),a(n,s),a(s,i),a(s,o),a(s,c),x(c,l[8]),a(n,r),a(n,u),a(u,f),a(u,v),a(u,_),x(_,l[9]),a(n,h),a(n,m),a(m,g),g.checked=l[10],a(m,C),a(n,k),a(n,$),K(q,$,null),y(A,D,z),O&&O.m(A,z),y(A,T,z),E=!0,M||(L=[te(c,"input",l[26]),te(_,"input",l[27]),te(g,"change",l[28]),te(n,"submit",l[18])],M=!0)},p(A,z){z[0]&256&&c.value!==A[8]&&x(c,A[8]),z[0]&512&&_.value!==A[9]&&x(_,A[9]),z[0]&1024&&(g.checked=A[10]);const I={};z[1]&16&&(I.$$scope={dirty:z,ctx:A}),q.$set(I),A[11]?O?O.p(A,z):(O=Wr(A),O.c(),O.m(T.parentNode,T)):O&&(O.d(1),O=null)},i(A){E||(P(q.$$.fragment,A),E=!0)},o(A){N(q.$$.fragment,A),E=!1},d(A){A&&(w(e),w(t),w(n),w(D),w(T)),Q(q),O&&O.d(A),M=!1,He(L)}}}function e_(l){let e,t,n=me(l[12]),s=[];for(let o=0;o<n.length;o+=1)s[o]=Jr(Hr(l,n,o));const i=o=>N(s[o],1,1,()=>{s[o]=null});return{c(){e=d("div");for(let o=0;o<s.length;o+=1)s[o].c();p(e,"class","task-list svelte-16vnl3x")},m(o,c){y(o,e,c);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null);t=!0},p(o,c){if(c[0]&1052672){n=me(o[12]);let r;for(r=0;r<n.length;r+=1){const u=Hr(o,n,r);s[r]?(s[r].p(u,c),P(s[r],1)):(s[r]=Jr(u),s[r].c(),P(s[r],1),s[r].m(e,null))}for(ke(),r=n.length;r<s.length;r+=1)i(r);we()}},i(o){if(!t){for(let c=0;c<n.length;c+=1)P(s[c]);t=!0}},o(o){s=s.filter(Rd);for(let c=0;c<s.length;c+=1)N(s[c]);t=!1},d(o){o&&w(e),Re(s,o)}}}function t_(l){let e;return{c(){e=d("div"),e.textContent="No scheduled tasks",p(e,"class","empty-state svelte-16vnl3x")},m(t,n){y(t,e,n)},p:ce,i:ce,o:ce,d(t){t&&w(e)}}}function l_(l){let e;return{c(){e=d("div"),e.textContent="Loading tasks...",p(e,"class","empty-state svelte-16vnl3x")},m(t,n){y(t,e,n)},p:ce,i:ce,o:ce,d(t){t&&w(e)}}}function n_(l){let e=l[32].type+"",t;return{c(){t=S(e)},m(n,s){y(n,t,s)},p(n,s){s[0]&4096&&e!==(e=n[32].type+"")&&B(t,e)},d(n){n&&w(t)}}}function s_(l){let e;return{c(){e=S("🗑️")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function Jr(l){let e,t,n,s=l[32].name+"",i,o,c,r,u,f,v,_=l[32].interval+"",h,m,g,C,k,$;r=new Be({props:{variant:"info",$$slots:{default:[n_]},$$scope:{ctx:l}}});function q(){return l[29](l[32])}return C=new Le({props:{variant:"danger",size:"sm",$$slots:{default:[s_]},$$scope:{ctx:l}}}),C.$on("click",q),{c(){e=d("div"),t=d("div"),n=d("div"),i=S(s),o=b(),c=d("div"),Z(r.$$.fragment),u=b(),f=d("span"),v=S("Every "),h=S(_),m=S(" min"),g=b(),Z(C.$$.fragment),k=b(),p(n,"class","task-name svelte-16vnl3x"),p(c,"class","task-meta svelte-16vnl3x"),p(t,"class","task-info"),p(e,"class","task-item svelte-16vnl3x")},m(D,T){y(D,e,T),a(e,t),a(t,n),a(n,i),a(t,o),a(t,c),K(r,c,null),a(c,u),a(c,f),a(f,v),a(f,h),a(f,m),a(e,g),K(C,e,null),a(e,k),$=!0},p(D,T){l=D,(!$||T[0]&4096)&&s!==(s=l[32].name+"")&&B(i,s);const E={};T[0]&4096|T[1]&16&&(E.$$scope={dirty:T,ctx:l}),r.$set(E),(!$||T[0]&4096)&&_!==(_=l[32].interval+"")&&B(h,_);const M={};T[1]&16&&(M.$$scope={dirty:T,ctx:l}),C.$set(M)},i(D){$||(P(r.$$.fragment,D),P(C.$$.fragment,D),$=!0)},o(D){N(r.$$.fragment,D),N(C.$$.fragment,D),$=!1},d(D){D&&w(e),Q(r),Q(C)}}}function o_(l){let e,t,n,s,i,o;const c=[l_,t_,e_],r=[];function u(f,v){return f[13]?0:f[12].length===0?1:2}return n=u(l),s=r[n]=c[n](l),{c(){e=d("p"),e.textContent="Schedule recurring tasks like health checks, auto-restart, and backups.",t=b(),s.c(),i=je(),p(e,"class","description svelte-16vnl3x")},m(f,v){y(f,e,v),y(f,t,v),r[n].m(f,v),y(f,i,v),o=!0},p(f,v){let _=n;n=u(f),n===_?r[n].p(f,v):(ke(),N(r[_],1,1,()=>{r[_]=null}),we(),s=r[n],s?s.p(f,v):(s=r[n]=c[n](f),s.c()),P(s,1),s.m(i.parentNode,i))},i(f){o||(P(s),o=!0)},o(f){N(s),o=!1},d(f){f&&(w(e),w(t),w(i)),r[n].d(f)}}}function i_(l){let e;return{c(){e=S("↻ Refresh")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function r_(l){let e,t;return e=new Le({props:{slot:"header",variant:"ghost",size:"sm",$$slots:{default:[i_]},$$scope:{ctx:l}}}),e.$on("click",l[19]),{c(){Z(e.$$.fragment)},m(n,s){K(e,n,s),t=!0},p(n,s){const i={};s[1]&16&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){Q(e,n)}}}function a_(l){let e,t,n,s,i,o,c,r,u,f,v,_,h;return t=new ze({props:{title:"🎨 Appearance",$$slots:{default:[jd]},$$scope:{ctx:l}}}),s=new ze({props:{title:"⚙️ DigitalOcean Credentials",$$slots:{default:[Hd]},$$scope:{ctx:l}}}),o=new ze({props:{title:"☁️ Cloudflare Credentials",$$slots:{default:[Kd]},$$scope:{ctx:l}}}),r=new ze({props:{title:"🌐 Domain Setup",$$slots:{default:[Zd]},$$scope:{ctx:l}}}),f=new ze({props:{title:"🌐 DNS Round-Robin (Cloudflare)",$$slots:{default:[xd]},$$scope:{ctx:l}}}),_=new ze({props:{title:"⏰ Task Scheduler",$$slots:{header:[r_],default:[o_]},$$scope:{ctx:l}}}),{c(){e=d("div"),Z(t.$$.fragment),n=b(),Z(s.$$.fragment),i=b(),Z(o.$$.fragment),c=b(),Z(r.$$.fragment),u=b(),Z(f.$$.fragment),v=b(),Z(_.$$.fragment),p(e,"class","settings-page svelte-16vnl3x")},m(m,g){y(m,e,g),K(t,e,null),a(e,n),K(s,e,null),a(e,i),K(o,e,null),a(e,c),K(r,e,null),a(e,u),K(f,e,null),a(e,v),K(_,e,null),h=!0},p(m,g){const C={};g[0]&16384|g[1]&16&&(C.$$scope={dirty:g,ctx:m}),t.$set(C);const k={};g[0]&3|g[1]&16&&(k.$$scope={dirty:g,ctx:m}),s.$set(k);const $={};g[0]&12|g[1]&16&&($.$$scope={dirty:g,ctx:m}),o.$set($);const q={};g[0]&240|g[1]&16&&(q.$$scope={dirty:g,ctx:m}),r.$set(q);const D={};g[0]&3840|g[1]&16&&(D.$$scope={dirty:g,ctx:m}),f.$set(D);const T={};g[0]&12288|g[1]&16&&(T.$$scope={dirty:g,ctx:m}),_.$set(T)},i(m){h||(P(t.$$.fragment,m),P(s.$$.fragment,m),P(o.$$.fragment,m),P(r.$$.fragment,m),P(f.$$.fragment,m),P(_.$$.fragment,m),h=!0)},o(m){N(t.$$.fragment,m),N(s.$$.fragment,m),N(o.$$.fragment,m),N(r.$$.fragment,m),N(f.$$.fragment,m),N(_.$$.fragment,m),h=!1},d(m){m&&w(e),Q(t),Q(s),Q(o),Q(r),Q(f),Q(_)}}}function c_(l,e,t){let n;Ze(l,Kn,j=>t(14,n=j));let s="",i=null,o="",c=null,r="",u="",f=!0,v=null,_="",h="",m=!0,g=null,C=[],k=!1;fl(()=>{$(),q(),L()});async function $(){const j=ul();if(j){t(0,s=j.substring(0,10)+"...");try{await Ae("GET","/infra/snapshots"),t(1,i={valid:!0})}catch{t(1,i={valid:!1})}}else t(1,i={valid:!1,missing:!0})}async function q(){const j=Xn();j?(t(2,o=j.substring(0,10)+"..."),t(3,c={valid:!0})):t(3,c={valid:!1,missing:!0})}async function D(j){j.preventDefault();const U=j.target.querySelector("input"),le=U.value;if(!le){ge.error("Token is required");return}xa(le),U.value="",ge.success("DigitalOcean token saved"),await $()}async function T(j){j.preventDefault();const U=j.target.querySelector("input"),le=U.value;if(!le){ge.error("Token is required");return}ec(le),U.value="",ge.success("Cloudflare token saved"),await q()}async function E(j){j.preventDefault();try{const U=await Ae("POST","/infra/cloudflare/domain",{domain:r,ip:u,proxied:f});t(7,v={success:!0,message:"Domain configured successfully"}),ge.success("Domain setup complete")}catch(U){t(7,v={success:!1,message:U.message}),ge.error(U.message)}}async function M(j){j.preventDefault();try{const U=h.split(",").map(V=>V.trim()).filter(Boolean),le=await Ae("POST","/infra/cloudflare/lb",{domain:_,server_ips:U,proxied:m});t(11,g={success:!0,message:`Created load balancer with ${U.length} servers`}),ge.success("Load balancer configured")}catch(U){t(11,g={success:!1,message:U.message}),ge.error(U.message)}}async function L(){t(13,k=!0);try{const j=await Ae("GET","/infra/scheduler/tasks");t(12,C=j.tasks||j||[])}catch{t(12,C=[])}finally{t(13,k=!1)}}async function O(j){if(confirm("Delete this scheduled task?"))try{await Ae("DELETE",`/infra/scheduler/tasks/${j}`),ge.success("Task deleted"),await L()}catch(U){ge.error(U.message)}}function A(){n=Qe(this),Kn.set(n)}const z=()=>Kn.set(n);function I(){r=this.value,t(4,r)}function Y(){u=this.value,t(5,u)}function J(){f=this.checked,t(6,f)}function H(){_=this.value,t(8,_)}function F(){h=this.value,t(9,h)}function R(){m=this.checked,t(10,m)}return[s,i,o,c,r,u,f,v,_,h,m,g,C,k,n,D,T,E,M,L,O,A,z,I,Y,J,H,F,R,j=>O(j.id)]}class u_ extends et{constructor(e){super(),xe(this,e,c_,a_,Xe,{},null,[-1,-1])}}function Yr(l,e,t){const n=l.slice();n[21]=e[t];const s=n[1].filter(function(...r){return l[17](n[21],...r)});n[22]=s;const i=n[21].domain;n[23]=i;const o=n[22].length>1;return n[24]=o,n}function Vr(l,e,t){const n=l.slice();return n[27]=e[t],n}function Kr(l,e,t){const n=l.slice();return n[21]=e[t],n}function Qr(l,e,t){const n=l.slice();return n[32]=e[t],n}function f_(l){let e,t,n,s,i,o,c,r,u,f,v,_,h,m,g,C,k,$,q=l[1].length+"",D,T,E,M,L,O,A,z,I=l[7].length+"",Y,J,H,F;const R=[m_,v_],W=[];function j(U,le){return U[11]?1:0}return _=j(l),h=W[_]=R[_](l),{c(){e=d("div"),t=d("div"),n=d("div"),n.innerHTML='<span class="summary-icon svelte-odhywp">🔀</span> <span>Nginx Sidecar</span>',s=b(),i=d("div"),o=S(l[3]),c=S("/"),r=S(l[2]),u=b(),f=d("div"),f.textContent="servers with nginx",v=b(),h.c(),m=b(),g=d("div"),C=d("div"),C.innerHTML='<span class="summary-icon svelte-odhywp">🤖</span> <span>Node Agents</span>',k=b(),$=d("div"),D=S(q),T=b(),E=d("div"),E.textContent="servers monitored",M=b(),L=d("div"),O=d("div"),O.innerHTML='<span class="summary-icon svelte-odhywp">📦</span> <span>Services</span>',A=b(),z=d("div"),Y=S(I),J=b(),H=d("div"),H.textContent="deployed services",p(n,"class","summary-header svelte-odhywp"),p(i,"class","summary-value svelte-odhywp"),p(f,"class","summary-label svelte-odhywp"),p(t,"class","summary-card svelte-odhywp"),De(t,"ok",l[11]),De(t,"warn",!l[11]),p(C,"class","summary-header svelte-odhywp"),p($,"class","summary-value svelte-odhywp"),p(E,"class","summary-label svelte-odhywp"),p(g,"class","summary-card info svelte-odhywp"),p(O,"class","summary-header svelte-odhywp"),p(z,"class","summary-value svelte-odhywp"),p(H,"class","summary-label svelte-odhywp"),p(L,"class","summary-card info svelte-odhywp"),p(e,"class","summary-grid svelte-odhywp")},m(U,le){y(U,e,le),a(e,t),a(t,n),a(t,s),a(t,i),a(i,o),a(i,c),a(i,r),a(t,u),a(t,f),a(t,v),W[_].m(t,null),a(e,m),a(e,g),a(g,C),a(g,k),a(g,$),a($,D),a(g,T),a(g,E),a(e,M),a(e,L),a(L,O),a(L,A),a(L,z),a(z,Y),a(L,J),a(L,H),F=!0},p(U,le){(!F||le[0]&8)&&B(o,U[3]),(!F||le[0]&4)&&B(r,U[2]);let V=_;_=j(U),_===V?W[_].p(U,le):(ke(),N(W[V],1,1,()=>{W[V]=null}),we(),h=W[_],h?h.p(U,le):(h=W[_]=R[_](U),h.c()),P(h,1),h.m(t,null)),(!F||le[0]&2048)&&De(t,"ok",U[11]),(!F||le[0]&2048)&&De(t,"warn",!U[11]),(!F||le[0]&2)&&q!==(q=U[1].length+"")&&B(D,q),(!F||le[0]&128)&&I!==(I=U[7].length+"")&&B(Y,I)},i(U){F||(P(h),F=!0)},o(U){N(h),F=!1},d(U){U&&w(e),W[_].d()}}}function p_(l){let e;return{c(){e=d("div"),e.innerHTML='<p>No services deployed yet</p> <p class="hint svelte-odhywp">Deploy your first service to see the architecture</p>',p(e,"class","empty-state svelte-odhywp")},m(t,n){y(t,e,n)},p:ce,i:ce,o:ce,d(t){t&&w(e)}}}function d_(l){let e,t,n,s,i,o;return{c(){e=d("div"),t=d("p"),n=S("Failed to load: "),s=S(l[9]),i=b(),o=d("p"),o.textContent="Check your connection and try refreshing",p(o,"class","hint svelte-odhywp"),p(e,"class","empty-state svelte-odhywp")},m(c,r){y(c,e,r),a(e,t),a(t,n),a(t,s),a(e,i),a(e,o)},p(c,r){r[0]&512&&B(s,c[9])},i:ce,o:ce,d(c){c&&w(e)}}}function __(l){let e;return{c(){e=d("div"),e.textContent="Loading architecture...",p(e,"class","empty-state svelte-odhywp")},m(t,n){y(t,e,n)},p:ce,i:ce,o:ce,d(t){t&&w(e)}}}function v_(l){let e;return{c(){e=d("div"),e.textContent="✅ All servers OK",p(e,"class","summary-ok svelte-odhywp")},m(t,n){y(t,e,n)},p:ce,i:ce,o:ce,d(t){t&&w(e)}}}function m_(l){let e,t;return e=new Le({props:{variant:"warning",size:"sm",$$slots:{default:[h_]},$$scope:{ctx:l}}}),e.$on("click",l[13]),{c(){Z(e.$$.fragment)},m(n,s){K(e,n,s),t=!0},p(n,s){const i={};s[0]&12|s[1]&16&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){Q(e,n)}}}function h_(l){let e,t=l[2]-l[3]+"",n,s;return{c(){e=S("🔧 Fix "),n=S(t),s=S(" server(s)")},m(i,o){y(i,e,o),y(i,n,o),y(i,s,o)},p(i,o){o[0]&12&&t!==(t=i[2]-i[3]+"")&&B(n,t)},d(i){i&&(w(e),w(n),w(s))}}}function g_(l){let e,t,n,s;const i=[__,d_,p_,f_],o=[];function c(r,u){return r[6]&&!r[10]?0:r[9]?1:r[7].length===0&&r[1].length===0?2:3}return e=c(l),t=o[e]=i[e](l),{c(){t.c(),n=je()},m(r,u){o[e].m(r,u),y(r,n,u),s=!0},p(r,u){let f=e;e=c(r),e===f?o[e].p(r,u):(ke(),N(o[f],1,1,()=>{o[f]=null}),we(),t=o[e],t?t.p(r,u):(t=o[e]=i[e](r),t.c()),P(t,1),t.m(n.parentNode,n))},i(r){s||(P(t),s=!0)},o(r){N(t),s=!1},d(r){r&&w(n),o[e].d(r)}}}function Zr(l){let e,t=l[32]+"",n,s;return{c(){e=d("option"),n=S(t),e.__value=s=l[32],x(e,e.__value)},m(i,o){y(i,e,o),a(e,n)},p(i,o){o[0]&4096&&t!==(t=i[32]+"")&&B(n,t),o[0]&4096&&s!==(s=i[32])&&(e.__value=s,x(e,e.__value))},d(i){i&&w(e)}}}function Xr(l){let e,t,n=sa(l[8])+"",s;return{c(){e=d("span"),t=S("Updated "),s=S(n),p(e,"class","last-updated svelte-odhywp")},m(i,o){y(i,e,o),a(e,t),a(e,s)},p(i,o){o[0]&256&&n!==(n=sa(i[8])+"")&&B(s,n)},d(i){i&&w(e)}}}function b_(l){let e;return{c(){e=S("↻ Refresh")},m(t,n){y(t,e,n)},d(t){t&&w(e)}}}function $_(l){let e,t,n,s,i,o,c,r,u,f,v,_,h,m,g,C=me(l[12]),k=[];for(let q=0;q<C.length;q+=1)k[q]=Zr(Qr(l,C,q));let $=l[8]&&Xr(l);return _=new Le({props:{variant:"ghost",size:"sm",$$slots:{default:[b_]},$$scope:{ctx:l}}}),_.$on("click",l[0]),{c(){e=d("div"),t=d("select"),n=d("option"),n.textContent="All Projects";for(let q=0;q<k.length;q+=1)k[q].c();s=b(),i=d("select"),o=d("option"),o.textContent="All Envs",c=d("option"),c.textContent="prod",r=d("option"),r.textContent="staging",u=d("option"),u.textContent="dev",f=b(),$&&$.c(),v=b(),Z(_.$$.fragment),n.__value="",x(n,n.__value),p(t,"class","svelte-odhywp"),l[4]===void 0&&We(()=>l[15].call(t)),o.__value="",x(o,o.__value),c.__value="prod",x(c,c.__value),r.__value="staging",x(r,r.__value),u.__value="dev",x(u,u.__value),p(i,"class","svelte-odhywp"),l[5]===void 0&&We(()=>l[16].call(i)),p(e,"slot","header"),p(e,"class","filters svelte-odhywp")},m(q,D){y(q,e,D),a(e,t),a(t,n);for(let T=0;T<k.length;T+=1)k[T]&&k[T].m(t,null);Ne(t,l[4],!0),a(e,s),a(e,i),a(i,o),a(i,c),a(i,r),a(i,u),Ne(i,l[5],!0),a(e,f),$&&$.m(e,null),a(e,v),K(_,e,null),h=!0,m||(g=[te(t,"change",l[15]),te(t,"change",l[14]),te(i,"change",l[16]),te(i,"change",l[14])],m=!0)},p(q,D){if(D[0]&4096){C=me(q[12]);let E;for(E=0;E<C.length;E+=1){const M=Qr(q,C,E);k[E]?k[E].p(M,D):(k[E]=Zr(M),k[E].c(),k[E].m(t,null))}for(;E<k.length;E+=1)k[E].d(1);k.length=C.length}D[0]&4112&&Ne(t,q[4]),D[0]&32&&Ne(i,q[5]),q[8]?$?$.p(q,D):($=Xr(q),$.c(),$.m(e,v)):$&&($.d(1),$=null);const T={};D[1]&16&&(T.$$scope={dirty:D,ctx:q}),_.$set(T)},i(q){h||(P(_.$$.fragment,q),h=!0)},o(q){N(_.$$.fragment,q),h=!1},d(q){q&&w(e),Re(k,q),$&&$.d(),Q(_),m=!1,He(g)}}}function k_(l){let e,t,n=me(l[7]),s=[];for(let o=0;o<n.length;o+=1)s[o]=xr(Kr(l,n,o));const i=o=>N(s[o],1,1,()=>{s[o]=null});return{c(){e=d("div");for(let o=0;o<s.length;o+=1)s[o].c();p(e,"class","list svelte-odhywp")},m(o,c){y(o,e,c);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null);t=!0},p(o,c){if(c[0]&128){n=me(o[7]);let r;for(r=0;r<n.length;r+=1){const u=Kr(o,n,r);s[r]?(s[r].p(u,c),P(s[r],1)):(s[r]=xr(u),s[r].c(),P(s[r],1),s[r].m(e,null))}for(ke(),r=n.length;r<s.length;r+=1)i(r);we()}},i(o){if(!t){for(let c=0;c<n.length;c+=1)P(s[c]);t=!0}},o(o){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)N(s[c]);t=!1},d(o){o&&w(e),Re(s,o)}}}function w_(l){let e;return{c(){e=d("div"),e.textContent="No services found",p(e,"class","empty-panel svelte-odhywp")},m(t,n){y(t,e,n)},p:ce,i:ce,o:ce,d(t){t&&w(e)}}}function y_(l){let e=l[21].type+"",t;return{c(){t=S(e)},m(n,s){y(n,t,s)},p(n,s){s[0]&128&&e!==(e=n[21].type+"")&&B(t,e)},d(n){n&&w(t)}}}function xr(l){var H,F;let e,t,n=In(l[21])+"",s,i,o,c,r=l[21].service+"",u,f,v,_=l[21].project+"",h,m,g=l[21].env+"",C,k,$,q,D=(((H=l[21].servers)==null?void 0:H.length)||0)+"",T,E,M,L,O=(((F=l[21].ports)==null?void 0:F.join(", "))||"-")+"",A,z,I,Y,J;return I=new Be({props:{variant:l[21].type==="stateful"?"warning":"info",$$slots:{default:[y_]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),s=S(n),i=b(),o=d("div"),c=d("div"),u=S(r),f=b(),v=d("div"),h=S(_),m=S(" / "),C=S(g),k=b(),$=d("div"),q=d("div"),T=S(D),E=S(" server(s)"),M=b(),L=d("div"),A=S(O),z=b(),Z(I.$$.fragment),Y=b(),p(t,"class","item-icon svelte-odhywp"),p(c,"class","item-name svelte-odhywp"),p(v,"class","item-meta svelte-odhywp"),p(o,"class","item-info svelte-odhywp"),p(L,"class","ports svelte-odhywp"),p($,"class","item-stats svelte-odhywp"),p(e,"class","list-item svelte-odhywp")},m(R,W){y(R,e,W),a(e,t),a(t,s),a(e,i),a(e,o),a(o,c),a(c,u),a(o,f),a(o,v),a(v,h),a(v,m),a(v,C),a(e,k),a(e,$),a($,q),a(q,T),a(q,E),a($,M),a($,L),a(L,A),a(e,z),K(I,e,null),a(e,Y),J=!0},p(R,W){var U,le;(!J||W[0]&128)&&n!==(n=In(R[21])+"")&&B(s,n),(!J||W[0]&128)&&r!==(r=R[21].service+"")&&B(u,r),(!J||W[0]&128)&&_!==(_=R[21].project+"")&&B(h,_),(!J||W[0]&128)&&g!==(g=R[21].env+"")&&B(C,g),(!J||W[0]&128)&&D!==(D=(((U=R[21].servers)==null?void 0:U.length)||0)+"")&&B(T,D),(!J||W[0]&128)&&O!==(O=(((le=R[21].ports)==null?void 0:le.join(", "))||"-")+"")&&B(A,O);const j={};W[0]&128&&(j.variant=R[21].type==="stateful"?"warning":"info"),W[0]&128|W[1]&16&&(j.$$scope={dirty:W,ctx:R}),I.$set(j)},i(R){J||(P(I.$$.fragment,R),J=!0)},o(R){N(I.$$.fragment,R),J=!1},d(R){R&&w(e),Q(I)}}}function C_(l){let e,t,n,s;const i=[w_,k_],o=[];function c(r,u){return r[7].length===0?0:1}return e=c(l),t=o[e]=i[e](l),{c(){t.c(),n=je()},m(r,u){o[e].m(r,u),y(r,n,u),s=!0},p(r,u){let f=e;e=c(r),e===f?o[e].p(r,u):(ke(),N(o[f],1,1,()=>{o[f]=null}),we(),t=o[e],t?t.p(r,u):(t=o[e]=i[e](r),t.c()),P(t,1),t.m(n.parentNode,n))},i(r){s||(P(t),s=!0)},o(r){N(t),s=!1},d(r){r&&w(n),o[e].d(r)}}}function S_(l){let e,t,n=me(l[1]),s=[];for(let o=0;o<n.length;o+=1)s[o]=ea(Vr(l,n,o));const i=o=>N(s[o],1,1,()=>{s[o]=null});return{c(){e=d("div");for(let o=0;o<s.length;o+=1)s[o].c();p(e,"class","list svelte-odhywp")},m(o,c){y(o,e,c);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null);t=!0},p(o,c){if(c[0]&2){n=me(o[1]);let r;for(r=0;r<n.length;r+=1){const u=Vr(o,n,r);s[r]?(s[r].p(u,c),P(s[r],1)):(s[r]=ea(u),s[r].c(),P(s[r],1),s[r].m(e,null))}for(ke(),r=n.length;r<s.length;r+=1)i(r);we()}},i(o){if(!t){for(let c=0;c<n.length;c+=1)P(s[c]);t=!0}},o(o){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)N(s[c]);t=!1},d(o){o&&w(e),Re(s,o)}}}function q_(l){let e;return{c(){e=d("div"),e.textContent="No servers found",p(e,"class","empty-panel svelte-odhywp")},m(t,n){y(t,e,n)},p:ce,i:ce,o:ce,d(t){t&&w(e)}}}function D_(l){let e=Un(l[27])?"🔀 nginx":"⚠️ no nginx",t;return{c(){t=S(e)},m(n,s){y(n,t,s)},p(n,s){s[0]&2&&e!==(e=Un(n[27])?"🔀 nginx":"⚠️ no nginx")&&B(t,e)},d(n){n&&w(t)}}}function T_(l){let e,t=(l[27].agent_version||"?")+"",n;return{c(){e=S("🤖 v"),n=S(t)},m(s,i){y(s,e,i),y(s,n,i)},p(s,i){i[0]&2&&t!==(t=(s[27].agent_version||"?")+"")&&B(n,t)},d(s){s&&(w(e),w(n))}}}function ea(l){let e,t,n=l[27].status==="online"?"🟢":"🔴",s,i,o,c,r=l[27].ip+"",u,f,v,_=(l[27].containers||0)+"",h,m,g,C,k,$,q,D,T;return k=new Be({props:{variant:Un(l[27])?"success":"warning",$$slots:{default:[D_]},$$scope:{ctx:l}}}),q=new Be({props:{variant:"info",$$slots:{default:[T_]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),s=S(n),i=b(),o=d("div"),c=d("code"),u=S(r),f=b(),v=d("div"),h=S(_),m=S(" container(s)"),g=b(),C=d("div"),Z(k.$$.fragment),$=b(),Z(q.$$.fragment),D=b(),p(t,"class","item-icon svelte-odhywp"),p(c,"class","server-ip svelte-odhywp"),p(v,"class","item-meta svelte-odhywp"),p(o,"class","item-info svelte-odhywp"),p(C,"class","item-badges svelte-odhywp"),p(e,"class","list-item svelte-odhywp")},m(E,M){y(E,e,M),a(e,t),a(t,s),a(e,i),a(e,o),a(o,c),a(c,u),a(o,f),a(o,v),a(v,h),a(v,m),a(e,g),a(e,C),K(k,C,null),a(C,$),K(q,C,null),a(e,D),T=!0},p(E,M){(!T||M[0]&2)&&n!==(n=E[27].status==="online"?"🟢":"🔴")&&B(s,n),(!T||M[0]&2)&&r!==(r=E[27].ip+"")&&B(u,r),(!T||M[0]&2)&&_!==(_=(E[27].containers||0)+"")&&B(h,_);const L={};M[0]&2&&(L.variant=Un(E[27])?"success":"warning"),M[0]&2|M[1]&16&&(L.$$scope={dirty:M,ctx:E}),k.$set(L);const O={};M[0]&2|M[1]&16&&(O.$$scope={dirty:M,ctx:E}),q.$set(O)},i(E){T||(P(k.$$.fragment,E),P(q.$$.fragment,E),T=!0)},o(E){N(k.$$.fragment,E),N(q.$$.fragment,E),T=!1},d(E){E&&w(e),Q(k),Q(q)}}}function P_(l){let e,t,n,s;const i=[q_,S_],o=[];function c(r,u){return r[1].length===0?0:1}return e=c(l),t=o[e]=i[e](l),{c(){t.c(),n=je()},m(r,u){o[e].m(r,u),y(r,n,u),s=!0},p(r,u){let f=e;e=c(r),e===f?o[e].p(r,u):(ke(),N(o[f],1,1,()=>{o[f]=null}),we(),t=o[e],t?t.p(r,u):(t=o[e]=i[e](r),t.c()),P(t,1),t.m(n.parentNode,n))},i(r){s||(P(t),s=!0)},o(r){N(t),s=!1},d(r){r&&w(n),o[e].d(r)}}}function E_(l){let e,t,n=me(l[7]),s=[];for(let o=0;o<n.length;o+=1)s[o]=na(Yr(l,n,o));const i=o=>N(s[o],1,1,()=>{s[o]=null});return{c(){e=d("div");for(let o=0;o<s.length;o+=1)s[o].c();p(e,"class","traffic-flow svelte-odhywp")},m(o,c){y(o,e,c);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null);t=!0},p(o,c){if(c[0]&130){n=me(o[7]);let r;for(r=0;r<n.length;r+=1){const u=Yr(o,n,r);s[r]?(s[r].p(u,c),P(s[r],1)):(s[r]=na(u),s[r].c(),P(s[r],1),s[r].m(e,null))}for(ke(),r=n.length;r<s.length;r+=1)i(r);we()}},i(o){if(!t){for(let c=0;c<n.length;c+=1)P(s[c]);t=!0}},o(o){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)N(s[c]);t=!1},d(o){o&&w(e),Re(s,o)}}}function M_(l){let e;return{c(){e=d("div"),e.textContent="Deploy services to see traffic flow",p(e,"class","empty-panel svelte-odhywp")},m(t,n){y(t,e,n)},p:ce,i:ce,o:ce,d(t){t&&w(e)}}}function L_(l){let e=l[21].env+"",t;return{c(){t=S(e)},m(n,s){y(n,t,s)},p(n,s){s[0]&128&&e!==(e=n[21].env+"")&&B(t,e)},d(n){n&&w(t)}}}function ta(l){let e,t,n,s,i,o,c=l[21].domain+"",r,u,f;return{c(){e=d("div"),t=d("span"),t.textContent="☁️",n=b(),s=d("span"),s.textContent="Cloudflare",i=b(),o=d("span"),r=S(c),u=b(),f=d("div"),f.textContent="→",p(t,"class","svelte-odhywp"),p(s,"class","node-label svelte-odhywp"),p(o,"class","node-detail svelte-odhywp"),p(e,"class","flow-node cloudflare svelte-odhywp"),p(f,"class","flow-arrow svelte-odhywp")},m(v,_){y(v,e,_),a(e,t),a(e,n),a(e,s),a(e,i),a(e,o),a(o,r),y(v,u,_),y(v,f,_)},p(v,_){_[0]&128&&c!==(c=v[21].domain+"")&&B(r,c)},d(v){v&&(w(e),w(u),w(f))}}}function N_(l){let e;return{c(){e=S("Server")},m(t,n){y(t,e,n)},p:ce,d(t){t&&w(e)}}}function R_(l){let e,t=l[22].length+"",n,s;return{c(){e=S("⚖️ Load Balanced ("),n=S(t),s=S(")")},m(i,o){y(i,e,o),y(i,n,o),y(i,s,o)},p(i,o){o[0]&130&&t!==(t=i[22].length+"")&&B(n,t)},d(i){i&&(w(e),w(n),w(s))}}}function la(l){let e,t,n,s=l[21].domain+"",i,o;return{c(){e=d("span"),t=S("Domain: "),n=d("a"),i=S(s),p(n,"href",o="https://"+l[21].domain),p(n,"target","_blank"),p(n,"class","svelte-odhywp")},m(c,r){y(c,e,r),a(e,t),a(e,n),a(n,i)},p(c,r){r[0]&128&&s!==(s=c[21].domain+"")&&B(i,s),r[0]&128&&o!==(o="https://"+c[21].domain)&&p(n,"href",o)},d(c){c&&w(e)}}}function na(l){let e,t,n,s=In(l[21])+"",i,o,c,r=l[21].service+"",u,f,v,_,h,m,g,C,k,$,q,D,T,E,M,L,O,A,z,I,Y,J,H,F,R=(l[21].host_port||"8000")+"",W,j,U,le,V,ie,ee,re=(l[21].container_name||l[21].id)+"",pe,oe,qe;v=new Be({props:{variant:l[21].env==="prod"?"danger":"info",$$slots:{default:[L_]},$$scope:{ctx:l}}});let de=l[23]&&ta(l);function ae(se,Se){return se[24]?R_:N_}let ve=ae(l),_e=ve(l),ue=l[23]&&la(l);return{c(){e=d("div"),t=d("div"),n=d("span"),i=S(s),o=b(),c=d("span"),u=S(r),f=b(),Z(v.$$.fragment),_=b(),h=d("div"),de&&de.c(),m=b(),g=d("div"),C=d("span"),C.textContent="🖥️",k=b(),$=d("span"),_e.c(),q=b(),D=d("div"),D.textContent="→",T=b(),E=d("div"),E.innerHTML='<span class="svelte-odhywp">🔀</span> <span class="node-label svelte-odhywp">nginx</span> <span class="node-detail svelte-odhywp">:443</span>',M=b(),L=d("div"),L.textContent="→",O=b(),A=d("div"),z=d("span"),z.textContent="🐳",I=b(),Y=d("span"),Y.textContent="Container",J=b(),H=d("span"),F=S(":"),W=S(R),j=b(),U=d("div"),ue&&ue.c(),le=b(),V=d("span"),ie=S("Container: "),ee=d("code"),pe=S(re),oe=b(),p(n,"class","flow-icon svelte-odhywp"),p(c,"class","flow-name svelte-odhywp"),p(t,"class","flow-header svelte-odhywp"),p(C,"class","svelte-odhywp"),p($,"class","node-label svelte-odhywp"),p(g,"class","flow-node server svelte-odhywp"),p(D,"class","flow-arrow svelte-odhywp"),p(E,"class","flow-node nginx svelte-odhywp"),p(L,"class","flow-arrow svelte-odhywp"),p(z,"class","svelte-odhywp"),p(Y,"class","node-label svelte-odhywp"),p(H,"class","node-detail svelte-odhywp"),p(A,"class","flow-node container svelte-odhywp"),p(h,"class","flow-path svelte-odhywp"),p(ee,"class","svelte-odhywp"),p(U,"class","flow-details svelte-odhywp"),p(e,"class","flow-card svelte-odhywp")},m(se,Se){y(se,e,Se),a(e,t),a(t,n),a(n,i),a(t,o),a(t,c),a(c,u),a(t,f),K(v,t,null),a(e,_),a(e,h),de&&de.m(h,null),a(h,m),a(h,g),a(g,C),a(g,k),a(g,$),_e.m($,null),a(h,q),a(h,D),a(h,T),a(h,E),a(h,M),a(h,L),a(h,O),a(h,A),a(A,z),a(A,I),a(A,Y),a(A,J),a(A,H),a(H,F),a(H,W),a(e,j),a(e,U),ue&&ue.m(U,null),a(U,le),a(U,V),a(V,ie),a(V,ee),a(ee,pe),a(e,oe),qe=!0},p(se,Se){(!qe||Se[0]&128)&&s!==(s=In(se[21])+"")&&B(i,s),(!qe||Se[0]&128)&&r!==(r=se[21].service+"")&&B(u,r);const Fe={};Se[0]&128&&(Fe.variant=se[21].env==="prod"?"danger":"info"),Se[0]&128|Se[1]&16&&(Fe.$$scope={dirty:Se,ctx:se}),v.$set(Fe),se[23]?de?de.p(se,Se):(de=ta(se),de.c(),de.m(h,m)):de&&(de.d(1),de=null),ve===(ve=ae(se))&&_e?_e.p(se,Se):(_e.d(1),_e=ve(se),_e&&(_e.c(),_e.m($,null))),(!qe||Se[0]&128)&&R!==(R=(se[21].host_port||"8000")+"")&&B(W,R),se[23]?ue?ue.p(se,Se):(ue=la(se),ue.c(),ue.m(U,le)):ue&&(ue.d(1),ue=null),(!qe||Se[0]&128)&&re!==(re=(se[21].container_name||se[21].id)+"")&&B(pe,re)},i(se){qe||(P(v.$$.fragment,se),qe=!0)},o(se){N(v.$$.fragment,se),qe=!1},d(se){se&&w(e),Q(v),de&&de.d(),_e.d(),ue&&ue.d()}}}function j_(l){let e,t,n,s;const i=[M_,E_],o=[];function c(r,u){return r[7].length===0?0:1}return e=c(l),t=o[e]=i[e](l),{c(){t.c(),n=je()},m(r,u){o[e].m(r,u),y(r,n,u),s=!0},p(r,u){let f=e;e=c(r),e===f?o[e].p(r,u):(ke(),N(o[f],1,1,()=>{o[f]=null}),we(),t=o[e],t?t.p(r,u):(t=o[e]=i[e](r),t.c()),P(t,1),t.m(n.parentNode,n))},i(r){s||(P(t),s=!0)},o(r){N(t),s=!1},d(r){r&&w(n),o[e].d(r)}}}function O_(l){let e;return{c(){e=d("span"),e.textContent="Request path from client to container",p(e,"slot","header"),p(e,"class","subtitle svelte-odhywp")},m(t,n){y(t,e,n)},p:ce,d(t){t&&w(e)}}}function A_(l){let e,t,n,s,i,o,c,r,u,f;return t=new ze({props:{title:"🏗️ Architecture View",$$slots:{header:[$_],default:[g_]},$$scope:{ctx:l}}}),i=new ze({props:{title:"📦 Services",padding:!1,$$slots:{default:[C_]},$$scope:{ctx:l}}}),c=new ze({props:{title:"🖥️ Servers",padding:!1,$$slots:{default:[P_]},$$scope:{ctx:l}}}),u=new ze({props:{title:"🚦 Traffic Flow",$$slots:{header:[O_],default:[j_]},$$scope:{ctx:l}}}),{c(){e=d("div"),Z(t.$$.fragment),n=b(),s=d("div"),Z(i.$$.fragment),o=b(),Z(c.$$.fragment),r=b(),Z(u.$$.fragment),p(s,"class","panels-grid svelte-odhywp"),p(e,"class","architecture-page svelte-odhywp")},m(v,_){y(v,e,_),K(t,e,null),a(e,n),a(e,s),K(i,s,null),a(s,o),K(c,s,null),a(e,r),K(u,e,null),f=!0},p(v,_){const h={};_[0]&8190|_[1]&16&&(h.$$scope={dirty:_,ctx:v}),t.$set(h);const m={};_[0]&128|_[1]&16&&(m.$$scope={dirty:_,ctx:v}),i.$set(m);const g={};_[0]&2|_[1]&16&&(g.$$scope={dirty:_,ctx:v}),c.$set(g);const C={};_[0]&130|_[1]&16&&(C.$$scope={dirty:_,ctx:v}),u.$set(C)},i(v){f||(P(t.$$.fragment,v),P(i.$$.fragment,v),P(c.$$.fragment,v),P(u.$$.fragment,v),f=!0)},o(v){N(t.$$.fragment,v),N(i.$$.fragment,v),N(c.$$.fragment,v),N(u.$$.fragment,v),f=!1},d(v){v&&w(e),Q(t),Q(i),Q(c),Q(u)}}}function sa(l){return l?l.toLocaleTimeString():""}function In(l){switch(l.type){case"stateful":return"🗄️";case"frontend":return"🌐";case"api":return"⚡";case"worker":return"⚙️";default:return"📦"}}function Un(l){return l.nginx_status==="running"}function F_(l,e,t){let n,s,i,o;Ze(l,Sa,L=>t(12,o=L));let c="",r="",u=!1,f=[],v=[],_=[],h=null,m=null,g=!1,C=null;fl(()=>{g||(k(),C=setInterval(k,6e4))}),ss(()=>{C&&clearInterval(C)});async function k(){g||t(6,u=!0),t(9,m=null);try{const L=await Ae("POST","/infra/architecture",{project:c||null,environment:r||null});t(7,f=L.nodes||[]),t(1,v=L.servers||[]),_=L.infrastructure||[],t(8,h=new Date),t(10,g=!0)}catch(L){t(9,m=L.message),g||ge.error("Failed to load architecture: "+L.message)}finally{t(6,u=!1)}}async function $(){const L=v.filter(O=>O.nginx_status!=="running").map(O=>O.ip);if(L.length===0){ge.info("All servers already have nginx running");return}ge.info(`Fixing ${L.length} server(s)...`);try{await Ae("POST","/infra/nginx/ensure",{server_ips:L}),ge.success("Nginx sidecar installed"),architectureStore.refresh()}catch(O){ge.error(O.message)}}function q(){k()}function D(){k()}function T(){c=Qe(this),t(4,c)}function E(){r=Qe(this),t(5,r)}const M=(L,O)=>{var A;return(A=L.servers)==null?void 0:A.includes(O.ip)};return l.$$.update=()=>{l.$$.dirty[0]&2&&t(3,n=v.filter(L=>L.nginx_status==="running").length),l.$$.dirty[0]&2&&t(2,s=v.length),l.$$.dirty[0]&12&&t(11,i=n===s)},[D,v,s,n,c,r,u,f,h,m,g,i,o,$,q,T,E,M]}class z_ extends et{constructor(e){super(),xe(this,e,F_,A_,Xe,{refresh:0},null,[-1,-1])}get refresh(){return this.$$.ctx[0]}}function B_(l){let e,t,n,s,i,o,c,r,u,f,v,_,h,m,g,C,k,$,q,D,T,E,M,L,O,A;n=new Pc({}),i=new Lc({props:{tabs:l[11],active:l[0],scrollable:!0}}),i.$on("change",l[13]);let z=l[9]&&oa(l),I={};f=new hu({props:I}),l[16](f),h=new rf({});let Y={};C=new op({props:Y}),l[17](C);let J={};q=new z_({props:J}),l[18](q);let H={};E=new Wp({props:H}),l[19](E);const F=[J_,W_,G_,H_],R=[];function W(j,U){return j[0]==="logs"?0:j[0]==="snapshots"?1:j[0]==="services"?2:j[0]==="settings"?3:-1}return~(L=W(l))&&(O=R[L]=F[L](l)),{c(){e=d("div"),t=d("div"),Z(n.$$.fragment),s=b(),Z(i.$$.fragment),o=b(),z&&z.c(),c=b(),r=d("main"),u=d("div"),Z(f.$$.fragment),v=b(),_=d("div"),Z(h.$$.fragment),m=b(),g=d("div"),Z(C.$$.fragment),k=b(),$=d("div"),Z(q.$$.fragment),D=b(),T=d("div"),Z(E.$$.fragment),M=b(),O&&O.c(),p(u,"class","svelte-p7g5el"),De(u,"hidden",l[0]!=="infra"),p(_,"class","svelte-p7g5el"),De(_,"hidden",l[0]!=="deploy"),p(g,"class","svelte-p7g5el"),De(g,"hidden",l[0]!=="deployments"),p($,"class","svelte-p7g5el"),De($,"hidden",l[0]!=="architecture"),p(T,"class","svelte-p7g5el"),De(T,"hidden",l[0]!=="metrics"),p(r,"class","content glass svelte-p7g5el"),p(t,"class","container svelte-p7g5el"),p(e,"class","app svelte-p7g5el")},m(j,U){y(j,e,U),a(e,t),K(n,t,null),a(t,s),K(i,t,null),a(t,o),z&&z.m(t,null),a(t,c),a(t,r),a(r,u),K(f,u,null),a(r,v),a(r,_),K(h,_,null),a(r,m),a(r,g),K(C,g,null),a(r,k),a(r,$),K(q,$,null),a(r,D),a(r,T),K(E,T,null),a(r,M),~L&&R[L].m(r,null),A=!0},p(j,U){const le={};U&1&&(le.active=j[0]),i.$set(le),j[9]?z?(z.p(j,U),U&512&&P(z,1)):(z=oa(j),z.c(),P(z,1),z.m(t,c)):z&&(ke(),N(z,1,1,()=>{z=null}),we());const V={};f.$set(V),(!A||U&1)&&De(u,"hidden",j[0]!=="infra"),(!A||U&1)&&De(_,"hidden",j[0]!=="deploy");const ie={};C.$set(ie),(!A||U&1)&&De(g,"hidden",j[0]!=="deployments");const ee={};q.$set(ee),(!A||U&1)&&De($,"hidden",j[0]!=="architecture");const re={};E.$set(re),(!A||U&1)&&De(T,"hidden",j[0]!=="metrics");let pe=L;L=W(j),L===pe?~L&&R[L].p(j,U):(O&&(ke(),N(R[pe],1,1,()=>{R[pe]=null}),we()),~L?(O=R[L],O?O.p(j,U):(O=R[L]=F[L](j),O.c()),P(O,1),O.m(r,null)):O=null)},i(j){A||(P(n.$$.fragment,j),P(i.$$.fragment,j),P(z),P(f.$$.fragment,j),P(h.$$.fragment,j),P(C.$$.fragment,j),P(q.$$.fragment,j),P(E.$$.fragment,j),P(O),A=!0)},o(j){N(n.$$.fragment,j),N(i.$$.fragment,j),N(z),N(f.$$.fragment,j),N(h.$$.fragment,j),N(C.$$.fragment,j),N(q.$$.fragment,j),N(E.$$.fragment,j),N(O),A=!1},d(j){j&&w(e),Q(n),Q(i),z&&z.d(),l[16](null),Q(f),Q(h),l[17](null),Q(C),l[18](null),Q(q),l[19](null),Q(E),~L&&R[L].d()}}}function I_(l){let e,t;return e=new gc({props:{title:"Deploy Dashboard",subtitle:"Sign in to manage your infrastructure"}}),e.$on("success",l[12]),{c(){Z(e.$$.fragment)},m(n,s){K(e,n,s),t=!0},p:ce,i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){Q(e,n)}}}function U_(l){let e;return{c(){e=d("div"),e.innerHTML='<div class="spinner svelte-p7g5el"></div>',p(e,"class","loading-screen svelte-p7g5el")},m(t,n){y(t,e,n)},p:ce,i:ce,o:ce,d(t){t&&w(e)}}}function oa(l){let e,t;return e=new jc({props:{showTail:l[8],showContainer:l[7]}}),e.$on("change",l[14]),e.$on("refresh",l[15]),{c(){Z(e.$$.fragment)},m(n,s){K(e,n,s),t=!0},p(n,s){const i={};s&256&&(i.showTail=n[8]),s&128&&(i.showContainer=n[7]),e.$set(i)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){Q(e,n)}}}function H_(l){let e,t;return e=new u_({}),{c(){Z(e.$$.fragment)},m(n,s){K(e,n,s),t=!0},p:ce,i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){Q(e,n)}}}function G_(l){let e,t;return e=new Nd({}),{c(){Z(e.$$.fragment)},m(n,s){K(e,n,s),t=!0},p:ce,i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){Q(e,n)}}}function W_(l){let e,t;return e=new wd({}),{c(){Z(e.$$.fragment)},m(n,s){K(e,n,s),t=!0},p:ce,i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){Q(e,n)}}}function J_(l){let e,t,n={};return e=new dp({props:n}),l[20](e),{c(){Z(e.$$.fragment)},m(s,i){K(e,s,i),t=!0},p(s,i){const o={};e.$set(o)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){N(e.$$.fragment,s),t=!1},d(s){l[20](null),Q(e,s)}}}function Y_(l){let e,t,n,s,i,o;e=new kc({});const c=[U_,I_,B_],r=[];function u(f,v){return f[1]?!f[10].token||!f[10].user?1:2:0}return n=u(l),s=r[n]=c[n](l),{c(){Z(e.$$.fragment),t=b(),s.c(),i=je()},m(f,v){K(e,f,v),y(f,t,v),r[n].m(f,v),y(f,i,v),o=!0},p(f,[v]){let _=n;n=u(f),n===_?r[n].p(f,v):(ke(),N(r[_],1,1,()=>{r[_]=null}),we(),s=r[n],s?s.p(f,v):(s=r[n]=c[n](f),s.c()),P(s,1),s.m(i.parentNode,i))},i(f){o||(P(e.$$.fragment,f),P(s),o=!0)},o(f){N(e.$$.fragment,f),N(s),o=!1},d(f){f&&(w(t),w(i)),Q(e,f),r[n].d(f)}}}function V_(l,e,t){let n,s,i,o,c;Ze(l,ks,O=>t(0,o=O)),Ze(l,gt,O=>t(10,c=O));let r=!1,u,f,v,_,h;const m=[{id:"infra",label:"Infrastructure"},{id:"deploy",label:"Deploy"},{id:"deployments",label:"Deployments"},{id:"architecture",label:"Architecture"},{id:"logs",label:"Logs"},{id:"metrics",label:"Metrics"},{id:"snapshots",label:"Snapshots"},{id:"services",label:"Services"},{id:"settings",label:"Settings"}];fl(async()=>{const O=await nc();t(1,r=!0),O&&g()});function g(){cl.refresh(),Ca.refresh(),Fn.refresh(),Al.refresh()}async function C(O){const{user:A,token:z}=O.detail;gt.setToken(z),gt.setUser(A),g()}function k(O){ks.set(O.detail)}function $(){q()}function q(){switch(o){case"infra":u==null||u.refresh(),cl.refresh();break;case"deployments":f==null||f.refresh();break;case"logs":v==null||v.refresh();break;case"metrics":_==null||_.refresh();break;case"architecture":h==null||h.refresh();break}}function D(O){at[O?"unshift":"push"](()=>{u=O,t(2,u)})}function T(O){at[O?"unshift":"push"](()=>{f=O,t(3,f)})}function E(O){at[O?"unshift":"push"](()=>{h=O,t(6,h)})}function M(O){at[O?"unshift":"push"](()=>{_=O,t(5,_)})}function L(O){at[O?"unshift":"push"](()=>{v=O,t(4,v)})}return l.$$.update=()=>{l.$$.dirty&1&&t(9,n=ic.includes(o)),l.$$.dirty&1&&t(8,s=o==="logs"),l.$$.dirty&1&&t(7,i=o==="logs")},[o,r,u,f,v,_,h,i,s,n,c,m,C,k,$,q,D,T,E,M,L]}class K_ extends et{constructor(e){super(),xe(this,e,V_,Y_,Xe,{})}}new K_({target:document.getElementById("app")});
