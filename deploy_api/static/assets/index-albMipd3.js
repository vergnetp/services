var Ba=Object.defineProperty;var Ua=(l,e,t)=>e in l?Ba(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var Nl=(l,e,t)=>Ua(l,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();function ve(){}const ca=l=>l;function Ha(l,e){for(const t in e)l[t]=e[t];return l}function ua(l){return l()}function Hn(){return Object.create(null)}function Fe(l){l.forEach(ua)}function Cn(l){return typeof l=="function"}function yt(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}function Ga(l){return Object.keys(l).length===0}function Mn(l,...e){if(l==null){for(const n of e)n(void 0);return ve}const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function ln(l){let e;return Mn(l,t=>e=t)(),e}function at(l,e,t){l.$$.on_destroy.push(Mn(e,t))}function zl(l,e,t,n){if(l){const s=fa(l,e,t,n);return l[0](s)}}function fa(l,e,t,n){return l[1]&&n?Ha(t.ctx.slice(),l[1](n(e))):t.ctx}function Tl(l,e,t,n){if(l[2]&&n){const s=l[2](n(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const i=[],o=Math.max(e.dirty.length,s.length);for(let a=0;a<o;a+=1)i[a]=e.dirty[a]|s[a];return i}return e.dirty|s}return e.dirty}function Dl(l,e,t,n,s,i){if(s){const o=fa(e,t,n,i);l.p(o,s)}}function ql(l){if(l.ctx.length>32){const e=[],t=l.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function pa(l){const e={};for(const t in l)e[t]=!0;return e}function Gn(l){const e=typeof l=="string"&&l.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[l,"px"]}const _a=typeof window<"u";let Wa=_a?()=>window.performance.now():()=>Date.now(),Rn=_a?l=>requestAnimationFrame(l):ve;const Vl=new Set;function da(l){Vl.forEach(e=>{e.c(l)||(Vl.delete(e),e.f())}),Vl.size!==0&&Rn(da)}function Va(l){let e;return Vl.size===0&&Rn(da),{promise:new Promise(t=>{Vl.add(e={c:l,f:t})}),abort(){Vl.delete(e)}}}const ma=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function r(l,e){l.appendChild(e)}function va(l){if(!l)return document;const e=l.getRootNode?l.getRootNode():l.ownerDocument;return e&&e.host?e:l.ownerDocument}function Ja(l){const e=_("style");return e.textContent="/* empty */",Ka(va(l),e),e.sheet}function Ka(l,e){return r(l.head||l,e),e.sheet}function $(l,e,t){l.insertBefore(e,t||null)}function k(l){l.parentNode&&l.parentNode.removeChild(l)}function Pe(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function _(l){return document.createElement(l)}function Ya(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function z(l){return document.createTextNode(l)}function b(){return z(" ")}function Ie(){return z("")}function ee(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function Qa(l){return function(e){return e.preventDefault(),l.call(this,e)}}function Wn(l){return function(e){return e.stopPropagation(),l.call(this,e)}}function u(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function ha(l){let e;return{p(...t){e=t,e.forEach(n=>l.push(n))},r(){e.forEach(t=>l.splice(l.indexOf(t),1))}}}function vl(l){return l===""?null:+l}function Za(l){return Array.from(l.childNodes)}function j(l,e){e=""+e,l.data!==e&&(l.data=e)}function ne(l,e){l.value=e??""}function Zt(l,e,t,n){t==null?l.style.removeProperty(e):l.style.setProperty(e,t,"")}function Ee(l,e,t){for(let n=0;n<l.options.length;n+=1){const s=l.options[n];if(s.__value===e){s.selected=!0;return}}(!t||e!==void 0)&&(l.selectedIndex=-1)}function ft(l){const e=l.querySelector(":checked");return e&&e.__value}function we(l,e,t){l.classList.toggle(e,!!t)}function ga(l,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(l,{detail:e,bubbles:t,cancelable:n})}class Xa{constructor(e=!1){Nl(this,"is_svg",!1);Nl(this,"e");Nl(this,"n");Nl(this,"t");Nl(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=Ya(t.nodeName):this.e=_(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)$(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(k)}}const hn=new Map;let gn=0;function xa(l){let e=5381,t=l.length;for(;t--;)e=(e<<5)-e^l.charCodeAt(t);return e>>>0}function ec(l,e){const t={stylesheet:Ja(e),rules:{}};return hn.set(l,t),t}function Vn(l,e,t,n,s,i,o,a=0){const c=16.666/n;let p=`{
`;for(let C=0;C<=1;C+=c){const y=e+(t-e)*i(C);p+=C*100+`%{${o(y,1-y)}}
`}const f=p+`100% {${o(t,1-t)}}
}`,d=`__svelte_${xa(f)}_${a}`,m=va(l),{stylesheet:h,rules:v}=hn.get(m)||ec(m,l);v[d]||(v[d]=!0,h.insertRule(`@keyframes ${d} ${f}`,h.cssRules.length));const g=l.style.animation||"";return l.style.animation=`${g?`${g}, `:""}${d} ${n}ms linear ${s}ms 1 both`,gn+=1,d}function tc(l,e){const t=(l.style.animation||"").split(", "),n=t.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),s=t.length-n.length;s&&(l.style.animation=n.join(", "),gn-=s,gn||lc())}function lc(){Rn(()=>{gn||(hn.forEach(l=>{const{ownerNode:e}=l.stylesheet;e&&k(e)}),hn.clear())})}let en;function xl(l){en=l}function An(){if(!en)throw new Error("Function called outside component initialization");return en}function Yl(l){An().$$.on_mount.push(l)}function nc(l){An().$$.on_destroy.push(l)}function nn(){const l=An();return(e,t,{cancelable:n=!1}={})=>{const s=l.$$.callbacks[e];if(s){const i=ga(e,t,{cancelable:n});return s.slice().forEach(o=>{o.call(l,i)}),!i.defaultPrevented}return!0}}function bn(l,e){const t=l.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const Hl=[],Yt=[];let Jl=[];const En=[],sc=Promise.resolve();let Pn=!1;function oc(){Pn||(Pn=!0,sc.then(ba))}function Ze(l){Jl.push(l)}function Ml(l){En.push(l)}const Tn=new Set;let Il=0;function ba(){if(Il!==0)return;const l=en;do{try{for(;Il<Hl.length;){const e=Hl[Il];Il++,xl(e),ic(e.$$)}}catch(e){throw Hl.length=0,Il=0,e}for(xl(null),Hl.length=0,Il=0;Yt.length;)Yt.pop()();for(let e=0;e<Jl.length;e+=1){const t=Jl[e];Tn.has(t)||(Tn.add(t),t())}Jl.length=0}while(Hl.length);for(;En.length;)En.pop()();Pn=!1,Tn.clear(),xl(l)}function ic(l){if(l.fragment!==null){l.update(),Fe(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(Ze)}}function rc(l){const e=[],t=[];Jl.forEach(n=>l.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Jl=e}let Xl;function ac(){return Xl||(Xl=Promise.resolve(),Xl.then(()=>{Xl=null})),Xl}function Dn(l,e,t){l.dispatchEvent(ga(`${e?"intro":"outro"}${t}`))}const mn=new Set;let wl;function Te(){wl={r:0,c:[],p:wl}}function De(){wl.r||Fe(wl.c),wl=wl.p}function N(l,e){l&&l.i&&(mn.delete(l),l.i(e))}function R(l,e,t,n){if(l&&l.o){if(mn.has(l))return;mn.add(l),wl.c.push(()=>{mn.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}const cc={duration:0};function Wl(l,e,t,n){let i=e(l,t,{direction:"both"}),o=n?0:1,a=null,c=null,p=null,f;function d(){p&&tc(l,p)}function m(v,g){const C=v.b-o;return g*=Math.abs(C),{a:o,b:v.b,d:C,duration:g,start:v.start,end:v.start+g,group:v.group}}function h(v){const{delay:g=0,duration:C=300,easing:y=ca,tick:w=ve,css:T}=i||cc,D={start:Wa()+g,b:v};v||(D.group=wl,wl.r+=1),"inert"in l&&(v?f!==void 0&&(l.inert=f):(f=l.inert,l.inert=!0)),a||c?c=D:(T&&(d(),p=Vn(l,o,v,C,g,y,T)),v&&w(0,1),a=m(D,C),Ze(()=>Dn(l,v,"start")),Va(q=>{if(c&&q>c.start&&(a=m(c,C),c=null,Dn(l,a.b,"start"),T&&(d(),p=Vn(l,o,a.b,a.duration,0,y,i.css))),a){if(q>=a.end)w(o=a.b,1-o),Dn(l,a.b,"end"),c||(a.b?d():--a.group.r||Fe(a.group.c)),a=null;else if(q>=a.start){const E=q-a.start;o=a.a+a.d*y(E/a.duration),w(o,1-o)}}return!!(a||c)}))}return{run(v){Cn(i)?ac().then(()=>{i=i({direction:v?"in":"out"}),h(v)}):h(v)},end(){d(),a=c=null}}}function _e(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function ka(l,e){R(l,1,1,()=>{e.delete(l.key)})}function $a(l,e,t,n,s,i,o,a,c,p,f,d){let m=l.length,h=i.length,v=m;const g={};for(;v--;)g[l[v].key]=v;const C=[],y=new Map,w=new Map,T=[];for(v=h;v--;){const S=d(s,i,v),L=t(S);let F=o.get(L);F?T.push(()=>F.p(S,e)):(F=p(L,S),F.c()),y.set(L,C[v]=F),L in g&&w.set(L,Math.abs(v-g[L]))}const D=new Set,q=new Set;function E(S){N(S,1),S.m(a,f),o.set(S.key,S),f=S.first,h--}for(;m&&h;){const S=C[h-1],L=l[m-1],F=S.key,O=L.key;S===L?(f=S.first,m--,h--):y.has(O)?!o.has(F)||D.has(F)?E(S):q.has(O)?m--:w.get(F)>w.get(O)?(q.add(F),E(S)):(D.add(O),m--):(c(L,o),m--)}for(;m--;){const S=l[m];y.has(S.key)||c(S,o)}for(;h;)E(C[h-1]);return Fe(T),C}function Rl(l,e,t){const n=l.$$.props[e];n!==void 0&&(l.$$.bound[n]=t,t(l.$$.ctx[n]))}function ae(l){l&&l.c()}function ie(l,e,t){const{fragment:n,after_update:s}=l.$$;n&&n.m(e,t),Ze(()=>{const i=l.$$.on_mount.map(ua).filter(Cn);l.$$.on_destroy?l.$$.on_destroy.push(...i):Fe(i),l.$$.on_mount=[]}),s.forEach(Ze)}function re(l,e){const t=l.$$;t.fragment!==null&&(rc(t.after_update),Fe(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function uc(l,e){l.$$.dirty[0]===-1&&(Hl.push(l),oc(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function Dt(l,e,t,n,s,i,o=null,a=[-1]){const c=en;xl(l);const p=l.$$={fragment:null,ctx:[],props:i,update:ve,not_equal:s,bound:Hn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Hn(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};o&&o(p.root);let f=!1;if(p.ctx=t?t(l,e.props||{},(d,m,...h)=>{const v=h.length?h[0]:m;return p.ctx&&s(p.ctx[d],p.ctx[d]=v)&&(!p.skip_bound&&p.bound[d]&&p.bound[d](v),f&&uc(l,d)),m}):[],p.update(),f=!0,Fe(p.before_update),p.fragment=n?n(p.ctx):!1,e.target){if(e.hydrate){const d=Za(e.target);p.fragment&&p.fragment.l(d),d.forEach(k)}else p.fragment&&p.fragment.c();e.intro&&N(l.$$.fragment),ie(l,e.target,e.anchor),ba()}xl(c)}class qt{constructor(){Nl(this,"$$");Nl(this,"$$set")}$destroy(){re(this,1),this.$destroy=ve}$on(e,t){if(!Cn(t))return ve;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!Ga(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const fc="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(fc);const Bl=[];function pc(l,e){return{subscribe:El(l,e).subscribe}}function El(l,e=ve){let t;const n=new Set;function s(a){if(yt(l,a)&&(l=a,t)){const c=!Bl.length;for(const p of n)p[1](),Bl.push(p,l);if(c){for(let p=0;p<Bl.length;p+=2)Bl[p][0](Bl[p+1]);Bl.length=0}}}function i(a){s(a(l))}function o(a,c=ve){const p=[a,c];return n.add(p),n.size===1&&(t=e(s,i)||ve),a(l),()=>{n.delete(p),n.size===0&&t&&(t(),t=null)}}return{set:s,update:i,subscribe:o}}function jl(l,e,t){const n=!Array.isArray(l),s=n?[l]:l;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=e.length<2;return pc(t,(o,a)=>{let c=!1;const p=[];let f=0,d=ve;const m=()=>{if(f)return;d();const v=e(n?p[0]:p,o,a);i?o(v):d=Cn(v)?v:ve},h=s.map((v,g)=>Mn(v,C=>{p[g]=C,f&=~(1<<g),c&&m()},()=>{f|=1<<g}));return c=!0,m(),function(){Fe(h),d(),c=!1}})}function On(l,e,t=7){const n=new Date(Date.now()+t*864e5).toUTCString();document.cookie=`${l}=${encodeURIComponent(e)}; expires=${n}; path=/; SameSite=Strict`}function jn(l){const e=document.cookie.match(new RegExp("(^| )"+l+"=([^;]+)"));return e?decodeURIComponent(e[2]):null}function Jn(l){document.cookie=`${l}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/; SameSite=Strict`}function _c(){const l=jn("jwt_token"),{subscribe:e,set:t,update:n}=El({token:l,user:null,loading:!1,error:null});return{subscribe:e,setToken(s){On("jwt_token",s,7),n(i=>({...i,token:s,error:null}))},setUser(s){n(i=>({...i,user:s}))},setError(s){n(i=>({...i,error:s,loading:!1}))},setLoading(s){n(i=>({...i,loading:s}))},logout(){Jn("jwt_token"),Jn("do_token_local"),t({token:null,user:null,loading:!1,error:null})},clearError(){n(s=>({...s,error:null}))}}}const Qt=_c();jl(Qt,l=>!!l.token&&!!l.user);const dc=["vergnetp@yahoo.fr"],mc=jl(Qt,l=>{var e;return(e=l.user)!=null&&e.email?dc.includes(l.user.email.toLowerCase()):!1});function hl(){return jn("do_token_local")}function vc(l){On("do_token_local",l,30)}function Ln(){return jn("cf_token_local")}function hc(l){On("cf_token_local",l,30)}function gc(){const{subscribe:l,update:e}=El([]);let t=0;function n(i,o="info",a=3e3){const c={id:++t,message:i,type:o};return e(p=>[...p,c]),a>0&&setTimeout(()=>s(c.id),a),c.id}function s(i){e(o=>o.filter(a=>a.id!==i))}return{subscribe:l,success:(i,o)=>n(i,"success",o),error:(i,o)=>n(i,"error",o),warning:(i,o)=>n(i,"warning",o),info:(i,o)=>n(i,"info",o),remove:s}}const $e=gc(),wa="/api/v1",ya=["/infra/servers","/infra/snapshots","/infra/setup","/infra/deploy","/infra/registry","/infra/agent","/infra/architecture","/infra/fleet","/infra/projects","/infra/containers","/infra/services","/infra/deployments"];function Ca(l,e={}){const t=ln(Qt),n={"Content-Type":"application/json"},s=l.startsWith("/auth/login")||l.startsWith("/auth/register");t.token&&t.token.trim()!==""&&!s&&!e.skipAuth&&(n.Authorization=`Bearer ${t.token}`);let i=wa+l;if(!e.skipDoToken&&(l.startsWith("/infra/")||ya.some(a=>l.startsWith(a)))){const a=hl();if(!a)return{error:"DO token not set",url:null,headers:null};const c=i.includes("?")?"&":"?";i+=`${c}do_token=${encodeURIComponent(a)}`}return{url:i,headers:n,error:null}}async function Fn(l){if(l.status===401){let e="Authentication failed";try{const n=await l.json();e=n.detail||n.error||n.message||e}catch{}throw ln(Qt).token&&(Qt.logout(),e="Session expired - please login again"),new Error(e)}if(!l.ok){const e=await l.json().catch(()=>({detail:"Request failed"}));throw new Error(e.detail||e.error||e.message||"Request failed")}}async function Me(l,e,t=null,n={}){const{url:s,headers:i,error:o}=Ca(e,n);if(o)return console.debug(`Skipping ${e} - ${o}`),null;const a={method:l,headers:i};t&&(a.body=JSON.stringify(t));const c=await fetch(s,a);if(await Fn(c),c.status===204)return null;const p=await c.json();return p&&p.success===!0&&p.data!==void 0?p.data:p}async function bc(l,e,t=null,n,s={}){const{url:i,headers:o,error:a}=Ca(e,s);if(a)throw new Error(a);const c={method:l,headers:o};t&&(c.body=JSON.stringify(t));const p=await fetch(i,c);await Fn(p);const f=p.body.getReader(),d=new TextDecoder;let m="";for(;;){const{done:h,value:v}=await f.read();if(h)break;m+=d.decode(v,{stream:!0});const g=m.split(`
`);m=g.pop()||"";for(const C of g)if(C.startsWith("data: "))try{const y=JSON.parse(C.slice(6));n(y)}catch{}}}async function kc(l,e,t,n={}){const s=ln(Qt);let i=wa+l;if(!n.skipDoToken&&ya.some(m=>l.startsWith(m))){const m=hl();if(!m)throw new Error("DO token not set");const h=i.includes("?")?"&":"?";i+=`${h}do_token=${encodeURIComponent(m)}`}const a={};s.token&&(a.Authorization=`Bearer ${s.token}`);const c=await fetch(i,{method:"POST",headers:a,body:e});await Fn(c);const p=c.body.getReader(),f=new TextDecoder;let d="";for(;;){const{done:m,value:h}=await p.read();if(m)break;d+=f.decode(h,{stream:!0});const v=d.split(`
`);d=v.pop()||"";for(const g of v)if(g.startsWith("data: "))try{const C=JSON.parse(g.slice(6));t(C)}catch{}}}async function $c(){const l=ln(Qt);if(!l.token||l.token.trim()==="")return!1;try{const e=await Me("GET","/auth/me");return Qt.setUser(e),!0}catch{return Qt.logout(),!1}}function wc(l,e,t={}){const{refreshInterval:n=0,revalidateOnFocus:s=!0,revalidateOnMount:i=!0,dedupingInterval:o=2e3,initialData:a=null}=t,c=El({data:a,error:null,loading:!1,lastFetched:null});let p=0,f=null,d=null,m=0;async function h(T=!1){const D=Date.now();return!T&&f&&D-p<o||(p=D,c.update(q=>{var E;return{...q,loading:q.data===null||((E=q.data)==null?void 0:E.length)===0}}),f=(async()=>{try{const q=await e();return c.set({data:q,error:null,loading:!1,lastFetched:new Date}),q}catch(q){throw c.update(E=>({...E,error:q.message||"Fetch failed",loading:!1})),q}finally{f=null}})()),f}function v(){document.visibilityState==="visible"&&s&&h()}function g(){n>0&&!d&&(d=setInterval(()=>h(),n))}function C(){d&&(clearInterval(d),d=null)}const{subscribe:y}=c;function w(T){m++,m===1&&(s&&typeof document<"u"&&document.addEventListener("visibilitychange",v),i&&h(),g());const D=y(T);return()=>{D(),m--,m===0&&(typeof document<"u"&&document.removeEventListener("visibilitychange",v),C())}}return{subscribe:w,refresh:()=>h(!0),mutate:T=>c.update(D=>({...D,data:T})),get:()=>ln(c)}}function Sn(l,e={}){const{transform:t=s=>s,...n}=e;return wc(l,async()=>{const s=await Me("GET",l);return t(s)},n)}function yc(l,e={}){const{transform:t=c=>c,...n}=e,s=El({data:null,error:null,loading:!1,lastFetched:null});let i=null,o=null;async function a(c){const p=l(c);if(!p){s.set({data:null,error:null,loading:!1,lastFetched:null});return}return o&&JSON.stringify(c)===JSON.stringify(i)||(i=c,s.update(f=>({...f,loading:!0})),o=(async()=>{try{const f=await Me("GET",p),d=t(f);return s.set({data:d,error:null,loading:!1,lastFetched:new Date}),d}catch(f){throw s.update(d=>({...d,error:f.message||"Fetch failed",loading:!1})),f}finally{o=null}})()),o}return{subscribe:s.subscribe,fetch:a,refresh:()=>i&&a(i),clear:()=>{i=null,s.set({data:null,error:null,loading:!1,lastFetched:null})}}}const Kn=El("infra");function Cc(){const{subscribe:l,set:e}=El(null);return typeof window<"u"&&e(hl()),{subscribe:l,refresh(){e(hl())},set(t){e(t)}}}const Sa=Cc(),Gl=El({project:"",env:"",server:"",container:"",range:"30d",tail:!1}),yl=Sn("/infra/servers",{transform:l=>(l==null?void 0:l.servers)||l||[],refreshInterval:6e4,revalidateOnFocus:!0,initialData:[]}),In=Sn("/infra/projects",{transform:l=>(l==null?void 0:l.projects)||[],refreshInterval:12e4,initialData:[]}),zn=Sn("/infra/snapshots",{transform:l=>(l==null?void 0:l.snapshots)||[],refreshInterval:6e4,initialData:[]}),Ol=Sn("/infra/deployments/history",{transform:l=>(l==null?void 0:l.deployments)||[],refreshInterval:3e4,initialData:[]}),Nn=yc(l=>l!=null&&l.server?`/infra/agent/${l.server}/containers`:null,{transform:l=>{const e=(l==null?void 0:l.containers)||l||[];return(Array.isArray(e)?e:[]).map(t=>({id:t.ID||t.Id||t.id,name:t.Names||t.Name||t.name||"unknown",image:t.Image||t.image,status:t.Status||t.State||t.status,state:t.State||t.state}))}}),tn=jl(yl,l=>(l==null?void 0:l.data)||[]),Bn=jl(In,l=>(l==null?void 0:l.data)||[]),Sc=jl(zn,l=>(l==null?void 0:l.data)||[]),za=jl(Ol,l=>(l==null?void 0:l.data)||[]),zc=jl(Nn,l=>(l==null?void 0:l.data)||[]),Tc="1.9.7";function Dc(){const l=typeof localStorage<"u"&&localStorage.getItem("theme")||"dark",{subscribe:e,set:t}=El(l);return typeof document<"u"&&document.documentElement.setAttribute("data-theme",l),{subscribe:e,set(n){typeof localStorage<"u"&&localStorage.setItem("theme",n),typeof document<"u"&&document.documentElement.setAttribute("data-theme",n),t(n)}}}const qn=Dc();function Yn(l){let e;return{c(){e=_("span"),u(e,"class","brand-dot svelte-16ksbsk")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Qn(l){let e,t,n,s,i,o;return{c(){e=_("div"),t=_("button"),t.textContent="Sign In",n=b(),s=_("button"),s.textContent="Sign Up",u(t,"class","tab svelte-16ksbsk"),we(t,"active",l[4]==="login"),u(s,"class","tab svelte-16ksbsk"),we(s,"active",l[4]==="signup"),u(e,"class","tabs svelte-16ksbsk")},m(a,c){$(a,e,c),r(e,t),r(e,n),r(e,s),i||(o=[ee(t,"click",l[16]),ee(s,"click",l[17])],i=!0)},p(a,c){c&16&&we(t,"active",a[4]==="login"),c&16&&we(s,"active",a[4]==="signup")},d(a){a&&k(e),i=!1,Fe(o)}}}function qc(l){let e,t,n,s,i,o,a,c,p,f,d,m,h,v,g,C,y,w,T;function D(S,L){return S[5]?Lc:Pc}let q=D(l),E=q(l);return{c(){e=_("form"),t=_("div"),n=_("label"),n.textContent="Email",s=b(),i=_("input"),o=b(),a=_("div"),c=_("label"),c.textContent="Password",p=b(),f=_("input"),d=b(),m=_("div"),h=_("label"),h.textContent="Confirm Password",v=b(),g=_("input"),C=b(),y=_("button"),E.c(),u(n,"for","signup-email"),u(n,"class","svelte-16ksbsk"),u(i,"type","email"),u(i,"id","signup-email"),u(i,"placeholder","you@example.com"),i.required=!0,i.disabled=l[5],u(i,"class","svelte-16ksbsk"),u(t,"class","form-group svelte-16ksbsk"),u(c,"for","signup-password"),u(c,"class","svelte-16ksbsk"),u(f,"type","password"),u(f,"id","signup-password"),u(f,"placeholder","••••••••"),f.required=!0,f.disabled=l[5],u(f,"class","svelte-16ksbsk"),u(a,"class","form-group svelte-16ksbsk"),u(h,"for","signup-confirm"),u(h,"class","svelte-16ksbsk"),u(g,"type","password"),u(g,"id","signup-confirm"),u(g,"placeholder","••••••••"),g.required=!0,g.disabled=l[5],u(g,"class","svelte-16ksbsk"),u(m,"class","form-group svelte-16ksbsk"),u(y,"type","submit"),u(y,"class","btn btn-primary btn-full svelte-16ksbsk"),y.disabled=l[5]},m(S,L){$(S,e,L),r(e,t),r(t,n),r(t,s),r(t,i),ne(i,l[9]),r(e,o),r(e,a),r(a,c),r(a,p),r(a,f),ne(f,l[10]),r(e,d),r(e,m),r(m,h),r(m,v),r(m,g),ne(g,l[11]),r(e,C),r(e,y),E.m(y,null),w||(T=[ee(i,"input",l[20]),ee(f,"input",l[21]),ee(g,"input",l[22]),ee(e,"submit",l[14])],w=!0)},p(S,L){L&32&&(i.disabled=S[5]),L&512&&i.value!==S[9]&&ne(i,S[9]),L&32&&(f.disabled=S[5]),L&1024&&f.value!==S[10]&&ne(f,S[10]),L&32&&(g.disabled=S[5]),L&2048&&g.value!==S[11]&&ne(g,S[11]),q!==(q=D(S))&&(E.d(1),E=q(S),E&&(E.c(),E.m(y,null))),L&32&&(y.disabled=S[5])},d(S){S&&k(e),E.d(),w=!1,Fe(T)}}}function Ec(l){let e,t,n,s,i,o,a,c,p,f,d,m,h,v;function g(w,T){return w[5]?Mc:Nc}let C=g(l),y=C(l);return{c(){e=_("form"),t=_("div"),n=_("label"),n.textContent="Email",s=b(),i=_("input"),o=b(),a=_("div"),c=_("label"),c.textContent="Password",p=b(),f=_("input"),d=b(),m=_("button"),y.c(),u(n,"for","login-email"),u(n,"class","svelte-16ksbsk"),u(i,"type","email"),u(i,"id","login-email"),u(i,"placeholder","you@example.com"),i.required=!0,i.disabled=l[5],u(i,"class","svelte-16ksbsk"),u(t,"class","form-group svelte-16ksbsk"),u(c,"for","login-password"),u(c,"class","svelte-16ksbsk"),u(f,"type","password"),u(f,"id","login-password"),u(f,"placeholder","••••••••"),f.required=!0,f.disabled=l[5],u(f,"class","svelte-16ksbsk"),u(a,"class","form-group svelte-16ksbsk"),u(m,"type","submit"),u(m,"class","btn btn-primary btn-full svelte-16ksbsk"),m.disabled=l[5]},m(w,T){$(w,e,T),r(e,t),r(t,n),r(t,s),r(t,i),ne(i,l[7]),r(e,o),r(e,a),r(a,c),r(a,p),r(a,f),ne(f,l[8]),r(e,d),r(e,m),y.m(m,null),h||(v=[ee(i,"input",l[18]),ee(f,"input",l[19]),ee(e,"submit",l[13])],h=!0)},p(w,T){T&32&&(i.disabled=w[5]),T&128&&i.value!==w[7]&&ne(i,w[7]),T&32&&(f.disabled=w[5]),T&256&&f.value!==w[8]&&ne(f,w[8]),C!==(C=g(w))&&(y.d(1),y=C(w),y&&(y.c(),y.m(m,null))),T&32&&(m.disabled=w[5])},d(w){w&&k(e),y.d(),h=!1,Fe(v)}}}function Pc(l){let e;return{c(){e=z("Create Account")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Lc(l){let e;return{c(){e=_("span"),u(e,"class","spinner svelte-16ksbsk")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Nc(l){let e;return{c(){e=z("Sign In")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Mc(l){let e;return{c(){e=_("span"),u(e,"class","spinner svelte-16ksbsk")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Zn(l){let e,t;return{c(){e=_("p"),t=z(l[6]),u(e,"class","error-message svelte-16ksbsk")},m(n,s){$(n,e,s),r(e,t)},p(n,s){s&64&&j(t,n[6])},d(n){n&&k(e)}}}function Rc(l){let e,t,n,s,i,o,a,c,p,f,d,m,h=l[2]&&Yn(),v=l[3]&&Qn(l);function g(T,D){return T[4]==="login"?Ec:qc}let C=g(l),y=C(l),w=l[6]&&Zn(l);return{c(){e=_("div"),t=_("div"),n=_("div"),s=_("h1"),h&&h.c(),i=b(),o=z(l[0]),a=b(),c=_("p"),p=z(l[1]),f=b(),v&&v.c(),d=b(),y.c(),m=b(),w&&w.c(),u(s,"class","svelte-16ksbsk"),u(c,"class","svelte-16ksbsk"),u(n,"class","auth-title svelte-16ksbsk"),u(t,"class","auth-card glass svelte-16ksbsk"),u(e,"class","auth-container svelte-16ksbsk")},m(T,D){$(T,e,D),r(e,t),r(t,n),r(n,s),h&&h.m(s,null),r(s,i),r(s,o),r(n,a),r(n,c),r(c,p),r(t,f),v&&v.m(t,null),r(t,d),y.m(t,null),r(t,m),w&&w.m(t,null)},p(T,[D]){T[2]?h||(h=Yn(),h.c(),h.m(s,i)):h&&(h.d(1),h=null),D&1&&j(o,T[0]),D&2&&j(p,T[1]),T[3]?v?v.p(T,D):(v=Qn(T),v.c(),v.m(t,d)):v&&(v.d(1),v=null),C===(C=g(T))&&y?y.p(T,D):(y.d(1),y=C(T),y&&(y.c(),y.m(t,m))),T[6]?w?w.p(T,D):(w=Zn(T),w.c(),w.m(t,null)):w&&(w.d(1),w=null)},i:ve,o:ve,d(T){T&&k(e),h&&h.d(),v&&v.d(),y.d(),w&&w.d()}}}function Ac(l,e,t){let{title:n="Welcome"}=e,{subtitle:s="Sign in to your account"}=e,{apiBase:i="/api/v1"}=e,{showLogo:o=!0}=e,{allowSignup:a=!0}=e;const c=nn();let p="login",f=!1,d=null,m="",h="",v="",g="",C="";function y(U){t(4,p=U),t(6,d=null)}async function w(U,Z,V){return await Me(U,Z,V,{skipDoToken:!0})}async function T(U){U.preventDefault(),t(5,f=!0),t(6,d=null);try{const Z=await w("POST","/auth/login",{username:m,password:h}),V=(Z==null?void 0:Z.access_token)||(Z==null?void 0:Z.token);if(!V)throw new Error("Login failed - no token returned");let A=Z==null?void 0:Z.user;if(!A){const P=await fetch("/api/v1/auth/me",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${V}`}});if(!P.ok)throw new Error("Failed to get user info");A=await P.json()}if(!A)throw new Error("Login failed - no user info");c("success",{user:A,token:V})}catch(Z){t(6,d=Z.message),c("error",{error:Z.message,type:"login"})}finally{t(5,f=!1)}}async function D(U){if(U.preventDefault(),g!==C){t(6,d="Passwords do not match");return}t(5,f=!0),t(6,d=null);try{await w("POST","/auth/register",{username:v,email:v,password:g});const Z=await w("POST","/auth/login",{username:v,password:g}),V=(Z==null?void 0:Z.access_token)||(Z==null?void 0:Z.token);if(!V)throw new Error("Signup failed - no token returned");let A=Z==null?void 0:Z.user;if(!A){const P=await fetch("/api/v1/auth/me",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${V}`}});if(!P.ok)throw new Error("Failed to get user info");A=await P.json()}if(!A)throw new Error("Signup failed - no user info");c("success",{user:A,token:V})}catch(Z){t(6,d=Z.message),c("error",{error:Z.message,type:"signup"})}finally{t(5,f=!1)}}const q=()=>y("login"),E=()=>y("signup");function S(){m=this.value,t(7,m)}function L(){h=this.value,t(8,h)}function F(){v=this.value,t(9,v)}function O(){g=this.value,t(10,g)}function I(){C=this.value,t(11,C)}return l.$$set=U=>{"title"in U&&t(0,n=U.title),"subtitle"in U&&t(1,s=U.subtitle),"apiBase"in U&&t(15,i=U.apiBase),"showLogo"in U&&t(2,o=U.showLogo),"allowSignup"in U&&t(3,a=U.allowSignup)},[n,s,o,a,p,f,d,m,h,v,g,C,y,T,D,i,q,E,S,L,F,O,I]}class Oc extends qt{constructor(e){super(),Dt(this,e,Ac,Rc,yt,{title:0,subtitle:1,apiBase:15,showLogo:2,allowSignup:3})}}function Ta(l){const e=l-1;return e*e*e+1}function Xn(l,{delay:e=0,duration:t=400,easing:n=ca}={}){const s=+getComputedStyle(l).opacity;return{delay:e,duration:t,easing:n,css:i=>`opacity: ${i*s}`}}function xn(l,{delay:e=0,duration:t=400,easing:n=Ta,x:s=0,y:i=0,opacity:o=0}={}){const a=getComputedStyle(l),c=+a.opacity,p=a.transform==="none"?"":a.transform,f=c*(1-o),[d,m]=Gn(s),[h,v]=Gn(i);return{delay:e,duration:t,easing:n,css:(g,C)=>`
			transform: ${p} translate(${(1-g)*d}${m}, ${(1-g)*h}${v});
			opacity: ${c-f*C}`}}function es(l,{delay:e=0,duration:t=400,easing:n=Ta,start:s=0,opacity:i=0}={}){const o=getComputedStyle(l),a=+o.opacity,c=o.transform==="none"?"":o.transform,p=1-s,f=a*(1-i);return{delay:e,duration:t,easing:n,css:(d,m)=>`
			transform: ${c} scale(${1-p*m});
			opacity: ${a-f*m}
		`}}function ts(l,e,t){const n=l.slice();return n[2]=e[t],n}function ls(l,e){let t,n,s=e[2].message+"",i,o,a,c,p,f,d,m,h;function v(){return e[1](e[2])}return{key:l,first:null,c(){t=_("div"),n=_("span"),i=z(s),o=b(),a=_("button"),a.textContent="×",c=b(),u(n,"class","toast-message svelte-1l5lsfn"),u(a,"class","toast-close svelte-1l5lsfn"),u(t,"class",p="toast toast-"+e[2].type+" svelte-1l5lsfn"),this.first=t},m(g,C){$(g,t,C),r(t,n),r(n,i),r(t,o),r(t,a),r(t,c),d=!0,m||(h=ee(a,"click",v),m=!0)},p(g,C){e=g,(!d||C&1)&&s!==(s=e[2].message+"")&&j(i,s),(!d||C&1&&p!==(p="toast toast-"+e[2].type+" svelte-1l5lsfn"))&&u(t,"class",p)},i(g){d||(g&&Ze(()=>{d&&(f||(f=Wl(t,xn,{x:100,duration:200},!0)),f.run(1))}),d=!0)},o(g){g&&(f||(f=Wl(t,xn,{x:100,duration:200},!1)),f.run(0)),d=!1},d(g){g&&k(t),g&&f&&f.end(),m=!1,h()}}}function jc(l){let e,t=[],n=new Map,s,i=_e(l[0]);const o=a=>a[2].id;for(let a=0;a<i.length;a+=1){let c=ts(l,i,a),p=o(c);n.set(p,t[a]=ls(p,c))}return{c(){e=_("div");for(let a=0;a<t.length;a+=1)t[a].c();u(e,"class","toast-container svelte-1l5lsfn")},m(a,c){$(a,e,c);for(let p=0;p<t.length;p+=1)t[p]&&t[p].m(e,null);s=!0},p(a,[c]){c&1&&(i=_e(a[0]),Te(),t=$a(t,c,o,1,a,i,n,e,ka,ls,null,ts),De())},i(a){if(!s){for(let c=0;c<i.length;c+=1)N(t[c]);s=!0}},o(a){for(let c=0;c<t.length;c+=1)R(t[c]);s=!1},d(a){a&&k(e);for(let c=0;c<t.length;c+=1)t[c].d()}}}function Fc(l,e,t){let n;return at(l,$e,i=>t(0,n=i)),[n,i=>$e.remove(i.id)]}class Ic extends qt{constructor(e){super(),Dt(this,e,Fc,jc,yt,{})}}function Bc(l){let e,t,n,s,i,o,a=l[3]&&ns();const c=l[9].default,p=zl(c,l,l[8],null);return{c(){e=_("button"),a&&a.c(),t=b(),p&&p.c(),u(e,"type",l[4]),u(e,"title",l[6]),u(e,"aria-label",l[7]),u(e,"class",n="btn btn-"+l[0]+" btn-"+l[1]+" svelte-1vvc8tv"),e.disabled=l[2]},m(f,d){$(f,e,d),a&&a.m(e,null),r(e,t),p&&p.m(e,null),s=!0,i||(o=ee(e,"click",l[11]),i=!0)},p(f,d){f[3]?a||(a=ns(),a.c(),a.m(e,t)):a&&(a.d(1),a=null),p&&p.p&&(!s||d&256)&&Dl(p,c,f,f[8],s?Tl(c,f[8],d,null):ql(f[8]),null),(!s||d&16)&&u(e,"type",f[4]),(!s||d&64)&&u(e,"title",f[6]),(!s||d&128)&&u(e,"aria-label",f[7]),(!s||d&3&&n!==(n="btn btn-"+f[0]+" btn-"+f[1]+" svelte-1vvc8tv"))&&u(e,"class",n),(!s||d&4)&&(e.disabled=f[2])},i(f){s||(N(p,f),s=!0)},o(f){R(p,f),s=!1},d(f){f&&k(e),a&&a.d(),p&&p.d(f),i=!1,o()}}}function Uc(l){let e,t,n,s,i,o,a=l[3]&&ss();const c=l[9].default,p=zl(c,l,l[8],null);return{c(){e=_("a"),a&&a.c(),t=b(),p&&p.c(),u(e,"href",l[5]),u(e,"title",l[6]),u(e,"aria-label",l[7]),u(e,"class",n="btn btn-"+l[0]+" btn-"+l[1]+" svelte-1vvc8tv"),we(e,"disabled",l[2])},m(f,d){$(f,e,d),a&&a.m(e,null),r(e,t),p&&p.m(e,null),s=!0,i||(o=ee(e,"click",l[10]),i=!0)},p(f,d){f[3]?a||(a=ss(),a.c(),a.m(e,t)):a&&(a.d(1),a=null),p&&p.p&&(!s||d&256)&&Dl(p,c,f,f[8],s?Tl(c,f[8],d,null):ql(f[8]),null),(!s||d&32)&&u(e,"href",f[5]),(!s||d&64)&&u(e,"title",f[6]),(!s||d&128)&&u(e,"aria-label",f[7]),(!s||d&3&&n!==(n="btn btn-"+f[0]+" btn-"+f[1]+" svelte-1vvc8tv"))&&u(e,"class",n),(!s||d&7)&&we(e,"disabled",f[2])},i(f){s||(N(p,f),s=!0)},o(f){R(p,f),s=!1},d(f){f&&k(e),a&&a.d(),p&&p.d(f),i=!1,o()}}}function ns(l){let e;return{c(){e=_("span"),u(e,"class","spinner svelte-1vvc8tv")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function ss(l){let e;return{c(){e=_("span"),u(e,"class","spinner svelte-1vvc8tv")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Hc(l){let e,t,n,s;const i=[Uc,Bc],o=[];function a(c,p){return c[5]?0:1}return e=a(l),t=o[e]=i[e](l),{c(){t.c(),n=Ie()},m(c,p){o[e].m(c,p),$(c,n,p),s=!0},p(c,[p]){let f=e;e=a(c),e===f?o[e].p(c,p):(Te(),R(o[f],1,1,()=>{o[f]=null}),De(),t=o[e],t?t.p(c,p):(t=o[e]=i[e](c),t.c()),N(t,1),t.m(n.parentNode,n))},i(c){s||(N(t),s=!0)},o(c){R(t),s=!1},d(c){c&&k(n),o[e].d(c)}}}function Gc(l,e,t){let{$$slots:n={},$$scope:s}=e,{variant:i="default"}=e,{size:o="md"}=e,{disabled:a=!1}=e,{loading:c=!1}=e,{type:p="button"}=e,{href:f=null}=e,{title:d=void 0}=e,{ariaLabel:m=void 0}=e;function h(g){bn.call(this,l,g)}function v(g){bn.call(this,l,g)}return l.$$set=g=>{"variant"in g&&t(0,i=g.variant),"size"in g&&t(1,o=g.size),"disabled"in g&&t(2,a=g.disabled),"loading"in g&&t(3,c=g.loading),"type"in g&&t(4,p=g.type),"href"in g&&t(5,f=g.href),"title"in g&&t(6,d=g.title),"ariaLabel"in g&&t(7,m=g.ariaLabel),"$$scope"in g&&t(8,s=g.$$scope)},[i,o,a,c,p,f,d,m,s,n,h,v]}class Oe extends qt{constructor(e){super(),Dt(this,e,Gc,Hc,yt,{variant:0,size:1,disabled:2,loading:3,type:4,href:5,title:6,ariaLabel:7})}}function os(l){let e;return{c(){e=_("span"),e.textContent="MOCK",u(e,"class","badge svelte-12krgw5")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function is(l){let e,t=l[2].user.email+"",n;return{c(){e=_("span"),n=z(t),u(e,"class","user-email svelte-12krgw5")},m(s,i){$(s,e,i),r(e,n)},p(s,i){i&4&&t!==(t=s[2].user.email+"")&&j(n,t)},d(s){s&&k(e)}}}function Wc(l){let e;return{c(){e=z("Logout")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Vc(l){let e,t,n,s,i,o,a,c,p,f,d,m=l[1]&&os(),h=l[2].user&&is(l);return f=new Oe({props:{variant:"ghost",size:"sm",$$slots:{default:[Wc]},$$scope:{ctx:l}}}),f.$on("click",l[3]),{c(){e=_("header"),t=_("h1"),n=_("span"),s=b(),i=z(l[0]),o=b(),a=_("div"),m&&m.c(),c=b(),h&&h.c(),p=b(),ae(f.$$.fragment),u(n,"class","brand-dot svelte-12krgw5"),u(t,"class","svelte-12krgw5"),u(a,"class","header-actions svelte-12krgw5"),u(e,"class","header glass svelte-12krgw5")},m(v,g){$(v,e,g),r(e,t),r(t,n),r(t,s),r(t,i),r(e,o),r(e,a),m&&m.m(a,null),r(a,c),h&&h.m(a,null),r(a,p),ie(f,a,null),d=!0},p(v,[g]){(!d||g&1)&&j(i,v[0]),v[1]?m||(m=os(),m.c(),m.m(a,c)):m&&(m.d(1),m=null),v[2].user?h?h.p(v,g):(h=is(v),h.c(),h.m(a,p)):h&&(h.d(1),h=null);const C={};g&16&&(C.$$scope={dirty:g,ctx:v}),f.$set(C)},i(v){d||(N(f.$$.fragment,v),d=!0)},o(v){R(f.$$.fragment,v),d=!1},d(v){v&&k(e),m&&m.d(),h&&h.d(),re(f)}}}function Jc(l,e,t){var a,c;let n;at(l,Qt,p=>t(2,n=p));let s=!1;try{s=((c=(a=import.meta)==null?void 0:a.env)==null?void 0:c.VITE_MOCK_API)==="1"||typeof localStorage<"u"&&localStorage.getItem("mockApi")==="1"}catch{s=!1}let{title:i="Deploy Dashboard"}=e;function o(){Qt.logout()}return l.$$set=p=>{"title"in p&&t(0,i=p.title)},[i,s,n,o]}class Kc extends qt{constructor(e){super(),Dt(this,e,Jc,Vc,yt,{title:0})}}function rs(l,e,t){const n=l.slice();return n[6]=e[t],n}function as(l){let e,t=l[6].icon+"",n;return{c(){e=_("span"),n=z(t),u(e,"class","tab-icon svelte-1po08a6")},m(s,i){$(s,e,i),r(e,n)},p(s,i){i&2&&t!==(t=s[6].icon+"")&&j(n,t)},d(s){s&&k(e)}}}function cs(l){let e,t,n=l[6].label+"",s,i,o,a,c=l[6].icon&&as(l);function p(){return l[4](l[6])}return{c(){e=_("button"),c&&c.c(),t=b(),s=z(n),i=b(),u(e,"class","tab svelte-1po08a6"),we(e,"active",l[0]===l[6].id)},m(f,d){$(f,e,d),c&&c.m(e,null),r(e,t),r(e,s),r(e,i),o||(a=ee(e,"click",p),o=!0)},p(f,d){l=f,l[6].icon?c?c.p(l,d):(c=as(l),c.c(),c.m(e,t)):c&&(c.d(1),c=null),d&2&&n!==(n=l[6].label+"")&&j(s,n),d&3&&we(e,"active",l[0]===l[6].id)},d(f){f&&k(e),c&&c.d(),o=!1,a()}}}function Yc(l){let e,t=_e(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=cs(rs(l,t,s));return{c(){e=_("div");for(let s=0;s<n.length;s+=1)n[s].c();u(e,"class","tabs svelte-1po08a6"),we(e,"scrollable",l[2])},m(s,i){$(s,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,[i]){if(i&11){t=_e(s[1]);let o;for(o=0;o<t.length;o+=1){const a=rs(s,t,o);n[o]?n[o].p(a,i):(n[o]=cs(a),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}i&4&&we(e,"scrollable",s[2])},i:ve,o:ve,d(s){s&&k(e),Pe(n,s)}}}function Qc(l,e,t){let{tabs:n=[]}=e,{active:s=""}=e,{scrollable:i=!0}=e;const o=nn();function a(p){t(0,s=p),o("change",p)}const c=p=>a(p.id);return l.$$set=p=>{"tabs"in p&&t(1,n=p.tabs),"active"in p&&t(0,s=p.active),"scrollable"in p&&t(2,i=p.scrollable)},[s,n,i,a,c]}class Zc extends qt{constructor(e){super(),Dt(this,e,Qc,Yc,yt,{tabs:1,active:0,scrollable:2})}}function us(l,e,t){const n=l.slice();return n[20]=e[t],n}function fs(l,e,t){var i,o,a;const n=l.slice();n[23]=e[t];const s=n[23].ip||((a=(o=(i=n[23].networks)==null?void 0:i.v4)==null?void 0:o[0])==null?void 0:a.ip_address);return n[24]=s,n}function ps(l,e,t){const n=l.slice();return n[27]=e[t],n}function _s(l,e,t){const n=l.slice();return n[30]=e[t],n}function ds(l){let e,t=l[30]+"",n,s;return{c(){e=_("option"),n=z(t),e.__value=s=l[30],ne(e,e.__value)},m(i,o){$(i,e,o),r(e,n)},p(i,o){o[0]&16&&t!==(t=i[30]+"")&&j(n,t),o[0]&16&&s!==(s=i[30])&&(e.__value=s,ne(e,e.__value))},d(i){i&&k(e)}}}function ms(l){let e,t=l[27]+"",n,s;return{c(){e=_("option"),n=z(t),e.__value=s=l[27],ne(e,e.__value)},m(i,o){$(i,e,o),r(e,n)},p(i,o){o[0]&8&&t!==(t=i[27]+"")&&j(n,t),o[0]&8&&s!==(s=i[27])&&(e.__value=s,ne(e,e.__value))},d(i){i&&k(e)}}}function vs(l){let e,t=(l[23].name||"unnamed")+"",n,s,i=l[24]+"",o,a,c;return{c(){e=_("option"),n=z(t),s=z(" ("),o=z(i),a=z(")"),e.__value=c=l[24],ne(e,e.__value)},m(p,f){$(p,e,f),r(e,n),r(e,s),r(e,o),r(e,a)},p(p,f){f[0]&32&&t!==(t=(p[23].name||"unnamed")+"")&&j(n,t),f[0]&32&&i!==(i=p[24]+"")&&j(o,i),f[0]&32&&c!==(c=p[24])&&(e.__value=c,ne(e,e.__value))},d(p){p&&k(e)}}}function hs(l){let e,t=l[24]&&vs(l);return{c(){t&&t.c(),e=Ie()},m(n,s){t&&t.m(n,s),$(n,e,s)},p(n,s){n[24]?t?t.p(n,s):(t=vs(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&k(e),t&&t.d(n)}}}function gs(l){let e,t,n,s,i,o,a,c,p=_e(l[6]||[]),f=[];for(let d=0;d<p.length;d+=1)f[d]=bs(us(l,p,d));return{c(){e=_("div"),t=_("label"),t.textContent="Container:",n=b(),s=_("select"),i=_("option"),i.textContent="(All)";for(let d=0;d<f.length;d+=1)f[d].c();u(t,"class","svelte-1wvrz0m"),i.__value="",ne(i,i.__value),u(s,"class","svelte-1wvrz0m"),u(e,"class","scope-field svelte-1wvrz0m")},m(d,m){$(d,e,m),r(e,t),r(e,n),r(e,s),r(s,i);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(s,null);Ee(s,l[2].container),a||(c=ee(s,"change",l[16]),a=!0)},p(d,m){if(m[0]&64){p=_e(d[6]||[]);let h;for(h=0;h<p.length;h+=1){const v=us(d,p,h);f[h]?f[h].p(v,m):(f[h]=bs(v),f[h].c(),f[h].m(s,null))}for(;h<f.length;h+=1)f[h].d(1);f.length=p.length}m[0]&20&&o!==(o=d[2].container)&&Ee(s,d[2].container)},d(d){d&&k(e),Pe(f,d),a=!1,c()}}}function bs(l){let e,t=l[20].name+"",n,s;return{c(){e=_("option"),n=z(t),e.__value=s=l[20].name,ne(e,e.__value)},m(i,o){$(i,e,o),r(e,n)},p(i,o){o[0]&64&&t!==(t=i[20].name+"")&&j(n,t),o[0]&64&&s!==(s=i[20].name)&&(e.__value=s,ne(e,e.__value))},d(i){i&&k(e)}}}function ks(l){let e,t,n,s,i,o;return{c(){e=_("label"),t=_("input"),s=z(`
      Tail`),u(t,"type","checkbox"),t.checked=n=l[2].tail,u(t,"class","svelte-1wvrz0m"),u(e,"class","tail-toggle svelte-1wvrz0m")},m(a,c){$(a,e,c),r(e,t),r(e,s),i||(o=ee(t,"change",l[18]),i=!0)},p(a,c){c[0]&20&&n!==(n=a[2].tail)&&(t.checked=n)},d(a){a&&k(e),i=!1,o()}}}function Xc(l){let e,t,n,s,i,o,a,c,p,f,d,m,h,v,g,C,y,w,T,D,q,E,S,L,F,O,I,U,Z,V,A,P,M,W,H,J,B,Q,te,G,K,x,de=_e(l[4]),he=[];for(let se=0;se<de.length;se+=1)he[se]=ds(_s(l,de,se));let oe=_e(l[3]),X=[];for(let se=0;se<oe.length;se+=1)X[se]=ms(ps(l,oe,se));let pe=_e(l[5]||[]),be=[];for(let se=0;se<pe.length;se+=1)be[se]=hs(fs(l,pe,se));let ce=l[1]&&l[2].server&&gs(l),Y=l[0]&&ks(l);return{c(){e=_("div"),t=_("div"),n=_("div"),n.innerHTML='<span class="brand-dot svelte-1wvrz0m"></span> <span>cc</span>',s=b(),i=_("div"),o=_("label"),o.textContent="Project:",a=b(),c=_("select"),p=_("option"),p.textContent="All";for(let se=0;se<he.length;se+=1)he[se].c();d=b(),m=_("div"),h=_("label"),h.textContent="Env:",v=b(),g=_("select"),C=_("option"),C.textContent="All";for(let se=0;se<X.length;se+=1)X[se].c();w=b(),T=_("div"),D=_("label"),D.textContent="Server:",q=b(),E=_("select"),S=_("option"),S.textContent="(Fleet)";for(let se=0;se<be.length;se+=1)be[se].c();F=b(),ce&&ce.c(),O=b(),I=_("div"),U=_("label"),U.textContent="Last",Z=b(),V=_("select"),A=_("option"),A.textContent="15m",P=_("option"),P.textContent="1h",M=_("option"),M.textContent="6h",W=_("option"),W.textContent="24h",H=_("option"),H.textContent="7d",J=_("option"),J.textContent="30d",Q=b(),te=_("button"),te.innerHTML='<svg viewBox="0 0 24 24" fill="none" class="svelte-1wvrz0m"><path d="M20 12a8 8 0 1 1-2.34-5.66" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path><path d="M20 4v6h-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>',G=b(),Y&&Y.c(),u(n,"class","scope-brand svelte-1wvrz0m"),u(o,"class","svelte-1wvrz0m"),p.__value="",ne(p,p.__value),u(c,"class","svelte-1wvrz0m"),u(i,"class","scope-field svelte-1wvrz0m"),u(h,"class","svelte-1wvrz0m"),C.__value="",ne(C,C.__value),u(g,"class","svelte-1wvrz0m"),u(m,"class","scope-field svelte-1wvrz0m"),u(D,"class","svelte-1wvrz0m"),S.__value="",ne(S,S.__value),u(E,"class","svelte-1wvrz0m"),u(T,"class","scope-field svelte-1wvrz0m"),u(U,"class","svelte-1wvrz0m"),A.__value="15m",ne(A,A.__value),P.__value="1h",ne(P,P.__value),M.__value="6h",ne(M,M.__value),W.__value="24h",ne(W,W.__value),H.__value="7d",ne(H,H.__value),J.__value="30d",ne(J,J.__value),u(V,"class","svelte-1wvrz0m"),u(I,"class","scope-field svelte-1wvrz0m"),u(te,"class","iconbtn svelte-1wvrz0m"),u(te,"title","Refresh"),u(t,"class","scope-bar-inner svelte-1wvrz0m"),u(e,"class","scope-bar glass svelte-1wvrz0m")},m(se,Se){$(se,e,Se),r(e,t),r(t,n),r(t,s),r(t,i),r(i,o),r(i,a),r(i,c),r(c,p);for(let ge=0;ge<he.length;ge+=1)he[ge]&&he[ge].m(c,null);Ee(c,l[2].project),r(t,d),r(t,m),r(m,h),r(m,v),r(m,g),r(g,C);for(let ge=0;ge<X.length;ge+=1)X[ge]&&X[ge].m(g,null);Ee(g,l[2].env),r(t,w),r(t,T),r(T,D),r(T,q),r(T,E),r(E,S);for(let ge=0;ge<be.length;ge+=1)be[ge]&&be[ge].m(E,null);Ee(E,l[2].server),r(t,F),ce&&ce.m(t,null),r(t,O),r(t,I),r(I,U),r(I,Z),r(I,V),r(V,A),r(V,P),r(V,M),r(V,W),r(V,H),r(V,J),Ee(V,l[2].range),r(t,Q),r(t,te),r(e,G),Y&&Y.m(e,null),K||(x=[ee(c,"change",l[13]),ee(g,"change",l[14]),ee(E,"change",l[15]),ee(V,"change",l[17]),ee(te,"click",l[10])],K=!0)},p(se,Se){if(Se[0]&16){de=_e(se[4]);let ge;for(ge=0;ge<de.length;ge+=1){const He=_s(se,de,ge);he[ge]?he[ge].p(He,Se):(he[ge]=ds(He),he[ge].c(),he[ge].m(c,null))}for(;ge<he.length;ge+=1)he[ge].d(1);he.length=de.length}if(Se[0]&20&&f!==(f=se[2].project)&&Ee(c,se[2].project),Se[0]&8){oe=_e(se[3]);let ge;for(ge=0;ge<oe.length;ge+=1){const He=ps(se,oe,ge);X[ge]?X[ge].p(He,Se):(X[ge]=ms(He),X[ge].c(),X[ge].m(g,null))}for(;ge<X.length;ge+=1)X[ge].d(1);X.length=oe.length}if(Se[0]&20&&y!==(y=se[2].env)&&Ee(g,se[2].env),Se[0]&32){pe=_e(se[5]||[]);let ge;for(ge=0;ge<pe.length;ge+=1){const He=fs(se,pe,ge);be[ge]?be[ge].p(He,Se):(be[ge]=hs(He),be[ge].c(),be[ge].m(E,null))}for(;ge<be.length;ge+=1)be[ge].d(1);be.length=pe.length}Se[0]&20&&L!==(L=se[2].server)&&Ee(E,se[2].server),se[1]&&se[2].server?ce?ce.p(se,Se):(ce=gs(se),ce.c(),ce.m(t,O)):ce&&(ce.d(1),ce=null),Se[0]&20&&B!==(B=se[2].range)&&Ee(V,se[2].range),se[0]?Y?Y.p(se,Se):(Y=ks(se),Y.c(),Y.m(e,null)):Y&&(Y.d(1),Y=null)},i:ve,o:ve,d(se){se&&k(e),Pe(he,se),Pe(X,se),Pe(be,se),ce&&ce.d(),Y&&Y.d(),K=!1,Fe(x)}}}function xc(l,e,t){let n,s,i,o,a,c,p;at(l,Gl,S=>t(2,i=S)),at(l,za,S=>t(11,o=S)),at(l,Bn,S=>t(12,a=S)),at(l,tn,S=>t(5,c=S)),at(l,zc,S=>t(6,p=S));let{showTail:f=!1}=e,{showContainer:d=!1}=e;const m=nn();function h(S,L){Gl.update(F=>({...F,[S]:L})),m("change")}function v(S){Gl.update(L=>({...L,server:S,container:""})),m("change")}function g(S){Gl.update(L=>({...L,tail:S})),m("change")}function C(){m("refresh")}const y=S=>h("project",S.target.value),w=S=>h("env",S.target.value),T=S=>v(S.target.value),D=S=>h("container",S.target.value),q=S=>h("range",S.target.value),E=S=>g(S.target.checked);return l.$$set=S=>{"showTail"in S&&t(0,f=S.showTail),"showContainer"in S&&t(1,d=S.showContainer)},l.$$.update=()=>{l.$$.dirty[0]&6144&&t(4,n=[...new Set([...a||[],...(o||[]).map(S=>S.project).filter(Boolean)])].sort()),l.$$.dirty[0]&2048&&t(3,s=[...new Set(["prod","staging","uat","test","dev",...(o||[]).map(S=>S.environment).filter(Boolean)])].sort()),l.$$.dirty[0]&4&&(i.server?Nn.fetch({server:i.server}):(Nn.clear(),i.container&&Gl.update(S=>({...S,container:""}))))},[f,d,i,s,n,c,p,h,v,g,C,o,a,y,w,T,D,q,E]}class eu extends qt{constructor(e){super(),Dt(this,e,xc,Xc,yt,{showTail:0,showContainer:1},null,[-1,-1])}}function tu(l){let e,t,n;const s=l[2].default,i=zl(s,l,l[1],null);return{c(){e=_("span"),i&&i.c(),u(e,"class",t="badge badge-"+l[0]+" svelte-1d0la3i")},m(o,a){$(o,e,a),i&&i.m(e,null),n=!0},p(o,[a]){i&&i.p&&(!n||a&2)&&Dl(i,s,o,o[1],n?Tl(s,o[1],a,null):ql(o[1]),null),(!n||a&1&&t!==(t="badge badge-"+o[0]+" svelte-1d0la3i"))&&u(e,"class",t)},i(o){n||(N(i,o),n=!0)},o(o){R(i,o),n=!1},d(o){o&&k(e),i&&i.d(o)}}}function lu(l,e,t){let{$$slots:n={},$$scope:s}=e,{variant:i="info"}=e;return l.$$set=o=>{"variant"in o&&t(0,i=o.variant),"$$scope"in o&&t(1,s=o.$$scope)},[i,s,n]}class Je extends qt{constructor(e){super(),Dt(this,e,lu,tu,yt,{variant:0})}}const nu=l=>({}),$s=l=>({}),su=l=>({}),ws=l=>({});function ys(l){let e,t,n,s,i,o,a,c,p,f,d=(l[1]||l[6].header)&&Cs(l);const m=l[9].default,h=zl(m,l,l[8],null);let v=l[6].footer&&zs(l);return{c(){e=_("div"),t=_("div"),d&&d.c(),n=b(),s=_("div"),h&&h.c(),i=b(),v&&v.c(),u(s,"class","modal-body svelte-kno8vc"),u(t,"class","modal svelte-kno8vc"),Zt(t,"max-width",l[2]),u(e,"class","modal-overlay svelte-kno8vc"),u(e,"role","dialog"),u(e,"aria-modal","true")},m(g,C){$(g,e,C),r(e,t),d&&d.m(t,null),r(t,n),r(t,s),h&&h.m(s,null),r(t,i),v&&v.m(t,null),c=!0,p||(f=ee(e,"click",l[4]),p=!0)},p(g,C){g[1]||g[6].header?d?(d.p(g,C),C&66&&N(d,1)):(d=Cs(g),d.c(),N(d,1),d.m(t,n)):d&&(Te(),R(d,1,1,()=>{d=null}),De()),h&&h.p&&(!c||C&256)&&Dl(h,m,g,g[8],c?Tl(m,g[8],C,null):ql(g[8]),null),g[6].footer?v?(v.p(g,C),C&64&&N(v,1)):(v=zs(g),v.c(),N(v,1),v.m(t,null)):v&&(Te(),R(v,1,1,()=>{v=null}),De()),(!c||C&4)&&Zt(t,"max-width",g[2])},i(g){c||(N(d),N(h,g),N(v),g&&Ze(()=>{c&&(o||(o=Wl(t,es,{duration:200,start:.95},!0)),o.run(1))}),g&&Ze(()=>{c&&(a||(a=Wl(e,Xn,{duration:150},!0)),a.run(1))}),c=!0)},o(g){R(d),R(h,g),R(v),g&&(o||(o=Wl(t,es,{duration:200,start:.95},!1)),o.run(0)),g&&(a||(a=Wl(e,Xn,{duration:150},!1)),a.run(0)),c=!1},d(g){g&&k(e),d&&d.d(),h&&h.d(g),v&&v.d(),g&&o&&o.end(),g&&a&&a.end(),p=!1,f()}}}function Cs(l){let e,t,n,s,i,o,a,c=l[1]&&Ss(l);const p=l[9].header,f=zl(p,l,l[8],ws);return{c(){e=_("div"),c&&c.c(),t=b(),f&&f.c(),n=b(),s=_("button"),s.innerHTML='<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-kno8vc"><path d="M18 6L6 18M6 6l12 12"></path></svg>',u(s,"class","modal-close svelte-kno8vc"),u(s,"aria-label","Close"),u(e,"class","modal-header svelte-kno8vc")},m(d,m){$(d,e,m),c&&c.m(e,null),r(e,t),f&&f.m(e,null),r(e,n),r(e,s),i=!0,o||(a=ee(s,"click",l[3]),o=!0)},p(d,m){d[1]?c?c.p(d,m):(c=Ss(d),c.c(),c.m(e,t)):c&&(c.d(1),c=null),f&&f.p&&(!i||m&256)&&Dl(f,p,d,d[8],i?Tl(p,d[8],m,su):ql(d[8]),ws)},i(d){i||(N(f,d),i=!0)},o(d){R(f,d),i=!1},d(d){d&&k(e),c&&c.d(),f&&f.d(d),o=!1,a()}}}function Ss(l){let e,t;return{c(){e=_("h3"),t=z(l[1]),u(e,"class","svelte-kno8vc")},m(n,s){$(n,e,s),r(e,t)},p(n,s){s&2&&j(t,n[1])},d(n){n&&k(e)}}}function zs(l){let e,t;const n=l[9].footer,s=zl(n,l,l[8],$s);return{c(){e=_("div"),s&&s.c(),u(e,"class","modal-footer svelte-kno8vc")},m(i,o){$(i,e,o),s&&s.m(e,null),t=!0},p(i,o){s&&s.p&&(!t||o&256)&&Dl(s,n,i,i[8],t?Tl(n,i[8],o,nu):ql(i[8]),$s)},i(i){t||(N(s,i),t=!0)},o(i){R(s,i),t=!1},d(i){i&&k(e),s&&s.d(i)}}}function ou(l){let e,t,n,s,i=l[0]&&ys(l);return{c(){i&&i.c(),e=Ie()},m(o,a){i&&i.m(o,a),$(o,e,a),t=!0,n||(s=ee(window,"keydown",l[5]),n=!0)},p(o,[a]){o[0]?i?(i.p(o,a),a&1&&N(i,1)):(i=ys(o),i.c(),N(i,1),i.m(e.parentNode,e)):i&&(Te(),R(i,1,1,()=>{i=null}),De())},i(o){t||(N(i),t=!0)},o(o){R(i),t=!1},d(o){o&&k(e),i&&i.d(o),n=!1,s()}}}function iu(l,e,t){let{$$slots:n={},$$scope:s}=e;const i=pa(n);let{open:o=!1}=e,{title:a=""}=e,{width:c="500px"}=e,{closeOnOverlay:p=!0}=e;const f=nn();function d(){f("close")}function m(v){p&&v.target===v.currentTarget&&d()}function h(v){v.key==="Escape"&&d()}return l.$$set=v=>{"open"in v&&t(0,o=v.open),"title"in v&&t(1,a=v.title),"width"in v&&t(2,c=v.width),"closeOnOverlay"in v&&t(7,p=v.closeOnOverlay),"$$scope"in v&&t(8,s=v.$$scope)},[o,a,c,d,m,h,i,p,s,n]}class Cl extends qt{constructor(e){super(),Dt(this,e,iu,ou,yt,{open:0,title:1,width:2,closeOnOverlay:7})}}function Ts(l,e,t){const n=l.slice();n[29]=e[t];const s=vu(n[29]);n[30]=s;const i=vn(n[30]);n[31]=i;const o=hu(n[29]);n[32]=o;const a=n[8][n[30]];return n[33]=a,n}function Ds(l){let e;return{c(){e=_("span"),e.textContent="⚠",u(e,"class","health-warn svelte-3mbtsx"),u(e,"title","High resource usage")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function qs(l){let e;return{c(){e=_("span"),e.textContent="⚠️",u(e,"class","agent-warn svelte-3mbtsx"),u(e,"title","Agent outdated")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function ru(l){let e;return{c(){e=_("span"),e.textContent="offline",u(e,"class","metric-inline offline svelte-3mbtsx")},m(t,n){$(t,e,n)},p:ve,d(t){t&&k(e)}}}function au(l){let e,t,n,s,i;return{c(){e=_("span"),t=b(),n=_("span"),s=b(),i=_("span"),u(e,"class","metric-skeleton svelte-3mbtsx"),u(n,"class","metric-skeleton svelte-3mbtsx"),u(i,"class","metric-skeleton svelte-3mbtsx")},m(o,a){$(o,e,a),$(o,t,a),$(o,n,a),$(o,s,a),$(o,i,a)},p:ve,d(o){o&&(k(e),k(t),k(n),k(s),k(i))}}}function cu(l){let e,t,n=l[3].cpu.toFixed(0)+"",s,i,o,a,c,p,f=l[3].mem.toFixed(0)+"",d,m,h,v,g,C,y=l[3].disk.toFixed(0)+"",w,T,D,q,E,S=(l[3].netIn||l[3].netOut)&&Es(l);return{c(){e=_("span"),t=z("CPU "),s=z(n),i=z("%"),a=b(),c=_("span"),p=z("MEM "),d=z(f),m=z("%"),v=b(),g=_("span"),C=z("DISK "),w=z(y),T=z("%"),q=b(),S&&S.c(),E=Ie(),u(e,"class",o="metric-inline "+Ul(l[3].cpu)+" svelte-3mbtsx"),u(c,"class",h="metric-inline "+Ul(l[3].mem)+" svelte-3mbtsx"),u(g,"class",D="metric-inline "+Ul(l[3].disk)+" svelte-3mbtsx")},m(L,F){$(L,e,F),r(e,t),r(e,s),r(e,i),$(L,a,F),$(L,c,F),r(c,p),r(c,d),r(c,m),$(L,v,F),$(L,g,F),r(g,C),r(g,w),r(g,T),$(L,q,F),S&&S.m(L,F),$(L,E,F)},p(L,F){F[0]&8&&n!==(n=L[3].cpu.toFixed(0)+"")&&j(s,n),F[0]&8&&o!==(o="metric-inline "+Ul(L[3].cpu)+" svelte-3mbtsx")&&u(e,"class",o),F[0]&8&&f!==(f=L[3].mem.toFixed(0)+"")&&j(d,f),F[0]&8&&h!==(h="metric-inline "+Ul(L[3].mem)+" svelte-3mbtsx")&&u(c,"class",h),F[0]&8&&y!==(y=L[3].disk.toFixed(0)+"")&&j(w,y),F[0]&8&&D!==(D="metric-inline "+Ul(L[3].disk)+" svelte-3mbtsx")&&u(g,"class",D),L[3].netIn||L[3].netOut?S?S.p(L,F):(S=Es(L),S.c(),S.m(E.parentNode,E)):S&&(S.d(1),S=null)},d(L){L&&(k(e),k(a),k(c),k(v),k(g),k(q),k(E)),S&&S.d(L)}}}function Es(l){let e,t,n=_n(l[3].netIn)+"",s,i,o=_n(l[3].netOut)+"",a;return{c(){e=_("span"),t=z("↓"),s=z(n),i=z(" ↑"),a=z(o),u(e,"class","metric-inline net svelte-3mbtsx")},m(c,p){$(c,e,p),r(e,t),r(e,s),r(e,i),r(e,a)},p(c,p){p[0]&8&&n!==(n=_n(c[3].netIn)+"")&&j(s,n),p[0]&8&&o!==(o=_n(c[3].netOut)+"")&&j(a,o)},d(c){c&&k(e)}}}function Ps(l){let e,t;return e=new Je({props:{variant:"info",$$slots:{default:[uu]},$$scope:{ctx:l}}}),{c(){ae(e.$$.fragment)},m(n,s){ie(e,n,s),t=!0},p(n,s){const i={};s[0]&1|s[1]&32&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){re(e,n)}}}function uu(l){let e=l[0].project+"",t;return{c(){t=z(e)},m(n,s){$(n,t,s)},p(n,s){s[0]&1&&e!==(e=n[0].project+"")&&j(t,e)},d(n){n&&k(t)}}}function fu(l){let e,t=_e(l[6]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Ls(Ts(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=Ie()},m(s,i){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,i);$(s,e,i)},p(s,i){if(i[0]&459072){t=_e(s[6]);let o;for(o=0;o<t.length;o+=1){const a=Ts(s,t,o);n[o]?n[o].p(a,i):(n[o]=Ls(a),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),Pe(n,s)}}}function pu(l){let e;return{c(){e=_("span"),e.textContent="No containers",u(e,"class","empty-text svelte-3mbtsx")},m(t,n){$(t,e,n)},p:ve,d(t){t&&k(e)}}}function _u(l){let e;return{c(){e=_("span"),e.textContent="Loading...",u(e,"class","loading-text svelte-3mbtsx")},m(t,n){$(t,e,n)},p:ve,d(t){t&&k(e)}}}function Ls(l){let e,t,n,s,i,o=l[31]+"",a,c,p,f,d=l[33]==="restart"?"...":"↻",m,h,v,g,C,y,w,T,D,q,E,S;function L(){return l[23](l[30])}function F(){return l[24](l[30])}function O(){return l[25](l[30])}return{c(){e=_("div"),t=_("span"),s=b(),i=_("span"),a=z(o),c=b(),p=_("div"),f=_("button"),m=z(d),v=b(),g=_("button"),g.textContent="📋",C=b(),y=_("button"),w=z("×"),D=b(),u(t,"class",n="container-status "+Ns(l[32])+" svelte-3mbtsx"),u(i,"class","container-name svelte-3mbtsx"),u(f,"class","pill-btn svelte-3mbtsx"),u(f,"title","Restart"),f.disabled=h=l[33],u(g,"class","pill-btn svelte-3mbtsx"),u(g,"title","Logs"),u(y,"class","pill-btn danger svelte-3mbtsx"),u(y,"title","Remove"),y.disabled=T=l[33],u(p,"class","container-actions svelte-3mbtsx"),u(e,"class","container-pill svelte-3mbtsx"),u(e,"title",q=l[30]),we(e,"busy",l[33])},m(I,U){$(I,e,U),r(e,t),r(e,s),r(e,i),r(i,a),r(e,c),r(e,p),r(p,f),r(f,m),r(p,v),r(p,g),r(p,C),r(p,y),r(y,w),r(e,D),E||(S=[ee(f,"click",L),ee(g,"click",F),ee(y,"click",O)],E=!0)},p(I,U){l=I,U[0]&64&&n!==(n="container-status "+Ns(l[32])+" svelte-3mbtsx")&&u(t,"class",n),U[0]&64&&o!==(o=l[31]+"")&&j(a,o),U[0]&320&&d!==(d=l[33]==="restart"?"...":"↻")&&j(m,d),U[0]&320&&h!==(h=l[33])&&(f.disabled=h),U[0]&320&&T!==(T=l[33])&&(y.disabled=T),U[0]&64&&q!==(q=l[30])&&u(e,"title",q),U[0]&320&&we(e,"busy",l[33])},d(I){I&&k(e),E=!1,Fe(S)}}}function du(l){var ce;let e,t,n,s,i,o,a,c=(l[0].name||"Unnamed")+"",p,f,d,m,h,v,g,C=(((ce=l[0].region)==null?void 0:ce.slug)||l[0].region||"")+"",y,w,T,D,q,E,S,L,F,O,I,U,Z,V=l[7]||l[9]?"...":"↻",A,P,M,W,H,J,B,Q,te,G=l[12]&&Ds(),K=l[13]&&qs();function x(Y,se){if(Y[4]&&Y[3])return cu;if(Y[4]&&Y[9])return au;if(!Y[4])return ru}let de=x(l),he=de&&de(l),oe=l[1]&&l[0].project&&Ps(l);function X(Y,se){return Y[7]&&Y[6].length===0?_u:Y[6].length===0&&Y[2]?pu:fu}let pe=X(l),be=pe(l);return{c(){e=_("div"),t=_("div"),n=_("div"),s=_("span"),o=b(),a=_("span"),p=z(c),f=b(),G&&G.c(),d=b(),m=_("code"),h=z(l[10]),v=b(),g=_("span"),y=z(C),w=b(),K&&K.c(),T=b(),D=_("div"),he&&he.c(),q=b(),E=_("span"),S=z("£"),L=z(l[11]),F=z("/mo"),O=b(),I=_("div"),oe&&oe.c(),U=b(),Z=_("button"),A=z(V),M=b(),W=_("button"),W.textContent="🗑️",H=b(),J=_("div"),be.c(),u(s,"class",i="status-dot "+l[14](l[5])+" svelte-3mbtsx"),u(a,"class","server-name svelte-3mbtsx"),u(m,"class","server-ip svelte-3mbtsx"),u(g,"class","server-meta svelte-3mbtsx"),u(n,"class","server-info svelte-3mbtsx"),u(E,"class","metric-inline cost svelte-3mbtsx"),u(D,"class","server-metrics-inline svelte-3mbtsx"),u(Z,"class","icon-btn svelte-3mbtsx"),u(Z,"title","Refresh"),Z.disabled=P=l[7]||l[9],u(W,"class","icon-btn danger svelte-3mbtsx"),u(W,"title","Destroy"),u(I,"class","server-actions svelte-3mbtsx"),u(t,"class","server-header svelte-3mbtsx"),u(J,"class","containers svelte-3mbtsx"),u(e,"class","server-card svelte-3mbtsx")},m(Y,se){$(Y,e,se),r(e,t),r(t,n),r(n,s),r(n,o),r(n,a),r(a,p),r(n,f),G&&G.m(n,null),r(n,d),r(n,m),r(m,h),r(n,v),r(n,g),r(g,y),r(n,w),K&&K.m(n,null),r(t,T),r(t,D),he&&he.m(D,null),r(D,q),r(D,E),r(E,S),r(E,L),r(E,F),r(t,O),r(t,I),oe&&oe.m(I,null),r(I,U),r(I,Z),r(Z,A),r(I,M),r(I,W),r(e,H),r(e,J),be.m(J,null),B=!0,Q||(te=[ee(Z,"click",l[19]),ee(W,"click",l[22])],Q=!0)},p(Y,se){var Se;(!B||se[0]&32&&i!==(i="status-dot "+Y[14](Y[5])+" svelte-3mbtsx"))&&u(s,"class",i),(!B||se[0]&1)&&c!==(c=(Y[0].name||"Unnamed")+"")&&j(p,c),Y[12]?G||(G=Ds(),G.c(),G.m(n,d)):G&&(G.d(1),G=null),(!B||se[0]&1024)&&j(h,Y[10]),(!B||se[0]&1)&&C!==(C=(((Se=Y[0].region)==null?void 0:Se.slug)||Y[0].region||"")+"")&&j(y,C),Y[13]?K||(K=qs(),K.c(),K.m(n,null)):K&&(K.d(1),K=null),de===(de=x(Y))&&he?he.p(Y,se):(he&&he.d(1),he=de&&de(Y),he&&(he.c(),he.m(D,q))),(!B||se[0]&2048)&&j(L,Y[11]),Y[1]&&Y[0].project?oe?(oe.p(Y,se),se[0]&3&&N(oe,1)):(oe=Ps(Y),oe.c(),N(oe,1),oe.m(I,U)):oe&&(Te(),R(oe,1,1,()=>{oe=null}),De()),(!B||se[0]&640)&&V!==(V=Y[7]||Y[9]?"...":"↻")&&j(A,V),(!B||se[0]&640&&P!==(P=Y[7]||Y[9]))&&(Z.disabled=P),pe===(pe=X(Y))&&be?be.p(Y,se):(be.d(1),be=pe(Y),be&&(be.c(),be.m(J,null)))},i(Y){B||(N(oe),B=!0)},o(Y){R(oe),B=!1},d(Y){Y&&k(e),G&&G.d(),K&&K.d(),he&&he.d(),oe&&oe.d(),be.d(),Q=!1,Fe(te)}}}function mu(l){return l.includes("4gb")?24:l.includes("2gb")?12:l.includes("1gb")?6:l.includes("512mb")?4:6}function Ns(l){if(!l)return"gray";const e=l.toLowerCase();return e==="running"?"green":e==="exited"||e==="stopped"?"yellow":e==="restarting"?"blue":"red"}function Ul(l){return l>=90?"danger":l>=70?"warning":"ok"}function vu(l){return l.Names&&typeof l.Names=="string"?l.Names.replace(/^\//,""):Array.isArray(l.Names)&&l.Names.length>0?l.Names[0].replace(/^\//,""):l.Name?l.Name.replace(/^\//,""):l.name?l.name:l.ID?l.ID.substring(0,12):l.Id?l.Id.substring(0,12):"unknown"}function hu(l){return l.State||l.state||l.Status||"unknown"}function vn(l){if(!l)return"unknown";const e=l.split("-");return e.length>=3&&e[0].length<=10?e.slice(2).join("-"):l}function _n(l){return l?l<1024?`${l}B`:l<1048576?`${(l/1024).toFixed(0)}K`:l<1073741824?`${(l/1048576).toFixed(1)}M`:`${(l/1073741824).toFixed(1)}G`:"0"}function gu(l,e,t){let n,s,i,o,a,c,p,f;at(l,Sa,P=>t(21,f=P));let{server:d}=e,{showProject:m=!1}=e;const h=nn();let v=[],g=!1,C=!1,y={},w=null,T=!1;function D(P){switch(P){case"active":case"online":return"green";case"new":case"starting":return"blue";case"off":case"stopped":return"yellow";default:return"red"}}function q(P){h(P,{server:d})}async function E(){if(!(!i||!f)){t(7,g=!0);try{const P=await Me("GET",`/infra/agent/${n}/containers?do_token=${f}`);t(6,v=P.containers||[]),t(2,C=!0)}catch(P){console.error("Failed to load containers:",P),t(6,v=[])}finally{t(7,g=!1)}}}async function S(){var P,M,W,H,J;if(!(!i||!f)){t(9,T=!0);try{const B=await Me("GET",`/infra/agent/${n}/metrics?do_token=${f}`);t(3,w={cpu:((P=B.system)==null?void 0:P.load_1m)||0,mem:((M=B.system)==null?void 0:M.mem_percent)||0,disk:((W=B.system)==null?void 0:W.disk_percent)||0,netIn:((H=B.system)==null?void 0:H.net_in_bytes)||0,netOut:((J=B.system)==null?void 0:J.net_out_bytes)||0})}catch(B){console.error("Failed to load metrics:",B)}finally{t(9,T=!1)}}}async function L(P){if(f){t(8,y[P]="restart",y);try{await Me("POST",`/infra/agent/${n}/containers/${P}/restart?do_token=${f}`),$e.success(`Restarted ${vn(P)}`),await E()}catch(M){$e.error(`Failed: ${M.message}`)}finally{t(8,y[P]=null,y)}}}async function F(P){if(f&&confirm(`Remove "${vn(P)}"?`)){t(8,y[P]="remove",y);try{await Me("POST",`/infra/agent/${n}/containers/${P}/stop?do_token=${f}`).catch(()=>{}),await Me("POST",`/infra/agent/${n}/containers/${P}/remove?do_token=${f}`),$e.success(`Removed ${vn(P)}`),await E()}catch(M){$e.error(`Failed: ${M.message}`)}finally{t(8,y[P]=null,y)}}}function O(P){h("viewLogs",{server:d,containerName:P})}async function I(){await Promise.all([E(),S()])}const U=()=>q("destroy"),Z=P=>L(P),V=P=>O(P),A=P=>F(P);return l.$$set=P=>{"server"in P&&t(0,d=P.server),"showProject"in P&&t(1,m=P.showProject)},l.$$.update=()=>{var P,M,W;l.$$.dirty[0]&1&&t(10,n=d.ip||((W=(M=(P=d.networks)==null?void 0:P.v4)==null?void 0:M[0])==null?void 0:W.ip_address)||"N/A"),l.$$.dirty[0]&1&&t(5,s=d.status||"unknown"),l.$$.dirty[0]&32&&t(4,i=s==="active"||s==="online"),l.$$.dirty[0]&1&&t(20,o=d.agent_version),l.$$.dirty[0]&1048576&&t(13,a=o&&o!==Tc),l.$$.dirty[0]&8&&t(12,c=w&&(w.cpu>80||w.mem>80||w.disk>80)),l.$$.dirty[0]&1&&t(11,p=mu(d.size_slug||d.size||"")),l.$$.dirty[0]&2097172&&i&&!C&&f&&(E(),S())},[d,m,C,w,i,s,v,g,y,T,n,p,c,a,D,q,L,F,O,I,o,f,U,Z,V,A]}class bu extends qt{constructor(e){super(),Dt(this,e,gu,du,yt,{server:0,showProject:1},null,[-1,-1])}}function Ms(l,e,t){const n=l.slice();return n[89]=e[t],n}function Rs(l,e,t){const n=l.slice();return n[92]=e[t],n}function As(l,e,t){const n=l.slice();return n[95]=e[t],n}function Os(l,e,t){const n=l.slice();return n[98]=e[t],n}function js(l,e,t){const n=l.slice();return n[101]=e[t],n}function Fs(l,e,t){const n=l.slice();return n[104]=e[t],n}function Is(l,e,t){const n=l.slice();return n[107]=e[t],n}function Bs(l){let e,t=l[107]+"",n,s;return{c(){e=_("option"),n=z(t),e.__value=s=l[107],ne(e,e.__value)},m(i,o){$(i,e,o),r(e,n)},p(i,o){o[0]&1073741824&&t!==(t=i[107]+"")&&j(n,t),o[0]&1073741824&&s!==(s=i[107])&&(e.__value=s,ne(e,e.__value))},d(i){i&&k(e)}}}function Us(l){let e,t=l[104]+"",n,s;return{c(){e=_("option"),n=z(t),e.__value=s=l[104],ne(e,e.__value)},m(i,o){$(i,e,o),r(e,n)},p(i,o){o[0]&536870912&&t!==(t=i[104]+"")&&j(n,t),o[0]&536870912&&s!==(s=i[104])&&(e.__value=s,ne(e,e.__value))},d(i){i&&k(e)}}}function Hs(l){let e,t,n,s;const i=[wu,$u,ku],o=[];function a(c,p){return c[25]?0:c[28].length?2:1}return t=a(l),n=o[t]=i[t](l),{c(){e=_("div"),n.c(),u(e,"class","section-content svelte-16pmxmk")},m(c,p){$(c,e,p),o[t].m(e,null),s=!0},p(c,p){let f=t;t=a(c),t===f?o[t].p(c,p):(Te(),R(o[f],1,1,()=>{o[f]=null}),De(),n=o[t],n?n.p(c,p):(n=o[t]=i[t](c),n.c()),N(n,1),n.m(e,null))},i(c){s||(N(n),s=!0)},o(c){R(n),s=!1},d(c){c&&k(e),o[t].d()}}}function ku(l){let e=[],t=new Map,n,s,i=_e(l[28]);const o=a=>a[101].id;for(let a=0;a<i.length;a+=1){let c=js(l,i,a),p=o(c);t.set(p,e[a]=Gs(p,c))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();n=Ie()},m(a,c){for(let p=0;p<e.length;p+=1)e[p]&&e[p].m(a,c);$(a,n,c),s=!0},p(a,c){c[0]&268435456|c[1]&768&&(i=_e(a[28]),Te(),e=$a(e,c,o,1,a,i,t,n.parentNode,ka,Gs,n,js),De())},i(a){if(!s){for(let c=0;c<i.length;c+=1)N(e[c]);s=!0}},o(a){for(let c=0;c<e.length;c+=1)R(e[c]);s=!1},d(a){a&&k(n);for(let c=0;c<e.length;c+=1)e[c].d(a)}}}function $u(l){let e;function t(i,o){return i[1]||i[2]?Cu:yu}let n=t(l),s=n(l);return{c(){e=_("div"),s.c(),u(e,"class","empty-msg svelte-16pmxmk")},m(i,o){$(i,e,o),s.m(e,null)},p(i,o){n!==(n=t(i))&&(s.d(1),s=n(i),s&&(s.c(),s.m(e,null)))},i:ve,o:ve,d(i){i&&k(e),s.d()}}}function wu(l){let e;return{c(){e=_("div"),e.innerHTML='<div class="skeleton-card svelte-16pmxmk"></div> <div class="skeleton-card svelte-16pmxmk"></div>',u(e,"class","loading-skeleton svelte-16pmxmk")},m(t,n){$(t,e,n)},p:ve,i:ve,o:ve,d(t){t&&k(e)}}}function Gs(l,e){let t,n,s;return n=new bu({props:{server:e[101]}}),n.$on("destroy",e[39]),n.$on("viewLogs",e[40]),{key:l,first:null,c(){t=Ie(),ae(n.$$.fragment),this.first=t},m(i,o){$(i,t,o),ie(n,i,o),s=!0},p(i,o){e=i;const a={};o[0]&268435456&&(a.server=e[101]),n.$set(a)},i(i){s||(N(n.$$.fragment,i),s=!0)},o(i){R(n.$$.fragment,i),s=!1},d(i){i&&k(t),re(n,i)}}}function yu(l){let e;return{c(){e=z('No servers. Click "+ Add" to provision.')},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Cu(l){let e;return{c(){e=z("No servers match filters")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Ws(l){let e,t,n,s,i,o,a,c;const p=[Tu,zu,Su],f=[];function d(g,C){return g[17]===null?0:g[17].exists?1:2}i=d(l),o=f[i]=p[i](l);function m(g,C){return g[5]?Lu:g[4].length?Eu:Pu}let h=m(l),v=h(l);return{c(){e=_("div"),t=_("div"),n=_("span"),n.textContent="Base Snapshot:",s=b(),o.c(),a=b(),v.c(),u(n,"class","base-label svelte-16pmxmk"),u(t,"class","base-snapshot-row svelte-16pmxmk"),u(e,"class","section-content svelte-16pmxmk")},m(g,C){$(g,e,C),r(e,t),r(t,n),r(t,s),f[i].m(t,null),r(e,a),v.m(e,null),c=!0},p(g,C){let y=i;i=d(g),i===y?f[i].p(g,C):(Te(),R(f[y],1,1,()=>{f[y]=null}),De(),o=f[i],o?o.p(g,C):(o=f[i]=p[i](g),o.c()),N(o,1),o.m(t,null)),h===(h=m(g))&&v?v.p(g,C):(v.d(1),v=h(g),v&&(v.c(),v.m(e,null)))},i(g){c||(N(o),c=!0)},o(g){R(o),c=!1},d(g){g&&k(e),f[i].d(),v.d()}}}function Su(l){let e,t,n,s;return e=new Je({props:{variant:"warning",$$slots:{default:[Du]},$$scope:{ctx:l}}}),{c(){ae(e.$$.fragment),t=b(),n=_("span"),n.textContent='Use "+ Build" to create',u(n,"class","base-hint svelte-16pmxmk")},m(i,o){ie(e,i,o),$(i,t,o),$(i,n,o),s=!0},p(i,o){const a={};o[3]&131072&&(a.$$scope={dirty:o,ctx:i}),e.$set(a)},i(i){s||(N(e.$$.fragment,i),s=!0)},o(i){R(e.$$.fragment,i),s=!1},d(i){i&&(k(t),k(n)),re(e,i)}}}function zu(l){let e,t;return e=new Je({props:{variant:"success",$$slots:{default:[qu]},$$scope:{ctx:l}}}),{c(){ae(e.$$.fragment)},m(n,s){ie(e,n,s),t=!0},p(n,s){const i={};s[0]&131072|s[3]&131072&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){re(e,n)}}}function Tu(l){let e;return{c(){e=_("span"),e.textContent="checking...",u(e,"class","base-status checking svelte-16pmxmk")},m(t,n){$(t,e,n)},p:ve,i:ve,o:ve,d(t){t&&k(e)}}}function Du(l){let e;return{c(){e=z("Not found")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function qu(l){let e,t=l[17].name+"",n;return{c(){e=z("✓ "),n=z(t)},m(s,i){$(s,e,i),$(s,n,i)},p(s,i){i[0]&131072&&t!==(t=s[17].name+"")&&j(n,t)},d(s){s&&(k(e),k(n))}}}function Eu(l){let e,t=_e(l[4]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Vs(Os(l,t,s));return{c(){e=_("div");for(let s=0;s<n.length;s+=1)n[s].c();u(e,"class","snapshots-grid svelte-16pmxmk")},m(s,i){$(s,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,i){if(i[0]&16|i[1]&32){t=_e(s[4]);let o;for(o=0;o<t.length;o+=1){const a=Os(s,t,o);n[o]?n[o].p(a,i):(n[o]=Vs(a),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),Pe(n,s)}}}function Pu(l){let e;return{c(){e=_("div"),e.textContent="No custom snapshots",u(e,"class","empty-msg svelte-16pmxmk")},m(t,n){$(t,e,n)},p:ve,d(t){t&&k(e)}}}function Lu(l){let e;return{c(){e=_("div"),e.textContent="Loading...",u(e,"class","empty-msg svelte-16pmxmk")},m(t,n){$(t,e,n)},p:ve,d(t){t&&k(e)}}}function Vs(l){let e,t,n=l[98].name+"",s,i,o,a=Xs(l[98].size_gigabytes*1024*1024*1024)+"",c,p,f=xs(l[98].created_at)+"",d,m,h,v,g,C;function y(){return l[59](l[98])}return{c(){e=_("div"),t=_("span"),s=z(n),i=b(),o=_("span"),c=z(a),p=z(" • "),d=z(f),m=b(),h=_("button"),h.textContent="×",v=b(),u(t,"class","snap-name svelte-16pmxmk"),u(o,"class","snap-meta svelte-16pmxmk"),u(h,"class","pill-del svelte-16pmxmk"),u(h,"title","Delete"),u(e,"class","snapshot-pill svelte-16pmxmk")},m(w,T){$(w,e,T),r(e,t),r(t,s),r(e,i),r(e,o),r(o,c),r(o,p),r(o,d),r(e,m),r(e,h),r(e,v),g||(C=ee(h,"click",y),g=!0)},p(w,T){l=w,T[0]&16&&n!==(n=l[98].name+"")&&j(s,n),T[0]&16&&a!==(a=Xs(l[98].size_gigabytes*1024*1024*1024)+"")&&j(c,a),T[0]&16&&f!==(f=xs(l[98].created_at)+"")&&j(d,f)},d(w){w&&k(e),g=!1,C()}}}function Js(l){let e,t=l[95].label+"",n;return{c(){e=_("option"),n=z(t),e.__value=l[95].value,ne(e,e.__value)},m(s,i){$(s,e,i),r(e,n)},p:ve,d(s){s&&k(e)}}}function Ks(l){let e,t=l[92].label+"",n;return{c(){e=_("option"),n=z(t),e.__value=l[92].value,ne(e,e.__value)},m(s,i){$(s,e,i),r(e,n)},p:ve,d(s){s&&k(e)}}}function Nu(l){let e,t,n,s,i,o,a,c,p,f,d,m,h,v,g,C,y,w,T,D,q,E,S,L,F,O,I,U,Z,V,A=_e(l[33]),P=[];for(let H=0;H<A.length;H+=1)P[H]=Js(As(l,A,H));let M=_e(l[34]),W=[];for(let H=0;H<M.length;H+=1)W[H]=Ks(Rs(l,M,H));return{c(){e=_("div"),t=_("div"),n=_("label"),n.textContent="Name",s=b(),i=_("input"),o=b(),a=_("div"),c=_("label"),c.textContent="Project",p=b(),f=_("input"),d=b(),m=_("div"),h=_("label"),h.textContent="Env",v=b(),g=_("select"),C=_("option"),C.textContent="prod",y=_("option"),y.textContent="staging",w=_("option"),w.textContent="dev",T=b(),D=_("div"),q=_("label"),q.textContent="Region",E=b(),S=_("select");for(let H=0;H<P.length;H+=1)P[H].c();L=b(),F=_("div"),O=_("label"),O.textContent="Size",I=b(),U=_("select");for(let H=0;H<W.length;H+=1)W[H].c();u(n,"class","svelte-16pmxmk"),u(i,"type","text"),u(i,"placeholder","web-01"),u(i,"class","svelte-16pmxmk"),u(t,"class","form-group full svelte-16pmxmk"),u(c,"class","svelte-16pmxmk"),u(f,"type","text"),u(f,"placeholder","myapp"),u(f,"class","svelte-16pmxmk"),u(a,"class","form-group svelte-16pmxmk"),u(h,"class","svelte-16pmxmk"),C.__value="prod",ne(C,C.__value),y.__value="staging",ne(y,y.__value),w.__value="dev",ne(w,w.__value),u(g,"class","svelte-16pmxmk"),l[24].env===void 0&&Ze(()=>l[63].call(g)),u(m,"class","form-group svelte-16pmxmk"),u(q,"class","svelte-16pmxmk"),u(S,"class","svelte-16pmxmk"),l[24].region===void 0&&Ze(()=>l[64].call(S)),u(D,"class","form-group svelte-16pmxmk"),u(O,"class","svelte-16pmxmk"),u(U,"class","svelte-16pmxmk"),l[24].size===void 0&&Ze(()=>l[65].call(U)),u(F,"class","form-group svelte-16pmxmk"),u(e,"class","form-grid svelte-16pmxmk")},m(H,J){$(H,e,J),r(e,t),r(t,n),r(t,s),r(t,i),ne(i,l[24].name),r(e,o),r(e,a),r(a,c),r(a,p),r(a,f),ne(f,l[24].project),r(e,d),r(e,m),r(m,h),r(m,v),r(m,g),r(g,C),r(g,y),r(g,w),Ee(g,l[24].env,!0),r(e,T),r(e,D),r(D,q),r(D,E),r(D,S);for(let B=0;B<P.length;B+=1)P[B]&&P[B].m(S,null);Ee(S,l[24].region,!0),r(e,L),r(e,F),r(F,O),r(F,I),r(F,U);for(let B=0;B<W.length;B+=1)W[B]&&W[B].m(U,null);Ee(U,l[24].size,!0),Z||(V=[ee(i,"input",l[61]),ee(f,"input",l[62]),ee(g,"change",l[63]),ee(S,"change",l[64]),ee(U,"change",l[65])],Z=!0)},p(H,J){if(J[0]&16777216&&i.value!==H[24].name&&ne(i,H[24].name),J[0]&16777216&&f.value!==H[24].project&&ne(f,H[24].project),J[0]&16777216&&Ee(g,H[24].env),J[1]&4){A=_e(H[33]);let B;for(B=0;B<A.length;B+=1){const Q=As(H,A,B);P[B]?P[B].p(Q,J):(P[B]=Js(Q),P[B].c(),P[B].m(S,null))}for(;B<P.length;B+=1)P[B].d(1);P.length=A.length}if(J[0]&16777216&&Ee(S,H[24].region),J[1]&8){M=_e(H[34]);let B;for(B=0;B<M.length;B+=1){const Q=Rs(H,M,B);W[B]?W[B].p(Q,J):(W[B]=Ks(Q),W[B].c(),W[B].m(U,null))}for(;B<W.length;B+=1)W[B].d(1);W.length=M.length}J[0]&16777216&&Ee(U,H[24].size)},d(H){H&&k(e),Pe(P,H),Pe(W,H),Z=!1,Fe(V)}}}function Mu(l){let e;return{c(){e=z("Cancel")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Ru(l){let e;return{c(){e=z("🚀 Provision")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Au(l){let e,t,n,s,i;return t=new Oe({props:{variant:"ghost",$$slots:{default:[Mu]},$$scope:{ctx:l}}}),t.$on("click",l[60]),s=new Oe({props:{variant:"primary",$$slots:{default:[Ru]},$$scope:{ctx:l}}}),s.$on("click",l[38]),{c(){e=_("div"),ae(t.$$.fragment),n=b(),ae(s.$$.fragment),u(e,"slot","footer")},m(o,a){$(o,e,a),ie(t,e,null),r(e,n),ie(s,e,null),i=!0},p(o,a){const c={};a[3]&131072&&(c.$$scope={dirty:a,ctx:o}),t.$set(c);const p={};a[3]&131072&&(p.$$scope={dirty:a,ctx:o}),s.$set(p)},i(o){i||(N(t.$$.fragment,o),N(s.$$.fragment,o),i=!0)},o(o){R(t.$$.fragment,o),R(s.$$.fragment,o),i=!1},d(o){o&&k(e),re(t),re(s)}}}function Ou(l){let e=l[20]?"...":"↻",t;return{c(){t=z(e)},m(n,s){$(n,t,s)},p(n,s){s[0]&1048576&&e!==(e=n[20]?"...":"↻")&&j(t,e)},d(n){n&&k(t)}}}function ju(l){let e,t,n,s,i,o,a,c,p,f,d,m,h,v,g,C,y,w,T,D,q=(l[26]||"No logs")+"",E,S,L,F;return w=new Oe({props:{variant:"ghost",size:"sm",disabled:l[20],$$slots:{default:[Ou]},$$scope:{ctx:l}}}),w.$on("click",l[41]),{c(){e=_("div"),t=_("div"),n=_("input"),s=b(),i=_("div"),o=_("label"),o.textContent="Lines:",a=b(),c=_("select"),p=_("option"),p.textContent="100",f=_("option"),f.textContent="200",d=_("option"),d.textContent="500",m=_("option"),m.textContent="1000",h=b(),v=_("label"),g=_("input"),C=z(`
      Auto-refresh`),y=b(),ae(w.$$.fragment),T=b(),D=_("pre"),E=z(q),u(n,"type","text"),u(n,"placeholder","Search logs..."),u(n,"class","svelte-16pmxmk"),u(t,"class","logs-search svelte-16pmxmk"),u(o,"class","svelte-16pmxmk"),p.__value=100,ne(p,p.__value),f.__value=200,ne(f,f.__value),d.__value=500,ne(d,d.__value),m.__value=1e3,ne(m,m.__value),u(c,"class","svelte-16pmxmk"),l[21]===void 0&&Ze(()=>l[69].call(c)),u(i,"class","logs-tail svelte-16pmxmk"),u(g,"type","checkbox"),u(g,"class","svelte-16pmxmk"),u(v,"class","logs-auto svelte-16pmxmk"),u(e,"class","logs-toolbar svelte-16pmxmk"),u(D,"class","logs-content large svelte-16pmxmk")},m(O,I){$(O,e,I),r(e,t),r(t,n),ne(n,l[6]),r(e,s),r(e,i),r(i,o),r(i,a),r(i,c),r(c,p),r(c,f),r(c,d),r(c,m),Ee(c,l[21],!0),r(e,h),r(e,v),r(v,g),g.checked=l[22],r(v,C),r(e,y),ie(w,e,null),$(O,T,I),$(O,D,I),r(D,E),S=!0,L||(F=[ee(n,"input",l[68]),ee(c,"change",l[69]),ee(c,"change",l[41]),ee(g,"change",l[70]),ee(g,"change",l[42])],L=!0)},p(O,I){I[0]&64&&n.value!==O[6]&&ne(n,O[6]),I[0]&2097152&&Ee(c,O[21]),I[0]&4194304&&(g.checked=O[22]);const U={};I[0]&1048576&&(U.disabled=O[20]),I[0]&1048576|I[3]&131072&&(U.$$scope={dirty:I,ctx:O}),w.$set(U),(!S||I[0]&67108864)&&q!==(q=(O[26]||"No logs")+"")&&j(E,q)},i(O){S||(N(w.$$.fragment,O),S=!0)},o(O){R(w.$$.fragment,O),S=!1},d(O){O&&(k(e),k(T),k(D)),re(w),L=!1,Fe(F)}}}function Fu(l){let e;return{c(){e=z("Close")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Iu(l){var p;let e,t,n=(((p=l[26])==null?void 0:p.split(`
`).length)||0)+"",s,i,o,a,c;return a=new Oe({props:{variant:"ghost",$$slots:{default:[Fu]},$$scope:{ctx:l}}}),a.$on("click",l[67]),{c(){e=_("div"),t=_("span"),s=z(n),i=z(" lines"),o=b(),ae(a.$$.fragment),u(t,"class","logs-count svelte-16pmxmk"),u(e,"slot","footer")},m(f,d){$(f,e,d),r(e,t),r(t,s),r(t,i),r(e,o),ie(a,e,null),c=!0},p(f,d){var h;(!c||d[0]&67108864)&&n!==(n=(((h=f[26])==null?void 0:h.split(`
`).length)||0)+"")&&j(s,n);const m={};d[3]&131072&&(m.$$scope={dirty:d,ctx:f}),a.$set(m)},i(f){c||(N(a.$$.fragment,f),c=!0)},o(f){R(a.$$.fragment,f),c=!1},d(f){f&&k(e),re(a)}}}function Bu(l){let e,t,n,s,i,o,a,c,p,f,d,m,h,v,g,C,y,w,T,D,q,E,S,L,F,O,I,U,Z=_e(l[31]),V=[];for(let A=0;A<Z.length;A+=1)V[A]=Ys(Ms(l,Z,A));return{c(){e=_("form"),t=_("div"),n=_("label"),n.textContent="Snapshot Name *",s=b(),i=_("input"),o=b(),a=_("div"),c=_("label"),c.textContent="Base Image",p=b(),f=_("select");for(let A=0;A<V.length;A+=1)V[A].c();d=b(),m=_("div"),h=_("label"),h.textContent="Pre-install",v=b(),g=_("div"),C=_("label"),y=_("input"),w=z(" Docker"),T=b(),D=_("label"),q=_("input"),E=z(" Nginx"),S=b(),L=_("label"),F=_("input"),O=z(" Certbot"),u(n,"for","snap-name"),u(n,"class","svelte-16pmxmk"),u(i,"id","snap-name"),u(i,"type","text"),u(i,"placeholder","my-custom-snapshot"),u(i,"class","svelte-16pmxmk"),u(t,"class","form-group svelte-16pmxmk"),u(c,"for","base-image"),u(c,"class","svelte-16pmxmk"),u(f,"id","base-image"),u(f,"class","svelte-16pmxmk"),l[13]===void 0&&Ze(()=>l[76].call(f)),u(a,"class","form-group svelte-16pmxmk"),u(h,"class","svelte-16pmxmk"),u(y,"type","checkbox"),u(y,"class","svelte-16pmxmk"),u(C,"class","checkbox-item svelte-16pmxmk"),u(q,"type","checkbox"),u(q,"class","svelte-16pmxmk"),u(D,"class","checkbox-item svelte-16pmxmk"),u(F,"type","checkbox"),u(F,"class","svelte-16pmxmk"),u(L,"class","checkbox-item svelte-16pmxmk"),u(g,"class","checkbox-list svelte-16pmxmk"),u(m,"class","form-group svelte-16pmxmk")},m(A,P){$(A,e,P),r(e,t),r(t,n),r(t,s),r(t,i),ne(i,l[12]),r(e,o),r(e,a),r(a,c),r(a,p),r(a,f);for(let M=0;M<V.length;M+=1)V[M]&&V[M].m(f,null);Ee(f,l[13],!0),r(e,d),r(e,m),r(m,h),r(m,v),r(m,g),r(g,C),r(C,y),y.checked=l[14],r(C,w),r(g,T),r(g,D),r(D,q),q.checked=l[15],r(D,E),r(g,S),r(g,L),r(L,F),F.checked=l[16],r(L,O),I||(U=[ee(i,"input",l[75]),ee(f,"change",l[76]),ee(y,"change",l[77]),ee(q,"change",l[78]),ee(F,"change",l[79]),ee(e,"submit",Qa(l[37]))],I=!0)},p(A,P){if(P[0]&4096&&i.value!==A[12]&&ne(i,A[12]),P[1]&1){Z=_e(A[31]);let M;for(M=0;M<Z.length;M+=1){const W=Ms(A,Z,M);V[M]?V[M].p(W,P):(V[M]=Ys(W),V[M].c(),V[M].m(f,null))}for(;M<V.length;M+=1)V[M].d(1);V.length=Z.length}P[0]&8192|P[1]&1&&Ee(f,A[13]),P[0]&16384&&(y.checked=A[14]),P[0]&32768&&(q.checked=A[15]),P[0]&65536&&(F.checked=A[16])},i:ve,o:ve,d(A){A&&k(e),Pe(V,A),I=!1,Fe(U)}}}function Uu(l){var o;let e,t,n,s,i=((o=l[17])==null?void 0:o.exists)&&Qs(l);return{c(){e=_("div"),t=_("p"),t.textContent="Creates the default base snapshot with Docker, Nginx, Certbot pre-installed. Required for provisioning new servers.",n=b(),i&&i.c(),u(t,"class","svelte-16pmxmk"),u(e,"class","snap-type-info svelte-16pmxmk")},m(a,c){$(a,e,c),r(e,t),r(e,n),i&&i.m(e,null),s=!0},p(a,c){var p;(p=a[17])!=null&&p.exists?i?(i.p(a,c),c[0]&131072&&N(i,1)):(i=Qs(a),i.c(),N(i,1),i.m(e,null)):i&&(Te(),R(i,1,1,()=>{i=null}),De())},i(a){s||(N(i),s=!0)},o(a){R(i),s=!1},d(a){a&&k(e),i&&i.d()}}}function Ys(l){let e,t=l[89].label+"",n;return{c(){e=_("option"),n=z(t),e.__value=l[89].value,ne(e,e.__value)},m(s,i){$(s,e,i),r(e,n)},p:ve,d(s){s&&k(e)}}}function Qs(l){let e,t;return e=new Je({props:{variant:"warning",$$slots:{default:[Hu]},$$scope:{ctx:l}}}),{c(){ae(e.$$.fragment)},m(n,s){ie(e,n,s),t=!0},p(n,s){const i={};s[0]&131072|s[3]&131072&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){re(e,n)}}}function Hu(l){let e,t=l[17].name+"",n;return{c(){e=z("⚠️ Base snapshot already exists: "),n=z(t)},m(s,i){$(s,e,i),$(s,n,i)},p(s,i){i[0]&131072&&t!==(t=s[17].name+"")&&j(n,t)},d(s){s&&(k(e),k(n))}}}function Gu(l){let e,t,n,s,i,o,a,c,p,f,d;const m=[Uu,Bu],h=[];function v(g,C){return g[11]==="base"?0:1}return o=v(l),a=h[o]=m[o](l),{c(){e=_("div"),t=_("button"),t.textContent="🏗️ Base Snapshot",n=b(),s=_("button"),s.textContent="📸 Custom Snapshot",i=b(),a.c(),c=Ie(),u(t,"class","snap-type-btn svelte-16pmxmk"),we(t,"active",l[11]==="base"),u(s,"class","snap-type-btn svelte-16pmxmk"),we(s,"active",l[11]==="custom"),u(e,"class","snap-type-selector svelte-16pmxmk")},m(g,C){$(g,e,C),r(e,t),r(e,n),r(e,s),$(g,i,C),h[o].m(g,C),$(g,c,C),p=!0,f||(d=[ee(t,"click",l[73]),ee(s,"click",l[74])],f=!0)},p(g,C){(!p||C[0]&2048)&&we(t,"active",g[11]==="base"),(!p||C[0]&2048)&&we(s,"active",g[11]==="custom");let y=o;o=v(g),o===y?h[o].p(g,C):(Te(),R(h[y],1,1,()=>{h[y]=null}),De(),a=h[o],a?a.p(g,C):(a=h[o]=m[o](g),a.c()),N(a,1),a.m(c.parentNode,c))},i(g){p||(N(a),p=!0)},o(g){R(a),p=!1},d(g){g&&(k(e),k(i),k(c)),h[o].d(g),f=!1,Fe(d)}}}function Wu(l){let e;return{c(){e=z("Cancel")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Vu(l){let e;return{c(){e=z("🔨 Build")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Ju(l){let e;return{c(){e=z("Building...")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Ku(l){let e;function t(i,o){return i[10]?Ju:Vu}let n=t(l),s=n(l);return{c(){s.c(),e=Ie()},m(i,o){s.m(i,o),$(i,e,o)},p(i,o){n!==(n=t(i))&&(s.d(1),s=n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&k(e),s.d(i)}}}function Yu(l){let e,t,n,s,i;return t=new Oe({props:{variant:"ghost",$$slots:{default:[Wu]},$$scope:{ctx:l}}}),t.$on("click",l[72]),s=new Oe({props:{variant:"primary",disabled:l[10],$$slots:{default:[Ku]},$$scope:{ctx:l}}}),s.$on("click",l[37]),{c(){e=_("div"),ae(t.$$.fragment),n=b(),ae(s.$$.fragment),u(e,"slot","footer")},m(o,a){$(o,e,a),ie(t,e,null),r(e,n),ie(s,e,null),i=!0},p(o,a){const c={};a[3]&131072&&(c.$$scope={dirty:a,ctx:o}),t.$set(c);const p={};a[0]&1024&&(p.disabled=o[10]),a[0]&1024|a[3]&131072&&(p.$$scope={dirty:a,ctx:o}),s.$set(p)},i(o){i||(N(t.$$.fragment,o),N(s.$$.fragment,o),i=!0)},o(o){R(t.$$.fragment,o),R(s.$$.fragment,o),i=!1},d(o){o&&k(e),re(t),re(s)}}}function Qu(l){let e,t,n,s,i,o,a,c,p,f,d,m,h,v,g,C,y,w,T=eo(l[7])+"",D,q,E,S,L,F,O,I=l[28].length+"",U,Z,V,A=l[28].length===1?"SERVER":"SERVERS",P,M,W,H,J=l[27].containerCount+"",B,Q,te,G=l[27].containerCount===1?"CONTAINER":"CONTAINERS",K,x,de,he,oe,X=l[27].monthlyCost+"",pe,be,ce,Y,se,Se,ge=l[27].healthyContainers+"",He,jt,ct=l[27].containerCount+"",ht,ye,Be,Ye,Ke,Xe,Ge,Et,gt,ot=l[8]?"▼":"▶",Ft,Ct,ol,el=dn(l[28].length,"Server")+"",tl,il,It,ll,bl,bt,St,rl,zt,Bt,Wt,Xt,xt=l[3]?"▼":"▶",al,cl,pl,Pt=dn(l[4].length,"Snapshot")+"",Vt,Ut,Ce,xe,Qe,kt,et,pt,Ue,tt,Pl,Nt,Tt,Lt,Jt,Ht,Ve,_l,kl,nl=_e(l[30]),_t=[];for(let me=0;me<nl.length;me+=1)_t[me]=Bs(Is(l,nl,me));let sl=_e(l[29]),dt=[];for(let me=0;me<sl.length;me+=1)dt[me]=Us(Fs(l,sl,me));let it=l[8]&&Hs(l),rt=l[3]&&Ws(l);function ul(me){l[66](me)}let $t={title:"Provision Server",width:"400px",$$slots:{footer:[Au],default:[Nu]},$$scope:{ctx:l}};l[23]!==void 0&&($t.open=l[23]),Ue=new Cl({props:$t}),Yt.push(()=>Rl(Ue,"open",ul));function Al(me){l[71](me)}let Ll={title:l[19],width:"1000px",$$slots:{footer:[Iu],default:[ju]},$$scope:{ctx:l}};l[18]!==void 0&&(Ll.open=l[18]),Nt=new Cl({props:Ll}),Yt.push(()=>Rl(Nt,"open",Al));function Fl(me){l[80](me)}let fl={title:"Build Snapshot",width:"500px",$$slots:{footer:[Yu],default:[Gu]},$$scope:{ctx:l}};return l[9]!==void 0&&(fl.open=l[9]),Jt=new Cl({props:fl}),Yt.push(()=>Rl(Jt,"open",Fl)),Jt.$on("close",l[81]),{c(){e=_("div"),t=_("div"),n=_("div"),s=_("label"),s.textContent="Project",i=b(),o=_("select"),a=_("option"),a.textContent="All";for(let me=0;me<_t.length;me+=1)_t[me].c();c=b(),p=_("div"),f=_("label"),f.textContent="Env",d=b(),m=_("select"),h=_("option"),h.textContent="All";for(let me=0;me<dt.length;me+=1)dt[me].c();v=b(),g=_("div"),C=b(),y=_("span"),w=z("Updated "),D=z(T),q=b(),E=_("button"),E.textContent="↻",S=b(),L=_("div"),F=_("div"),O=_("span"),U=z(I),Z=b(),V=_("span"),P=z(A),M=b(),W=_("div"),H=_("span"),B=z(J),Q=b(),te=_("span"),K=z(G),x=b(),de=_("div"),he=_("span"),oe=z("£"),pe=z(X),be=b(),ce=_("span"),ce.textContent="/MONTH",Y=b(),se=_("div"),Se=_("span"),He=z(ge),jt=z("/"),ht=z(ct),Be=b(),Ye=_("span"),Ye.textContent="HEALTHY",Ke=b(),Xe=_("div"),Ge=_("div"),Et=_("div"),gt=_("span"),Ft=z(ot),Ct=b(),ol=_("span"),tl=z(el),il=b(),It=_("div"),ll=_("button"),ll.textContent="↻",bl=b(),bt=_("button"),bt.textContent="+ Add",St=b(),it&&it.c(),rl=b(),zt=_("div"),Bt=_("div"),Wt=_("div"),Xt=_("span"),al=z(xt),cl=b(),pl=_("span"),Vt=z(Pt),Ut=b(),Ce=_("div"),xe=_("button"),xe.textContent="↻",Qe=b(),kt=_("button"),kt.textContent="+ Build",et=b(),rt&&rt.c(),pt=b(),ae(Ue.$$.fragment),Pl=b(),ae(Nt.$$.fragment),Lt=b(),ae(Jt.$$.fragment),u(s,"class","svelte-16pmxmk"),a.__value="",ne(a,a.__value),u(o,"class","svelte-16pmxmk"),l[1]===void 0&&Ze(()=>l[54].call(o)),u(n,"class","filter-group svelte-16pmxmk"),u(f,"class","svelte-16pmxmk"),h.__value="",ne(h,h.__value),u(m,"class","svelte-16pmxmk"),l[2]===void 0&&Ze(()=>l[55].call(m)),u(p,"class","filter-group svelte-16pmxmk"),u(g,"class","filter-spacer svelte-16pmxmk"),u(y,"class","last-updated svelte-16pmxmk"),u(E,"class","filter-refresh svelte-16pmxmk"),u(E,"title","Refresh"),u(t,"class","filter-bar svelte-16pmxmk"),u(O,"class","banner-value svelte-16pmxmk"),u(V,"class","banner-label svelte-16pmxmk"),u(F,"class","banner-metric svelte-16pmxmk"),u(H,"class","banner-value svelte-16pmxmk"),u(te,"class","banner-label svelte-16pmxmk"),u(W,"class","banner-metric svelte-16pmxmk"),u(he,"class","banner-value svelte-16pmxmk"),u(ce,"class","banner-label svelte-16pmxmk"),u(de,"class","banner-metric svelte-16pmxmk"),u(Se,"class",ye="banner-value "+(l[27].unhealthyContainers>0?"warning":"success")+" svelte-16pmxmk"),u(Ye,"class","banner-label svelte-16pmxmk"),u(se,"class","banner-metric svelte-16pmxmk"),u(L,"class","summary-banner svelte-16pmxmk"),u(gt,"class","expand-icon svelte-16pmxmk"),u(Et,"class","section-title svelte-16pmxmk"),u(ll,"class","section-btn svelte-16pmxmk"),u(bt,"class","section-btn primary svelte-16pmxmk"),u(It,"class","section-actions svelte-16pmxmk"),u(Ge,"class","section-header svelte-16pmxmk"),u(Xe,"class","section svelte-16pmxmk"),we(Xe,"expanded",l[8]),u(Xt,"class","expand-icon svelte-16pmxmk"),u(Wt,"class","section-title svelte-16pmxmk"),u(xe,"class","section-btn svelte-16pmxmk"),u(kt,"class","section-btn primary svelte-16pmxmk"),u(Ce,"class","section-actions svelte-16pmxmk"),u(Bt,"class","section-header svelte-16pmxmk"),u(zt,"class","section svelte-16pmxmk"),we(zt,"expanded",l[3]),u(e,"class","infrastructure svelte-16pmxmk")},m(me,qe){$(me,e,qe),r(e,t),r(t,n),r(n,s),r(n,i),r(n,o),r(o,a);for(let We=0;We<_t.length;We+=1)_t[We]&&_t[We].m(o,null);Ee(o,l[1],!0),r(t,c),r(t,p),r(p,f),r(p,d),r(p,m),r(m,h);for(let We=0;We<dt.length;We+=1)dt[We]&&dt[We].m(m,null);Ee(m,l[2],!0),r(t,v),r(t,g),r(t,C),r(t,y),r(y,w),r(y,D),r(t,q),r(t,E),r(e,S),r(e,L),r(L,F),r(F,O),r(O,U),r(F,Z),r(F,V),r(V,P),r(L,M),r(L,W),r(W,H),r(H,B),r(W,Q),r(W,te),r(te,K),r(L,x),r(L,de),r(de,he),r(he,oe),r(he,pe),r(de,be),r(de,ce),r(L,Y),r(L,se),r(se,Se),r(Se,He),r(Se,jt),r(Se,ht),r(se,Be),r(se,Ye),r(e,Ke),r(e,Xe),r(Xe,Ge),r(Ge,Et),r(Et,gt),r(gt,Ft),r(Et,Ct),r(Et,ol),r(ol,tl),r(Ge,il),r(Ge,It),r(It,ll),r(It,bl),r(It,bt),r(Xe,St),it&&it.m(Xe,null),r(e,rl),r(e,zt),r(zt,Bt),r(Bt,Wt),r(Wt,Xt),r(Xt,al),r(Wt,cl),r(Wt,pl),r(pl,Vt),r(Bt,Ut),r(Bt,Ce),r(Ce,xe),r(Ce,Qe),r(Ce,kt),r(zt,et),rt&&rt.m(zt,null),$(me,pt,qe),ie(Ue,me,qe),$(me,Pl,qe),ie(Nt,me,qe),$(me,Lt,qe),ie(Jt,me,qe),Ve=!0,_l||(kl=[ee(o,"change",l[54]),ee(m,"change",l[55]),ee(E,"click",l[0]),ee(ll,"click",l[0]),ee(bt,"click",l[56]),ee(It,"click",Wn(l[53])),ee(Ge,"click",l[57]),ee(xe,"click",l[35]),ee(kt,"click",l[32]),ee(Ce,"click",Wn(l[52])),ee(Bt,"click",l[58])],_l=!0)},p(me,qe){if(qe[0]&1073741824){nl=_e(me[30]);let Ae;for(Ae=0;Ae<nl.length;Ae+=1){const ut=Is(me,nl,Ae);_t[Ae]?_t[Ae].p(ut,qe):(_t[Ae]=Bs(ut),_t[Ae].c(),_t[Ae].m(o,null))}for(;Ae<_t.length;Ae+=1)_t[Ae].d(1);_t.length=nl.length}if(qe[0]&1073741826&&Ee(o,me[1]),qe[0]&536870912){sl=_e(me[29]);let Ae;for(Ae=0;Ae<sl.length;Ae+=1){const ut=Fs(me,sl,Ae);dt[Ae]?dt[Ae].p(ut,qe):(dt[Ae]=Us(ut),dt[Ae].c(),dt[Ae].m(m,null))}for(;Ae<dt.length;Ae+=1)dt[Ae].d(1);dt.length=sl.length}qe[0]&536870916&&Ee(m,me[2]),(!Ve||qe[0]&128)&&T!==(T=eo(me[7])+"")&&j(D,T),(!Ve||qe[0]&268435456)&&I!==(I=me[28].length+"")&&j(U,I),(!Ve||qe[0]&268435456)&&A!==(A=me[28].length===1?"SERVER":"SERVERS")&&j(P,A),(!Ve||qe[0]&134217728)&&J!==(J=me[27].containerCount+"")&&j(B,J),(!Ve||qe[0]&134217728)&&G!==(G=me[27].containerCount===1?"CONTAINER":"CONTAINERS")&&j(K,G),(!Ve||qe[0]&134217728)&&X!==(X=me[27].monthlyCost+"")&&j(pe,X),(!Ve||qe[0]&134217728)&&ge!==(ge=me[27].healthyContainers+"")&&j(He,ge),(!Ve||qe[0]&134217728)&&ct!==(ct=me[27].containerCount+"")&&j(ht,ct),(!Ve||qe[0]&134217728&&ye!==(ye="banner-value "+(me[27].unhealthyContainers>0?"warning":"success")+" svelte-16pmxmk"))&&u(Se,"class",ye),(!Ve||qe[0]&256)&&ot!==(ot=me[8]?"▼":"▶")&&j(Ft,ot),(!Ve||qe[0]&268435456)&&el!==(el=dn(me[28].length,"Server")+"")&&j(tl,el),me[8]?it?(it.p(me,qe),qe[0]&256&&N(it,1)):(it=Hs(me),it.c(),N(it,1),it.m(Xe,null)):it&&(Te(),R(it,1,1,()=>{it=null}),De()),(!Ve||qe[0]&256)&&we(Xe,"expanded",me[8]),(!Ve||qe[0]&8)&&xt!==(xt=me[3]?"▼":"▶")&&j(al,xt),(!Ve||qe[0]&16)&&Pt!==(Pt=dn(me[4].length,"Snapshot")+"")&&j(Vt,Pt),me[3]?rt?(rt.p(me,qe),qe[0]&8&&N(rt,1)):(rt=Ws(me),rt.c(),N(rt,1),rt.m(zt,null)):rt&&(Te(),R(rt,1,1,()=>{rt=null}),De()),(!Ve||qe[0]&8)&&we(zt,"expanded",me[3]);const We={};qe[0]&25165824|qe[3]&131072&&(We.$$scope={dirty:qe,ctx:me}),!tt&&qe[0]&8388608&&(tt=!0,We.open=me[23],Ml(()=>tt=!1)),Ue.$set(We);const lt={};qe[0]&524288&&(lt.title=me[19]),qe[0]&74711104|qe[3]&131072&&(lt.$$scope={dirty:qe,ctx:me}),!Tt&&qe[0]&262144&&(Tt=!0,lt.open=me[18],Ml(()=>Tt=!1)),Nt.$set(lt);const nt={};qe[0]&261632|qe[3]&131072&&(nt.$$scope={dirty:qe,ctx:me}),!Ht&&qe[0]&512&&(Ht=!0,nt.open=me[9],Ml(()=>Ht=!1)),Jt.$set(nt)},i(me){Ve||(N(it),N(rt),N(Ue.$$.fragment,me),N(Nt.$$.fragment,me),N(Jt.$$.fragment,me),Ve=!0)},o(me){R(it),R(rt),R(Ue.$$.fragment,me),R(Nt.$$.fragment,me),R(Jt.$$.fragment,me),Ve=!1},d(me){me&&(k(e),k(pt),k(Pl),k(Lt)),Pe(_t,me),Pe(dt,me),it&&it.d(),rt&&rt.d(),re(Ue,me),re(Nt,me),re(Jt,me),_l=!1,Fe(kl)}}}function Zs(l){return l!=null&&l.length?l.reduce((e,t)=>{const n=t.size_slug||t.size||"";return n.includes("4gb")?e+24:n.includes("2gb")?e+12:n.includes("1gb")?e+6:n.includes("512mb")?e+4:e+6},0):0}function dn(l,e,t=null){return l===1?`${l} ${e}`:`${l} ${t||e+"s"}`}function Xs(l){if(!l)return"0 B";const e=1024,t=["B","KB","MB","GB"],n=Math.floor(Math.log(l)/Math.log(e));return parseFloat((l/Math.pow(e,n)).toFixed(1))+" "+t[n]}function xs(l){return l?new Date(l).toLocaleDateString("en-GB",{day:"2-digit",month:"short"}):""}function eo(l){if(!l)return"never";const t=Math.floor((new Date-l)/1e3);return t<5?"just now":t<60?`${t}s ago`:t<3600?`${Math.floor(t/60)}m ago`:l.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})}function Zu(l,e,t){let n,s,i,o,a,c,p,f,d,m,h,v;at(l,tn,Ce=>t(47,f=Ce)),at(l,Sa,Ce=>t(48,d=Ce)),at(l,yl,Ce=>t(49,m=Ce)),at(l,za,Ce=>t(50,h=Ce)),at(l,Bn,Ce=>t(51,v=Ce));let g="",C="",y=null,w=!0,T=!1,D=[],q=!1,E=!1,S=!1,L="custom",F="",O="ubuntu-22-04-x64",I=!0,U=!0,Z=!0,V=null;const A=[{value:"ubuntu-22-04-x64",label:"Ubuntu 22.04 LTS"},{value:"ubuntu-20-04-x64",label:"Ubuntu 20.04 LTS"},{value:"debian-11-x64",label:"Debian 11"},{value:"debian-12-x64",label:"Debian 12"}];function P(){t(11,L=V!=null&&V.exists?"custom":"base"),t(9,E=!0)}let M=null;async function W(){if(d)try{t(44,M=await Me("GET",`/infra/fleet/health?do_token=${d}`))}catch(Ce){console.error("Failed to load fleet health:",Ce)}finally{}}let H=!1,J="",B="",Q=!1,te=null,G=null,K="",x=200,de=!1,he=null,oe=!1,X={name:"",project:"",env:"prod",region:"lon1",size:"s-1vcpu-1gb",count:1};const pe=[{value:"lon1",label:"London"},{value:"fra1",label:"Frankfurt"},{value:"ams3",label:"Amsterdam"},{value:"nyc1",label:"New York"},{value:"sfo3",label:"San Francisco"},{value:"sgp1",label:"Singapore"}],be=[{value:"s-1vcpu-512mb-10gb",label:"$4 - 512MB"},{value:"s-1vcpu-1gb",label:"$6 - 1GB"},{value:"s-1vcpu-2gb",label:"$12 - 2GB"},{value:"s-2vcpu-2gb",label:"$18 - 2vCPU/2GB"},{value:"s-2vcpu-4gb",label:"$24 - 2vCPU/4GB"}];async function ce(){t(5,q=!0);try{const Ce=await Me("GET",`/infra/snapshots?do_token=${d}`);t(4,D=Ce.snapshots||[]),Y()}catch(Ce){console.error("Failed to load snapshots:",Ce)}finally{t(5,q=!1)}}function Y(){const Ce=D.find(xe=>{var Qe;return(Qe=xe.name)==null?void 0:Qe.toLowerCase().startsWith("base-")});Ce?t(17,V={exists:!0,name:Ce.name,created_at:Ce.created_at}):t(17,V={exists:!1})}async function se(Ce,xe){if(confirm(`Delete snapshot "${xe}"?`))try{await Me("DELETE",`/infra/snapshots/${Ce}?do_token=${d}`),$e.success(`Deleted ${xe}`),t(4,D=D.filter(Qe=>Qe.id!==Ce))}catch(Qe){$e.error(`Failed: ${Qe.message}`)}}async function Se(){t(10,S=!0);try{if(L==="base")$e.info("Creating base snapshot... This takes ~5 minutes"),await Me("POST",`/infra/setup/init?do_token=${d}`),$e.success("Base snapshot created!"),await Y();else{if(!F){$e.error("Snapshot name required"),t(10,S=!1);return}if(F.toLowerCase().startsWith("base-")){$e.error('Custom snapshots cannot start with "base-"'),t(10,S=!1);return}await Me("POST",`/infra/snapshots/build?do_token=${d}`,{name:F,base_image:O,install_docker:I,install_nginx:U,install_certbot:Z}),$e.success("Snapshot build started! Takes 5-10 min.")}t(9,E=!1),t(12,F=""),setTimeout(()=>ce(),5e3)}catch(Ce){$e.error(Ce.message)}finally{t(10,S=!1)}}async function ge(){try{const Ce=await Me("POST","/infra/servers/provision",{...X,do_token:d});$e.success(`Provisioned ${Ce.created||1} server(s)`),t(23,oe=!1),yl.refresh()}catch(Ce){$e.error("Failed: "+Ce.message)}}async function He(Ce){const{server:xe}=Ce.detail;if(Ce.type==="destroy"&&confirm(`Destroy ${xe.name}? This cannot be undone.`))try{await Me("DELETE",`/infra/servers/${xe.id}?do_token=${d}`),$e.success(`Destroyed ${xe.name}`),yl.refresh()}catch(kt){$e.error(`Failed: ${kt.message}`)}}async function jt(Ce){var et,pt,Ue;const{server:xe,containerName:Qe}=Ce.detail,kt=xe.ip||((Ue=(pt=(et=xe.networks)==null?void 0:et.v4)==null?void 0:pt[0])==null?void 0:Ue.ip_address);te=kt,G=Qe,t(19,J=`📋 ${Qe} @ ${kt}`),t(45,B=""),t(6,K=""),t(18,H=!0),t(20,Q=!0);try{const tt=await Me("GET",`/infra/agent/${kt}/containers/${Qe}/logs?do_token=${d}&tail=${x}`);t(45,B=tt.logs||"No logs available")}catch(tt){t(45,B=`Error: ${tt.message}`)}finally{t(20,Q=!1)}}async function ct(){if(!(!te||!G)){t(20,Q=!0);try{const Ce=await Me("GET",`/infra/agent/${te}/containers/${G}/logs?do_token=${d}&tail=${x}`);t(45,B=Ce.logs||"No logs available")}catch(Ce){t(45,B=`Error: ${Ce.message}`)}finally{t(20,Q=!1)}}}function ht(){de?he=setInterval(ct,3e3):ye()}function ye(){he&&(clearInterval(he),he=null),t(22,de=!1)}function Be(){yl.refresh(),t(7,y=new Date)}function Ye(Ce){bn.call(this,l,Ce)}function Ke(Ce){bn.call(this,l,Ce)}function Xe(){g=ft(this),t(1,g),t(30,n),t(47,f),t(51,v),t(50,h)}function Ge(){C=ft(this),t(2,C),t(29,s),t(47,f)}const Et=()=>t(23,oe=!0),gt=()=>t(8,w=!w),ot=()=>t(3,T=!T),Ft=Ce=>se(Ce.id,Ce.name),Ct=()=>t(23,oe=!1);function ol(){X.name=this.value,t(24,X)}function el(){X.project=this.value,t(24,X)}function tl(){X.env=ft(this),t(24,X)}function il(){X.region=ft(this),t(24,X)}function It(){X.size=ft(this),t(24,X)}function ll(Ce){oe=Ce,t(23,oe)}const bl=()=>{t(18,H=!1),ye()};function bt(){K=this.value,t(6,K)}function St(){x=ft(this),t(21,x)}function rl(){de=this.checked,t(22,de)}function zt(Ce){H=Ce,t(18,H)}const Bt=()=>t(9,E=!1),Wt=()=>t(11,L="base"),Xt=()=>t(11,L="custom");function xt(){F=this.value,t(12,F)}function al(){O=ft(this),t(13,O),t(31,A)}function cl(){I=this.checked,t(14,I)}function pl(){U=this.checked,t(15,U)}function Pt(){Z=this.checked,t(16,Z)}function Vt(Ce){E=Ce,t(9,E)}const Ut=()=>t(9,E=!1);return l.$$.update=()=>{var Ce,xe,Qe,kt,et,pt;l.$$.dirty[1]&1638400&&t(30,n=[...new Set([...(f||[]).map(Ue=>Ue.project).filter(Boolean),...v||[],...(h||[]).map(Ue=>Ue.project).filter(Boolean)])].sort()),l.$$.dirty[1]&65536&&t(29,s=[...new Set([...(f||[]).map(Ue=>Ue.env||Ue.environment).filter(Boolean),"prod","staging","dev"])].sort()),l.$$.dirty[0]&6|l.$$.dirty[1]&65536&&t(28,i=(f||[]).filter(Ue=>!(g&&Ue.project!==g||C&&(Ue.env||Ue.environment)!==C))),l.$$.dirty[0]&56&&T&&D.length===0&&!q&&ce(),l.$$.dirty[1]&73728&&t(27,o=M?{serverCount:((Ce=M.summary)==null?void 0:Ce.total)||(f==null?void 0:f.length)||0,containerCount:((xe=M.servers)==null?void 0:xe.reduce((Ue,tt)=>Ue+(tt.containers||0),0))||0,healthyContainers:((Qe=M.servers)==null?void 0:Qe.reduce((Ue,tt)=>Ue+(tt.healthy||0),0))||0,unhealthyContainers:((kt=M.servers)==null?void 0:kt.reduce((Ue,tt)=>Ue+(tt.unhealthy||0),0))||0,monthlyCost:Zs(f),health:((et=M.summary)==null?void 0:et.healthy)===((pt=M.summary)==null?void 0:pt.total)?"healthy":"degraded"}:{serverCount:(f==null?void 0:f.length)||0,containerCount:0,healthyContainers:0,unhealthyContainers:0,monthlyCost:Zs(f),health:"unknown"}),l.$$.dirty[1]&139264&&!M&&d&&W(),l.$$.dirty[0]&64|l.$$.dirty[1]&16384&&t(26,a=K?B.split(`
`).filter(Ue=>Ue.toLowerCase().includes(K.toLowerCase())).join(`
`):B),l.$$.dirty[1]&262144&&t(46,c=m||{loading:!1}),l.$$.dirty[1]&32768&&t(25,p=c.loading),l.$$.dirty[1]&65536&&f&&t(7,y=new Date)},[Be,g,C,T,D,q,K,y,w,E,S,L,F,O,I,U,Z,V,H,J,Q,x,de,oe,X,p,a,o,i,s,n,A,P,pe,be,ce,se,Se,ge,He,jt,ct,ht,ye,M,B,c,f,d,m,h,v,Ye,Ke,Xe,Ge,Et,gt,ot,Ft,Ct,ol,el,tl,il,It,ll,bl,bt,St,rl,zt,Bt,Wt,Xt,xt,al,cl,pl,Pt,Vt,Ut]}class Xu extends qt{constructor(e){super(),Dt(this,e,Zu,Qu,yt,{refresh:0},null,[-1,-1,-1,-1])}get refresh(){return this.$$.ctx[0]}}const xu="modulepreload",ef=function(l){return"/static/"+l},to={},lo=function(e,t,n){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(t.map(c=>{if(c=ef(c),c in to)return;to[c]=!0;const p=c.endsWith(".css"),f=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=p?"stylesheet":xu,p||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),p)return new Promise((m,h)=>{d.addEventListener("load",m),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},tf=l=>({}),no=l=>({}),lf=l=>({}),so=l=>({});function oo(l){let e,t,n,s=l[0]&&io(l);const i=l[5].header,o=zl(i,l,l[4],so);return{c(){e=_("div"),s&&s.c(),t=b(),o&&o.c(),u(e,"class","card-header svelte-1qbuf8h")},m(a,c){$(a,e,c),s&&s.m(e,null),r(e,t),o&&o.m(e,null),n=!0},p(a,c){a[0]?s?s.p(a,c):(s=io(a),s.c(),s.m(e,t)):s&&(s.d(1),s=null),o&&o.p&&(!n||c&16)&&Dl(o,i,a,a[4],n?Tl(i,a[4],c,lf):ql(a[4]),so)},i(a){n||(N(o,a),n=!0)},o(a){R(o,a),n=!1},d(a){a&&k(e),s&&s.d(),o&&o.d(a)}}}function io(l){let e,t;return{c(){e=_("span"),t=z(l[0]),u(e,"class","card-title svelte-1qbuf8h")},m(n,s){$(n,e,s),r(e,t)},p(n,s){s&1&&j(t,n[0])},d(n){n&&k(e)}}}function ro(l){let e,t;const n=l[5].footer,s=zl(n,l,l[4],no);return{c(){e=_("div"),s&&s.c(),u(e,"class","card-footer svelte-1qbuf8h")},m(i,o){$(i,e,o),s&&s.m(e,null),t=!0},p(i,o){s&&s.p&&(!t||o&16)&&Dl(s,n,i,i[4],t?Tl(n,i[4],o,tf):ql(i[4]),no)},i(i){t||(N(s,i),t=!0)},o(i){R(s,i),t=!1},d(i){i&&k(e),s&&s.d(i)}}}function nf(l){let e,t,n,s,i,o=(l[0]||l[3].header)&&oo(l);const a=l[5].default,c=zl(a,l,l[4],null);let p=l[3].footer&&ro(l);return{c(){e=_("div"),o&&o.c(),t=b(),n=_("div"),c&&c.c(),s=b(),p&&p.c(),u(n,"class","card-body svelte-1qbuf8h"),u(e,"class","card svelte-1qbuf8h"),we(e,"glass",l[1]),we(e,"no-padding",!l[2])},m(f,d){$(f,e,d),o&&o.m(e,null),r(e,t),r(e,n),c&&c.m(n,null),r(e,s),p&&p.m(e,null),i=!0},p(f,[d]){f[0]||f[3].header?o?(o.p(f,d),d&9&&N(o,1)):(o=oo(f),o.c(),N(o,1),o.m(e,t)):o&&(Te(),R(o,1,1,()=>{o=null}),De()),c&&c.p&&(!i||d&16)&&Dl(c,a,f,f[4],i?Tl(a,f[4],d,null):ql(f[4]),null),f[3].footer?p?(p.p(f,d),d&8&&N(p,1)):(p=ro(f),p.c(),N(p,1),p.m(e,null)):p&&(Te(),R(p,1,1,()=>{p=null}),De()),(!i||d&2)&&we(e,"glass",f[1]),(!i||d&4)&&we(e,"no-padding",!f[2])},i(f){i||(N(o),N(c,f),N(p),i=!0)},o(f){R(o),R(c,f),R(p),i=!1},d(f){f&&k(e),o&&o.d(),c&&c.d(f),p&&p.d()}}}function sf(l,e,t){let{$$slots:n={},$$scope:s}=e;const i=pa(n);let{title:o=""}=e,{glass:a=!1}=e,{padding:c=!0}=e;return l.$$set=p=>{"title"in p&&t(0,o=p.title),"glass"in p&&t(1,a=p.glass),"padding"in p&&t(2,c=p.padding),"$$scope"in p&&t(4,s=p.$$scope)},[o,a,c,i,s,n]}class st extends qt{constructor(e){super(),Dt(this,e,sf,nf,yt,{title:0,glass:1,padding:2})}}const{Boolean:Un}=ma;function ao(l,e,t){const n=l.slice();return n[156]=e[t],n}function co(l,e,t){const n=l.slice();return n[156]=e[t],n}function uo(l,e,t){const n=l.slice();return n[156]=e[t],n}function fo(l,e,t){const n=l.slice();return n[156]=e[t],n}function po(l,e,t){const n=l.slice();return n[75]=e[t],n}function _o(l,e,t){const n=l.slice();return n[167]=e[t],n}function mo(l,e,t){const n=l.slice();return n[170]=e[t],n}function vo(l,e,t){const n=l.slice();return n[173]=e[t],n}function ho(l,e,t){var i,o,a;const n=l.slice();n[156]=e[t];const s=n[156].ip||((a=(o=(i=n[156].networks)==null?void 0:i.v4)==null?void 0:o[0])==null?void 0:a.ip_address);return n[176]=s,n}function go(l,e,t){const n=l.slice();return n[179]=e[t],n[181]=t,n}function of(l){const e=l.slice(),t=e[21].find(s=>s.isMain);e[182]=t;const n=e[21].filter(s=>!s.isMain).length;return e[183]=n,e}function bo(l,e,t){const n=l.slice();return n[179]=e[t],n[181]=t,n}function ko(l,e,t){const n=l.slice();return n[185]=e[t],n}function $o(l){let e,t=l[185]+"",n;return{c(){e=_("option"),n=z(t),e.__value=l[185],ne(e,e.__value)},m(s,i){$(s,e,i),r(e,n)},p:ve,d(s){s&&k(e)}}}function rf(l){let e;return{c(){e=z("📥 Load")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function af(l){let e;return{c(){e=z("💾 Save")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function cf(l){let e;return{c(){e=z("🚫 Exclusions")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function wo(l){let e,t;return{c(){e=_("span"),t=z(l[48]),u(e,"class","config-status svelte-8rkhbz")},m(n,s){$(n,e,s),r(e,t)},p(n,s){s[1]&131072&&j(t,n[48])},d(n){n&&k(e)}}}function yo(l){let e,t,n,s,i,o,a,c,p,f,d,m;return i=new Oe({props:{variant:"ghost",size:"sm",$$slots:{default:[uf]},$$scope:{ctx:l}}}),i.$on("click",l[59]),{c(){e=_("div"),t=_("div"),n=_("label"),n.textContent="Exclusion Patterns",s=b(),ae(i.$$.fragment),o=b(),a=_("textarea"),c=b(),p=_("small"),p.textContent="One pattern per line. Applied to folder uploads and git clones.",u(n,"class","svelte-8rkhbz"),u(t,"class","exclude-header svelte-8rkhbz"),u(a,"rows","6"),u(a,"placeholder","node_modules/ __pycache__/ *.pyc .git/"),u(a,"class","svelte-8rkhbz"),u(p,"class","svelte-8rkhbz"),u(e,"class","exclude-editor svelte-8rkhbz")},m(h,v){$(h,e,v),r(e,t),r(t,n),r(t,s),ie(i,t,null),r(e,o),r(e,a),ne(a,l[50]),r(e,c),r(e,p),f=!0,d||(m=ee(a,"input",l[80]),d=!0)},p(h,v){const g={};v[6]&4&&(g.$$scope={dirty:v,ctx:h}),i.$set(g),v[1]&524288&&ne(a,h[50])},i(h){f||(N(i.$$.fragment,h),f=!0)},o(h){R(i.$$.fragment,h),f=!1},d(h){h&&k(e),re(i),d=!1,m()}}}function uf(l){let e;return{c(){e=z("Reset to Defaults")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Co(l){let e,t,n,s,i,o,a,c,p,f,d,m,h,v,g,C,y,w,T,D,q,E,S,L,F,O=l[24]&&So(),I=l[21].length>0&&zo(l);d=new Oe({props:{size:"sm",$$slots:{default:[pf]},$$scope:{ctx:l}}}),d.$on("click",l[62]);function U(M,W){return W[0]&2097152&&(C=null),M[21].length===0?df:(C==null&&(C=!M[21].some(Jf)),C?_f:qo)}function Z(M,W){return W===qo?of(M):M}let V=U(l,[-1,-1,-1,-1,-1,-1,-1]),A=V(Z(l,V)),P=l[27]&&Po(l);return{c(){e=_("div"),t=_("div"),n=_("label"),n.textContent="Build Folders",s=b(),i=_("div"),O&&O.c(),o=b(),a=_("input"),c=b(),I&&I.c(),p=b(),f=_("div"),ae(d.$$.fragment),m=b(),h=_("span"),h.textContent="or drag & drop folders here",v=b(),g=_("div"),A.c(),y=b(),w=_("label"),T=_("input"),D=b(),q=_("span"),q.textContent="Remember folder configuration for this service",E=b(),P&&P.c(),u(n,"class","svelte-8rkhbz"),u(a,"type","file"),u(a,"webkitdirectory",""),u(a,"directory",""),a.multiple=!0,Zt(a,"display","none"),u(a,"class","svelte-8rkhbz"),u(h,"class","drop-hint svelte-8rkhbz"),u(f,"class","folder-actions svelte-8rkhbz"),u(i,"class","folder-drop-zone svelte-8rkhbz"),we(i,"dragover",l[24]),u(g,"class","code-selection-info svelte-8rkhbz"),we(g,"success",l[21].some(mi)),we(g,"warning",l[21].length>0&&!l[21].some(vi)),u(T,"type","checkbox"),u(T,"class","svelte-8rkhbz"),u(w,"class","checkbox-label small-check svelte-8rkhbz"),u(t,"class","form-group svelte-8rkhbz"),u(e,"class","source-config svelte-8rkhbz")},m(M,W){$(M,e,W),r(e,t),r(t,n),r(t,s),r(t,i),O&&O.m(i,null),r(i,o),r(i,a),l[87](a),r(i,c),I&&I.m(i,null),r(i,p),r(i,f),ie(d,f,null),r(f,m),r(f,h),r(t,v),r(t,g),A.m(g,null),r(t,y),r(t,w),r(w,T),T.checked=l[23],r(w,D),r(w,q),r(e,E),P&&P.m(e,null),S=!0,L||(F=[ee(a,"change",l[63]),ee(i,"dragenter",l[64]),ee(i,"dragleave",l[65]),ee(i,"dragover",Vf),ee(i,"drop",l[66]),ee(T,"change",l[90])],L=!0)},p(M,W){M[24]?O||(O=So(),O.c(),O.m(i,o)):O&&(O.d(1),O=null),M[21].length>0?I?(I.p(M,W),W[0]&2097152&&N(I,1)):(I=zo(M),I.c(),N(I,1),I.m(i,p)):I&&(Te(),R(I,1,1,()=>{I=null}),De());const H={};W[6]&4&&(H.$$scope={dirty:W,ctx:M}),d.$set(H),(!S||W[0]&16777216)&&we(i,"dragover",M[24]),V===(V=U(M,W))&&A?A.p(Z(M,V),W):(A.d(1),A=V(Z(M,V)),A&&(A.c(),A.m(g,null))),(!S||W[0]&2097152)&&we(g,"success",M[21].some(mi)),(!S||W[0]&2097152)&&we(g,"warning",M[21].length>0&&!M[21].some(vi)),W[0]&8388608&&(T.checked=M[23]),M[27]?P?(P.p(M,W),W[0]&134217728&&N(P,1)):(P=Po(M),P.c(),N(P,1),P.m(e,null)):P&&(Te(),R(P,1,1,()=>{P=null}),De())},i(M){S||(N(I),N(d.$$.fragment,M),N(P),S=!0)},o(M){R(I),R(d.$$.fragment,M),R(P),S=!1},d(M){M&&k(e),O&&O.d(),l[87](null),I&&I.d(),re(d),A.d(),P&&P.d(),L=!1,Fe(F)}}}function So(l){let e;return{c(){e=_("div"),e.innerHTML='<span class="drop-icon svelte-8rkhbz">📂</span> <span>Drop folder here</span>',u(e,"class","drop-overlay svelte-8rkhbz")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function zo(l){let e,t,n=_e(l[21]),s=[];for(let o=0;o<n.length;o+=1)s[o]=Do(bo(l,n,o));const i=o=>R(s[o],1,1,()=>{s[o]=null});return{c(){e=_("div");for(let o=0;o<s.length;o+=1)s[o].c();u(e,"class","folder-list svelte-8rkhbz")},m(o,a){$(o,e,a);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);t=!0},p(o,a){if(a[0]&2097152|a[2]&96){n=_e(o[21]);let c;for(c=0;c<n.length;c+=1){const p=bo(o,n,c);s[c]?(s[c].p(p,a),N(s[c],1)):(s[c]=Do(p),s[c].c(),N(s[c],1),s[c].m(e,null))}for(Te(),c=n.length;c<s.length;c+=1)i(c);De()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)N(s[a]);t=!0}},o(o){s=s.filter(Un);for(let a=0;a<s.length;a+=1)R(s[a]);t=!1},d(o){o&&k(e),Pe(s,o)}}}function ff(l){let e=l[179].isMain?"MAIN":"dependency",t;return{c(){t=z(e)},m(n,s){$(n,t,s)},p(n,s){s[0]&2097152&&e!==(e=n[179].isMain?"MAIN":"dependency")&&j(t,e)},d(n){n&&k(t)}}}function To(l){let e,t,n;function s(){return l[88](l[181])}return{c(){e=_("button"),e.textContent="⭐",u(e,"type","button"),u(e,"class","set-main-btn svelte-8rkhbz"),u(e,"title","Set as main")},m(i,o){$(i,e,o),t||(n=ee(e,"click",s),t=!0)},p(i,o){l=i},d(i){i&&k(e),t=!1,n()}}}function Do(l){let e,t,n=l[179].isMain?"📁":"📂",s,i,o,a=l[179].name+"",c,p,f,d,m,h,v=l[179].fileCount+"",g,C,y,w,T,D,q,E,S;d=new Je({props:{variant:l[179].isMain?"success":"secondary",$$slots:{default:[ff]},$$scope:{ctx:l}}});let L=!l[179].isMain&&To(l);function F(){return l[89](l[181])}return{c(){e=_("div"),t=_("span"),s=z(n),i=b(),o=_("strong"),c=z(a),p=z("/"),f=b(),ae(d.$$.fragment),m=b(),h=_("span"),g=z(v),C=z(" files"),y=b(),L&&L.c(),w=b(),T=_("button"),T.textContent="✕",D=b(),u(t,"class","folder-icon svelte-8rkhbz"),u(o,"class","svelte-8rkhbz"),u(h,"class","file-count svelte-8rkhbz"),u(T,"type","button"),u(T,"class","remove-btn svelte-8rkhbz"),u(e,"class","folder-item svelte-8rkhbz")},m(O,I){$(O,e,I),r(e,t),r(t,s),r(e,i),r(e,o),r(o,c),r(o,p),r(e,f),ie(d,e,null),r(e,m),r(e,h),r(h,g),r(h,C),r(e,y),L&&L.m(e,null),r(e,w),r(e,T),r(e,D),q=!0,E||(S=ee(T,"click",F),E=!0)},p(O,I){l=O,(!q||I[0]&2097152)&&n!==(n=l[179].isMain?"📁":"📂")&&j(s,n),(!q||I[0]&2097152)&&a!==(a=l[179].name+"")&&j(c,a);const U={};I[0]&2097152&&(U.variant=l[179].isMain?"success":"secondary"),I[0]&2097152|I[6]&4&&(U.$$scope={dirty:I,ctx:l}),d.$set(U),(!q||I[0]&2097152)&&v!==(v=l[179].fileCount+"")&&j(g,v),l[179].isMain?L&&(L.d(1),L=null):L?L.p(l,I):(L=To(l),L.c(),L.m(e,w))},i(O){q||(N(d.$$.fragment,O),q=!0)},o(O){R(d.$$.fragment,O),q=!1},d(O){O&&k(e),re(d),L&&L.d(),E=!1,S()}}}function pf(l){let e;return{c(){e=z("➕ Add Folder")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function qo(l){let e,t,n=l[182].name+"",s,i,o,a,c=l[183]>0&&Eo(l);return{c(){e=z("✓ Main: "),t=_("strong"),s=z(n),i=z("/"),o=b(),c&&c.c(),a=Ie()},m(p,f){$(p,e,f),$(p,t,f),r(t,s),r(t,i),$(p,o,f),c&&c.m(p,f),$(p,a,f)},p(p,f){f[0]&2097152&&n!==(n=p[182].name+"")&&j(s,n),p[183]>0?c?c.p(p,f):(c=Eo(p),c.c(),c.m(a.parentNode,a)):c&&(c.d(1),c=null)},d(p){p&&(k(e),k(t),k(o),k(a)),c&&c.d(p)}}}function _f(l){let e;return{c(){e=z("⚠️ No main folder selected. Click ⭐ to set one as main.")},m(t,n){$(t,e,n)},p:ve,d(t){t&&k(e)}}}function df(l){let e;return{c(){e=z("No folders selected. Add your main service folder and any dependencies.")},m(t,n){$(t,e,n)},p:ve,d(t){t&&k(e)}}}function Eo(l){let e,t=l[183]+"",n,s,i=l[183]===1?"y":"ies",o;return{c(){e=z("+ "),n=z(t),s=z(" dependenc"),o=z(i)},m(a,c){$(a,e,c),$(a,n,c),$(a,s,c),$(a,o,c)},p(a,c){c[0]&2097152&&t!==(t=a[183]+"")&&j(n,t),c[0]&2097152&&i!==(i=a[183]===1?"y":"ies")&&j(o,i)},d(a){a&&(k(e),k(n),k(s),k(o))}}}function Po(l){let e,t,n,s,i,o,a,c,p,f,d,m,h,v,g,C,y,w,T,D,q,E;return i=new Je({props:{variant:l[26]==="from folder"?"success":l[26]==="multi-folder"?"info":"warning",$$slots:{default:[mf]},$$scope:{ctx:l}}}),{c(){e=_("div"),t=_("div"),n=_("label"),s=z(`🐳 Dockerfile
                    `),ae(i.$$.fragment),o=b(),a=_("textarea"),c=b(),p=_("div"),f=_("select"),d=_("option"),d.textContent="FROM...",m=_("option"),m.textContent="python:3.11-slim",h=_("option"),h.textContent="python:3.12-slim",v=_("option"),v.textContent="node:20-alpine",g=_("option"),g.textContent="node:18-alpine",C=_("option"),C.textContent="golang:1.21-alpine",y=_("option"),y.textContent="nginx:alpine",w=b(),T=_("input"),u(n,"class","svelte-8rkhbz"),u(t,"class","dockerfile-header svelte-8rkhbz"),u(a,"rows","8"),u(a,"class","dockerfile-editor svelte-8rkhbz"),u(a,"spellcheck","false"),d.__value="",ne(d,d.__value),m.__value="python:3.11-slim",ne(m,m.__value),h.__value="python:3.12-slim",ne(h,h.__value),v.__value="node:20-alpine",ne(v,v.__value),g.__value="node:18-alpine",ne(g,g.__value),C.__value="golang:1.21-alpine",ne(C,C.__value),y.__value="nginx:alpine",ne(y,y.__value),u(f,"class","svelte-8rkhbz"),l[28]===void 0&&Ze(()=>l[92].call(f)),u(T,"type","text"),u(T,"placeholder","CMD (e.g. uvicorn main:app ...)"),u(T,"class","svelte-8rkhbz"),u(p,"class","dockerfile-quick-fields svelte-8rkhbz"),u(e,"class","dockerfile-preview svelte-8rkhbz")},m(S,L){$(S,e,L),r(e,t),r(t,n),r(n,s),ie(i,n,null),r(e,o),r(e,a),ne(a,l[25]),r(e,c),r(e,p),r(p,f),r(f,d),r(f,m),r(f,h),r(f,v),r(f,g),r(f,C),r(f,y),Ee(f,l[28],!0),r(p,w),r(p,T),ne(T,l[29]),D=!0,q||(E=[ee(a,"input",l[91]),ee(f,"change",l[92]),ee(f,"change",l[93]),ee(T,"input",l[94]),ee(T,"change",l[95])],q=!0)},p(S,L){const F={};L[0]&67108864&&(F.variant=S[26]==="from folder"?"success":S[26]==="multi-folder"?"info":"warning"),L[0]&67108864|L[6]&4&&(F.$$scope={dirty:L,ctx:S}),i.$set(F),L[0]&33554432&&ne(a,S[25]),L[0]&268435456&&Ee(f,S[28]),L[0]&536870912&&T.value!==S[29]&&ne(T,S[29])},i(S){D||(N(i.$$.fragment,S),D=!0)},o(S){R(i.$$.fragment,S),D=!1},d(S){S&&k(e),re(i),q=!1,Fe(E)}}}function mf(l){let e;return{c(){e=z(l[26])},m(t,n){$(t,e,n)},p(t,n){n[0]&67108864&&j(e,t[26])},d(t){t&&k(e)}}}function Lo(l){let e,t,n,s,i,o,a,c,p,f,d,m,h,v,g,C,y,w,T,D,q,E,S,L,F,O,I,U,Z,V,A,P,M,W,H,J,B,Q,te=l[14].length>0&&No(l);return q=new Oe({props:{size:"sm",$$slots:{default:[hf]},$$scope:{ctx:l}}}),q.$on("click",l[100]),S=new Oe({props:{variant:"ghost",size:"sm",$$slots:{default:[gf]},$$scope:{ctx:l}}}),S.$on("click",l[101]),{c(){e=_("div"),t=_("div"),n=_("label"),n.textContent="Git Repository URL *",s=b(),i=_("input"),o=b(),a=_("small"),a.textContent="HTTPS URL (SSH not supported)",c=b(),p=_("div"),f=_("label"),f.textContent="Branch",d=b(),m=_("input"),h=b(),v=_("div"),g=_("label"),g.textContent="Folders to Include",C=b(),te&&te.c(),y=b(),w=_("div"),T=_("input"),D=b(),ae(q.$$.fragment),E=b(),ae(S.$$.fragment),L=b(),F=_("small"),F.textContent="Leave empty to use entire repo. Add paths for multi-folder builds (main folder contains Dockerfile).",O=b(),I=_("details"),U=_("summary"),U.textContent="🔐 Private repository?",Z=b(),V=_("div"),A=_("label"),A.textContent="Personal Access Token",P=b(),M=_("input"),W=b(),H=_("small"),H.innerHTML="Needs <code>repo</code> scope for private repos",u(n,"for","git-url"),u(n,"class","svelte-8rkhbz"),u(i,"id","git-url"),u(i,"type","url"),u(i,"placeholder","https://github.com/user/repo"),u(i,"class","svelte-8rkhbz"),u(a,"class","svelte-8rkhbz"),u(t,"class","form-group svelte-8rkhbz"),u(f,"for","git-branch"),u(f,"class","svelte-8rkhbz"),u(m,"id","git-branch"),u(m,"type","text"),u(m,"placeholder","main"),u(m,"class","svelte-8rkhbz"),u(p,"class","form-group svelte-8rkhbz"),u(g,"class","svelte-8rkhbz"),u(T,"type","text"),u(T,"placeholder","e.g. services/my_api"),u(T,"class","svelte-8rkhbz"),u(w,"class","folder-input svelte-8rkhbz"),u(F,"class","svelte-8rkhbz"),u(v,"class","form-group svelte-8rkhbz"),u(U,"class","svelte-8rkhbz"),u(A,"for","git-token"),u(A,"class","svelte-8rkhbz"),u(M,"id","git-token"),u(M,"type","password"),u(M,"placeholder","ghp_xxxxxxxxxxxx"),u(M,"class","svelte-8rkhbz"),u(H,"class","svelte-8rkhbz"),u(V,"class","form-group svelte-8rkhbz"),u(I,"class","private-repo svelte-8rkhbz"),u(e,"class","source-config svelte-8rkhbz")},m(G,K){$(G,e,K),r(e,t),r(t,n),r(t,s),r(t,i),ne(i,l[11]),r(t,o),r(t,a),r(e,c),r(e,p),r(p,f),r(p,d),r(p,m),ne(m,l[12]),r(e,h),r(e,v),r(v,g),r(v,C),te&&te.m(v,null),r(v,y),r(v,w),r(w,T),ne(T,l[15]),r(w,D),ie(q,w,null),r(w,E),ie(S,w,null),r(v,L),r(v,F),r(e,O),r(e,I),r(I,U),r(I,Z),r(I,V),r(V,A),r(V,P),r(V,M),ne(M,l[13]),r(V,W),r(V,H),J=!0,B||(Q=[ee(i,"input",l[96]),ee(m,"input",l[97]),ee(T,"input",l[99]),ee(M,"input",l[102])],B=!0)},p(G,K){K[0]&2048&&i.value!==G[11]&&ne(i,G[11]),K[0]&4096&&m.value!==G[12]&&ne(m,G[12]),G[14].length>0?te?(te.p(G,K),K[0]&16384&&N(te,1)):(te=No(G),te.c(),N(te,1),te.m(v,y)):te&&(Te(),R(te,1,1,()=>{te=null}),De()),K[0]&32768&&T.value!==G[15]&&ne(T,G[15]);const x={};K[6]&4&&(x.$$scope={dirty:K,ctx:G}),q.$set(x);const de={};K[6]&4&&(de.$$scope={dirty:K,ctx:G}),S.$set(de),K[0]&8192&&M.value!==G[13]&&ne(M,G[13])},i(G){J||(N(te),N(q.$$.fragment,G),N(S.$$.fragment,G),J=!0)},o(G){R(te),R(q.$$.fragment,G),R(S.$$.fragment,G),J=!1},d(G){G&&k(e),te&&te.d(),re(q),re(S),B=!1,Fe(Q)}}}function No(l){let e,t,n=_e(l[14]),s=[];for(let o=0;o<n.length;o+=1)s[o]=Mo(go(l,n,o));const i=o=>R(s[o],1,1,()=>{s[o]=null});return{c(){e=_("div");for(let o=0;o<s.length;o+=1)s[o].c();u(e,"class","folder-list svelte-8rkhbz")},m(o,a){$(o,e,a);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);t=!0},p(o,a){if(a[0]&16384|a[2]&512){n=_e(o[14]);let c;for(c=0;c<n.length;c+=1){const p=go(o,n,c);s[c]?(s[c].p(p,a),N(s[c],1)):(s[c]=Mo(p),s[c].c(),N(s[c],1),s[c].m(e,null))}for(Te(),c=n.length;c<s.length;c+=1)i(c);De()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)N(s[a]);t=!0}},o(o){s=s.filter(Un);for(let a=0;a<s.length;a+=1)R(s[a]);t=!1},d(o){o&&k(e),Pe(s,o)}}}function vf(l){let e=l[179].isMain?"MAIN":"dependency",t;return{c(){t=z(e)},m(n,s){$(n,t,s)},p(n,s){s[0]&16384&&e!==(e=n[179].isMain?"MAIN":"dependency")&&j(t,e)},d(n){n&&k(t)}}}function Mo(l){let e,t,n=l[179].isMain?"📁":"📂",s,i,o,a=l[179].path+"",c,p,f,d,m,h,v,g,C;f=new Je({props:{variant:l[179].isMain?"success":"secondary",$$slots:{default:[vf]},$$scope:{ctx:l}}});function y(){return l[98](l[181])}return{c(){e=_("div"),t=_("span"),s=z(n),i=b(),o=_("strong"),c=z(a),p=b(),ae(f.$$.fragment),d=b(),m=_("button"),m.textContent="✕",h=b(),u(o,"class","svelte-8rkhbz"),u(m,"type","button"),u(m,"class","remove-btn svelte-8rkhbz"),u(e,"class","folder-item svelte-8rkhbz")},m(w,T){$(w,e,T),r(e,t),r(t,s),r(e,i),r(e,o),r(o,c),r(e,p),ie(f,e,null),r(e,d),r(e,m),r(e,h),v=!0,g||(C=ee(m,"click",y),g=!0)},p(w,T){l=w,(!v||T[0]&16384)&&n!==(n=l[179].isMain?"📁":"📂")&&j(s,n),(!v||T[0]&16384)&&a!==(a=l[179].path+"")&&j(c,a);const D={};T[0]&16384&&(D.variant=l[179].isMain?"success":"secondary"),T[0]&16384|T[6]&4&&(D.$$scope={dirty:T,ctx:l}),f.$set(D)},i(w){v||(N(f.$$.fragment,w),v=!0)},o(w){R(f.$$.fragment,w),v=!1},d(w){w&&k(e),re(f),g=!1,C()}}}function hf(l){let e;return{c(){e=z("+ Main")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function gf(l){let e;return{c(){e=z("+ Dep")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Ro(l){let e,t,n,s,i,o,a,c,p;return{c(){e=_("div"),t=_("div"),n=_("label"),n.textContent="Docker Image *",s=b(),i=_("input"),o=b(),a=_("small"),a.textContent="Full image URL from DO Registry or Docker Hub",u(n,"for","image-url"),u(n,"class","svelte-8rkhbz"),u(i,"id","image-url"),u(i,"type","text"),u(i,"placeholder","registry.digitalocean.com/my-registry/app:latest"),u(i,"class","svelte-8rkhbz"),u(a,"class","svelte-8rkhbz"),u(t,"class","form-group svelte-8rkhbz"),u(e,"class","source-config svelte-8rkhbz")},m(f,d){$(f,e,d),r(e,t),r(t,n),r(t,s),r(t,i),ne(i,l[16]),r(t,o),r(t,a),c||(p=ee(i,"input",l[103]),c=!0)},p(f,d){d[0]&65536&&i.value!==f[16]&&ne(i,f[16])},d(f){f&&k(e),c=!1,p()}}}function Ao(l){let e,t,n,s,i,o,a,c,p,f,d,m,h,v,g,C,y,w,T,D,q,E,S,L,F,O,I,U,Z=l[17]&&Oo(l);return{c(){e=_("div"),t=_("div"),n=_("label"),n.textContent="Docker Image File (.tar) *",s=b(),i=_("input"),o=b(),Z&&Z.c(),a=b(),c=_("small"),c.innerHTML="Export from Docker with: <code>docker save myimage:latest -o image.tar</code>",p=b(),f=_("div"),d=_("label"),d.textContent="Image Name *",m=b(),h=_("input"),v=b(),g=_("small"),g.textContent="The image name/tag as it appears in the tar file",C=b(),y=_("div"),w=_("div"),T=_("label"),T.textContent="Container Port",D=b(),q=_("input"),E=b(),S=_("div"),L=_("label"),L.textContent="Host Port",F=b(),O=_("input"),u(n,"for","image-file"),u(n,"class","svelte-8rkhbz"),u(i,"id","image-file"),u(i,"type","file"),u(i,"accept",".tar,.tar.gz"),u(i,"class","svelte-8rkhbz"),u(c,"class","svelte-8rkhbz"),u(t,"class","form-group svelte-8rkhbz"),u(d,"for","image-name"),u(d,"class","svelte-8rkhbz"),u(h,"id","image-name"),u(h,"type","text"),u(h,"placeholder","myapp:latest"),u(h,"class","svelte-8rkhbz"),u(g,"class","svelte-8rkhbz"),u(f,"class","form-group svelte-8rkhbz"),u(T,"for","container-port"),u(T,"class","svelte-8rkhbz"),u(q,"id","container-port"),u(q,"type","number"),u(q,"placeholder",l[9]),u(q,"class","svelte-8rkhbz"),u(w,"class","form-group svelte-8rkhbz"),u(L,"for","host-port"),u(L,"class","svelte-8rkhbz"),u(O,"id","host-port"),u(O,"type","number"),u(O,"placeholder",l[9]),u(O,"class","svelte-8rkhbz"),u(S,"class","form-group svelte-8rkhbz"),u(y,"class","form-row svelte-8rkhbz"),u(e,"class","source-config svelte-8rkhbz")},m(V,A){$(V,e,A),r(e,t),r(t,n),r(t,s),r(t,i),r(t,o),Z&&Z.m(t,null),r(t,a),r(t,c),r(e,p),r(e,f),r(f,d),r(f,m),r(f,h),ne(h,l[18]),r(f,v),r(f,g),r(e,C),r(e,y),r(y,w),r(w,T),r(w,D),r(w,q),ne(q,l[19]),r(y,E),r(y,S),r(S,L),r(S,F),r(S,O),ne(O,l[20]),I||(U=[ee(i,"change",l[72]),ee(h,"input",l[104]),ee(q,"input",l[105]),ee(O,"input",l[106])],I=!0)},p(V,A){V[17]?Z?Z.p(V,A):(Z=Oo(V),Z.c(),Z.m(t,a)):Z&&(Z.d(1),Z=null),A[0]&262144&&h.value!==V[18]&&ne(h,V[18]),A[0]&512&&u(q,"placeholder",V[9]),A[0]&524288&&vl(q.value)!==V[19]&&ne(q,V[19]),A[0]&512&&u(O,"placeholder",V[9]),A[0]&1048576&&vl(O.value)!==V[20]&&ne(O,V[20])},d(V){V&&k(e),Z&&Z.d(),I=!1,Fe(U)}}}function Oo(l){let e,t,n=l[17].name+"",s,i,o=(l[17].size/1024/1024).toFixed(2)+"",a,c;return{c(){e=_("div"),t=z("📦 "),s=z(n),i=z(" ("),a=z(o),c=z(" MB)"),u(e,"class","file-selected svelte-8rkhbz")},m(p,f){$(p,e,f),r(e,t),r(e,s),r(e,i),r(e,a),r(e,c)},p(p,f){f[0]&131072&&n!==(n=p[17].name+"")&&j(s,n),f[0]&131072&&o!==(o=(p[17].size/1024/1024).toFixed(2)+"")&&j(a,o)},d(p){p&&k(e)}}}function jo(l){let e,t;return e=new Je({props:{variant:"info",$$slots:{default:[bf]},$$scope:{ctx:l}}}),{c(){ae(e.$$.fragment)},m(n,s){ie(e,n,s),t=!0},p(n,s){const i={};s[0]&1024|s[6]&4&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){re(e,n)}}}function bf(l){let e=l[10].trim().split(`
`).filter(hi).length+"",t,n;return{c(){t=z(e),n=z(" vars")},m(s,i){$(s,t,i),$(s,n,i)},p(s,i){i[0]&1024&&e!==(e=s[10].trim().split(`
`).filter(hi).length+"")&&j(t,e)},d(s){s&&(k(t),k(n))}}}function Fo(l){let e,t,n,s,i,o;return{c(){e=_("div"),t=_("textarea"),n=b(),s=_("small"),s.textContent="One per line: KEY=value",u(t,"id","deploy-envvars"),u(t,"rows","3"),u(t,"placeholder","KEY=value ANOTHER_KEY=value"),u(t,"class","svelte-8rkhbz"),u(s,"class","svelte-8rkhbz"),u(e,"class","section-content svelte-8rkhbz")},m(a,c){$(a,e,c),r(e,t),ne(t,l[10]),r(e,n),r(e,s),i||(o=ee(t,"input",l[109]),i=!0)},p(a,c){c[0]&1024&&ne(t,a[10])},d(a){a&&k(e),i=!1,o()}}}function Io(l){let e,t;return e=new Je({props:{variant:"info",$$slots:{default:[kf]},$$scope:{ctx:l}}}),{c(){ae(e.$$.fragment)},m(n,s){ie(e,n,s),t=!0},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){re(e,n)}}}function kf(l){let e;return{c(){e=z("configured")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Bo(l){let e,t,n,s,i,o,a,c,p,f,d,m,h,v,g,C,y,w,T,D,q,E,S,L,F,O,I,U,Z,V=l[43]&&Uo(l),A=l[46]&&Ho(l);return{c(){e=_("div"),t=_("label"),n=_("input"),s=b(),i=_("span"),i.textContent="Auto-inject service discovery",o=b(),a=_("small"),a.textContent="Injects DATABASE_URL, REDIS_URL, etc. based on dependencies",c=b(),V&&V.c(),p=b(),f=_("div"),d=b(),m=_("label"),h=_("input"),v=b(),g=_("span"),g.textContent="💾 Persist data (mount volume)",C=b(),y=_("small"),y.textContent="Mounts /data volume for databases and stateful services",w=b(),T=_("div"),D=b(),q=_("label"),E=_("input"),S=b(),L=_("span"),L.textContent="🌐 Setup domain (Cloudflare)",F=b(),O=_("small"),O.textContent="Auto-provision subdomain with SSL via Cloudflare",I=b(),A&&A.c(),u(n,"type","checkbox"),u(n,"class","svelte-8rkhbz"),u(t,"class","checkbox-label svelte-8rkhbz"),u(a,"class","svelte-8rkhbz"),u(f,"class","config-divider svelte-8rkhbz"),u(h,"type","checkbox"),u(h,"class","svelte-8rkhbz"),u(m,"class","checkbox-label svelte-8rkhbz"),u(y,"class","svelte-8rkhbz"),u(T,"class","config-divider svelte-8rkhbz"),u(E,"type","checkbox"),u(E,"class","svelte-8rkhbz"),u(q,"class","checkbox-label svelte-8rkhbz"),u(O,"class","svelte-8rkhbz"),u(e,"class","section-content service-config svelte-8rkhbz")},m(P,M){$(P,e,M),r(e,t),r(t,n),n.checked=l[43],r(t,s),r(t,i),r(e,o),r(e,a),r(e,c),V&&V.m(e,null),r(e,p),r(e,f),r(e,d),r(e,m),r(m,h),h.checked=l[44],r(m,v),r(m,g),r(e,C),r(e,y),r(e,w),r(e,T),r(e,D),r(e,q),r(q,E),E.checked=l[46],r(q,S),r(q,L),r(e,F),r(e,O),r(e,I),A&&A.m(e,null),U||(Z=[ee(n,"change",l[111]),ee(h,"change",l[116]),ee(E,"change",l[117])],U=!0)},p(P,M){M[1]&4096&&(n.checked=P[43]),P[43]?V?V.p(P,M):(V=Uo(P),V.c(),V.m(e,p)):V&&(V.d(1),V=null),M[1]&8192&&(h.checked=P[44]),M[1]&32768&&(E.checked=P[46]),P[46]?A?A.p(P,M):(A=Ho(P),A.c(),A.m(e,null)):A&&(A.d(1),A=null)},d(P){P&&k(e),V&&V.d(),A&&A.d(),U=!1,Fe(Z)}}}function Uo(l){let e,t,n,s,i,o,a,c,p,f,d,m,h,v,g,C,y,w,T,D,q;return{c(){e=_("div"),t=_("label"),t.textContent="Dependencies:",n=b(),s=_("div"),i=_("label"),o=_("input"),a=z(`
                      🐘 PostgreSQL`),c=b(),p=_("label"),f=_("input"),d=z(`
                      ⚡ Redis`),m=b(),h=_("label"),v=_("input"),g=z(`
                      🐬 MySQL`),C=b(),y=_("label"),w=_("input"),T=z(`
                      🍃 MongoDB`),u(o,"type","checkbox"),u(o,"class","svelte-8rkhbz"),u(i,"class","dep-item svelte-8rkhbz"),u(f,"type","checkbox"),u(f,"class","svelte-8rkhbz"),u(p,"class","dep-item svelte-8rkhbz"),u(v,"type","checkbox"),u(v,"class","svelte-8rkhbz"),u(h,"class","dep-item svelte-8rkhbz"),u(w,"type","checkbox"),u(w,"class","svelte-8rkhbz"),u(y,"class","dep-item svelte-8rkhbz"),u(s,"class","dep-list svelte-8rkhbz"),u(e,"class","dependencies svelte-8rkhbz")},m(E,S){$(E,e,S),r(e,t),r(e,n),r(e,s),r(s,i),r(i,o),o.checked=l[45].postgres,r(i,a),r(s,c),r(s,p),r(p,f),f.checked=l[45].redis,r(p,d),r(s,m),r(s,h),r(h,v),v.checked=l[45].mysql,r(h,g),r(s,C),r(s,y),r(y,w),w.checked=l[45].mongo,r(y,T),D||(q=[ee(o,"change",l[112]),ee(f,"change",l[113]),ee(v,"change",l[114]),ee(w,"change",l[115])],D=!0)},p(E,S){S[1]&16384&&(o.checked=E[45].postgres),S[1]&16384&&(f.checked=E[45].redis),S[1]&16384&&(v.checked=E[45].mysql),S[1]&16384&&(w.checked=E[45].mongo)},d(E){E&&k(e),D=!1,Fe(q)}}}function Ho(l){let e,t,n,s,i,o=(l[54]||"app-project-env.domain.com")+"",a,c,p,f,d,m,h,v,g,C,y,w,T,D,q;return{c(){e=_("div"),t=_("div"),n=_("label"),n.textContent="Domain Preview:",s=b(),i=_("code"),a=z(o),c=b(),p=_("div"),f=_("label"),f.textContent="Base Domain",d=b(),m=_("input"),h=b(),v=_("div"),g=_("label"),g.innerHTML='Custom Aliases <small class="svelte-8rkhbz">(optional)</small>',C=b(),y=_("input"),w=b(),T=_("small"),T.textContent="Comma-separated custom domains (requires DNS setup)",u(n,"class","svelte-8rkhbz"),u(i,"class","svelte-8rkhbz"),u(t,"class","domain-preview svelte-8rkhbz"),u(f,"for","base-domain"),u(f,"class","svelte-8rkhbz"),u(m,"id","base-domain"),u(m,"type","text"),u(m,"placeholder","example.com"),u(m,"class","svelte-8rkhbz"),u(p,"class","form-group svelte-8rkhbz"),u(g,"for","domain-aliases"),u(g,"class","svelte-8rkhbz"),u(y,"id","domain-aliases"),u(y,"type","text"),u(y,"placeholder","api.myclient.com, app.example.com"),u(y,"class","svelte-8rkhbz"),u(T,"class","svelte-8rkhbz"),u(v,"class","form-group svelte-8rkhbz"),u(e,"class","domain-config svelte-8rkhbz")},m(E,S){$(E,e,S),r(e,t),r(t,n),r(t,s),r(t,i),r(i,a),r(e,c),r(e,p),r(p,f),r(p,d),r(p,m),ne(m,l[5]),r(e,h),r(e,v),r(v,g),r(v,C),r(v,y),ne(y,l[47]),r(v,w),r(v,T),D||(q=[ee(m,"input",l[118]),ee(y,"input",l[119])],D=!0)},p(E,S){S[1]&8388608&&o!==(o=(E[54]||"app-project-env.domain.com")+"")&&j(a,o),S[0]&32&&m.value!==E[5]&&ne(m,E[5]),S[1]&65536&&y.value!==E[47]&&ne(y,E[47])},d(E){E&&k(e),D=!1,Fe(q)}}}function $f(l){let e=l[37].size+"",t,n;return{c(){t=z(e),n=z(" selected")},m(s,i){$(s,t,i),$(s,n,i)},p(s,i){i[1]&64&&e!==(e=s[37].size+"")&&j(t,e)},d(s){s&&(k(t),k(n))}}}function wf(l){let e;return{c(){e=z("✓ All")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function yf(l){let e;return{c(){e=z("✕ None")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Cf(l){let e,t,n=_e(l[33]),s=[];for(let o=0;o<n.length;o+=1)s[o]=Vo(ho(l,n,o));const i=o=>R(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=Ie()},m(o,a){for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(o,a);$(o,e,a),t=!0},p(o,a){if(a[1]&536870980){n=_e(o[33]);let c;for(c=0;c<n.length;c+=1){const p=ho(o,n,c);s[c]?(s[c].p(p,a),N(s[c],1)):(s[c]=Vo(p),s[c].c(),N(s[c],1),s[c].m(e.parentNode,e))}for(Te(),c=n.length;c<s.length;c+=1)i(c);De()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)N(s[a]);t=!0}},o(o){s=s.filter(Un);for(let a=0;a<s.length;a+=1)R(s[a]);t=!1},d(o){o&&k(e),Pe(s,o)}}}function Sf(l){let e,t,n=(l[4]||"any region")+"",s;return{c(){e=_("div"),t=z("No servers in "),s=z(n),u(e,"class","empty svelte-8rkhbz")},m(i,o){$(i,e,o),r(e,t),r(e,s)},p(i,o){o[0]&16&&n!==(n=(i[4]||"any region")+"")&&j(s,n)},i:ve,o:ve,d(i){i&&k(e)}}}function Go(l){let e,t,n,s,i,o=(l[156].name||"unnamed")+"",a,c,p,f=l[176]+"",d,m,h,v,g,C;function y(){return l[122](l[176])}let w=l[156].project&&Wo(l);return{c(){e=_("label"),t=_("input"),s=b(),i=_("span"),a=z(o),c=b(),p=_("code"),d=z(f),m=b(),w&&w.c(),h=b(),u(t,"type","checkbox"),t.checked=n=l[37].has(l[176]),u(t,"class","svelte-8rkhbz"),u(i,"class","server-name svelte-8rkhbz"),u(p,"class","server-ip svelte-8rkhbz"),u(e,"class","server-item svelte-8rkhbz"),we(e,"selected",l[37].has(l[176]))},m(T,D){$(T,e,D),r(e,t),r(e,s),r(e,i),r(i,a),r(e,c),r(e,p),r(p,d),r(e,m),w&&w.m(e,null),r(e,h),v=!0,g||(C=ee(t,"change",y),g=!0)},p(T,D){l=T,(!v||D[1]&68&&n!==(n=l[37].has(l[176])))&&(t.checked=n),(!v||D[1]&4)&&o!==(o=(l[156].name||"unnamed")+"")&&j(a,o),(!v||D[1]&4)&&f!==(f=l[176]+"")&&j(d,f),l[156].project?w?(w.p(l,D),D[1]&4&&N(w,1)):(w=Wo(l),w.c(),N(w,1),w.m(e,h)):w&&(Te(),R(w,1,1,()=>{w=null}),De()),(!v||D[1]&68)&&we(e,"selected",l[37].has(l[176]))},i(T){v||(N(w),v=!0)},o(T){R(w),v=!1},d(T){T&&k(e),w&&w.d(),g=!1,C()}}}function Wo(l){let e,t;return e=new Je({props:{variant:"info",$$slots:{default:[zf]},$$scope:{ctx:l}}}),{c(){ae(e.$$.fragment)},m(n,s){ie(e,n,s),t=!0},p(n,s){const i={};s[1]&4|s[6]&4&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){re(e,n)}}}function zf(l){let e=l[156].project+"",t;return{c(){t=z(e)},m(n,s){$(n,t,s)},p(n,s){s[1]&4&&e!==(e=n[156].project+"")&&j(t,e)},d(n){n&&k(t)}}}function Vo(l){let e,t,n=l[176]&&Go(l);return{c(){n&&n.c(),e=Ie()},m(s,i){n&&n.m(s,i),$(s,e,i),t=!0},p(s,i){s[176]?n?(n.p(s,i),i[1]&4&&N(n,1)):(n=Go(s),n.c(),N(n,1),n.m(e.parentNode,e)):n&&(Te(),R(n,1,1,()=>{n=null}),De())},i(s){t||(N(n),t=!0)},o(s){R(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Jo(l){let e,t;return e=new Je({props:{variant:"warning",$$slots:{default:[Tf]},$$scope:{ctx:l}}}),{c(){ae(e.$$.fragment)},m(n,s){ie(e,n,s),t=!0},p(n,s){const i={};s[1]&128|s[6]&4&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){re(e,n)}}}function Tf(l){let e,t;return{c(){e=z(l[38]),t=z(" new")},m(n,s){$(n,e,s),$(n,t,s)},p(n,s){s[1]&128&&j(e,n[38])},d(n){n&&(k(e),k(t))}}}function Ko(l){let e,t,n,s,i,o,a,c,p,f,d,m,h,v,g,C,y,w,T,D,q,E,S,L,F,O,I,U,Z,V,A,P=l[38]>0&&Yo(),M=_e(l[6]||[]),W=[];for(let G=0;G<M.length;G+=1)W[G]=Qo(vo(l,M,G));let H=_e(l[31]||[]),J=[];for(let G=0;G<H.length;G+=1)J[G]=Zo(mo(l,H,G));let B=_e(l[32]||[]),Q=[];for(let G=0;G<B.length;G+=1)Q[G]=Xo(_o(l,B,G));let te=l[38]>0&&!l[3]&&xo();return{c(){e=_("div"),t=_("div"),n=_("div"),s=_("label"),i=z("Snapshot "),P&&P.c(),o=b(),a=_("select"),c=_("option"),c.textContent="Select snapshot...";for(let G=0;G<W.length;G+=1)W[G].c();p=b(),f=_("div"),d=_("label"),d.textContent="Region",m=b(),h=_("select");for(let G=0;G<J.length;G+=1)J[G].c();v=b(),g=_("div"),C=_("label"),C.textContent="Size",y=b(),w=_("select");for(let G=0;G<Q.length;G+=1)Q[G].c();T=b(),D=_("div"),q=_("span"),q.textContent="New servers to provision:",E=b(),S=_("div"),L=_("button"),L.textContent="−",F=b(),O=_("input"),I=b(),U=_("button"),U.textContent="+",Z=b(),te&&te.c(),u(s,"for","snapshot-select"),u(s,"class","svelte-8rkhbz"),c.__value="",ne(c,c.__value),u(a,"id","snapshot-select"),u(a,"class","svelte-8rkhbz"),l[3]===void 0&&Ze(()=>l[124].call(a)),u(n,"class","form-group svelte-8rkhbz"),u(d,"for","region-select"),u(d,"class","svelte-8rkhbz"),u(h,"id","region-select"),u(h,"class","svelte-8rkhbz"),l[4]===void 0&&Ze(()=>l[125].call(h)),u(f,"class","form-group svelte-8rkhbz"),u(C,"for","size-select"),u(C,"class","svelte-8rkhbz"),u(w,"id","size-select"),u(w,"class","svelte-8rkhbz"),l[30]===void 0&&Ze(()=>l[126].call(w)),u(g,"class","form-group svelte-8rkhbz"),u(t,"class","form-row three-col svelte-8rkhbz"),u(L,"type","button"),u(L,"class","svelte-8rkhbz"),u(O,"type","number"),u(O,"min","0"),u(O,"max","10"),u(O,"class","svelte-8rkhbz"),u(U,"type","button"),u(U,"class","svelte-8rkhbz"),u(S,"class","number-spinner svelte-8rkhbz"),u(D,"class","new-servers svelte-8rkhbz"),u(e,"class","section-content provisioning-config svelte-8rkhbz")},m(G,K){$(G,e,K),r(e,t),r(t,n),r(n,s),r(s,i),P&&P.m(s,null),r(n,o),r(n,a),r(a,c);for(let x=0;x<W.length;x+=1)W[x]&&W[x].m(a,null);Ee(a,l[3],!0),r(t,p),r(t,f),r(f,d),r(f,m),r(f,h);for(let x=0;x<J.length;x+=1)J[x]&&J[x].m(h,null);Ee(h,l[4],!0),r(t,v),r(t,g),r(g,C),r(g,y),r(g,w);for(let x=0;x<Q.length;x+=1)Q[x]&&Q[x].m(w,null);Ee(w,l[30],!0),r(e,T),r(e,D),r(D,q),r(D,E),r(D,S),r(S,L),r(S,F),r(S,O),ne(O,l[38]),r(S,I),r(S,U),r(D,Z),te&&te.m(D,null),V||(A=[ee(a,"change",l[124]),ee(h,"change",l[125]),ee(w,"change",l[126]),ee(L,"click",l[127]),ee(O,"input",l[128]),ee(U,"click",l[129])],V=!0)},p(G,K){if(G[38]>0?P||(P=Yo(),P.c(),P.m(s,null)):P&&(P.d(1),P=null),K[0]&64){M=_e(G[6]||[]);let x;for(x=0;x<M.length;x+=1){const de=vo(G,M,x);W[x]?W[x].p(de,K):(W[x]=Qo(de),W[x].c(),W[x].m(a,null))}for(;x<W.length;x+=1)W[x].d(1);W.length=M.length}if(K[0]&72&&Ee(a,G[3]),K[1]&1){H=_e(G[31]||[]);let x;for(x=0;x<H.length;x+=1){const de=mo(G,H,x);J[x]?J[x].p(de,K):(J[x]=Zo(de),J[x].c(),J[x].m(h,null))}for(;x<J.length;x+=1)J[x].d(1);J.length=H.length}if(K[0]&16|K[1]&1&&Ee(h,G[4]),K[1]&2){B=_e(G[32]||[]);let x;for(x=0;x<B.length;x+=1){const de=_o(G,B,x);Q[x]?Q[x].p(de,K):(Q[x]=Xo(de),Q[x].c(),Q[x].m(w,null))}for(;x<Q.length;x+=1)Q[x].d(1);Q.length=B.length}K[0]&1073741824|K[1]&2&&Ee(w,G[30]),K[1]&128&&vl(O.value)!==G[38]&&ne(O,G[38]),G[38]>0&&!G[3]?te||(te=xo(),te.c(),te.m(D,null)):te&&(te.d(1),te=null)},d(G){G&&k(e),P&&P.d(),Pe(W,G),Pe(J,G),Pe(Q,G),te&&te.d(),V=!1,Fe(A)}}}function Yo(l){let e;return{c(){e=z("*")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Qo(l){let e,t=l[173].name+"",n,s;return{c(){e=_("option"),n=z(t),e.__value=s=l[173].id,ne(e,e.__value)},m(i,o){$(i,e,o),r(e,n)},p(i,o){o[0]&64&&t!==(t=i[173].name+"")&&j(n,t),o[0]&64&&s!==(s=i[173].id)&&(e.__value=s,ne(e,e.__value))},d(i){i&&k(e)}}}function Zo(l){let e,t=(l[170].name||l[170].slug)+"",n,s;return{c(){e=_("option"),n=z(t),e.__value=s=l[170].slug,ne(e,e.__value)},m(i,o){$(i,e,o),r(e,n)},p(i,o){o[1]&1&&t!==(t=(i[170].name||i[170].slug)+"")&&j(n,t),o[1]&1&&s!==(s=i[170].slug)&&(e.__value=s,ne(e,e.__value))},d(i){i&&k(e)}}}function Xo(l){let e,t=(l[167].description||l[167].slug)+"",n,s;return{c(){e=_("option"),n=z(t),e.__value=s=l[167].slug,ne(e,e.__value)},m(i,o){$(i,e,o),r(e,n)},p(i,o){o[1]&2&&t!==(t=(i[167].description||i[167].slug)+"")&&j(n,t),o[1]&2&&s!==(s=i[167].slug)&&(e.__value=s,ne(e,e.__value))},d(i){i&&k(e)}}}function xo(l){let e;return{c(){e=_("small"),e.textContent="⚠️ Select a snapshot for new servers",u(e,"class","warning svelte-8rkhbz")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Df(l){let e;return{c(){e=z("🚀 Deploy")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function qf(l){let e;return{c(){e=z("Deploying...")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Ef(l){let e;function t(i,o){return i[34]?qf:Df}let n=t(l),s=n(l);return{c(){s.c(),e=Ie()},m(i,o){s.m(i,o),$(i,e,o)},p(i,o){n!==(n=t(i))&&(s.d(1),s=n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&k(e),s.d(i)}}}function Pf(l){let e,t,n,s,i,o,a,c,p,f,d,m,h,v,g,C,y,w,T,D,q,E,S,L,F,O,I,U,Z,V,A,P,M,W,H,J,B,Q,te,G,K,x,de,he,oe,X,pe,be,ce,Y,se,Se,ge,He,jt,ct,ht,ye,Be,Ye,Ke,Xe,Ge,Et,gt,ot,Ft,Ct=l[51]?"▼":"▶",ol,el,tl,il,It=l[10].trim(),ll,bl,bt,St,rl,zt=l[52]?"▼":"▶",Bt,Wt,Xt,xt,al=l[46]||Object.values(l[45]).some(di),cl,pl,Pt,Vt,Ut,Ce,xe,Qe,kt,et,pt,Ue,tt,Pl,Nt,Tt,Lt,Jt,Ht,Ve,_l,kl=l[53]?"▼":"▶",nl,_t,sl,dt,it,rt,ul,$t,Al,Ll,Fl,fl=_e(l[55]),me=[];for(let fe=0;fe<fl.length;fe+=1)me[fe]=$o(ko(l,fl,fe));q=new Oe({props:{variant:"ghost",size:"sm",title:"Load saved config",$$slots:{default:[rf]},$$scope:{ctx:l}}}),q.$on("click",l[56]),S=new Oe({props:{variant:"ghost",size:"sm",title:"Save current settings",$$slots:{default:[af]},$$scope:{ctx:l}}}),S.$on("click",l[57]),F=new Oe({props:{variant:"ghost",size:"sm",title:"Edit exclusion patterns",$$slots:{default:[cf]},$$scope:{ctx:l}}}),F.$on("click",l[58]);let qe=l[48]&&wo(l),We=l[49]&&yo(l),lt=l[8]==="code"&&Co(l),nt=l[8]==="git"&&Lo(l),Ae=l[8]==="image"&&Ro(l),ut=l[8]==="image_file"&&Ao(l),mt=It&&jo(l),Mt=l[51]&&Fo(l),wt=al&&Io(l),Rt=l[52]&&Bo(l);Qe=new Je({props:{variant:"info",$$slots:{default:[$f]},$$scope:{ctx:l}}}),pt=new Oe({props:{variant:"ghost",size:"sm",$$slots:{default:[wf]},$$scope:{ctx:l}}}),pt.$on("click",l[120]),tt=new Oe({props:{variant:"ghost",size:"sm",$$slots:{default:[yf]},$$scope:{ctx:l}}}),tt.$on("click",l[121]);const sn=[Sf,Cf],dl=[];function on(fe,ze){return!fe[33]||fe[33].length===0?0:1}Tt=on(l),Lt=dl[Tt]=sn[Tt](l);let vt=l[38]>0&&Jo(l),At=l[53]&&Ko(l);return ul=new Oe({props:{variant:"primary",type:"submit",disabled:l[34],$$slots:{default:[Ef]},$$scope:{ctx:l}}}),Al=ha(l[83][0]),{c(){e=_("form"),t=_("div"),n=_("div"),s=_("label"),s.textContent="App Name *",i=b(),o=_("input"),a=b(),c=_("div"),p=_("label"),p.textContent="Project",f=b(),d=_("input"),m=b(),h=_("div"),v=_("label"),v.textContent="Environment",g=b(),C=_("select");for(let fe=0;fe<me.length;fe+=1)me[fe].c();y=b(),w=_("div"),T=_("span"),T.textContent="Config:",D=b(),ae(q.$$.fragment),E=b(),ae(S.$$.fragment),L=b(),ae(F.$$.fragment),O=b(),qe&&qe.c(),I=b(),We&&We.c(),U=b(),Z=_("div"),V=_("label"),V.innerHTML='Tags <small class="svelte-8rkhbz">(comma-separated)</small>',A=b(),P=_("input"),M=b(),W=_("div"),H=_("label"),H.textContent="Source Type *",J=b(),B=_("div"),Q=_("label"),te=_("input"),G=z(`
              📁 Local Code`),K=b(),x=_("label"),de=_("input"),he=z(`
              📦 Git Repo`),oe=b(),X=_("label"),pe=_("input"),be=z(`
              🐳 Registry`),ce=b(),Y=_("label"),se=_("input"),Se=z(`
              📦 Local Image`),ge=b(),lt&&lt.c(),He=b(),nt&&nt.c(),jt=b(),Ae&&Ae.c(),ct=b(),ut&&ut.c(),ht=b(),ye=_("div"),Be=_("label"),Be.textContent="App Port",Ye=b(),Ke=_("input"),Xe=b(),Ge=_("small"),Ge.textContent="Port your app listens on inside the container",Et=b(),gt=_("div"),ot=_("button"),Ft=_("span"),ol=z(Ct),el=b(),tl=_("span"),tl.textContent="Environment Variables",il=b(),mt&&mt.c(),ll=b(),Mt&&Mt.c(),bl=b(),bt=_("div"),St=_("button"),rl=_("span"),Bt=z(zt),Wt=b(),Xt=_("span"),Xt.textContent="🔧 Service Configuration",xt=b(),wt&&wt.c(),cl=b(),Rt&&Rt.c(),pl=b(),Pt=_("div"),Vt=_("div"),Ut=_("div"),Ce=_("span"),Ce.textContent="🖥️ Servers",xe=b(),ae(Qe.$$.fragment),kt=b(),et=_("div"),ae(pt.$$.fragment),Ue=b(),ae(tt.$$.fragment),Pl=b(),Nt=_("div"),Lt.c(),Jt=b(),Ht=_("div"),Ve=_("button"),_l=_("span"),nl=z(kl),_t=b(),sl=_("span"),sl.textContent="➕ New Server Provisioning",dt=b(),vt&&vt.c(),it=b(),At&&At.c(),rt=b(),ae(ul.$$.fragment),u(s,"for","deploy-name"),u(s,"class","svelte-8rkhbz"),u(o,"id","deploy-name"),u(o,"type","text"),u(o,"placeholder","my-app"),o.required=!0,u(o,"pattern","[-a-z0-9]+"),u(o,"title","Lowercase letters, numbers, hyphens only"),u(o,"class","svelte-8rkhbz"),u(n,"class","form-group svelte-8rkhbz"),u(p,"for","deploy-project"),u(p,"class","svelte-8rkhbz"),u(d,"id","deploy-project"),u(d,"type","text"),u(d,"placeholder","my-project"),u(d,"pattern","[-a-z0-9]*"),u(d,"class","svelte-8rkhbz"),u(c,"class","form-group svelte-8rkhbz"),u(v,"for","deploy-env"),u(v,"class","svelte-8rkhbz"),u(C,"id","deploy-env"),u(C,"class","svelte-8rkhbz"),l[2]===void 0&&Ze(()=>l[79].call(C)),u(h,"class","form-group svelte-8rkhbz"),u(t,"class","form-row three-col svelte-8rkhbz"),u(T,"class","config-label svelte-8rkhbz"),u(w,"class","config-bar svelte-8rkhbz"),u(V,"for","deploy-tags"),u(V,"class","svelte-8rkhbz"),u(P,"id","deploy-tags"),u(P,"type","text"),u(P,"placeholder","api, backend, v2"),u(P,"class","svelte-8rkhbz"),u(Z,"class","form-group svelte-8rkhbz"),u(H,"class","svelte-8rkhbz"),u(te,"type","radio"),te.__value="code",ne(te,te.__value),u(te,"class","svelte-8rkhbz"),u(Q,"class","source-option svelte-8rkhbz"),we(Q,"active",l[8]==="code"),u(de,"type","radio"),de.__value="git",ne(de,de.__value),u(de,"class","svelte-8rkhbz"),u(x,"class","source-option svelte-8rkhbz"),we(x,"active",l[8]==="git"),u(pe,"type","radio"),pe.__value="image",ne(pe,pe.__value),u(pe,"class","svelte-8rkhbz"),u(X,"class","source-option svelte-8rkhbz"),we(X,"active",l[8]==="image"),u(se,"type","radio"),se.__value="image_file",ne(se,se.__value),u(se,"class","svelte-8rkhbz"),u(Y,"class","source-option svelte-8rkhbz"),we(Y,"active",l[8]==="image_file"),u(B,"class","source-radio-group svelte-8rkhbz"),u(W,"class","form-group svelte-8rkhbz"),u(Be,"for","deploy-port"),u(Be,"class","svelte-8rkhbz"),u(Ke,"id","deploy-port"),u(Ke,"type","number"),u(Ke,"min","1"),u(Ke,"max","65535"),u(Ke,"class","svelte-8rkhbz"),u(Ge,"class","svelte-8rkhbz"),u(ye,"class","form-group svelte-8rkhbz"),u(Ft,"class","toggle-icon svelte-8rkhbz"),u(ot,"type","button"),u(ot,"class","section-toggle svelte-8rkhbz"),u(gt,"class","collapsible-section svelte-8rkhbz"),we(gt,"expanded",l[51]),u(rl,"class","toggle-icon svelte-8rkhbz"),u(St,"type","button"),u(St,"class","section-toggle svelte-8rkhbz"),u(bt,"class","collapsible-section svelte-8rkhbz"),we(bt,"expanded",l[52]),u(Ut,"class","server-title svelte-8rkhbz"),u(et,"class","server-actions svelte-8rkhbz"),u(Vt,"class","server-header svelte-8rkhbz"),u(Nt,"class","server-list svelte-8rkhbz"),u(_l,"class","toggle-icon svelte-8rkhbz"),u(Ve,"type","button"),u(Ve,"class","section-toggle svelte-8rkhbz"),u(Ht,"class","collapsible-section svelte-8rkhbz"),we(Ht,"expanded",l[53]),u(Pt,"class","server-selection svelte-8rkhbz"),Al.p(te,de,pe,se)},m(fe,ze){$(fe,e,ze),r(e,t),r(t,n),r(n,s),r(n,i),r(n,o),ne(o,l[0]),r(t,a),r(t,c),r(c,p),r(c,f),r(c,d),ne(d,l[1]),r(t,m),r(t,h),r(h,v),r(h,g),r(h,C);for(let $l=0;$l<me.length;$l+=1)me[$l]&&me[$l].m(C,null);Ee(C,l[2],!0),r(e,y),r(e,w),r(w,T),r(w,D),ie(q,w,null),r(w,E),ie(S,w,null),r(w,L),ie(F,w,null),r(w,O),qe&&qe.m(w,null),r(e,I),We&&We.m(e,null),r(e,U),r(e,Z),r(Z,V),r(Z,A),r(Z,P),ne(P,l[7]),r(e,M),r(e,W),r(W,H),r(W,J),r(W,B),r(B,Q),r(Q,te),te.checked=te.__value===l[8],r(Q,G),r(B,K),r(B,x),r(x,de),de.checked=de.__value===l[8],r(x,he),r(B,oe),r(B,X),r(X,pe),pe.checked=pe.__value===l[8],r(X,be),r(B,ce),r(B,Y),r(Y,se),se.checked=se.__value===l[8],r(Y,Se),r(e,ge),lt&&lt.m(e,null),r(e,He),nt&&nt.m(e,null),r(e,jt),Ae&&Ae.m(e,null),r(e,ct),ut&&ut.m(e,null),r(e,ht),r(e,ye),r(ye,Be),r(ye,Ye),r(ye,Ke),ne(Ke,l[9]),r(ye,Xe),r(ye,Ge),r(e,Et),r(e,gt),r(gt,ot),r(ot,Ft),r(Ft,ol),r(ot,el),r(ot,tl),r(ot,il),mt&&mt.m(ot,null),r(gt,ll),Mt&&Mt.m(gt,null),r(e,bl),r(e,bt),r(bt,St),r(St,rl),r(rl,Bt),r(St,Wt),r(St,Xt),r(St,xt),wt&&wt.m(St,null),r(bt,cl),Rt&&Rt.m(bt,null),r(e,pl),r(e,Pt),r(Pt,Vt),r(Vt,Ut),r(Ut,Ce),r(Ut,xe),ie(Qe,Ut,null),r(Vt,kt),r(Vt,et),ie(pt,et,null),r(et,Ue),ie(tt,et,null),r(Pt,Pl),r(Pt,Nt),dl[Tt].m(Nt,null),r(Pt,Jt),r(Pt,Ht),r(Ht,Ve),r(Ve,_l),r(_l,nl),r(Ve,_t),r(Ve,sl),r(Ve,dt),vt&&vt.m(Ve,null),r(Ht,it),At&&At.m(Ht,null),r(e,rt),ie(ul,e,null),$t=!0,Ll||(Fl=[ee(o,"input",l[77]),ee(d,"input",l[78]),ee(C,"change",l[79]),ee(P,"input",l[81]),ee(te,"change",l[82]),ee(de,"change",l[84]),ee(pe,"change",l[85]),ee(se,"change",l[86]),ee(Ke,"input",l[107]),ee(ot,"click",l[108]),ee(St,"click",l[110]),ee(Ve,"click",l[123]),ee(e,"submit",l[73])],Ll=!0)},p(fe,ze){if(ze[0]&1&&o.value!==fe[0]&&ne(o,fe[0]),ze[0]&2&&d.value!==fe[1]&&ne(d,fe[1]),ze[1]&16777216){fl=_e(fe[55]);let Kt;for(Kt=0;Kt<fl.length;Kt+=1){const pn=ko(fe,fl,Kt);me[Kt]?me[Kt].p(pn,ze):(me[Kt]=$o(pn),me[Kt].c(),me[Kt].m(C,null))}for(;Kt<me.length;Kt+=1)me[Kt].d(1);me.length=fl.length}ze[0]&4|ze[1]&16777216&&Ee(C,fe[2]);const $l={};ze[6]&4&&($l.$$scope={dirty:ze,ctx:fe}),q.$set($l);const rn={};ze[6]&4&&(rn.$$scope={dirty:ze,ctx:fe}),S.$set(rn);const an={};ze[6]&4&&(an.$$scope={dirty:ze,ctx:fe}),F.$set(an),fe[48]?qe?qe.p(fe,ze):(qe=wo(fe),qe.c(),qe.m(w,null)):qe&&(qe.d(1),qe=null),fe[49]?We?(We.p(fe,ze),ze[1]&262144&&N(We,1)):(We=yo(fe),We.c(),N(We,1),We.m(e,U)):We&&(Te(),R(We,1,1,()=>{We=null}),De()),ze[0]&128&&P.value!==fe[7]&&ne(P,fe[7]),ze[0]&256&&(te.checked=te.__value===fe[8]),(!$t||ze[0]&256)&&we(Q,"active",fe[8]==="code"),ze[0]&256&&(de.checked=de.__value===fe[8]),(!$t||ze[0]&256)&&we(x,"active",fe[8]==="git"),ze[0]&256&&(pe.checked=pe.__value===fe[8]),(!$t||ze[0]&256)&&we(X,"active",fe[8]==="image"),ze[0]&256&&(se.checked=se.__value===fe[8]),(!$t||ze[0]&256)&&we(Y,"active",fe[8]==="image_file"),fe[8]==="code"?lt?(lt.p(fe,ze),ze[0]&256&&N(lt,1)):(lt=Co(fe),lt.c(),N(lt,1),lt.m(e,He)):lt&&(Te(),R(lt,1,1,()=>{lt=null}),De()),fe[8]==="git"?nt?(nt.p(fe,ze),ze[0]&256&&N(nt,1)):(nt=Lo(fe),nt.c(),N(nt,1),nt.m(e,jt)):nt&&(Te(),R(nt,1,1,()=>{nt=null}),De()),fe[8]==="image"?Ae?Ae.p(fe,ze):(Ae=Ro(fe),Ae.c(),Ae.m(e,ct)):Ae&&(Ae.d(1),Ae=null),fe[8]==="image_file"?ut?ut.p(fe,ze):(ut=Ao(fe),ut.c(),ut.m(e,ht)):ut&&(ut.d(1),ut=null),ze[0]&512&&vl(Ke.value)!==fe[9]&&ne(Ke,fe[9]),(!$t||ze[1]&1048576)&&Ct!==(Ct=fe[51]?"▼":"▶")&&j(ol,Ct),ze[0]&1024&&(It=fe[10].trim()),It?mt?(mt.p(fe,ze),ze[0]&1024&&N(mt,1)):(mt=jo(fe),mt.c(),N(mt,1),mt.m(ot,null)):mt&&(Te(),R(mt,1,1,()=>{mt=null}),De()),fe[51]?Mt?Mt.p(fe,ze):(Mt=Fo(fe),Mt.c(),Mt.m(gt,null)):Mt&&(Mt.d(1),Mt=null),(!$t||ze[1]&1048576)&&we(gt,"expanded",fe[51]),(!$t||ze[1]&2097152)&&zt!==(zt=fe[52]?"▼":"▶")&&j(Bt,zt),ze[1]&49152&&(al=fe[46]||Object.values(fe[45]).some(di)),al?wt?ze[1]&49152&&N(wt,1):(wt=Io(fe),wt.c(),N(wt,1),wt.m(St,null)):wt&&(Te(),R(wt,1,1,()=>{wt=null}),De()),fe[52]?Rt?Rt.p(fe,ze):(Rt=Bo(fe),Rt.c(),Rt.m(bt,null)):Rt&&(Rt.d(1),Rt=null),(!$t||ze[1]&2097152)&&we(bt,"expanded",fe[52]);const cn={};ze[1]&64|ze[6]&4&&(cn.$$scope={dirty:ze,ctx:fe}),Qe.$set(cn);const un={};ze[6]&4&&(un.$$scope={dirty:ze,ctx:fe}),pt.$set(un);const fn={};ze[6]&4&&(fn.$$scope={dirty:ze,ctx:fe}),tt.$set(fn);let Ql=Tt;Tt=on(fe),Tt===Ql?dl[Tt].p(fe,ze):(Te(),R(dl[Ql],1,1,()=>{dl[Ql]=null}),De(),Lt=dl[Tt],Lt?Lt.p(fe,ze):(Lt=dl[Tt]=sn[Tt](fe),Lt.c()),N(Lt,1),Lt.m(Nt,null)),(!$t||ze[1]&4194304)&&kl!==(kl=fe[53]?"▼":"▶")&&j(nl,kl),fe[38]>0?vt?(vt.p(fe,ze),ze[1]&128&&N(vt,1)):(vt=Jo(fe),vt.c(),N(vt,1),vt.m(Ve,null)):vt&&(Te(),R(vt,1,1,()=>{vt=null}),De()),fe[53]?At?At.p(fe,ze):(At=Ko(fe),At.c(),At.m(Ht,null)):At&&(At.d(1),At=null),(!$t||ze[1]&4194304)&&we(Ht,"expanded",fe[53]);const Zl={};ze[1]&8&&(Zl.disabled=fe[34]),ze[1]&8|ze[6]&4&&(Zl.$$scope={dirty:ze,ctx:fe}),ul.$set(Zl)},i(fe){$t||(N(q.$$.fragment,fe),N(S.$$.fragment,fe),N(F.$$.fragment,fe),N(We),N(lt),N(nt),N(mt),N(wt),N(Qe.$$.fragment,fe),N(pt.$$.fragment,fe),N(tt.$$.fragment,fe),N(Lt),N(vt),N(ul.$$.fragment,fe),$t=!0)},o(fe){R(q.$$.fragment,fe),R(S.$$.fragment,fe),R(F.$$.fragment,fe),R(We),R(lt),R(nt),R(mt),R(wt),R(Qe.$$.fragment,fe),R(pt.$$.fragment,fe),R(tt.$$.fragment,fe),R(Lt),R(vt),R(ul.$$.fragment,fe),$t=!1},d(fe){fe&&k(e),Pe(me,fe),re(q),re(S),re(F),qe&&qe.d(),We&&We.d(),lt&&lt.d(),nt&&nt.d(),Ae&&Ae.d(),ut&&ut.d(),mt&&mt.d(),Mt&&Mt.d(),wt&&wt.d(),Rt&&Rt.d(),re(Qe),re(pt),re(tt),dl[Tt].d(),vt&&vt.d(),At&&At.d(),re(ul),Al.r(),Ll=!1,Fe(Fl)}}}function Lf(l){let e;return{c(){e=_("div"),e.innerHTML='<p>No deployment in progress</p> <p class="hint svelte-8rkhbz">Fill in the form and click Deploy to start</p>',u(e,"class","empty-state svelte-8rkhbz")},m(t,n){$(t,e,n)},p:ve,d(t){t&&k(e)}}}function Nf(l){let e,t,n,s,i,o,a=_e(l[36]),c=[];for(let m=0;m<a.length;m+=1)c[m]=ei(po(l,a,m));function p(m,h){if(m[39]&&m[39].success)return Rf;if(m[39]&&!m[39].success)return Mf}let f=p(l),d=f&&f(l);return{c(){e=_("div"),t=_("div"),n=_("div"),s=b(),i=_("div");for(let m=0;m<c.length;m+=1)c[m].c();o=b(),d&&d.c(),u(n,"class","progress-fill svelte-8rkhbz"),Zt(n,"width",l[35]+"%"),u(t,"class","progress-bar svelte-8rkhbz"),u(i,"class","log-output svelte-8rkhbz"),u(e,"class","progress-section svelte-8rkhbz")},m(m,h){$(m,e,h),r(e,t),r(t,n),r(e,s),r(e,i);for(let v=0;v<c.length;v+=1)c[v]&&c[v].m(i,null);r(e,o),d&&d.m(e,null)},p(m,h){if(h[1]&16&&Zt(n,"width",m[35]+"%"),h[1]&32){a=_e(m[36]);let v;for(v=0;v<a.length;v+=1){const g=po(m,a,v);c[v]?c[v].p(g,h):(c[v]=ei(g),c[v].c(),c[v].m(i,null))}for(;v<c.length;v+=1)c[v].d(1);c.length=a.length}f===(f=p(m))&&d?d.p(m,h):(d&&d.d(1),d=f&&f(m),d&&(d.c(),d.m(e,null)))},d(m){m&&k(e),Pe(c,m),d&&d.d()}}}function ei(l){let e,t,n=l[75].time.toLocaleTimeString()+"",s,i,o,a=pi(l[75].message)+"",c,p;return{c(){e=_("div"),t=_("span"),s=z(n),i=b(),o=new Xa(!1),c=b(),u(t,"class","log-time svelte-8rkhbz"),o.a=c,u(e,"class",p="log-line "+l[75].type+" svelte-8rkhbz")},m(f,d){$(f,e,d),r(e,t),r(t,s),r(e,i),o.m(a,e),r(e,c)},p(f,d){d[1]&32&&n!==(n=f[75].time.toLocaleTimeString()+"")&&j(s,n),d[1]&32&&a!==(a=pi(f[75].message)+"")&&o.p(a),d[1]&32&&p!==(p="log-line "+f[75].type+" svelte-8rkhbz")&&u(e,"class",p)},d(f){f&&k(e)}}}function Mf(l){let e,t,n,s,i,o=l[2].toUpperCase()+"",a,c,p,f=l[39].error&&ti(l);function d(v,g){return v[39].servers&&v[39].servers.length>0?Of:Af}let m=d(l),h=m(l);return{c(){e=_("div"),t=_("div"),n=_("h4"),n.textContent="❌ Deployment Failed",s=b(),i=_("span"),a=z(o),c=b(),f&&f.c(),p=b(),h.c(),u(n,"class","svelte-8rkhbz"),u(i,"class","env-badge svelte-8rkhbz"),u(t,"class","result-header svelte-8rkhbz"),u(e,"class","deploy-failure-box svelte-8rkhbz")},m(v,g){$(v,e,g),r(e,t),r(t,n),r(t,s),r(t,i),r(i,a),r(e,c),f&&f.m(e,null),r(e,p),h.m(e,null)},p(v,g){g[0]&4&&o!==(o=v[2].toUpperCase()+"")&&j(a,o),v[39].error?f?f.p(v,g):(f=ti(v),f.c(),f.m(e,p)):f&&(f.d(1),f=null),m===(m=d(v))&&h?h.p(v,g):(h.d(1),h=m(v),h&&(h.c(),h.m(e,null)))},d(v){v&&k(e),f&&f.d(),h.d()}}}function Rf(l){let e,t,n,s,i,o=l[2].toUpperCase()+"",a,c,p,f=l[39].domain&&si(l),d=l[39].servers&&l[39].servers.length>0&&oi(l);return{c(){e=_("div"),t=_("div"),n=_("h4"),n.textContent="✅ Deployment Complete",s=b(),i=_("span"),a=z(o),c=b(),f&&f.c(),p=b(),d&&d.c(),u(n,"class","svelte-8rkhbz"),u(i,"class","env-badge svelte-8rkhbz"),u(t,"class","result-header svelte-8rkhbz"),u(e,"class","deploy-success-box svelte-8rkhbz")},m(m,h){$(m,e,h),r(e,t),r(t,n),r(t,s),r(t,i),r(i,a),r(e,c),f&&f.m(e,null),r(e,p),d&&d.m(e,null)},p(m,h){h[0]&4&&o!==(o=m[2].toUpperCase()+"")&&j(a,o),m[39].domain?f?f.p(m,h):(f=si(m),f.c(),f.m(e,p)):f&&(f.d(1),f=null),m[39].servers&&m[39].servers.length>0?d?d.p(m,h):(d=oi(m),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},d(m){m&&k(e),f&&f.d(),d&&d.d()}}}function ti(l){let e,t=l[39].error+"",n;return{c(){e=_("p"),n=z(t)},m(s,i){$(s,e,i),r(e,n)},p(s,i){i[1]&256&&t!==(t=s[39].error+"")&&j(n,t)},d(s){s&&k(e)}}}function Af(l){let e;return{c(){e=_("p"),e.textContent="No server details available",Zt(e,"margin-top","8px"),Zt(e,"opacity","0.8")},m(t,n){$(t,e,n)},p:ve,d(t){t&&k(e)}}}function Of(l){let e,t,n,s,i=_e(l[39].servers),o=[];for(let a=0;a<i.length;a+=1)o[a]=ni(co(l,i,a));return{c(){e=_("div"),t=_("span"),t.textContent="Server Status:",n=b(),s=_("div");for(let a=0;a<o.length;a+=1)o[a].c();u(t,"class","result-label svelte-8rkhbz"),u(s,"class","server-links svelte-8rkhbz"),u(e,"class","result-section svelte-8rkhbz"),Zt(e,"margin-top","12px")},m(a,c){$(a,e,c),r(e,t),r(e,n),r(e,s);for(let p=0;p<o.length;p+=1)o[p]&&o[p].m(s,null)},p(a,c){if(c[0]&1|c[1]&256){i=_e(a[39].servers);let p;for(p=0;p<i.length;p+=1){const f=co(a,i,p);o[p]?o[p].p(f,c):(o[p]=ni(f),o[p].c(),o[p].m(s,null))}for(;p<o.length;p+=1)o[p].d(1);o.length=i.length}},d(a){a&&k(e),Pe(o,a)}}}function jf(l){let e,t=l[156].ip+"",n,s,i=l[156].error&&li(l);return{c(){e=z("❌ "),n=z(t),i&&i.c(),s=Ie()},m(o,a){$(o,e,a),$(o,n,a),i&&i.m(o,a),$(o,s,a)},p(o,a){a[1]&256&&t!==(t=o[156].ip+"")&&j(n,t),o[156].error?i?i.p(o,a):(i=li(o),i.c(),i.m(s.parentNode,s)):i&&(i.d(1),i=null)},d(o){o&&(k(e),k(n),k(s)),i&&i.d(o)}}}function Ff(l){let e,t=l[156].ip+"",n;return{c(){e=z("✅ "),n=z(t)},m(s,i){$(s,e,i),$(s,n,i)},p(s,i){i[1]&256&&t!==(t=s[156].ip+"")&&j(n,t)},d(s){s&&(k(e),k(n))}}}function li(l){let e,t=l[156].error+"",n;return{c(){e=z(": "),n=z(t)},m(s,i){$(s,e,i),$(s,n,i)},p(s,i){i[1]&256&&t!==(t=s[156].error+"")&&j(n,t)},d(s){s&&(k(e),k(n))}}}function ni(l){let e,t,n,s,i,o,a;function c(m,h){return m[156].success?Ff:jf}let p=c(l),f=p(l);function d(){return l[132](l[156])}return{c(){e=_("div"),t=_("span"),f.c(),n=b(),s=_("button"),s.textContent="📋 Logs",i=b(),u(s,"class","log-btn svelte-8rkhbz"),u(e,"class","server-link-row svelte-8rkhbz")},m(m,h){$(m,e,h),r(e,t),f.m(t,null),r(e,n),r(e,s),r(e,i),o||(a=ee(s,"click",d),o=!0)},p(m,h){l=m,p===(p=c(l))&&f?f.p(l,h):(f.d(1),f=p(l),f&&(f.c(),f.m(t,null)))},d(m){m&&k(e),f.d(),o=!1,a()}}}function si(l){let e,t,n,s,i,o=l[39].domain+"",a,c;return{c(){e=_("div"),t=_("span"),t.textContent="Domain:",n=b(),s=_("a"),i=z("https://"),a=z(o),u(t,"class","result-label svelte-8rkhbz"),u(s,"href",c="https://"+l[39].domain),u(s,"target","_blank"),u(s,"class","result-link svelte-8rkhbz"),u(e,"class","result-section svelte-8rkhbz")},m(p,f){$(p,e,f),r(e,t),r(e,n),r(e,s),r(s,i),r(s,a)},p(p,f){f[1]&256&&o!==(o=p[39].domain+"")&&j(a,o),f[1]&256&&c!==(c="https://"+p[39].domain)&&u(s,"href",c)},d(p){p&&k(e)}}}function oi(l){let e,t,n,s,i,o=l[39].servers.some(_i),a,c=_e(l[39].servers.filter(gi)),p=[];for(let d=0;d<c.length;d+=1)p[d]=ii(fo(l,c,d));let f=o&&ri(l);return{c(){e=_("div"),t=_("span"),t.textContent="Servers:",n=b(),s=_("div");for(let d=0;d<p.length;d+=1)p[d].c();i=b(),f&&f.c(),a=Ie(),u(t,"class","result-label svelte-8rkhbz"),u(s,"class","server-links svelte-8rkhbz"),u(e,"class","result-section svelte-8rkhbz")},m(d,m){$(d,e,m),r(e,t),r(e,n),r(e,s);for(let h=0;h<p.length;h+=1)p[h]&&p[h].m(s,null);$(d,i,m),f&&f.m(d,m),$(d,a,m)},p(d,m){if(m[0]&1|m[1]&256){c=_e(d[39].servers.filter(gi));let h;for(h=0;h<c.length;h+=1){const v=fo(d,c,h);p[h]?p[h].p(v,m):(p[h]=ii(v),p[h].c(),p[h].m(s,null))}for(;h<p.length;h+=1)p[h].d(1);p.length=c.length}m[1]&256&&(o=d[39].servers.some(_i)),o?f?f.p(d,m):(f=ri(d),f.c(),f.m(a.parentNode,a)):f&&(f.d(1),f=null)},d(d){d&&(k(e),k(i),k(a)),Pe(p,d),f&&f.d(d)}}}function ii(l){let e,t,n=l[156].url+"",s,i,o,a,c,p,f;function d(){return l[130](l[156])}return{c(){e=_("div"),t=_("a"),s=z(n),o=b(),a=_("button"),a.textContent="📋 Logs",c=b(),u(t,"href",i=l[156].url),u(t,"target","_blank"),u(t,"class","result-link svelte-8rkhbz"),u(a,"class","log-btn svelte-8rkhbz"),u(e,"class","server-link-row svelte-8rkhbz")},m(m,h){$(m,e,h),r(e,t),r(t,s),r(e,o),r(e,a),r(e,c),p||(f=ee(a,"click",d),p=!0)},p(m,h){l=m,h[1]&256&&n!==(n=l[156].url+"")&&j(s,n),h[1]&256&&i!==(i=l[156].url)&&u(t,"href",i)},d(m){m&&k(e),p=!1,f()}}}function ri(l){let e,t,n,s=_e(l[39].servers.filter(bi)),i=[];for(let o=0;o<s.length;o+=1)i[o]=ai(uo(l,s,o));return{c(){e=_("div"),t=_("span"),t.textContent="Failed Servers:",n=b();for(let o=0;o<i.length;o+=1)i[o].c();u(t,"class","result-label svelte-8rkhbz"),Zt(t,"color","#fef3c7"),u(e,"class","failed-servers-section svelte-8rkhbz")},m(o,a){$(o,e,a),r(e,t),r(e,n);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null)},p(o,a){if(a[0]&1|a[1]&256){s=_e(o[39].servers.filter(bi));let c;for(c=0;c<s.length;c+=1){const p=uo(o,s,c);i[c]?i[c].p(p,a):(i[c]=ai(p),i[c].c(),i[c].m(e,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=s.length}},d(o){o&&k(e),Pe(i,o)}}}function ai(l){let e,t,n,s=l[156].ip+"",i,o,a=(l[156].error||"Unknown error")+"",c,p,f,d,m,h;function v(){return l[131](l[156])}return{c(){e=_("div"),t=_("span"),n=z("❌ "),i=z(s),o=z(": "),c=z(a),p=b(),f=_("button"),f.textContent="📋 Logs",d=b(),Zt(t,"color","#fef3c7"),u(f,"class","log-btn svelte-8rkhbz"),u(e,"class","server-link-row svelte-8rkhbz")},m(g,C){$(g,e,C),r(e,t),r(t,n),r(t,i),r(t,o),r(t,c),r(e,p),r(e,f),r(e,d),m||(h=ee(f,"click",v),m=!0)},p(g,C){l=g,C[1]&256&&s!==(s=l[156].ip+"")&&j(i,s),C[1]&256&&a!==(a=(l[156].error||"Unknown error")+"")&&j(c,a)},d(g){g&&k(e),m=!1,h()}}}function If(l){let e;function t(i,o){return i[34]||i[36].length>0?Nf:Lf}let n=t(l),s=n(l);return{c(){s.c(),e=Ie()},m(i,o){s.m(i,o),$(i,e,o)},p(i,o){n===(n=t(i))&&s?s.p(i,o):(s.d(1),s=n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&k(e),s.d(i)}}}function ci(l){let e,t,n=(l[156].name||l[156].ip)+"",s,i,o,a=l[156].ip+"",c,p;return{c(){e=_("div"),t=_("span"),s=z(n),i=b(),o=_("span"),c=z(a),p=b(),u(t,"class","server-name svelte-8rkhbz"),u(o,"class","server-ip svelte-8rkhbz"),u(e,"class","cleanup-server-item svelte-8rkhbz")},m(f,d){$(f,e,d),r(e,t),r(t,s),r(e,i),r(e,o),r(o,c),r(e,p)},p(f,d){d[1]&1024&&n!==(n=(f[156].name||f[156].ip)+"")&&j(s,n),d[1]&1024&&a!==(a=f[156].ip+"")&&j(c,a)},d(f){f&&k(e)}}}function Bf(l){let e,t,n,s,i=l[41].length+[...l[37]].length+"",o,a,c,p=[...l[37]].length+"",f,d,m,h,v,g,C=_e(l[41]),y=[];for(let w=0;w<C.length;w+=1)y[w]=ci(ao(l,C,w));return{c(){e=_("div"),t=_("p"),n=z("This service is currently running on "),s=_("strong"),o=z(i),a=z(` servers.
      You're deploying to `),c=_("strong"),f=z(p),d=z(" servers."),m=b(),h=_("p"),h.textContent="Stop containers on the following servers?",v=b(),g=_("div");for(let w=0;w<y.length;w+=1)y[w].c();u(t,"class","svelte-8rkhbz"),u(h,"class","svelte-8rkhbz"),u(g,"class","cleanup-server-list svelte-8rkhbz"),u(e,"class","cleanup-confirm-content svelte-8rkhbz")},m(w,T){$(w,e,T),r(e,t),r(t,n),r(t,s),r(s,o),r(t,a),r(t,c),r(c,f),r(t,d),r(e,m),r(e,h),r(e,v),r(e,g);for(let D=0;D<y.length;D+=1)y[D]&&y[D].m(g,null)},p(w,T){if(T[1]&1088&&i!==(i=w[41].length+[...w[37]].length+"")&&j(o,i),T[1]&64&&p!==(p=[...w[37]].length+"")&&j(f,p),T[1]&1024){C=_e(w[41]);let D;for(D=0;D<C.length;D+=1){const q=ao(w,C,D);y[D]?y[D].p(q,T):(y[D]=ci(q),y[D].c(),y[D].m(g,null))}for(;D<y.length;D+=1)y[D].d(1);y.length=C.length}},d(w){w&&k(e),Pe(y,w)}}}function Uf(l){let e;return{c(){e=z("Proceed")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Hf(l){let e;return{c(){e=z("Cancel")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Gf(l){let e,t,n,s,i;return t=new Oe({props:{variant:"primary",$$slots:{default:[Uf]},$$scope:{ctx:l}}}),t.$on("click",l[74]),s=new Oe({props:{variant:"ghost",$$slots:{default:[Hf]},$$scope:{ctx:l}}}),s.$on("click",l[133]),{c(){e=_("div"),ae(t.$$.fragment),n=b(),ae(s.$$.fragment),u(e,"slot","footer")},m(o,a){$(o,e,a),ie(t,e,null),r(e,n),ie(s,e,null),i=!0},p(o,a){const c={};a[6]&4&&(c.$$scope={dirty:a,ctx:o}),t.$set(c);const p={};a[6]&4&&(p.$$scope={dirty:a,ctx:o}),s.$set(p)},i(o){i||(N(t.$$.fragment,o),N(s.$$.fragment,o),i=!0)},o(o){R(t.$$.fragment,o),R(s.$$.fragment,o),i=!1},d(o){o&&k(e),re(t),re(s)}}}function Wf(l){let e,t,n,s,i,o,a,c,p;n=new st({props:{title:"🚀 Deploy Application",$$slots:{default:[Pf]},$$scope:{ctx:l}}}),i=new st({props:{title:"📋 Deployment Progress",$$slots:{default:[If]},$$scope:{ctx:l}}});function f(m){l[134](m)}let d={title:"⚠️ Service Already Running",width:"500px",$$slots:{footer:[Gf],default:[Bf]},$$scope:{ctx:l}};return l[40]!==void 0&&(d.open=l[40]),a=new Cl({props:d}),Yt.push(()=>Rl(a,"open",f)),a.$on("close",l[135]),{c(){e=_("div"),t=_("div"),ae(n.$$.fragment),s=b(),ae(i.$$.fragment),o=b(),ae(a.$$.fragment),u(t,"class","deploy-grid svelte-8rkhbz"),u(e,"class","deploy-page svelte-8rkhbz")},m(m,h){$(m,e,h),r(e,t),ie(n,t,null),r(t,s),ie(i,t,null),$(m,o,h),ie(a,m,h),p=!0},p(m,h){const v={};h[0]&2147483647|h[1]&16773327|h[6]&4&&(v.$$scope={dirty:h,ctx:m}),n.$set(v);const g={};h[0]&5|h[1]&312|h[6]&4&&(g.$$scope={dirty:h,ctx:m}),i.$set(g);const C={};h[1]&3648|h[6]&4&&(C.$$scope={dirty:h,ctx:m}),!c&&h[1]&512&&(c=!0,C.open=m[40],Ml(()=>c=!1)),a.$set(C)},i(m){p||(N(n.$$.fragment,m),N(i.$$.fragment,m),N(a.$$.fragment,m),p=!0)},o(m){R(n.$$.fragment,m),R(i.$$.fragment,m),R(a.$$.fragment,m),p=!1},d(m){m&&(k(e),k(o)),re(n),re(i),re(a,m)}}}function Vf(l){l.preventDefault(),l.stopPropagation()}async function Da(l,e){const t=[],n=l.createReader();let s=[],i;do i=await new Promise((o,a)=>{n.readEntries(o,a)}),s=s.concat(i);while(i.length>0);for(const o of s){const a=e?`${e}/${o.name}`:o.name;if(o.isFile){const c=await new Promise((p,f)=>{o.file(p,f)});c._relativePath=a,t.push(c)}else if(o.isDirectory){const c=await Da(o,a);t.push(...c)}}return t}function ui(l){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>e(new Uint8Array(n.result)),n.onerror=t,n.readAsArrayBuffer(l)})}function fi(l){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>e(n.result),n.onerror=t,n.readAsText(l)})}function pi(l){const e=/(https?:\/\/[^\s]+)/g;return l.replace(e,'<a href="$1" target="_blank" class="log-link">$1</a>')}const _i=l=>!l.success,di=l=>l,Jf=l=>l.isMain,mi=l=>l.isMain,vi=l=>l.isMain,hi=l=>l.trim(),gi=l=>l.success,bi=l=>!l.success;function Kf(l,e,t){let n,s,i;at(l,Sc,le=>t(6,s=le)),at(l,tn,le=>t(76,i=le));let o="",a="",c="prod",p="",f="code",d=8e3,m="",h="",v="main",g="",C=[],y="",w="",T=null,D="",q="",E="",S=[],L=null,F=null,O=!0,I=!1,U="",Z="",V=!1,A="",P="",M="",W="lon1",H="s-1vcpu-2gb",J=[],B=[],Q=[],te=!1,G=0,K=[],x=new Set,de=0,he=null,oe=!1,X=[],pe=null,be=!0,ce=!0,Y={postgres:!1,redis:!1,mysql:!1,mongo:!1},se=!0,Se="digitalpixo.com",ge="",He="",jt=!1,ct=["node_modules/","__pycache__/","*.pyc",".git/",".venv/","venv/",".env",".DS_Store",".idea/",".vscode/","dist/","build/",".pytest_cache/",".mypy_cache/"],ht=ct.join(`
`),ye=!1,Be=!1,Ye=!1;const Ke=[...ct],Xe=["dev","test","staging","uat","prod"];Yl(()=>{yl.refresh().catch(()=>{}),zn.refresh().catch(()=>{}),Ge()});async function Ge(){try{try{const le=await Me("GET","/infra/regions");t(31,J=le.regions||le||[])}catch{t(31,J=[{slug:"nyc1",name:"New York 1"},{slug:"nyc3",name:"New York 3"},{slug:"sfo3",name:"San Francisco 3"},{slug:"ams3",name:"Amsterdam 3"},{slug:"sgp1",name:"Singapore 1"},{slug:"lon1",name:"London 1"},{slug:"fra1",name:"Frankfurt 1"}])}try{const le=await Me("GET","/infra/sizes");t(32,B=le.sizes||le||[])}catch{t(32,B=[{slug:"s-1vcpu-512mb-10gb",description:"512MB / 1 vCPU"},{slug:"s-1vcpu-1gb",description:"1GB / 1 vCPU"},{slug:"s-1vcpu-2gb",description:"2GB / 1 vCPU"},{slug:"s-2vcpu-2gb",description:"2GB / 2 vCPU"},{slug:"s-2vcpu-4gb",description:"4GB / 2 vCPU"},{slug:"s-4vcpu-8gb",description:"8GB / 4 vCPU"}])}}catch(le){console.error("Failed to load regions/sizes:",le)}}async function Et(){var le;if(!o){$e.warning("Enter app name first");return}t(48,He="Loading...");try{const ke=await Me("GET",`/infra/deploy-configs/${a||"default"}/${o}/${c}`);ot(ke),t(48,He="✓ Loaded"),$e.success("Config loaded")}catch(ue){(le=ue.message)!=null&&le.includes("404")?(t(48,He="No saved config"),$e.info("No saved config found")):(t(48,He="Load failed"),$e.error("Failed to load config"))}}async function gt(){try{const ue=await Me("GET",`/infra/deploy-configs/${a||"default"}/${o}/${c}`);ot(ue),t(48,He="✓ Auto-loaded")}catch{t(48,He="")}}function ot(le){var ue,ke;le.source_type&&t(8,f={folder:"code",git:"git",image:"image"}[le.source_type]||le.source_type),le.git_url&&t(11,h=le.git_url),le.git_branch&&t(12,v=le.git_branch),le.port&&t(9,d=le.port),le.env_vars&&Object.keys(le.env_vars).length>0&&t(10,m=Object.entries(le.env_vars).map(([Le,Ne])=>`${Le}=${Ne}`).join(`
`)),((ue=le.exclude_patterns)==null?void 0:ue.length)>0&&(ct=le.exclude_patterns,t(50,ht=ct.join(`
`))),((ke=le.server_ips)==null?void 0:ke.length)>0&&t(37,x=new Set(le.server_ips))}async function Ft(){if(!o){$e.warning("Enter app name first");return}t(48,He="Saving...");const le={};for(const Le of m.split(`
`)){const Ne=Le.trim();if(Ne&&Ne.includes("=")){const[je,...Re]=Ne.split("=");le[je.trim()]=Re.join("=").trim()}}const ue=ht.split(`
`).map(Le=>Le.trim()).filter(Boolean),ke={project_name:a||"default",service_name:o,env:c,source_type:f==="code"?"folder":f,git_url:h||null,git_branch:v||"main",exclude_patterns:ue.length>0?ue:Ke,port:d,env_vars:le,server_ips:Array.from(x)};try{await Me("POST","/infra/deploy-configs",ke),t(48,He="✓ Saved"),$e.success("Config saved")}catch{t(48,He="Save failed"),$e.error("Failed to save config")}}function Ct(){t(49,jt=!jt),jt||(ct=ht.split(`
`).map(le=>le.trim()).filter(Boolean))}function ol(){ct=[...Ke],t(50,ht=Ke.join(`
`)),$e.info("Reset to default patterns")}function el(le){for(const ue of ct)if(ue.endsWith("/")){const ke=ue.slice(0,-1);if(le.startsWith(ke+"/")||le.includes("/"+ke+"/"))return!0}else if(ue.startsWith("*")){const ke=ue.slice(1);if(le.endsWith(ke))return!0}else if(le===ue||le.endsWith("/"+ue))return!0;return!1}function tl(le){x.has(le)?x.delete(le):x.add(le),t(37,x)}function il(le){le?(Q||[]).forEach(ue=>{var Le,Ne,je;const ke=ue.ip||((je=(Ne=(Le=ue.networks)==null?void 0:Le.v4)==null?void 0:Ne[0])==null?void 0:je.ip_address);ke&&x.add(ke)}):x.clear(),t(37,x)}function It(){F=async(le,ue)=>{await Bt(le,ue,S.length===0)},L==null||L.click()}async function ll(le){const ue=Array.from(le.target.files||[]);if(!ue.length||!F)return;console.log(`[Deploy] Browser returned ${ue.length} files`),ue.length<50?console.log("[Deploy] Files:",ue.map(Ne=>Ne.webkitRelativePath)):console.log("[Deploy] First 20 files:",ue.slice(0,20).map(Ne=>Ne.webkitRelativePath));const Le=ue[0].webkitRelativePath.split("/")[0];await F(ue,Le),F=null,le.target.value=""}function bl(le){le.preventDefault(),le.stopPropagation(),t(24,I=!0)}function bt(le){le.preventDefault(),le.stopPropagation(),le.currentTarget.contains(le.relatedTarget)||t(24,I=!1)}async function St(le){var ke,Le;le.preventDefault(),le.stopPropagation(),t(24,I=!1);const ue=(ke=le.dataTransfer)==null?void 0:ke.items;if(!(!ue||ue.length===0)){for(const Ne of ue)if(Ne.kind==="file"){const je=(Le=Ne.webkitGetAsEntry)==null?void 0:Le.call(Ne);je!=null&&je.isDirectory&&await rl(je)}}}async function rl(le){const ue=le.name;if(S.some(Ne=>Ne.name===ue)){$e.error(`Folder "${ue}" is already added`);return}$e.info(`Reading ${ue}/...`);const ke=await Da(le,"");if(ke.length===0){$e.error(`No files found in ${ue}/`);return}const Le=S.length===0;await zt(ke,ue,Le)}async function zt(le,ue,ke){ke&&S.some(Re=>Re.isMain)&&t(21,S=S.map(Re=>({...Re,isMain:!1})));const Le=[];let Ne=null,je=0;for(const Re of le){const Gt=Re._relativePath||Re.name;if(el(Gt)){je++;continue}const ml=await ui(Re);Le.push({path:Gt,content:ml}),ke&&Gt==="Dockerfile"&&(Ne=await fi(Re))}console.log(`[Deploy] Dropped ${ue}/: ${le.length} total, ${je} skipped, ${Le.length} included`),t(21,S=[...S,{name:ue,fileContents:Le,isMain:ke,fileCount:Le.length}]),xt(),S.some(Re=>Re.isMain)&&cl(Ne),O&&a&&o&&Ce(),$e.success(`Added ${ue}/ (${Le.length} files)`)}async function Bt(le,ue,ke){if(S.some(Re=>Re.name===ue)){$e.error(`Folder "${ue}" is already added`);return}ke&&S.some(Re=>Re.isMain)&&t(21,S=S.map(Re=>({...Re,isMain:!1})));const Le=[];let Ne=null,je=0;for(const Re of le){const Gt=Re.webkitRelativePath.replace(`${ue}/`,"");if(el(Gt)){je++;continue}const ml=await ui(Re);Le.push({path:Gt,content:ml}),ke&&Gt==="Dockerfile"&&(Ne=await fi(Re))}console.log(`[Deploy] Processed ${ue}/: ${le.length} total, ${je} skipped, ${Le.length} included`),t(21,S=[...S,{name:ue,fileContents:Le,isMain:ke,fileCount:Le.length}]),xt(),S.some(Re=>Re.isMain)&&cl(Ne),O&&a&&o&&Ce(),$e.success(`Added ${ue}/ (${Le.length} files)`)}function Wt(le){t(21,S=S.filter((ue,ke)=>ke!==le)),xt(),S.length>0&&!S.some(ue=>ue.isMain)&&t(21,S=S.map((ue,ke)=>({...ue,isMain:ke===0})))}function Xt(le){t(21,S=S.map((ue,ke)=>({...ue,isMain:ke===le}))),cl()}function xt(){const le=S.some(ue=>ue.isMain);S.length&&le&&al()}async function al(){if(!S.length)return;const{default:le}=await lo(async()=>{const{default:ke}=await import("https://cdn.jsdelivr.net/npm/jszip@3.10.1/+esm");return{default:ke}},[]),ue=new le;for(const ke of S)for(const{path:Le,content:Ne}of ke.fileContents)ue.file(`${ke.name}/${Le}`,Ne);S.length>1&&U&&ue.file("Dockerfile",U),await ue.generateAsync({type:"blob"})}function cl(le=null){if(t(27,V=!0),le)t(25,U=le),t(26,Z="from folder");else if(S.length>1)t(25,U=pl()),t(26,Z="multi-folder");else if(S.length===1){const ue=S[0];t(25,U=Pt(ue.fileContents.map(ke=>ke.path))),t(26,Z="generated")}Vt()}function pl(){const le=S.find(Ne=>Ne.isMain);if(!le)return"";const ue=S.filter(Ne=>!Ne.isMain),ke=le.fileContents.some(Ne=>Ne.path==="requirements.txt");le.fileContents.some(Ne=>Ne.path==="package.json");let Le=`FROM python:3.11-slim

WORKDIR /app

`;for(const Ne of ue)Le+=`# Copy ${Ne.name}
COPY ${Ne.name}/ ./${Ne.name}/

`;return Le+=`# Copy main service
COPY ${le.name}/ ./${le.name}/

`,ke&&(Le+=`# Install dependencies
RUN pip install --no-cache-dir -r ${le.name}/requirements.txt

`),Le+=`EXPOSE ${d}

`,Le+=`CMD ["uvicorn", "${le.name}.main:app", "--host", "0.0.0.0", "--port", "${d}"]
`,Le}function Pt(le){const ue=le.includes("requirements.txt"),ke=le.includes("package.json"),Le=le.includes("pyproject.toml");return ue||Le?`FROM python:3.11-slim

WORKDIR /app

COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

COPY . .

EXPOSE ${d}

CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "${d}"]
`:ke?`FROM node:20-alpine

WORKDIR /app

COPY package*.json ./
RUN npm ci --only=production

COPY . .

EXPOSE ${d}

CMD ["node", "index.js"]
`:`FROM python:3.11-slim

WORKDIR /app

COPY . .

EXPOSE ${d}

CMD ["python", "main.py"]
`}function Vt(){const le=U.match(/^FROM\s+(\S+)/m),ue=U.match(/^CMD\s+(.+)$/m);t(28,A=le?le[1]:""),t(29,P=ue?ue[1]:"")}function Ut(le){le==="from"&&A?t(25,U=U.replace(/^FROM\s+\S+/m,`FROM ${A}`)):le==="cmd"&&P&&(U.includes("CMD ")?t(25,U=U.replace(/^CMD\s+.+$/m,`CMD ${P}`)):t(25,U+=`
CMD ${P}
`)),t(26,Z="edited")}function Ce(){if(!a||!o)return;const le=`build_folders_${a}_${o}`,ue=S.map(ke=>({name:ke.name,isMain:ke.isMain}));localStorage.setItem(le,JSON.stringify(ue))}function xe(le){if(!y.trim()){$e.error("Please enter a folder path");return}const ue=y.trim();if(le&&C.some(ke=>ke.isMain)&&t(14,C=C.map(ke=>({...ke,isMain:!1}))),C.some(ke=>ke.path===ue)){$e.error("This folder is already added");return}t(14,C=[...C,{path:ue,isMain:le}]),t(15,y="")}function Qe(le){t(14,C=C.filter((ue,ke)=>ke!==le))}function kt(le){var ke;const ue=(ke=le.target.files)==null?void 0:ke[0];if(ue){if(!ue.name.endsWith(".tar")&&!ue.name.endsWith(".tar.gz")){$e.error("Only .tar or .tar.gz image files are supported");return}t(17,T=ue),$e.success(`Selected: ${ue.name}`)}}function et(le,ue="info"){t(36,K=[...K,{message:le,type:ue,time:new Date}])}async function pt(le){if(le.preventDefault(),!o){$e.error("App name is required");return}if(f==="code"&&!S.some(ke=>ke.isMain)){$e.error("Add a main folder with your code");return}if(f==="git"&&!h){$e.error("Git URL is required");return}if(f==="image"&&!w){$e.error("Docker image URL is required");return}if(f==="image_file"&&!T){$e.error("Upload a Docker image file (.tar)");return}if(f==="image_file"&&!D){$e.error("Image name is required for local images");return}if(x.size===0&&de===0){$e.error("Select at least one server or add new servers");return}if(de>0&&!M){$e.error("Select a snapshot for new servers");return}if(!hl()){$e.error("Configure your DO Token in Settings first");return}if(se&&!Ln()){$e.error("Configure your Cloudflare Token in Settings first (required for domain setup)");return}const ue=[...x];if(a&&o&&c)try{const ke=new URLSearchParams({project:a,environment:c,service_name:o}),Le=await Me("GET",`/infra/services/state?${ke}`);if(Le.server_ips&&Le.server_ips.length>0){const Ne=Le.servers.filter(je=>!ue.includes(je.ip));if(Ne.length>0){t(41,X=Ne),t(42,pe=()=>tt(le)),t(40,oe=!0);return}}}catch(ke){console.log("Service state check:",ke.message||ke)}await tt()}async function Ue(){t(40,oe=!1);const le=`${a}_${o}_${c}`.replace(/[^a-zA-Z0-9_]/g,"_");if(X.length>0){const ue=X.map(ke=>ke.ip);et(`Stopping containers on ${X.length} server(s)...`);try{const ke=await Me("POST",`/infra/services/cleanup?do_token=${hl()}`,{server_ips:ue,container_name:le});et(`Cleanup complete: ${ke.cleaned} stopped, ${ke.failed} failed`)}catch(ke){et(`Cleanup warning: ${ke.message||ke}`,"warning")}}t(41,X=[]),pe&&(await pe(),t(42,pe=null))}async function tt(le){t(34,te=!0),t(35,G=0),t(36,K=[]),t(39,he=null);try{et(`Starting deployment of ${o}...`),t(35,G=10);let ue=null;if(f==="code"){et("Creating code archive...");const{default:Re}=await lo(async()=>{const{default:ml}=await import("https://cdn.jsdelivr.net/npm/jszip@3.10.1/+esm");return{default:ml}},[]),Gt=new Re;for(const ml of S)for(const{path:Fa,content:Ia}of ml.fileContents)Gt.file(`${ml.name}/${Fa}`,Ia);S.length>1&&U&&Gt.file("Dockerfile",U),ue=await Gt.generateAsync({type:"blob"})}et("Sending deployment request... server provisioning may take 30-60s"),t(35,G=20);const ke=hl(),Le=Ln(),Ne=new URLSearchParams({do_token:ke,snapshot_id:M||"",new_server_count:String(de),region:W,size:H,project:a||"",environment:c,setup_domain:String(se),base_domain:Se,domain_aliases:JSON.stringify(ge.split(",").map(Re=>Re.trim()).filter(Boolean))});se&&Le&&Ne.set("cf_token",Le);const je=new FormData;je.append("name",o),je.append("port",String(d)),je.append("source_type",f),je.append("env_vars",m),je.append("tags",p),je.append("server_ips",JSON.stringify(Array.from(x))),je.append("depends_on",JSON.stringify(Object.entries(Y).filter(([Re,Gt])=>Gt).map(([Re])=>Re))),je.append("exclude_patterns",JSON.stringify(ct)),U&&je.append("dockerfile",U),h&&je.append("git_url",h),v&&je.append("git_branch",v),g&&je.append("git_token",g),C.length&&je.append("git_folders",JSON.stringify(C)),w&&je.append("image",w),ue&&je.append("code_tar",ue,"code.zip"),f==="image_file"&&(T&&je.append("image_tar",T),D&&je.append("image",D),q&&je.append("container_port",String(q)),E&&je.append("host_port",String(E))),await kc(`/infra/deploy/multipart?${Ne}`,je,Re=>{if(Re.type==="log")et(Re.message);else if(Re.type==="progress")t(35,G=Math.min(20+(Re.percent||0)*.8,95));else if(Re.type==="done"){if(t(39,he=Re),t(35,G=100),!Re.success){const Gt=Re.failed_count||0,ml=Re.error||`Deployment failed: ${Gt} server(s) failed`;throw new Error(ml)}}else if(Re.type==="error")throw new Error(Re.message||"Deployment failed")}),et("✅ Deployment complete!","success"),$e.success("Deployment successful!"),await loadServersForDeploy()}catch(ue){let ke="Unknown error";if(typeof ue=="string")ke=ue;else if(ue!=null&&ue.message)ke=ue.message;else if(ue!=null&&ue.detail)ke=ue.detail;else if(ue!=null&&ue.error)ke=ue.error;else try{ke=JSON.stringify(ue)}catch{ke=String(ue)}et(`❌ Error: ${ke}`,"error"),$e.error(ke)}finally{t(34,te=!1)}}const Pl=[[]];function Nt(){o=this.value,t(0,o)}function Tt(){a=this.value,t(1,a)}function Lt(){c=ft(this),t(2,c),t(55,Xe)}function Jt(){ht=this.value,t(50,ht)}function Ht(){p=this.value,t(7,p)}function Ve(){f=this.__value,t(8,f)}function _l(){f=this.__value,t(8,f)}function kl(){f=this.__value,t(8,f)}function nl(){f=this.__value,t(8,f)}function _t(le){Yt[le?"unshift":"push"](()=>{L=le,t(22,L)})}const sl=le=>Xt(le),dt=le=>Wt(le);function it(){O=this.checked,t(23,O)}function rt(){U=this.value,t(25,U)}function ul(){A=ft(this),t(28,A)}const $t=()=>Ut("from");function Al(){P=this.value,t(29,P)}const Ll=()=>Ut("cmd");function Fl(){h=this.value,t(11,h)}function fl(){v=this.value,t(12,v)}const me=le=>Qe(le);function qe(){y=this.value,t(15,y)}const We=()=>xe(!0),lt=()=>xe(!1);function nt(){g=this.value,t(13,g)}function Ae(){w=this.value,t(16,w)}function ut(){D=this.value,t(18,D)}function mt(){q=vl(this.value),t(19,q)}function Mt(){E=vl(this.value),t(20,E)}function wt(){d=vl(this.value),t(9,d)}const Rt=()=>t(51,ye=!ye);function sn(){m=this.value,t(10,m)}const dl=()=>t(52,Be=!Be);function on(){be=this.checked,t(43,be)}function vt(){Y.postgres=this.checked,t(45,Y)}function At(){Y.redis=this.checked,t(45,Y)}function fe(){Y.mysql=this.checked,t(45,Y)}function ze(){Y.mongo=this.checked,t(45,Y)}function $l(){ce=this.checked,t(44,ce)}function rn(){se=this.checked,t(46,se)}function an(){Se=this.value,t(5,Se)}function cn(){ge=this.value,t(47,ge)}const un=()=>il(!0),fn=()=>il(!1),Ql=le=>tl(le),Zl=()=>t(53,Ye=!Ye);function Kt(){M=ft(this),t(3,M),t(6,s)}function pn(){W=ft(this),t(4,W),t(31,J)}function qa(){H=ft(this),t(30,H),t(32,B)}const Ea=()=>t(38,de=Math.max(0,de-1));function Pa(){de=vl(this.value),t(38,de)}const La=()=>t(38,de=Math.min(10,de+1)),Na=le=>window.open(`/api/v1/infra/logs/${le.ip}/${le.container_name||he.container_name||o}`,"_blank"),Ma=le=>window.open(`/api/v1/infra/logs/${le.ip}/${le.container_name||he.container_name||o}`,"_blank"),Ra=le=>window.open(`/api/v1/infra/logs/${le.ip}/${le.container_name||he.container_name||o}`,"_blank"),Aa=()=>{t(40,oe=!1),t(42,pe=null)};function Oa(le){oe=le,t(40,oe)}const ja=()=>{t(40,oe=!1),t(42,pe=null)};return l.$$.update=()=>{if(l.$$.dirty[0]&16|l.$$.dirty[2]&16384&&t(33,Q=(i||[]).filter(le=>!W||le.region===W)),l.$$.dirty[0]&39&&t(54,n=o&&a&&c?`${o}-${a}-${c}.${Se}`:""),l.$$.dirty[0]&3&&o&&a&&gt(),l.$$.dirty[0]&72&&(s==null?void 0:s.length)>0&&!M){const le=s.find(ue=>(ue.name||"").toLowerCase().includes("base"));t(3,M=(le==null?void 0:le.id)||(le==null?void 0:le.name)||s[0].id||s[0].name)}},[o,a,c,M,W,Se,s,p,f,d,m,h,v,g,C,y,w,T,D,q,E,S,L,O,I,U,Z,V,A,P,H,J,B,Q,te,G,K,x,de,he,oe,X,pe,be,ce,Y,se,ge,He,jt,ht,ye,Be,Ye,n,Xe,Et,Ft,Ct,ol,tl,il,It,ll,bl,bt,St,Wt,Xt,Ut,xe,Qe,kt,pt,Ue,et,i,Nt,Tt,Lt,Jt,Ht,Ve,Pl,_l,kl,nl,_t,sl,dt,it,rt,ul,$t,Al,Ll,Fl,fl,me,qe,We,lt,nt,Ae,ut,mt,Mt,wt,Rt,sn,dl,on,vt,At,fe,ze,$l,rn,an,cn,un,fn,Ql,Zl,Kt,pn,qa,Ea,Pa,La,Na,Ma,Ra,Aa,Oa,ja]}class Yf extends qt{constructor(e){super(),Dt(this,e,Kf,Wf,yt,{},null,[-1,-1,-1,-1,-1,-1,-1])}}function ki(l,e,t){const n=l.slice();return n[55]=e[t],n}function $i(l,e,t){const n=l.slice();return n[55]=e[t],n}function wi(l,e,t){const n=l.slice();return n[55]=e[t],n}function yi(l,e,t){const n=l.slice();return n[62]=e[t],n}function Ci(l,e,t){const n=l.slice();return n[66]=e[t],n}function Si(l,e,t){const n=l.slice();return n[69]=e[t][0],n[70]=e[t][1],n}function Qf(l){const e=l.slice(),t=e[14].config_snapshot;return e[65]=t,e}function zi(l,e,t){const n=l.slice();return n[62]=e[t],n}function Ti(l,e,t){const n=l.slice();return n[75]=e[t],n}function Di(l,e,t){const n=l.slice();n[78]=e[t];const s=Sl(n[78]);return n[79]=s,n}function qi(l){let e,t,n=cr(l[20])+"",s;return{c(){e=_("span"),t=z("Updated "),s=z(n),u(e,"class","last-updated svelte-cuxyqu")},m(i,o){$(i,e,o),r(e,t),r(e,s)},p(i,o){o[0]&1048576&&n!==(n=cr(i[20])+"")&&j(s,n)},d(i){i&&k(e)}}}function Zf(l){let e;return{c(){e=z("↻ Refresh")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Xf(l){let e,t,n=_e(l[19]),s=[];for(let o=0;o<n.length;o+=1)s[o]=Ni(Di(l,n,o));const i=o=>R(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=Ie()},m(o,a){for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(o,a);$(o,e,a),t=!0},p(o,a){if(a[0]&27787264){n=_e(o[19]);let c;for(c=0;c<n.length;c+=1){const p=Di(o,n,c);s[c]?(s[c].p(p,a),N(s[c],1)):(s[c]=Ni(p),s[c].c(),N(s[c],1),s[c].m(e.parentNode,e))}for(Te(),c=n.length;c<s.length;c+=1)i(c);De()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)N(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)R(s[a]);t=!1},d(o){o&&k(e),Pe(s,o)}}}function xf(l){let e;return{c(){e=_("tr"),e.innerHTML='<td colspan="12" class="empty-cell svelte-cuxyqu">No deployments found</td>',u(e,"class","svelte-cuxyqu")},m(t,n){$(t,e,n)},p:ve,i:ve,o:ve,d(t){t&&k(e)}}}function ep(l){let e;return{c(){e=_("tr"),e.innerHTML='<td colspan="12" class="loading-cell svelte-cuxyqu">Loading deployment history...</td>',u(e,"class","svelte-cuxyqu")},m(t,n){$(t,e,n)},p:ve,i:ve,o:ve,d(t){t&&k(e)}}}function tp(l){let e=(l[78].environment||"-")+"",t;return{c(){t=z(e)},m(n,s){$(n,t,s)},p(n,s){s[0]&524288&&e!==(e=(n[78].environment||"-")+"")&&j(t,e)},d(n){n&&k(t)}}}function lp(l){let e;return{c(){e=_("span"),e.textContent="-",u(e,"class","version-none svelte-cuxyqu")},m(t,n){$(t,e,n)},p:ve,d(t){t&&k(e)}}}function np(l){let e,t,n=l[78].version+"",s;return{c(){e=_("span"),t=z("v"),s=z(n),u(e,"class","version-badge svelte-cuxyqu")},m(i,o){$(i,e,o),r(e,t),r(e,s)},p(i,o){o[0]&524288&&n!==(n=i[78].version+"")&&j(s,n)},d(i){i&&k(e)}}}function sp(l){let e=l[78].is_rollback?"rollback":"deploy",t;return{c(){t=z(e)},m(n,s){$(n,t,s)},p(n,s){s[0]&524288&&e!==(e=n[78].is_rollback?"rollback":"deploy")&&j(t,e)},d(n){n&&k(t)}}}function op(l){let e=l[79]+"",t;return{c(){t=z(e)},m(n,s){$(n,t,s)},p(n,s){s[0]&524288&&e!==(e=n[79]+"")&&j(t,e)},d(n){n&&k(t)}}}function Ei(l){let e,t,n;function s(){return l[34](l[78])}return{c(){e=_("button"),e.textContent="⚙️",u(e,"class","icon-btn svelte-cuxyqu"),u(e,"title","View config")},m(i,o){$(i,e,o),t||(n=ee(e,"click",s),t=!0)},p(i,o){l=i},d(i){i&&k(e),t=!1,n()}}}function Pi(l){let e,t,n;function s(){return l[35](l[78])}return{c(){e=_("button"),e.textContent="📋",u(e,"class","icon-btn svelte-cuxyqu"),u(e,"title","View logs")},m(i,o){$(i,e,o),t||(n=ee(e,"click",s),t=!0)},p(i,o){l=i},d(i){i&&k(e),t=!1,n()}}}function Li(l){let e,t,n;function s(){return l[36](l[78])}return{c(){e=_("button"),e.textContent="⏪",u(e,"class","icon-btn rollback-icon-btn svelte-cuxyqu"),u(e,"title","Rollback")},m(i,o){$(i,e,o),t||(n=ee(e,"click",s),t=!0)},p(i,o){l=i},d(i){i&&k(e),t=!1,n()}}}function Ni(l){let e,t,n,s=(l[78].project||"-")+"",i,o,a,c,p=(l[78].service||l[78].name)+"",f,d,m,h,v,g,C,y,w=gl(l[78].deployed_at||l[78].created_at)+"",T,D,q,E=(l[78].deployed_by||l[78].user||"-")+"",S,L,F,O,I,U,Z,V,A,P,M=(l[78].comment||"-")+"",W,H,J,B,Q,te,G,K,x;h=new Je({props:{variant:l[78].environment==="prod"?"purple":l[78].environment==="staging"?"warning":"info",$$slots:{default:[tp]},$$scope:{ctx:l}}});function de(ce,Y){return ce[78].version?np:lp}let he=de(l),oe=he(l);I=new Je({props:{variant:l[78].is_rollback?"warning":"info",$$slots:{default:[sp]},$$scope:{ctx:l}}}),V=new Je({props:{variant:Kl(l[79]),$$slots:{default:[op]},$$scope:{ctx:l}}});let X=l[78].config_snapshot&&Ei(l),pe=l[78].has_logs&&Pi(l),be=l[78].is_current_active&&Li(l);return{c(){e=_("tr"),t=_("td"),n=_("span"),i=z(s),o=b(),a=_("td"),c=_("span"),f=z(p),d=b(),m=_("td"),ae(h.$$.fragment),v=b(),g=_("td"),oe.c(),C=b(),y=_("td"),T=z(w),D=b(),q=_("td"),S=z(E),F=b(),O=_("td"),ae(I.$$.fragment),U=b(),Z=_("td"),ae(V.$$.fragment),A=b(),P=_("td"),W=z(M),H=b(),J=_("td"),X&&X.c(),B=b(),Q=_("td"),pe&&pe.c(),te=b(),G=_("td"),be&&be.c(),K=b(),u(n,"class","project-name svelte-cuxyqu"),u(t,"class","svelte-cuxyqu"),u(c,"class","service-name svelte-cuxyqu"),u(a,"class","svelte-cuxyqu"),u(m,"class","svelte-cuxyqu"),u(g,"class","version-cell svelte-cuxyqu"),u(y,"class","date-cell svelte-cuxyqu"),u(q,"class","by-cell svelte-cuxyqu"),u(q,"title",L=l[78].deployed_by||l[78].user||"-"),u(O,"class","svelte-cuxyqu"),u(Z,"class","svelte-cuxyqu"),u(P,"class","comment-cell svelte-cuxyqu"),u(J,"class","config-cell svelte-cuxyqu"),u(Q,"class","logs-cell svelte-cuxyqu"),u(G,"class","rollback-cell svelte-cuxyqu"),u(e,"class","svelte-cuxyqu")},m(ce,Y){$(ce,e,Y),r(e,t),r(t,n),r(n,i),r(e,o),r(e,a),r(a,c),r(c,f),r(e,d),r(e,m),ie(h,m,null),r(e,v),r(e,g),oe.m(g,null),r(e,C),r(e,y),r(y,T),r(e,D),r(e,q),r(q,S),r(e,F),r(e,O),ie(I,O,null),r(e,U),r(e,Z),ie(V,Z,null),r(e,A),r(e,P),r(P,W),r(e,H),r(e,J),X&&X.m(J,null),r(e,B),r(e,Q),pe&&pe.m(Q,null),r(e,te),r(e,G),be&&be.m(G,null),r(e,K),x=!0},p(ce,Y){(!x||Y[0]&524288)&&s!==(s=(ce[78].project||"-")+"")&&j(i,s),(!x||Y[0]&524288)&&p!==(p=(ce[78].service||ce[78].name)+"")&&j(f,p);const se={};Y[0]&524288&&(se.variant=ce[78].environment==="prod"?"purple":ce[78].environment==="staging"?"warning":"info"),Y[0]&524288|Y[2]&1048576&&(se.$$scope={dirty:Y,ctx:ce}),h.$set(se),he===(he=de(ce))&&oe?oe.p(ce,Y):(oe.d(1),oe=he(ce),oe&&(oe.c(),oe.m(g,null))),(!x||Y[0]&524288)&&w!==(w=gl(ce[78].deployed_at||ce[78].created_at)+"")&&j(T,w),(!x||Y[0]&524288)&&E!==(E=(ce[78].deployed_by||ce[78].user||"-")+"")&&j(S,E),(!x||Y[0]&524288&&L!==(L=ce[78].deployed_by||ce[78].user||"-"))&&u(q,"title",L);const Se={};Y[0]&524288&&(Se.variant=ce[78].is_rollback?"warning":"info"),Y[0]&524288|Y[2]&1048576&&(Se.$$scope={dirty:Y,ctx:ce}),I.$set(Se);const ge={};Y[0]&524288&&(ge.variant=Kl(ce[79])),Y[0]&524288|Y[2]&1048576&&(ge.$$scope={dirty:Y,ctx:ce}),V.$set(ge),(!x||Y[0]&524288)&&M!==(M=(ce[78].comment||"-")+"")&&j(W,M),ce[78].config_snapshot?X?X.p(ce,Y):(X=Ei(ce),X.c(),X.m(J,null)):X&&(X.d(1),X=null),ce[78].has_logs?pe?pe.p(ce,Y):(pe=Pi(ce),pe.c(),pe.m(Q,null)):pe&&(pe.d(1),pe=null),ce[78].is_current_active?be?be.p(ce,Y):(be=Li(ce),be.c(),be.m(G,null)):be&&(be.d(1),be=null)},i(ce){x||(N(h.$$.fragment,ce),N(I.$$.fragment,ce),N(V.$$.fragment,ce),x=!0)},o(ce){R(h.$$.fragment,ce),R(I.$$.fragment,ce),R(V.$$.fragment,ce),x=!1},d(ce){ce&&k(e),re(h),oe.d(),re(I),re(V),X&&X.d(),pe&&pe.d(),be&&be.d()}}}function ip(l){let e,t,n,s,i,o,a,c;const p=[ep,xf,Xf],f=[];function d(m,h){return m[0]&&m[19].length===0?0:m[19].length===0?1:2}return o=d(l),a=f[o]=p[o](l),{c(){e=_("div"),t=_("table"),n=_("thead"),n.innerHTML='<tr class="svelte-cuxyqu"><th class="svelte-cuxyqu">Project</th> <th class="svelte-cuxyqu">Service</th> <th class="svelte-cuxyqu">Environment</th> <th class="version-col svelte-cuxyqu">v</th> <th class="svelte-cuxyqu">Deployed</th> <th class="svelte-cuxyqu">By</th> <th class="svelte-cuxyqu">Type</th> <th class="svelte-cuxyqu">Status</th> <th class="svelte-cuxyqu">Comment</th> <th class="config-col svelte-cuxyqu"></th> <th class="logs-col svelte-cuxyqu"></th> <th class="rollback-col svelte-cuxyqu"></th></tr>',s=b(),i=_("tbody"),a.c(),u(t,"class","table svelte-cuxyqu"),u(e,"class","table-container svelte-cuxyqu")},m(m,h){$(m,e,h),r(e,t),r(t,n),r(t,s),r(t,i),f[o].m(i,null),c=!0},p(m,h){let v=o;o=d(m),o===v?f[o].p(m,h):(Te(),R(f[v],1,1,()=>{f[v]=null}),De(),a=f[o],a?a.p(m,h):(a=f[o]=p[o](m),a.c()),N(a,1),a.m(i,null))},i(m){c||(N(a),c=!0)},o(m){R(a),c=!1},d(m){m&&k(e),f[o].d()}}}function Mi(l){let e,t,n,s=(l[2].service||l[2].name)+"",i,o,a,c=l[2].project+"",p,f,d=l[2].environment+"",m,h,v,g,C,y,w,T=gl(l[2].deployed_at||l[2].created_at)+"",D,q,E,S,L=(l[2].deployed_by||l[2].user||"unknown")+"",F,O,I,U,Z,V,A,P,M,W,H=l[2].comment&&Ri(l);const J=[ap,rp],B=[];function Q(G,K){return G[3].length===0?0:1}A=Q(l),P=B[A]=J[A](l);let te=l[6].length>0&&Oi(l);return{c(){e=_("div"),t=_("div"),n=_("div"),i=z(s),o=b(),a=_("div"),p=z(c),f=z(" / "),m=z(d),h=b(),v=_("div"),g=_("label"),g.textContent="📍 Current Deployment",C=b(),y=_("div"),w=_("div"),D=z(T),q=b(),E=_("div"),S=z("by "),F=z(L),O=b(),H&&H.c(),I=b(),U=_("div"),Z=_("label"),Z.textContent="🎯 Rollback to",V=b(),P.c(),M=b(),te&&te.c(),u(n,"class","service-name svelte-cuxyqu"),u(a,"class","service-coords svelte-cuxyqu"),u(t,"class","service-info svelte-cuxyqu"),u(g,"class","svelte-cuxyqu"),u(w,"class","deploy-date svelte-cuxyqu"),u(E,"class","deploy-by svelte-cuxyqu"),u(y,"class","deployment-card current svelte-cuxyqu"),u(v,"class","section svelte-cuxyqu"),u(Z,"class","svelte-cuxyqu"),u(U,"class","section svelte-cuxyqu"),u(e,"class","rollback-content svelte-cuxyqu")},m(G,K){$(G,e,K),r(e,t),r(t,n),r(n,i),r(t,o),r(t,a),r(a,p),r(a,f),r(a,m),r(e,h),r(e,v),r(v,g),r(v,C),r(v,y),r(y,w),r(w,D),r(y,q),r(y,E),r(E,S),r(E,F),r(y,O),H&&H.m(y,null),r(e,I),r(e,U),r(U,Z),r(U,V),B[A].m(U,null),r(e,M),te&&te.m(e,null),W=!0},p(G,K){(!W||K[0]&4)&&s!==(s=(G[2].service||G[2].name)+"")&&j(i,s),(!W||K[0]&4)&&c!==(c=G[2].project+"")&&j(p,c),(!W||K[0]&4)&&d!==(d=G[2].environment+"")&&j(m,d),(!W||K[0]&4)&&T!==(T=gl(G[2].deployed_at||G[2].created_at)+"")&&j(D,T),(!W||K[0]&4)&&L!==(L=(G[2].deployed_by||G[2].user||"unknown")+"")&&j(F,L),G[2].comment?H?H.p(G,K):(H=Ri(G),H.c(),H.m(y,null)):H&&(H.d(1),H=null);let x=A;A=Q(G),A===x?B[A].p(G,K):(Te(),R(B[x],1,1,()=>{B[x]=null}),De(),P=B[A],P?P.p(G,K):(P=B[A]=J[A](G),P.c()),N(P,1),P.m(U,null)),G[6].length>0?te?te.p(G,K):(te=Oi(G),te.c(),te.m(e,null)):te&&(te.d(1),te=null)},i(G){W||(N(P),W=!0)},o(G){R(P),W=!1},d(G){G&&k(e),H&&H.d(),B[A].d(),te&&te.d()}}}function Ri(l){let e,t=l[2].comment+"",n;return{c(){e=_("div"),n=z(t),u(e,"class","deploy-comment svelte-cuxyqu")},m(s,i){$(s,e,i),r(e,n)},p(s,i){i[0]&4&&t!==(t=s[2].comment+"")&&j(n,t)},d(s){s&&k(e)}}}function rp(l){let e,t,n=_e(l[3]),s=[];for(let o=0;o<n.length;o+=1)s[o]=Ai(Ti(l,n,o));const i=o=>R(s[o],1,1,()=>{s[o]=null});return{c(){e=_("div");for(let o=0;o<s.length;o+=1)s[o].c();u(e,"class","deployment-list svelte-cuxyqu")},m(o,a){$(o,e,a);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);t=!0},p(o,a){if(a[0]&56){n=_e(o[3]);let c;for(c=0;c<n.length;c+=1){const p=Ti(o,n,c);s[c]?(s[c].p(p,a),N(s[c],1)):(s[c]=Ai(p),s[c].c(),N(s[c],1),s[c].m(e,null))}for(Te(),c=n.length;c<s.length;c+=1)i(c);De()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)N(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)R(s[a]);t=!1},d(o){o&&k(e),Pe(s,o)}}}function ap(l){let e;return{c(){e=_("div"),e.textContent="No previous deployments found",u(e,"class","no-deployments svelte-cuxyqu")},m(t,n){$(t,e,n)},p:ve,i:ve,o:ve,d(t){t&&k(e)}}}function cp(l){let e,t=l[75].id.substring(0,8)+"",n;return{c(){e=_("span"),n=z(t),u(e,"class","version-badge muted svelte-cuxyqu")},m(s,i){$(s,e,i),r(e,n)},p(s,i){i[0]&8&&t!==(t=s[75].id.substring(0,8)+"")&&j(n,t)},d(s){s&&k(e)}}}function up(l){let e,t,n=l[75].version+"",s;return{c(){e=_("span"),t=z("v"),s=z(n),u(e,"class","version-badge svelte-cuxyqu")},m(i,o){$(i,e,o),r(e,t),r(e,s)},p(i,o){o[0]&8&&n!==(n=i[75].version+"")&&j(s,n)},d(i){i&&k(e)}}}function fp(l){let e=Sl(l[75])+"",t;return{c(){t=z(e)},m(n,s){$(n,t,s)},p(n,s){s[0]&8&&e!==(e=Sl(n[75])+"")&&j(t,e)},d(n){n&&k(t)}}}function Ai(l){let e,t,n,s=!1,i,o,a,c,p,f=gl(l[75].deployed_at||l[75].created_at)+"",d,m,h,v,g=(l[75].deployed_by||l[75].user||"unknown")+"",C,y,w,T,D,q,E,S;function L(I,U){return I[75].version?up:cp}let F=L(l),O=F(l);return w=new Je({props:{variant:Kl(Sl(l[75])),$$slots:{default:[fp]},$$scope:{ctx:l}}}),q=ha(l[39][0]),{c(){e=_("label"),t=_("input"),i=b(),o=_("div"),O.c(),a=b(),c=_("div"),p=_("div"),d=z(f),m=b(),h=_("div"),v=z("by "),C=z(g),y=b(),ae(w.$$.fragment),T=b(),u(t,"type","radio"),t.__value=n=l[75].id,ne(t,t.__value),t.disabled=l[5],u(t,"class","svelte-cuxyqu"),u(o,"class","deploy-version svelte-cuxyqu"),u(p,"class","deploy-date svelte-cuxyqu"),u(h,"class","deploy-by svelte-cuxyqu"),u(c,"class","deploy-info svelte-cuxyqu"),u(e,"class","deployment-option svelte-cuxyqu"),we(e,"selected",l[4]===l[75].id),q.p(t)},m(I,U){$(I,e,U),r(e,t),t.checked=t.__value===l[4],r(e,i),r(e,o),O.m(o,null),r(e,a),r(e,c),r(c,p),r(p,d),r(c,m),r(c,h),r(h,v),r(h,C),r(e,y),ie(w,e,null),r(e,T),D=!0,E||(S=ee(t,"change",l[38]),E=!0)},p(I,U){(!D||U[0]&8&&n!==(n=I[75].id))&&(t.__value=n,ne(t,t.__value),s=!0),(!D||U[0]&32)&&(t.disabled=I[5]),(s||U[0]&24)&&(t.checked=t.__value===I[4]),F===(F=L(I))&&O?O.p(I,U):(O.d(1),O=F(I),O&&(O.c(),O.m(o,null))),(!D||U[0]&8)&&f!==(f=gl(I[75].deployed_at||I[75].created_at)+"")&&j(d,f),(!D||U[0]&8)&&g!==(g=(I[75].deployed_by||I[75].user||"unknown")+"")&&j(C,g);const Z={};U[0]&8&&(Z.variant=Kl(Sl(I[75]))),U[0]&8|U[2]&1048576&&(Z.$$scope={dirty:U,ctx:I}),w.$set(Z),(!D||U[0]&24)&&we(e,"selected",I[4]===I[75].id)},i(I){D||(N(w.$$.fragment,I),D=!0)},o(I){R(w.$$.fragment,I),D=!1},d(I){I&&k(e),O.d(),re(w),q.r(),E=!1,S()}}}function Oi(l){let e,t,n,s,i,o=_e(l[6]),a=[];for(let p=0;p<o.length;p+=1)a[p]=ji(zi(l,o,p));let c=l[5]&&Fi();return{c(){e=_("div"),t=_("label"),t.textContent="📋 Progress",n=b(),s=_("div");for(let p=0;p<a.length;p+=1)a[p].c();i=b(),c&&c.c(),u(t,"class","svelte-cuxyqu"),u(s,"class","rollback-logs svelte-cuxyqu"),u(e,"class","section rollback-logs-section svelte-cuxyqu")},m(p,f){$(p,e,f),r(e,t),r(e,n),r(e,s);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(s,null);r(s,i),c&&c.m(s,null)},p(p,f){if(f[0]&64){o=_e(p[6]);let d;for(d=0;d<o.length;d+=1){const m=zi(p,o,d);a[d]?a[d].p(m,f):(a[d]=ji(m),a[d].c(),a[d].m(s,i))}for(;d<a.length;d+=1)a[d].d(1);a.length=o.length}p[5]?c||(c=Fi(),c.c(),c.m(s,null)):c&&(c.d(1),c=null)},d(p){p&&k(e),Pe(a,p),c&&c.d()}}}function ji(l){let e,t=l[62].message+"",n,s;return{c(){e=_("div"),n=z(t),u(e,"class",s="log-entry log-"+l[62].type+" svelte-cuxyqu")},m(i,o){$(i,e,o),r(e,n)},p(i,o){o[0]&64&&t!==(t=i[62].message+"")&&j(n,t),o[0]&64&&s!==(s="log-entry log-"+i[62].type+" svelte-cuxyqu")&&u(e,"class",s)},d(i){i&&k(e)}}}function Fi(l){let e;return{c(){e=_("div"),e.innerHTML='<span class="spinner svelte-cuxyqu">⏳</span> Working...',u(e,"class","log-entry log-info svelte-cuxyqu")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function pp(l){let e,t,n=l[2]&&Mi(l);return{c(){n&&n.c(),e=Ie()},m(s,i){n&&n.m(s,i),$(s,e,i),t=!0},p(s,i){s[2]?n?(n.p(s,i),i[0]&4&&N(n,1)):(n=Mi(s),n.c(),N(n,1),n.m(e.parentNode,e)):n&&(Te(),R(n,1,1,()=>{n=null}),De())},i(s){t||(N(n),t=!0)},o(s){R(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function _p(l){let e=l[6].length>0?"Close":"Cancel",t;return{c(){t=z(e)},m(n,s){$(n,t,s)},p(n,s){s[0]&64&&e!==(e=n[6].length>0?"Close":"Cancel")&&j(t,e)},d(n){n&&k(t)}}}function dp(l){let e;return{c(){e=z("⏪ Execute Rollback")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function mp(l){let e;return{c(){e=z("⏳ Rolling back...")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function vp(l){let e;function t(i,o){return i[5]?mp:dp}let n=t(l),s=n(l);return{c(){s.c(),e=Ie()},m(i,o){s.m(i,o),$(i,e,o)},p(i,o){n!==(n=t(i))&&(s.d(1),s=n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&k(e),s.d(i)}}}function hp(l){let e,t,n,s,i;return t=new Oe({props:{variant:"ghost",$$slots:{default:[_p]},$$scope:{ctx:l}}}),t.$on("click",l[37]),s=new Oe({props:{variant:"warning",disabled:!l[4]||l[5],$$slots:{default:[vp]},$$scope:{ctx:l}}}),s.$on("click",l[25]),{c(){e=_("div"),ae(t.$$.fragment),n=b(),ae(s.$$.fragment),u(e,"slot","footer")},m(o,a){$(o,e,a),ie(t,e,null),r(e,n),ie(s,e,null),i=!0},p(o,a){const c={};a[0]&64|a[2]&1048576&&(c.$$scope={dirty:a,ctx:o}),t.$set(c);const p={};a[0]&48&&(p.disabled=!o[4]||o[5]),a[0]&32|a[2]&1048576&&(p.$$scope={dirty:a,ctx:o}),s.$set(p)},i(o){i||(N(t.$$.fragment,o),N(s.$$.fragment,o),i=!0)},o(o){R(t.$$.fragment,o),R(s.$$.fragment,o),i=!1},d(o){o&&k(e),re(t),re(s)}}}function Ii(l){let e,t,n,s=(l[14].service_name||l[14].service)+"",i,o,a,c=l[14].environment+"",p,f,d=gl(l[14].deployed_at)+"",m,h,v,g,C;const y=[bp,gp],w=[];function T(q,E){return q[14].config_snapshot?0:1}function D(q,E){return E===0?Qf(q):q}return v=T(l),g=w[v]=y[v](D(l,v)),{c(){e=_("div"),t=_("div"),n=_("span"),i=z(s),o=b(),a=_("span"),p=z(c),f=z(" • "),m=z(d),h=b(),g.c(),u(n,"class","service-name svelte-cuxyqu"),u(a,"class","meta svelte-cuxyqu"),u(t,"class","config-header-info svelte-cuxyqu"),u(e,"class","config-content svelte-cuxyqu")},m(q,E){$(q,e,E),r(e,t),r(t,n),r(n,i),r(t,o),r(t,a),r(a,p),r(a,f),r(a,m),r(e,h),w[v].m(e,null),C=!0},p(q,E){(!C||E[0]&16384)&&s!==(s=(q[14].service_name||q[14].service)+"")&&j(i,s),(!C||E[0]&16384)&&c!==(c=q[14].environment+"")&&j(p,c),(!C||E[0]&16384)&&d!==(d=gl(q[14].deployed_at)+"")&&j(m,d);let S=v;v=T(q),v===S?w[v].p(D(q,v),E):(Te(),R(w[S],1,1,()=>{w[S]=null}),De(),g=w[v],g?g.p(D(q,v),E):(g=w[v]=y[v](D(q,v)),g.c()),N(g,1),g.m(e,null))},i(q){C||(N(g),C=!0)},o(q){R(g),C=!1},d(q){q&&k(e),w[v].d()}}}function gp(l){let e;return{c(){e=_("div"),e.textContent="No config snapshot available",u(e,"class","no-config svelte-cuxyqu")},m(t,n){$(t,e,n)},p:ve,i:ve,o:ve,d(t){t&&k(e)}}}function bp(l){var he,oe;let e,t,n,s,i,o,a=(l[65].source_type||"-")+"",c,p,f,d,m,h,v,g,C=(l[65].port||"-")+"",y,w,T,D,q,E,S,L,F,O,I=l[65].env_vars&&Object.keys(l[65].env_vars).length>0,U,Z,V,A=l[65].git_url&&Bi(l),P=l[65].git_branch&&Ui(l),M=l[65].image&&Hi(l),W=l[65].container_port&&Gi(l),H=l[65].host_port&&Wi(l),J=l[65].snapshot_id&&Vi(l),B=l[65].region&&Ji(l),Q=l[65].size&&Ki(l),te=((he=l[65].server_ips)==null?void 0:he.length)&&Yi(l),G=l[65].setup_domain&&Qi(),K=l[65].base_domain&&Zi(l),x=I&&Xi(l),de=((oe=l[65].tags)==null?void 0:oe.length)&&er(l);return{c(){e=_("table"),t=_("tbody"),n=_("tr"),s=_("td"),s.textContent="Source Type",i=_("td"),o=_("strong"),c=z(a),p=b(),A&&A.c(),f=b(),P&&P.c(),d=b(),M&&M.c(),m=b(),h=_("tr"),v=_("td"),v.textContent="Port",g=_("td"),y=z(C),w=b(),W&&W.c(),T=b(),H&&H.c(),D=b(),J&&J.c(),q=b(),B&&B.c(),E=b(),Q&&Q.c(),S=b(),te&&te.c(),L=b(),G&&G.c(),F=b(),K&&K.c(),O=b(),x&&x.c(),U=b(),de&&de.c(),Z=Ie(),u(s,"class","label svelte-cuxyqu"),u(i,"class","svelte-cuxyqu"),u(v,"class","label svelte-cuxyqu"),u(g,"class","svelte-cuxyqu"),u(t,"class","svelte-cuxyqu"),u(e,"class","config-table svelte-cuxyqu")},m(X,pe){$(X,e,pe),r(e,t),r(t,n),r(n,s),r(n,i),r(i,o),r(o,c),r(t,p),A&&A.m(t,null),r(t,f),P&&P.m(t,null),r(t,d),M&&M.m(t,null),r(t,m),r(t,h),r(h,v),r(h,g),r(g,y),r(t,w),W&&W.m(t,null),r(t,T),H&&H.m(t,null),r(t,D),J&&J.m(t,null),r(t,q),B&&B.m(t,null),r(t,E),Q&&Q.m(t,null),r(t,S),te&&te.m(t,null),r(t,L),G&&G.m(t,null),r(t,F),K&&K.m(t,null),$(X,O,pe),x&&x.m(X,pe),$(X,U,pe),de&&de.m(X,pe),$(X,Z,pe),V=!0},p(X,pe){var be,ce;(!V||pe[0]&16384)&&a!==(a=(X[65].source_type||"-")+"")&&j(c,a),X[65].git_url?A?A.p(X,pe):(A=Bi(X),A.c(),A.m(t,f)):A&&(A.d(1),A=null),X[65].git_branch?P?P.p(X,pe):(P=Ui(X),P.c(),P.m(t,d)):P&&(P.d(1),P=null),X[65].image?M?M.p(X,pe):(M=Hi(X),M.c(),M.m(t,m)):M&&(M.d(1),M=null),(!V||pe[0]&16384)&&C!==(C=(X[65].port||"-")+"")&&j(y,C),X[65].container_port?W?W.p(X,pe):(W=Gi(X),W.c(),W.m(t,T)):W&&(W.d(1),W=null),X[65].host_port?H?H.p(X,pe):(H=Wi(X),H.c(),H.m(t,D)):H&&(H.d(1),H=null),X[65].snapshot_id?J?J.p(X,pe):(J=Vi(X),J.c(),J.m(t,q)):J&&(J.d(1),J=null),X[65].region?B?B.p(X,pe):(B=Ji(X),B.c(),B.m(t,E)):B&&(B.d(1),B=null),X[65].size?Q?Q.p(X,pe):(Q=Ki(X),Q.c(),Q.m(t,S)):Q&&(Q.d(1),Q=null),(be=X[65].server_ips)!=null&&be.length?te?te.p(X,pe):(te=Yi(X),te.c(),te.m(t,L)):te&&(te.d(1),te=null),X[65].setup_domain?G||(G=Qi(),G.c(),G.m(t,F)):G&&(G.d(1),G=null),X[65].base_domain?K?K.p(X,pe):(K=Zi(X),K.c(),K.m(t,null)):K&&(K.d(1),K=null),pe[0]&16384&&(I=X[65].env_vars&&Object.keys(X[65].env_vars).length>0),I?x?x.p(X,pe):(x=Xi(X),x.c(),x.m(U.parentNode,U)):x&&(x.d(1),x=null),(ce=X[65].tags)!=null&&ce.length?de?(de.p(X,pe),pe[0]&16384&&N(de,1)):(de=er(X),de.c(),N(de,1),de.m(Z.parentNode,Z)):de&&(Te(),R(de,1,1,()=>{de=null}),De())},i(X){V||(N(de),V=!0)},o(X){R(de),V=!1},d(X){X&&(k(e),k(O),k(U),k(Z)),A&&A.d(),P&&P.d(),M&&M.d(),W&&W.d(),H&&H.d(),J&&J.d(),B&&B.d(),Q&&Q.d(),te&&te.d(),G&&G.d(),K&&K.d(),x&&x.d(X),de&&de.d(X)}}}function Bi(l){let e,t,n,s=l[65].git_url+"",i;return{c(){e=_("tr"),t=_("td"),t.textContent="Git URL",n=_("td"),i=z(s),u(t,"class","label svelte-cuxyqu"),u(n,"class","svelte-cuxyqu")},m(o,a){$(o,e,a),r(e,t),r(e,n),r(n,i)},p(o,a){a[0]&16384&&s!==(s=o[65].git_url+"")&&j(i,s)},d(o){o&&k(e)}}}function Ui(l){let e,t,n,s=l[65].git_branch+"",i;return{c(){e=_("tr"),t=_("td"),t.textContent="Git Branch",n=_("td"),i=z(s),u(t,"class","label svelte-cuxyqu"),u(n,"class","svelte-cuxyqu")},m(o,a){$(o,e,a),r(e,t),r(e,n),r(n,i)},p(o,a){a[0]&16384&&s!==(s=o[65].git_branch+"")&&j(i,s)},d(o){o&&k(e)}}}function Hi(l){let e,t,n,s=l[65].image+"",i;return{c(){e=_("tr"),t=_("td"),t.textContent="Image",n=_("td"),i=z(s),u(t,"class","label svelte-cuxyqu"),u(n,"class","svelte-cuxyqu")},m(o,a){$(o,e,a),r(e,t),r(e,n),r(n,i)},p(o,a){a[0]&16384&&s!==(s=o[65].image+"")&&j(i,s)},d(o){o&&k(e)}}}function Gi(l){let e,t,n,s=l[65].container_port+"",i;return{c(){e=_("tr"),t=_("td"),t.textContent="Container Port",n=_("td"),i=z(s),u(t,"class","label svelte-cuxyqu"),u(n,"class","svelte-cuxyqu")},m(o,a){$(o,e,a),r(e,t),r(e,n),r(n,i)},p(o,a){a[0]&16384&&s!==(s=o[65].container_port+"")&&j(i,s)},d(o){o&&k(e)}}}function Wi(l){let e,t,n,s=l[65].host_port+"",i;return{c(){e=_("tr"),t=_("td"),t.textContent="Host Port",n=_("td"),i=z(s),u(t,"class","label svelte-cuxyqu"),u(n,"class","svelte-cuxyqu")},m(o,a){$(o,e,a),r(e,t),r(e,n),r(n,i)},p(o,a){a[0]&16384&&s!==(s=o[65].host_port+"")&&j(i,s)},d(o){o&&k(e)}}}function Vi(l){let e,t,n,s=l[65].snapshot_id+"",i;return{c(){e=_("tr"),t=_("td"),t.textContent="Snapshot ID",n=_("td"),i=z(s),u(t,"class","label svelte-cuxyqu"),u(n,"class","svelte-cuxyqu")},m(o,a){$(o,e,a),r(e,t),r(e,n),r(n,i)},p(o,a){a[0]&16384&&s!==(s=o[65].snapshot_id+"")&&j(i,s)},d(o){o&&k(e)}}}function Ji(l){let e,t,n,s=l[65].region+"",i;return{c(){e=_("tr"),t=_("td"),t.textContent="Region",n=_("td"),i=z(s),u(t,"class","label svelte-cuxyqu"),u(n,"class","svelte-cuxyqu")},m(o,a){$(o,e,a),r(e,t),r(e,n),r(n,i)},p(o,a){a[0]&16384&&s!==(s=o[65].region+"")&&j(i,s)},d(o){o&&k(e)}}}function Ki(l){let e,t,n,s=l[65].size+"",i;return{c(){e=_("tr"),t=_("td"),t.textContent="Size",n=_("td"),i=z(s),u(t,"class","label svelte-cuxyqu"),u(n,"class","svelte-cuxyqu")},m(o,a){$(o,e,a),r(e,t),r(e,n),r(n,i)},p(o,a){a[0]&16384&&s!==(s=o[65].size+"")&&j(i,s)},d(o){o&&k(e)}}}function Yi(l){let e,t,n,s=l[65].server_ips.join(", ")+"",i;return{c(){e=_("tr"),t=_("td"),t.textContent="Servers",n=_("td"),i=z(s),u(t,"class","label svelte-cuxyqu"),u(n,"class","svelte-cuxyqu")},m(o,a){$(o,e,a),r(e,t),r(e,n),r(n,i)},p(o,a){a[0]&16384&&s!==(s=o[65].server_ips.join(", ")+"")&&j(i,s)},d(o){o&&k(e)}}}function Qi(l){let e;return{c(){e=_("tr"),e.innerHTML='<td class="label svelte-cuxyqu">Setup Domain</td><td class="svelte-cuxyqu">Yes</td>'},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Zi(l){let e,t,n,s=l[65].base_domain+"",i;return{c(){e=_("tr"),t=_("td"),t.textContent="Base Domain",n=_("td"),i=z(s),u(t,"class","label svelte-cuxyqu"),u(n,"class","svelte-cuxyqu")},m(o,a){$(o,e,a),r(e,t),r(e,n),r(n,i)},p(o,a){a[0]&16384&&s!==(s=o[65].base_domain+"")&&j(i,s)},d(o){o&&k(e)}}}function Xi(l){let e,t,n,s,i=_e(Object.entries(l[65].env_vars)),o=[];for(let a=0;a<i.length;a+=1)o[a]=xi(Si(l,i,a));return{c(){e=_("div"),t=_("div"),t.textContent="Environment Variables",n=b(),s=_("div");for(let a=0;a<o.length;a+=1)o[a].c();u(t,"class","section-title svelte-cuxyqu"),u(s,"class","env-list svelte-cuxyqu"),u(e,"class","env-section svelte-cuxyqu")},m(a,c){$(a,e,c),r(e,t),r(e,n),r(e,s);for(let p=0;p<o.length;p+=1)o[p]&&o[p].m(s,null)},p(a,c){if(c[0]&16384){i=_e(Object.entries(a[65].env_vars));let p;for(p=0;p<i.length;p+=1){const f=Si(a,i,p);o[p]?o[p].p(f,c):(o[p]=xi(f),o[p].c(),o[p].m(s,null))}for(;p<o.length;p+=1)o[p].d(1);o.length=i.length}},d(a){a&&k(e),Pe(o,a)}}}function xi(l){let e,t=l[69]+"",n,s,i=(l[70].length>20?l[70].substring(0,20)+"...":l[70])+"",o;return{c(){e=_("div"),n=z(t),s=z("="),o=z(i),u(e,"class","env-item svelte-cuxyqu")},m(a,c){$(a,e,c),r(e,n),r(e,s),r(e,o)},p(a,c){c[0]&16384&&t!==(t=a[69]+"")&&j(n,t),c[0]&16384&&i!==(i=(a[70].length>20?a[70].substring(0,20)+"...":a[70])+"")&&j(o,i)},d(a){a&&k(e)}}}function er(l){let e,t,n,s,i,o=_e(l[65].tags),a=[];for(let p=0;p<o.length;p+=1)a[p]=tr(Ci(l,o,p));const c=p=>R(a[p],1,1,()=>{a[p]=null});return{c(){e=_("div"),t=_("div"),t.textContent="Tags",n=b(),s=_("div");for(let p=0;p<a.length;p+=1)a[p].c();u(t,"class","section-title svelte-cuxyqu"),u(s,"class","tags-list svelte-cuxyqu"),u(e,"class","tags-section svelte-cuxyqu")},m(p,f){$(p,e,f),r(e,t),r(e,n),r(e,s);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(s,null);i=!0},p(p,f){if(f[0]&16384){o=_e(p[65].tags);let d;for(d=0;d<o.length;d+=1){const m=Ci(p,o,d);a[d]?(a[d].p(m,f),N(a[d],1)):(a[d]=tr(m),a[d].c(),N(a[d],1),a[d].m(s,null))}for(Te(),d=o.length;d<a.length;d+=1)c(d);De()}},i(p){if(!i){for(let f=0;f<o.length;f+=1)N(a[f]);i=!0}},o(p){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)R(a[f]);i=!1},d(p){p&&k(e),Pe(a,p)}}}function kp(l){let e=l[66]+"",t;return{c(){t=z(e)},m(n,s){$(n,t,s)},p(n,s){s[0]&16384&&e!==(e=n[66]+"")&&j(t,e)},d(n){n&&k(t)}}}function tr(l){let e,t;return e=new Je({props:{$$slots:{default:[kp]},$$scope:{ctx:l}}}),{c(){ae(e.$$.fragment)},m(n,s){ie(e,n,s),t=!0},p(n,s){const i={};s[0]&16384|s[2]&1048576&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){re(e,n)}}}function $p(l){let e,t,n=l[14]&&Ii(l);return{c(){n&&n.c(),e=Ie()},m(s,i){n&&n.m(s,i),$(s,e,i),t=!0},p(s,i){s[14]?n?(n.p(s,i),i[0]&16384&&N(n,1)):(n=Ii(s),n.c(),N(n,1),n.m(e.parentNode,e)):n&&(Te(),R(n,1,1,()=>{n=null}),De())},i(s){t||(N(n),t=!0)},o(s){R(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function wp(l){let e;return{c(){e=z("🚀 Redeploy with this config")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function yp(l){let e;return{c(){e=z("Close")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Cp(l){let e,t,n,s,i;return t=new Oe({props:{variant:"primary",$$slots:{default:[wp]},$$scope:{ctx:l}}}),t.$on("click",l[22]),s=new Oe({props:{variant:"ghost",$$slots:{default:[yp]},$$scope:{ctx:l}}}),s.$on("click",l[42]),{c(){e=_("div"),ae(t.$$.fragment),n=b(),ae(s.$$.fragment),u(e,"slot","footer")},m(o,a){$(o,e,a),ie(t,e,null),r(e,n),ie(s,e,null),i=!0},p(o,a){const c={};a[2]&1048576&&(c.$$scope={dirty:a,ctx:o}),t.$set(c);const p={};a[2]&1048576&&(p.$$scope={dirty:a,ctx:o}),s.$set(p)},i(o){i||(N(t.$$.fragment,o),N(s.$$.fragment,o),i=!0)},o(o){R(t.$$.fragment,o),R(s.$$.fragment,o),i=!1},d(o){o&&k(e),re(t),re(s)}}}function lr(l){let e,t,n,s=(l[16].service||l[16].name)+"",i,o,a,c=l[16].environment+"",p,f,d=gl(l[16].deployed_at)+"",m,h,v,g,C,y,w=l[16].version&&nr(l);g=new Je({props:{variant:Kl(Sl(l[16])),$$slots:{default:[zp]},$$scope:{ctx:l}}});function T(E,S){return E[18]?qp:E[17].length===0?Dp:Tp}let D=T(l),q=D(l);return{c(){e=_("div"),t=_("div"),n=_("span"),i=z(s),o=b(),a=_("span"),p=z(c),f=z(" • "),m=z(d),h=b(),w&&w.c(),v=b(),ae(g.$$.fragment),C=b(),q.c(),u(n,"class","service-name svelte-cuxyqu"),u(a,"class","meta svelte-cuxyqu"),u(t,"class","logs-header-info svelte-cuxyqu"),u(e,"class","logs-modal-content svelte-cuxyqu")},m(E,S){$(E,e,S),r(e,t),r(t,n),r(n,i),r(t,o),r(t,a),r(a,p),r(a,f),r(a,m),r(t,h),w&&w.m(t,null),r(t,v),ie(g,t,null),r(e,C),q.m(e,null),y=!0},p(E,S){(!y||S[0]&65536)&&s!==(s=(E[16].service||E[16].name)+"")&&j(i,s),(!y||S[0]&65536)&&c!==(c=E[16].environment+"")&&j(p,c),(!y||S[0]&65536)&&d!==(d=gl(E[16].deployed_at)+"")&&j(m,d),E[16].version?w?(w.p(E,S),S[0]&65536&&N(w,1)):(w=nr(E),w.c(),N(w,1),w.m(t,v)):w&&(Te(),R(w,1,1,()=>{w=null}),De());const L={};S[0]&65536&&(L.variant=Kl(Sl(E[16]))),S[0]&65536|S[2]&1048576&&(L.$$scope={dirty:S,ctx:E}),g.$set(L),D===(D=T(E))&&q?q.p(E,S):(q.d(1),q=D(E),q&&(q.c(),q.m(e,null)))},i(E){y||(N(w),N(g.$$.fragment,E),y=!0)},o(E){R(w),R(g.$$.fragment,E),y=!1},d(E){E&&k(e),w&&w.d(),re(g),q.d()}}}function nr(l){let e,t;return e=new Je({props:{variant:"purple",$$slots:{default:[Sp]},$$scope:{ctx:l}}}),{c(){ae(e.$$.fragment)},m(n,s){ie(e,n,s),t=!0},p(n,s){const i={};s[0]&65536|s[2]&1048576&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){re(e,n)}}}function Sp(l){let e,t=l[16].version+"",n;return{c(){e=z("v"),n=z(t)},m(s,i){$(s,e,i),$(s,n,i)},p(s,i){i[0]&65536&&t!==(t=s[16].version+"")&&j(n,t)},d(s){s&&(k(e),k(n))}}}function zp(l){let e=Sl(l[16])+"",t;return{c(){t=z(e)},m(n,s){$(n,t,s)},p(n,s){s[0]&65536&&e!==(e=Sl(n[16])+"")&&j(t,e)},d(n){n&&k(t)}}}function Tp(l){let e,t=_e(l[17]),n=[];for(let s=0;s<t.length;s+=1)n[s]=sr(yi(l,t,s));return{c(){e=_("div");for(let s=0;s<n.length;s+=1)n[s].c();u(e,"class","logs-container svelte-cuxyqu")},m(s,i){$(s,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,i){if(i[0]&131072){t=_e(s[17]);let o;for(o=0;o<t.length;o+=1){const a=yi(s,t,o);n[o]?n[o].p(a,i):(n[o]=sr(a),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&k(e),Pe(n,s)}}}function Dp(l){let e;return{c(){e=_("div"),e.textContent="No logs available for this deployment",u(e,"class","no-logs svelte-cuxyqu")},m(t,n){$(t,e,n)},p:ve,d(t){t&&k(e)}}}function qp(l){let e;return{c(){e=_("div"),e.textContent="Loading logs...",u(e,"class","logs-loading svelte-cuxyqu")},m(t,n){$(t,e,n)},p:ve,d(t){t&&k(e)}}}function sr(l){let e,t,n=(l[62].timestamp?new Date(l[62].timestamp).toLocaleTimeString():"")+"",s,i,o,a=l[62].message+"",c,p;return{c(){e=_("div"),t=_("span"),s=z(n),i=b(),o=_("span"),c=z(a),p=b(),u(t,"class","log-time svelte-cuxyqu"),u(o,"class","log-message svelte-cuxyqu"),u(e,"class","log-line svelte-cuxyqu")},m(f,d){$(f,e,d),r(e,t),r(t,s),r(e,i),r(e,o),r(o,c),r(e,p)},p(f,d){d[0]&131072&&n!==(n=(f[62].timestamp?new Date(f[62].timestamp).toLocaleTimeString():"")+"")&&j(s,n),d[0]&131072&&a!==(a=f[62].message+"")&&j(c,a)},d(f){f&&k(e)}}}function Ep(l){let e,t,n=l[16]&&lr(l);return{c(){n&&n.c(),e=Ie()},m(s,i){n&&n.m(s,i),$(s,e,i),t=!0},p(s,i){s[16]?n?(n.p(s,i),i[0]&65536&&N(n,1)):(n=lr(s),n.c(),N(n,1),n.m(e.parentNode,e)):n&&(Te(),R(n,1,1,()=>{n=null}),De())},i(s){t||(N(n),t=!0)},o(s){R(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function Pp(l){let e;return{c(){e=z("Close")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Lp(l){let e,t,n;return t=new Oe({props:{variant:"ghost",$$slots:{default:[Pp]},$$scope:{ctx:l}}}),t.$on("click",l[45]),{c(){e=_("div"),ae(t.$$.fragment),u(e,"slot","footer")},m(s,i){$(s,e,i),ie(t,e,null),n=!0},p(s,i){const o={};i[2]&1048576&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){n||(N(t.$$.fragment,s),n=!0)},o(s){R(t.$$.fragment,s),n=!1},d(s){s&&k(e),re(t)}}}function Np(l){let e,t,n,s=l[10].length+"",i,o,a,c,p,f,d=_e(l[10]),m=[];for(let g=0;g<d.length;g+=1)m[g]=or($i(l,d,g));const h=g=>R(m[g],1,1,()=>{m[g]=null});let v=l[11].length>0&&ir(l);return{c(){e=_("div"),t=_("p"),n=_("strong"),i=z(s),o=z(" server(s) from the original deployment are unavailable:"),a=b(),c=_("div");for(let g=0;g<m.length;g+=1)m[g].c();p=b(),v&&v.c(),u(t,"class","svelte-cuxyqu"),u(c,"class","confirm-server-list unavailable svelte-cuxyqu"),u(e,"class","rollback-confirm-content svelte-cuxyqu")},m(g,C){$(g,e,C),r(e,t),r(t,n),r(n,i),r(t,o),r(e,a),r(e,c);for(let y=0;y<m.length;y+=1)m[y]&&m[y].m(c,null);r(e,p),v&&v.m(e,null),f=!0},p(g,C){if((!f||C[0]&1024)&&s!==(s=g[10].length+"")&&j(i,s),C[0]&1024){d=_e(g[10]);let y;for(y=0;y<d.length;y+=1){const w=$i(g,d,y);m[y]?(m[y].p(w,C),N(m[y],1)):(m[y]=or(w),m[y].c(),N(m[y],1),m[y].m(c,null))}for(Te(),y=d.length;y<m.length;y+=1)h(y);De()}g[11].length>0?v?(v.p(g,C),C[0]&2048&&N(v,1)):(v=ir(g),v.c(),N(v,1),v.m(e,null)):v&&(Te(),R(v,1,1,()=>{v=null}),De())},i(g){if(!f){for(let C=0;C<d.length;C+=1)N(m[C]);N(v),f=!0}},o(g){m=m.filter(Boolean);for(let C=0;C<m.length;C+=1)R(m[C]);R(v),f=!1},d(g){g&&k(e),Pe(m,g),v&&v.d()}}}function Mp(l){let e,t,n,s,i=l[11].length+"",o,a,c,p=l[11].length+l[9].length+"",f,d,m,h,v,g,C=_e(l[9]),y=[];for(let w=0;w<C.length;w+=1)y[w]=ar(wi(l,C,w));return{c(){e=_("div"),t=_("p"),n=z("Rolling back will restore to "),s=_("strong"),o=z(i),a=z(` servers.
        Service currently runs on `),c=_("strong"),f=z(p),d=z(" servers."),m=b(),h=_("p"),h.textContent="Stop containers on the following servers?",v=b(),g=_("div");for(let w=0;w<y.length;w+=1)y[w].c();u(t,"class","svelte-cuxyqu"),u(h,"class","svelte-cuxyqu"),u(g,"class","confirm-server-list svelte-cuxyqu"),u(e,"class","rollback-confirm-content svelte-cuxyqu")},m(w,T){$(w,e,T),r(e,t),r(t,n),r(t,s),r(s,o),r(t,a),r(t,c),r(c,f),r(t,d),r(e,m),r(e,h),r(e,v),r(e,g);for(let D=0;D<y.length;D+=1)y[D]&&y[D].m(g,null)},p(w,T){if(T[0]&2048&&i!==(i=w[11].length+"")&&j(o,i),T[0]&2560&&p!==(p=w[11].length+w[9].length+"")&&j(f,p),T[0]&512){C=_e(w[9]);let D;for(D=0;D<C.length;D+=1){const q=wi(w,C,D);y[D]?y[D].p(q,T):(y[D]=ar(q),y[D].c(),y[D].m(g,null))}for(;D<y.length;D+=1)y[D].d(1);y.length=C.length}},i:ve,o:ve,d(w){w&&k(e),Pe(y,w)}}}function Rp(l){let e;return{c(){e=z("offline")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function or(l){let e,t,n=(l[55].name||l[55].ip)+"",s,i,o,a=l[55].ip+"",c,p,f,d,m;return f=new Je({props:{variant:"error",$$slots:{default:[Rp]},$$scope:{ctx:l}}}),{c(){e=_("div"),t=_("span"),s=z(n),i=b(),o=_("span"),c=z(a),p=b(),ae(f.$$.fragment),d=b(),u(t,"class","server-name svelte-cuxyqu"),u(o,"class","server-ip svelte-cuxyqu"),u(e,"class","confirm-server-item svelte-cuxyqu")},m(h,v){$(h,e,v),r(e,t),r(t,s),r(e,i),r(e,o),r(o,c),r(e,p),ie(f,e,null),r(e,d),m=!0},p(h,v){(!m||v[0]&1024)&&n!==(n=(h[55].name||h[55].ip)+"")&&j(s,n),(!m||v[0]&1024)&&a!==(a=h[55].ip+"")&&j(c,a);const g={};v[2]&1048576&&(g.$$scope={dirty:v,ctx:h}),f.$set(g)},i(h){m||(N(f.$$.fragment,h),m=!0)},o(h){R(f.$$.fragment,h),m=!1},d(h){h&&k(e),re(f)}}}function ir(l){let e,t,n=l[11].length+"",s,i,o,a,c,p=_e(l[11]),f=[];for(let m=0;m<p.length;m+=1)f[m]=rr(ki(l,p,m));const d=m=>R(f[m],1,1,()=>{f[m]=null});return{c(){e=_("p"),t=z("Available servers ("),s=z(n),i=z("):"),o=b(),a=_("div");for(let m=0;m<f.length;m+=1)f[m].c();u(e,"class","svelte-cuxyqu"),u(a,"class","confirm-server-list available svelte-cuxyqu")},m(m,h){$(m,e,h),r(e,t),r(e,s),r(e,i),$(m,o,h),$(m,a,h);for(let v=0;v<f.length;v+=1)f[v]&&f[v].m(a,null);c=!0},p(m,h){if((!c||h[0]&2048)&&n!==(n=m[11].length+"")&&j(s,n),h[0]&2048){p=_e(m[11]);let v;for(v=0;v<p.length;v+=1){const g=ki(m,p,v);f[v]?(f[v].p(g,h),N(f[v],1)):(f[v]=rr(g),f[v].c(),N(f[v],1),f[v].m(a,null))}for(Te(),v=p.length;v<f.length;v+=1)d(v);De()}},i(m){if(!c){for(let h=0;h<p.length;h+=1)N(f[h]);c=!0}},o(m){f=f.filter(Boolean);for(let h=0;h<f.length;h+=1)R(f[h]);c=!1},d(m){m&&(k(e),k(o),k(a)),Pe(f,m)}}}function Ap(l){let e;return{c(){e=z("online")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function rr(l){let e,t,n=(l[55].name||l[55].ip)+"",s,i,o,a=l[55].ip+"",c,p,f,d,m;return f=new Je({props:{variant:"success",$$slots:{default:[Ap]},$$scope:{ctx:l}}}),{c(){e=_("div"),t=_("span"),s=z(n),i=b(),o=_("span"),c=z(a),p=b(),ae(f.$$.fragment),d=b(),u(t,"class","server-name svelte-cuxyqu"),u(o,"class","server-ip svelte-cuxyqu"),u(e,"class","confirm-server-item svelte-cuxyqu")},m(h,v){$(h,e,v),r(e,t),r(t,s),r(e,i),r(e,o),r(o,c),r(e,p),ie(f,e,null),r(e,d),m=!0},p(h,v){(!m||v[0]&2048)&&n!==(n=(h[55].name||h[55].ip)+"")&&j(s,n),(!m||v[0]&2048)&&a!==(a=h[55].ip+"")&&j(c,a);const g={};v[2]&1048576&&(g.$$scope={dirty:v,ctx:h}),f.$set(g)},i(h){m||(N(f.$$.fragment,h),m=!0)},o(h){R(f.$$.fragment,h),m=!1},d(h){h&&k(e),re(f)}}}function ar(l){let e,t,n=(l[55].name||l[55].ip)+"",s,i,o,a=l[55].ip+"",c,p;return{c(){e=_("div"),t=_("span"),s=z(n),i=b(),o=_("span"),c=z(a),p=b(),u(t,"class","server-name svelte-cuxyqu"),u(o,"class","server-ip svelte-cuxyqu"),u(e,"class","confirm-server-item svelte-cuxyqu")},m(f,d){$(f,e,d),r(e,t),r(t,s),r(e,i),r(e,o),r(o,c),r(e,p)},p(f,d){d[0]&512&&n!==(n=(f[55].name||f[55].ip)+"")&&j(s,n),d[0]&512&&a!==(a=f[55].ip+"")&&j(c,a)},d(f){f&&k(e)}}}function Op(l){let e,t,n,s;const i=[Mp,Np],o=[];function a(c,p){return c[8]==="cleanup"?0:c[8]==="missing"?1:-1}return~(e=a(l))&&(t=o[e]=i[e](l)),{c(){t&&t.c(),n=Ie()},m(c,p){~e&&o[e].m(c,p),$(c,n,p),s=!0},p(c,p){let f=e;e=a(c),e===f?~e&&o[e].p(c,p):(t&&(Te(),R(o[f],1,1,()=>{o[f]=null}),De()),~e?(t=o[e],t?t.p(c,p):(t=o[e]=i[e](c),t.c()),N(t,1),t.m(n.parentNode,n)):t=null)},i(c){s||(N(t),s=!0)},o(c){R(t),s=!1},d(c){c&&k(n),~e&&o[e].d(c)}}}function jp(l){let e,t;return e=new Oe({props:{variant:"primary",$$slots:{default:[Ip]},$$scope:{ctx:l}}}),e.$on("click",l[27]),{c(){ae(e.$$.fragment)},m(n,s){ie(e,n,s),t=!0},p(n,s){const i={};s[2]&1048576&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){re(e,n)}}}function Fp(l){let e,t;return e=new Oe({props:{variant:"primary",$$slots:{default:[Bp]},$$scope:{ctx:l}}}),e.$on("click",l[26]),{c(){ae(e.$$.fragment)},m(n,s){ie(e,n,s),t=!0},p(n,s){const i={};s[2]&1048576&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){re(e,n)}}}function Ip(l){let e;return{c(){e=z("Proceed with available only")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Bp(l){let e;return{c(){e=z("Proceed")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Up(l){let e;return{c(){e=z("Cancel")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Hp(l){let e,t,n,s,i,o;const a=[Fp,jp],c=[];function p(f,d){return f[8]==="cleanup"?0:f[8]==="missing"&&f[11].length>0?1:-1}return~(t=p(l))&&(n=c[t]=a[t](l)),i=new Oe({props:{variant:"ghost",$$slots:{default:[Up]},$$scope:{ctx:l}}}),i.$on("click",l[48]),{c(){e=_("div"),n&&n.c(),s=b(),ae(i.$$.fragment),u(e,"slot","footer")},m(f,d){$(f,e,d),~t&&c[t].m(e,null),r(e,s),ie(i,e,null),o=!0},p(f,d){let m=t;t=p(f),t===m?~t&&c[t].p(f,d):(n&&(Te(),R(c[m],1,1,()=>{c[m]=null}),De()),~t?(n=c[t],n?n.p(f,d):(n=c[t]=a[t](f),n.c()),N(n,1),n.m(e,s)):n=null);const h={};d[2]&1048576&&(h.$$scope={dirty:d,ctx:f}),i.$set(h)},i(f){o||(N(n),N(i.$$.fragment,f),o=!0)},o(f){R(n),R(i.$$.fragment,f),o=!1},d(f){f&&k(e),~t&&c[t].d(),re(i)}}}function Gp(l){let e,t,n,s,i,o,a,c,p,f,d,m,h,v,g,C,y,w,T,D,q,E,S=l[20]&&qi(l);a=new Oe({props:{variant:"ghost",$$slots:{default:[Zf]},$$scope:{ctx:l}}}),a.$on("click",l[33]),p=new st({props:{padding:!1,$$slots:{default:[ip]},$$scope:{ctx:l}}});function L(P){l[40](P)}let F={title:"⏪ Rollback",width:"600px",$$slots:{footer:[hp],default:[pp]},$$scope:{ctx:l}};l[1]!==void 0&&(F.open=l[1]),d=new Cl({props:F}),Yt.push(()=>Rl(d,"open",L)),d.$on("close",l[41]);function O(P){l[43](P)}let I={title:"⚙️ Deployment Config",width:"500px",$$slots:{footer:[Cp],default:[$p]},$$scope:{ctx:l}};l[13]!==void 0&&(I.open=l[13]),v=new Cl({props:I}),Yt.push(()=>Rl(v,"open",O)),v.$on("close",l[44]);function U(P){l[46](P)}let Z={title:"📋 Deployment Logs",width:"700px",$$slots:{footer:[Lp],default:[Ep]},$$scope:{ctx:l}};l[15]!==void 0&&(Z.open=l[15]),y=new Cl({props:Z}),Yt.push(()=>Rl(y,"open",U)),y.$on("close",l[47]);function V(P){l[49](P)}let A={title:l[8]==="cleanup"?"⚠️ Stop Orphan Containers":"⚠️ Servers Unavailable",width:"500px",$$slots:{footer:[Hp],default:[Op]},$$scope:{ctx:l}};return l[7]!==void 0&&(A.open=l[7]),D=new Cl({props:A}),Yt.push(()=>Rl(D,"open",V)),D.$on("close",l[50]),{c(){e=_("div"),t=_("div"),n=_("h1"),n.textContent="Deployment History",s=b(),i=_("div"),S&&S.c(),o=b(),ae(a.$$.fragment),c=b(),ae(p.$$.fragment),f=b(),ae(d.$$.fragment),h=b(),ae(v.$$.fragment),C=b(),ae(y.$$.fragment),T=b(),ae(D.$$.fragment),u(n,"class","svelte-cuxyqu"),u(i,"class","header-actions svelte-cuxyqu"),u(t,"class","page-header svelte-cuxyqu"),u(e,"class","deployments-page svelte-cuxyqu")},m(P,M){$(P,e,M),r(e,t),r(t,n),r(t,s),r(t,i),S&&S.m(i,null),r(i,o),ie(a,i,null),r(e,c),ie(p,e,null),$(P,f,M),ie(d,P,M),$(P,h,M),ie(v,P,M),$(P,C,M),ie(y,P,M),$(P,T,M),ie(D,P,M),E=!0},p(P,M){P[20]?S?S.p(P,M):(S=qi(P),S.c(),S.m(i,o)):S&&(S.d(1),S=null);const W={};M[2]&1048576&&(W.$$scope={dirty:M,ctx:P}),a.$set(W);const H={};M[0]&524289|M[2]&1048576&&(H.$$scope={dirty:M,ctx:P}),p.$set(H);const J={};M[0]&126|M[2]&1048576&&(J.$$scope={dirty:M,ctx:P}),!m&&M[0]&2&&(m=!0,J.open=P[1],Ml(()=>m=!1)),d.$set(J);const B={};M[0]&24576|M[2]&1048576&&(B.$$scope={dirty:M,ctx:P}),!g&&M[0]&8192&&(g=!0,B.open=P[13],Ml(()=>g=!1)),v.$set(B);const Q={};M[0]&491520|M[2]&1048576&&(Q.$$scope={dirty:M,ctx:P}),!w&&M[0]&32768&&(w=!0,Q.open=P[15],Ml(()=>w=!1)),y.$set(Q);const te={};M[0]&256&&(te.title=P[8]==="cleanup"?"⚠️ Stop Orphan Containers":"⚠️ Servers Unavailable"),M[0]&8064|M[2]&1048576&&(te.$$scope={dirty:M,ctx:P}),!q&&M[0]&128&&(q=!0,te.open=P[7],Ml(()=>q=!1)),D.$set(te)},i(P){E||(N(a.$$.fragment,P),N(p.$$.fragment,P),N(d.$$.fragment,P),N(v.$$.fragment,P),N(y.$$.fragment,P),N(D.$$.fragment,P),E=!0)},o(P){R(a.$$.fragment,P),R(p.$$.fragment,P),R(d.$$.fragment,P),R(v.$$.fragment,P),R(y.$$.fragment,P),R(D.$$.fragment,P),E=!1},d(P){P&&(k(e),k(f),k(h),k(C),k(T)),S&&S.d(),re(a),re(p),re(d,P),re(v,P),re(y,P),re(D,P)}}}function cr(l){return l?l.toLocaleTimeString():""}function Wp(l,e){return l?l.filter(t=>!(e.project&&t.project!==e.project||e.env&&t.environment!==e.env)):[]}function Vp(l){const e=[...l],t=new Set;for(const n of e){const s=`${n.project}/${n.service||n.name}/${n.environment}`;n.status==="success"&&n.can_rollback&&!t.has(s)?(n.is_current_active=!0,t.add(s)):n.is_current_active=!1}return e}function gl(l){return l?new Date(l).toLocaleString():"-"}function Kl(l){switch(l){case"success":case"active":return"success";case"failed":case"error":return"danger";case"pending":case"deploying":return"warning";case"superseded":return"secondary";default:return"info"}}function Sl(l){const e=l.status||"unknown";return e==="rolled_back"?l.is_rollback?"failed":"superseded":e}function Jp(l,e,t){let n,s,i,o;at(l,Gl,ye=>t(31,i=ye)),at(l,Ol,ye=>t(32,o=ye));let a=!1,c=!1,p=null,f=[],d=null,m=!1,h=[],v=!1,g="",C=[],y=[],w=[],T=null,D=!1,q=null,E=!1,S=null,L=[],F=!1,O=[],I=[];function U(ye){t(14,q=ye),t(13,D=!0)}function Z(){if(!(q!=null&&q.config_snapshot))return;const ye=new CustomEvent("redeploy",{detail:{deployment:q,config:q.config_snapshot},bubbles:!0});document.dispatchEvent(ye),t(13,D=!1),$e.info("Config loaded - switch to Deploy tab")}async function V(ye){t(16,S=ye),t(15,E=!0),t(18,F=!0),t(17,L=[]);try{const Be=await Me("GET",`/infra/deployments/history/${ye.id}/logs`);t(17,L=Be.logs||[])}catch(Be){$e.error("Failed to load logs: "+(Be.message||Be))}finally{t(18,F=!1)}}async function A(ye){t(2,p=ye);try{const Be=new URLSearchParams({project:ye.project||"",environment:ye.environment||"",service_name:ye.service_name||ye.service||""}),Ye=await Me("GET",`/infra/deployments/rollback/preview?${Be}`);t(3,f=(Ye.recent_deployments||[]).filter(Ke=>Ke.id!==ye.id&&Ke.status==="success"))}catch{t(3,f=[])}t(1,c=!0)}async function P(){if(!p||!d){$e.error("Select a deployment to rollback to");return}const ye=f.find(Xe=>Xe.id===d);if(!ye){$e.error("Target deployment not found");return}const Be=p.project||"",Ye=p.environment||"",Ke=p.service_name||p.service||"";try{const Xe=new URLSearchParams({project:Be,environment:Ye,service_name:Ke}),Ge=await Me("GET",`/infra/services/state?${Xe}`),Et=ye.server_ips||[],ot=(Ge.server_ips||[]).filter(Ct=>!Et.includes(Ct)),Ft=(Ge.servers||[]).filter(Ct=>ot.includes(Ct.ip));if(Et.length>0){const Ct=await Me("POST",`/infra/services/check-servers?do_token=${hl()}&server_ips=${Et.join(",")}`,null);if(t(10,y=Ct.unavailable||[]),t(11,w=Ct.available||[]),y.length>0){t(8,g="missing"),t(12,T=ye),t(7,v=!0);return}}if(Ft.length>0){t(9,C=Ft),t(8,g="cleanup"),t(12,T=ye),t(7,v=!0);return}}catch(Xe){console.log("Rollback pre-check:",Xe.message||Xe)}await B()}async function M(){if(t(7,v=!1),g==="cleanup"&&C.length>0){const ye=`${p.project}_${p.service||p.service_name}_${p.environment}`.replace(/[^a-zA-Z0-9_]/g,"_"),Be=C.map(Ye=>Ye.ip);try{const Ye=await Me("POST",`/infra/services/cleanup?do_token=${hl()}`,{server_ips:Be,container_name:ye});t(6,h=[...h,{message:`Cleanup: ${Ye.cleaned} stopped`,type:"info",time:new Date}])}catch(Ye){t(6,h=[...h,{message:`Cleanup warning: ${Ye.message}`,type:"warning",time:new Date}])}}t(9,C=[]),t(10,y=[]),t(12,T=null),await B()}let W=!1,H=[];async function J(){t(7,v=!1),W=!0,H=w.map(ye=>ye.ip),t(10,y=[]),t(12,T=null),await B()}async function B(){t(6,h=[]),t(5,m=!0);const ye=(Be,Ye="info")=>{t(6,h=[...h,{message:Be,type:Ye,time:new Date}])};try{const Be=new URLSearchParams({project:p.project||"",environment:p.environment||"",service_name:p.service_name||p.service||""}).toString();ye("Starting rollback...");let Ye=!1,Ke="";const Xe={deployment_id:d};if(W&&H.length>0&&(Xe.server_ips=H,ye(`Partial rollback to ${H.length} available server(s)`)),await bc("POST",`/infra/deployments/rollback?${Be}`,Xe,Ge=>{Ge.type==="progress"||Ge.type==="start"?ye(Ge.message,"info"):Ge.type==="server_complete"?ye(`✅ ${Ge.ip}: Success`,"success"):Ge.type==="error"?(ye(`❌ ${Ge.message||Ge.error}`,"error"),Ke=Ge.message||Ge.error||"Unknown error"):Ge.type==="complete"&&(Ye=Ge.success,Ye?ye(`✅ ${Ge.message}`,"success"):(Ke=Ge.message||"Rollback failed",ye(`❌ ${Ke}`,"error")))}),Ye)$e.success("Rollback completed successfully"),await Q();else throw new Error(Ke||"Rollback failed")}catch(Be){ye(`❌ Error: ${Be.message||String(Be)}`,"error"),$e.error("Rollback failed: "+(Be.message||String(Be)))}finally{t(5,m=!1),W=!1,H=[]}}function Q(){Ol.refresh()}function te(){Ol.refresh()}const G=[[]],K=()=>Ol.refresh(),x=ye=>U(ye),de=ye=>V(ye),he=ye=>A(ye),oe=()=>{t(1,c=!1),t(6,h=[])};function X(){d=this.__value,t(4,d)}function pe(ye){c=ye,t(1,c)}const be=()=>t(1,c=!1),ce=()=>t(13,D=!1);function Y(ye){D=ye,t(13,D)}const se=()=>t(13,D=!1),Se=()=>t(15,E=!1);function ge(ye){E=ye,t(15,E)}const He=()=>t(15,E=!1),jt=()=>{t(7,v=!1),t(12,T=null)};function ct(ye){v=ye,t(7,v)}const ht=()=>{t(7,v=!1),t(12,T=null)};return l.$$.update=()=>{l.$$.dirty[1]&2&&t(30,n=o||{loading:!1}),l.$$.dirty[0]&1073741824&&t(0,a=n.loading),l.$$.dirty[0]&1073741824&&t(20,s=n.lastFetched),l.$$.dirty[0]&1073741824&&n.data&&t(29,O=Vp(n.data)),l.$$.dirty[0]&536870912|l.$$.dirty[1]&1&&t(19,I=Wp(O,i))},[a,c,p,f,d,m,h,v,g,C,y,w,T,D,q,E,S,L,F,I,s,U,Z,V,A,P,M,J,te,O,n,i,o,K,x,de,he,oe,X,G,pe,be,ce,Y,se,Se,ge,He,jt,ct,ht]}class Kp extends qt{constructor(e){super(),Dt(this,e,Jp,Gp,yt,{refresh:28},null,[-1,-1,-1])}get refresh(){return this.$$.ctx[28]}}function ur(l,e,t){var i,o,a;const n=l.slice();n[22]=e[t];const s=n[22].ip||((a=(o=(i=n[22].networks)==null?void 0:i.v4)==null?void 0:o[0])==null?void 0:a.ip_address);return n[23]=s,n}function fr(l,e,t){const n=l.slice();return n[26]=e[t],n}function pr(l,e,t){const n=l.slice();return n[29]=e[t],n}function _r(l){let e,t=l[29].label+"",n;return{c(){e=_("option"),n=z(t),e.__value=l[29].value,ne(e,e.__value)},m(s,i){$(s,e,i),r(e,n)},p:ve,d(s){s&&k(e)}}}function dr(l){let e,t=l[26].charAt(0).toUpperCase()+l[26].slice(1)+"",n;return{c(){e=_("option"),n=z(t),e.__value=l[26],ne(e,e.__value)},m(s,i){$(s,e,i),r(e,n)},p:ve,d(s){s&&k(e)}}}function mr(l){let e,t=(l[22].name||"unnamed")+"",n,s,i=l[23]+"",o,a,c;return{c(){e=_("option"),n=z(t),s=z(" ("),o=z(i),a=z(")"),e.__value=c=l[23],ne(e,e.__value)},m(p,f){$(p,e,f),r(e,n),r(e,s),r(e,o),r(e,a)},p(p,f){f[0]&64&&t!==(t=(p[22].name||"unnamed")+"")&&j(n,t),f[0]&64&&i!==(i=p[23]+"")&&j(o,i),f[0]&64&&c!==(c=p[23])&&(e.__value=c,ne(e,e.__value))},d(p){p&&k(e)}}}function vr(l){let e,t=l[23]&&mr(l);return{c(){t&&t.c(),e=Ie()},m(n,s){t&&t.m(n,s),$(n,e,s)},p(n,s){n[23]?t?t.p(n,s):(t=mr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&k(e),t&&t.d(n)}}}function Yp(l){let e;return{c(){e=z("🚀 Deploy Service")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Qp(l){let e;return{c(){e=z("Deploying...")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Zp(l){let e;function t(i,o){return i[4]?Qp:Yp}let n=t(l),s=n(l);return{c(){s.c(),e=Ie()},m(i,o){s.m(i,o),$(i,e,o)},p(i,o){n!==(n=t(i))&&(s.d(1),s=n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&k(e),s.d(i)}}}function Xp(l){let e,t,n,s,i,o,a,c,p,f,d,m,h,v,g,C,y,w,T,D,q,E,S,L,F,O,I,U,Z,V,A,P=_e(l[7]),M=[];for(let Q=0;Q<P.length;Q+=1)M[Q]=_r(pr(l,P,Q));let W=_e(l[8]),H=[];for(let Q=0;Q<W.length;Q+=1)H[Q]=dr(fr(l,W,Q));let J=_e(l[6]||[]),B=[];for(let Q=0;Q<J.length;Q+=1)B[Q]=vr(ur(l,J,Q));return U=new Oe({props:{variant:"primary",type:"submit",disabled:l[4],$$slots:{default:[Zp]},$$scope:{ctx:l}}}),{c(){e=_("p"),e.textContent="Deploy stateful services with automatic configuration, persistence, and service mesh.",t=b(),n=_("form"),s=_("div"),i=_("label"),i.textContent="Service Type *",o=b(),a=_("select"),c=_("option"),c.textContent="Select service...";for(let Q=0;Q<M.length;Q+=1)M[Q].c();p=b(),f=_("div"),d=_("label"),d.textContent="Project *",m=b(),h=_("input"),v=b(),g=_("div"),C=_("label"),C.textContent="Environment",y=b(),w=_("select");for(let Q=0;Q<H.length;Q+=1)H[Q].c();T=b(),D=_("div"),q=_("label"),q.textContent="Target Server *",E=b(),S=_("select"),L=_("option"),L.textContent="Select server...";for(let Q=0;Q<B.length;Q+=1)B[Q].c();F=b(),O=_("small"),O.textContent="Servers from Infrastructure tab",I=b(),ae(U.$$.fragment),u(e,"class","description svelte-2vlpp7"),u(i,"for","svc-type"),u(i,"class","svelte-2vlpp7"),c.__value="",ne(c,c.__value),u(a,"id","svc-type"),a.required=!0,u(a,"class","svelte-2vlpp7"),l[0]===void 0&&Ze(()=>l[11].call(a)),u(s,"class","form-group svelte-2vlpp7"),u(d,"for","svc-project"),u(d,"class","svelte-2vlpp7"),u(h,"id","svc-project"),u(h,"type","text"),u(h,"placeholder","myapp"),h.required=!0,u(h,"class","svelte-2vlpp7"),u(f,"class","form-group svelte-2vlpp7"),u(C,"for","svc-env"),u(C,"class","svelte-2vlpp7"),u(w,"id","svc-env"),u(w,"class","svelte-2vlpp7"),l[2]===void 0&&Ze(()=>l[13].call(w)),u(g,"class","form-group svelte-2vlpp7"),u(q,"for","svc-server"),u(q,"class","svelte-2vlpp7"),L.__value="",ne(L,L.__value),u(S,"id","svc-server"),S.required=!0,u(S,"class","svelte-2vlpp7"),l[3]===void 0&&Ze(()=>l[14].call(S)),u(O,"class","svelte-2vlpp7"),u(D,"class","form-group svelte-2vlpp7")},m(Q,te){$(Q,e,te),$(Q,t,te),$(Q,n,te),r(n,s),r(s,i),r(s,o),r(s,a),r(a,c);for(let G=0;G<M.length;G+=1)M[G]&&M[G].m(a,null);Ee(a,l[0],!0),r(n,p),r(n,f),r(f,d),r(f,m),r(f,h),ne(h,l[1]),r(n,v),r(n,g),r(g,C),r(g,y),r(g,w);for(let G=0;G<H.length;G+=1)H[G]&&H[G].m(w,null);Ee(w,l[2],!0),r(n,T),r(n,D),r(D,q),r(D,E),r(D,S),r(S,L);for(let G=0;G<B.length;G+=1)B[G]&&B[G].m(S,null);Ee(S,l[3],!0),r(D,F),r(D,O),r(n,I),ie(U,n,null),Z=!0,V||(A=[ee(a,"change",l[11]),ee(h,"input",l[12]),ee(w,"change",l[13]),ee(S,"change",l[14]),ee(n,"submit",l[9])],V=!0)},p(Q,te){if(te[0]&128){P=_e(Q[7]);let K;for(K=0;K<P.length;K+=1){const x=pr(Q,P,K);M[K]?M[K].p(x,te):(M[K]=_r(x),M[K].c(),M[K].m(a,null))}for(;K<M.length;K+=1)M[K].d(1);M.length=P.length}if(te[0]&129&&Ee(a,Q[0]),te[0]&2&&h.value!==Q[1]&&ne(h,Q[1]),te[0]&256){W=_e(Q[8]);let K;for(K=0;K<W.length;K+=1){const x=fr(Q,W,K);H[K]?H[K].p(x,te):(H[K]=dr(x),H[K].c(),H[K].m(w,null))}for(;K<H.length;K+=1)H[K].d(1);H.length=W.length}if(te[0]&260&&Ee(w,Q[2]),te[0]&64){J=_e(Q[6]||[]);let K;for(K=0;K<J.length;K+=1){const x=ur(Q,J,K);B[K]?B[K].p(x,te):(B[K]=vr(x),B[K].c(),B[K].m(S,null))}for(;K<B.length;K+=1)B[K].d(1);B.length=J.length}te[0]&72&&Ee(S,Q[3]);const G={};te[0]&16&&(G.disabled=Q[4]),te[0]&16|te[1]&2&&(G.$$scope={dirty:te,ctx:Q}),U.$set(G)},i(Q){Z||(N(U.$$.fragment,Q),Z=!0)},o(Q){R(U.$$.fragment,Q),Z=!1},d(Q){Q&&(k(e),k(t),k(n)),Pe(M,Q),Pe(H,Q),Pe(B,Q),re(U),V=!1,Fe(A)}}}function xp(l){let e;return{c(){e=_("div"),e.innerHTML='<div class="empty-icon svelte-2vlpp7">🗄️</div> <div>Deploy a service to see connection details</div>',u(e,"class","empty-result svelte-2vlpp7")},m(t,n){$(t,e,n)},p:ve,d(t){t&&k(e)}}}function e_(l){let e,t,n,s,i,o=l[5].service_type+"",a,c,p,f,d,m,h,v,g=(l[5].host||"localhost")+"",C,y,w,T,D,q,E=l[5].port+"",S,L,F,O,I,U,Z,V,A,P=l[5].database&&hr(l),M=l[5].username&&gr(l),W=l[5].password&&br(l),H=l[5].connection_url&&kr(l);return{c(){e=_("div"),t=_("div"),n=_("span"),n.textContent="✅",s=b(),i=_("span"),a=z(o),c=z(" deployed"),p=b(),f=_("div"),d=_("div"),m=_("span"),m.textContent="Host:",h=b(),v=_("code"),C=z(g),y=b(),w=_("div"),T=_("span"),T.textContent="Port:",D=b(),q=_("code"),S=z(E),L=b(),P&&P.c(),F=b(),M&&M.c(),O=b(),W&&W.c(),I=b(),H&&H.c(),U=b(),Z=_("small"),Z.textContent="Click any value to copy",u(n,"class","result-icon svelte-2vlpp7"),u(i,"class","result-title svelte-2vlpp7"),u(t,"class","result-header svelte-2vlpp7"),u(m,"class","label svelte-2vlpp7"),u(v,"class","value clickable svelte-2vlpp7"),u(d,"class","info-row svelte-2vlpp7"),u(T,"class","label svelte-2vlpp7"),u(q,"class","value clickable svelte-2vlpp7"),u(w,"class","info-row svelte-2vlpp7"),u(f,"class","connection-info svelte-2vlpp7"),u(Z,"class","copy-hint svelte-2vlpp7"),u(e,"class","result-content svelte-2vlpp7")},m(J,B){$(J,e,B),r(e,t),r(t,n),r(t,s),r(t,i),r(i,a),r(i,c),r(e,p),r(e,f),r(f,d),r(d,m),r(d,h),r(d,v),r(v,C),r(f,y),r(f,w),r(w,T),r(w,D),r(w,q),r(q,S),r(f,L),P&&P.m(f,null),r(f,F),M&&M.m(f,null),r(f,O),W&&W.m(f,null),r(f,I),H&&H.m(f,null),r(e,U),r(e,Z),V||(A=[ee(v,"click",l[15]),ee(q,"click",l[16])],V=!0)},p(J,B){B[0]&32&&o!==(o=J[5].service_type+"")&&j(a,o),B[0]&32&&g!==(g=(J[5].host||"localhost")+"")&&j(C,g),B[0]&32&&E!==(E=J[5].port+"")&&j(S,E),J[5].database?P?P.p(J,B):(P=hr(J),P.c(),P.m(f,F)):P&&(P.d(1),P=null),J[5].username?M?M.p(J,B):(M=gr(J),M.c(),M.m(f,O)):M&&(M.d(1),M=null),J[5].password?W?W.p(J,B):(W=br(J),W.c(),W.m(f,I)):W&&(W.d(1),W=null),J[5].connection_url?H?H.p(J,B):(H=kr(J),H.c(),H.m(f,null)):H&&(H.d(1),H=null)},d(J){J&&k(e),P&&P.d(),M&&M.d(),W&&W.d(),H&&H.d(),V=!1,Fe(A)}}}function hr(l){let e,t,n,s,i=l[5].database+"",o,a,c;return{c(){e=_("div"),t=_("span"),t.textContent="Database:",n=b(),s=_("code"),o=z(i),u(t,"class","label svelte-2vlpp7"),u(s,"class","value clickable svelte-2vlpp7"),u(e,"class","info-row svelte-2vlpp7")},m(p,f){$(p,e,f),r(e,t),r(e,n),r(e,s),r(s,o),a||(c=ee(s,"click",l[17]),a=!0)},p(p,f){f[0]&32&&i!==(i=p[5].database+"")&&j(o,i)},d(p){p&&k(e),a=!1,c()}}}function gr(l){let e,t,n,s,i=l[5].username+"",o,a,c;return{c(){e=_("div"),t=_("span"),t.textContent="Username:",n=b(),s=_("code"),o=z(i),u(t,"class","label svelte-2vlpp7"),u(s,"class","value clickable svelte-2vlpp7"),u(e,"class","info-row svelte-2vlpp7")},m(p,f){$(p,e,f),r(e,t),r(e,n),r(e,s),r(s,o),a||(c=ee(s,"click",l[18]),a=!0)},p(p,f){f[0]&32&&i!==(i=p[5].username+"")&&j(o,i)},d(p){p&&k(e),a=!1,c()}}}function br(l){let e,t,n,s,i=l[5].password+"",o,a,c;return{c(){e=_("div"),t=_("span"),t.textContent="Password:",n=b(),s=_("code"),o=z(i),u(t,"class","label svelte-2vlpp7"),u(s,"class","value clickable svelte-2vlpp7"),u(e,"class","info-row svelte-2vlpp7")},m(p,f){$(p,e,f),r(e,t),r(e,n),r(e,s),r(s,o),a||(c=ee(s,"click",l[19]),a=!0)},p(p,f){f[0]&32&&i!==(i=p[5].password+"")&&j(o,i)},d(p){p&&k(e),a=!1,c()}}}function kr(l){let e,t,n,s,i=l[5].connection_url+"",o,a,c;return{c(){e=_("div"),t=_("span"),t.textContent="Connection URL:",n=b(),s=_("code"),o=z(i),u(t,"class","label svelte-2vlpp7"),u(s,"class","value url clickable svelte-2vlpp7"),u(e,"class","info-row full-width svelte-2vlpp7")},m(p,f){$(p,e,f),r(e,t),r(e,n),r(e,s),r(s,o),a||(c=ee(s,"click",l[20]),a=!0)},p(p,f){f[0]&32&&i!==(i=p[5].connection_url+"")&&j(o,i)},d(p){p&&k(e),a=!1,c()}}}function t_(l){let e;function t(i,o){return i[5]?e_:xp}let n=t(l),s=n(l);return{c(){s.c(),e=Ie()},m(i,o){s.m(i,o),$(i,e,o)},p(i,o){n===(n=t(i))&&s?s.p(i,o):(s.d(1),s=n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&k(e),s.d(i)}}}function l_(l){let e;return{c(){e=_("div"),e.innerHTML='<div class="feature svelte-2vlpp7"><strong class="svelte-2vlpp7">🔐 Auto Credentials</strong> <p class="svelte-2vlpp7">Deterministic passwords generated from project/env. Same inputs = same password.</p></div> <div class="feature svelte-2vlpp7"><strong class="svelte-2vlpp7">💾 Persistent Storage</strong> <p class="svelte-2vlpp7">Data volumes mounted at /data. Survives container restarts and redeploys.</p></div> <div class="feature svelte-2vlpp7"><strong class="svelte-2vlpp7">🔀 Service Mesh</strong> <p class="svelte-2vlpp7">Nginx proxy on internal ports. Apps connect to localhost:PORT.</p></div> <div class="feature svelte-2vlpp7"><strong class="svelte-2vlpp7">🔧 Auto-Inject</strong> <p class="svelte-2vlpp7">Enable &quot;Auto-inject&quot; in Deploy tab to get DATABASE_URL automatically.</p></div>',u(e,"class","features-grid svelte-2vlpp7")},m(t,n){$(t,e,n)},p:ve,d(t){t&&k(e)}}}function n_(l){let e,t,n,s,i,o,a,c;return n=new st({props:{title:"🗄️ Deploy Database/Cache",$$slots:{default:[Xp]},$$scope:{ctx:l}}}),i=new st({props:{title:"📋 Deployment Result",$$slots:{default:[t_]},$$scope:{ctx:l}}}),a=new st({props:{title:"ℹ️ How It Works",$$slots:{default:[l_]},$$scope:{ctx:l}}}),{c(){e=_("div"),t=_("div"),ae(n.$$.fragment),s=b(),ae(i.$$.fragment),o=b(),ae(a.$$.fragment),u(t,"class","services-grid svelte-2vlpp7"),u(e,"class","services-page svelte-2vlpp7")},m(p,f){$(p,e,f),r(e,t),ie(n,t,null),r(t,s),ie(i,t,null),r(e,o),ie(a,e,null),c=!0},p(p,f){const d={};f[0]&95|f[1]&2&&(d.$$scope={dirty:f,ctx:p}),n.$set(d);const m={};f[0]&32|f[1]&2&&(m.$$scope={dirty:f,ctx:p}),i.$set(m);const h={};f[1]&2&&(h.$$scope={dirty:f,ctx:p}),a.$set(h)},i(p){c||(N(n.$$.fragment,p),N(i.$$.fragment,p),N(a.$$.fragment,p),c=!0)},o(p){R(n.$$.fragment,p),R(i.$$.fragment,p),R(a.$$.fragment,p),c=!1},d(p){p&&k(e),re(n),re(i),re(a)}}}function s_(l,e,t){let n;at(l,tn,F=>t(6,n=F));let s="",i="",o="prod",a="",c=!1,p=null;const f=[{value:"postgres",label:"🐘 PostgreSQL",port:5432},{value:"redis",label:"⚡ Redis",port:6379},{value:"mysql",label:"🐬 MySQL",port:3306},{value:"mongo",label:"🍃 MongoDB",port:27017}],d=["prod","staging","dev"];Yl(()=>{m()});async function m(){try{const F=await Me("GET","/infra/servers");tn.set(F.servers||F||[])}catch(F){console.error("Failed to load servers:",F)}}async function h(F){if(F.preventDefault(),!s||!i||!a){$e.error("Please fill in all required fields");return}t(4,c=!0),t(5,p=null);try{$e.error("Service deployment not yet implemented. Use Deploy tab instead.");return}catch(O){$e.error("Deployment failed: "+O.message)}finally{t(4,c=!1)}}function v(F){navigator.clipboard.writeText(F),$e.success("Copied to clipboard")}function g(){s=ft(this),t(0,s),t(7,f)}function C(){i=this.value,t(1,i)}function y(){o=ft(this),t(2,o),t(8,d)}function w(){a=ft(this),t(3,a)}return[s,i,o,a,c,p,n,f,d,h,v,g,C,y,w,()=>v(p.host||"localhost"),()=>v(String(p.port)),()=>v(p.database),()=>v(p.username),()=>v(p.password),()=>v(p.connection_url)]}class o_ extends qt{constructor(e){super(),Dt(this,e,s_,n_,yt,{},null,[-1,-1])}}const{Boolean:i_}=ma;function $r(l,e,t){const n=l.slice();return n[32]=e[t],n}function r_(l){let e,t,n,s,i,o,a,c,p,f;return{c(){e=_("div"),t=_("label"),t.textContent="Theme",n=b(),s=_("select"),i=_("option"),i.textContent="🌙 Dark (Space)",o=_("option"),o.textContent="☀️ Light",a=b(),c=_("p"),c.textContent="Theme preference is saved to your browser.",u(t,"for","theme-select"),u(t,"class","svelte-16vnl3x"),i.__value="dark",ne(i,i.__value),o.__value="light",ne(o,o.__value),u(s,"id","theme-select"),u(s,"class","svelte-16vnl3x"),l[14]===void 0&&Ze(()=>l[21].call(s)),u(e,"class","form-group svelte-16vnl3x"),u(c,"class","hint svelte-16vnl3x")},m(d,m){$(d,e,m),r(e,t),r(e,n),r(e,s),r(s,i),r(s,o),Ee(s,l[14],!0),$(d,a,m),$(d,c,m),p||(f=[ee(s,"change",l[21]),ee(s,"change",l[22])],p=!0)},p(d,m){m[0]&16384&&Ee(s,d[14])},d(d){d&&(k(e),k(a),k(c)),p=!1,Fe(f)}}}function a_(l){let e;return{c(){e=z("Save Token")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function c_(l){let e,t;return e=new Je({props:{variant:"danger",$$slots:{default:[p_]},$$scope:{ctx:l}}}),{c(){ae(e.$$.fragment)},m(n,s){ie(e,n,s),t=!0},p(n,s){const i={};s[1]&16&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){re(e,n)}}}function u_(l){let e,t;return e=new Je({props:{variant:"warning",$$slots:{default:[__]},$$scope:{ctx:l}}}),{c(){ae(e.$$.fragment)},m(n,s){ie(e,n,s),t=!0},p(n,s){const i={};s[1]&16&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){re(e,n)}}}function f_(l){let e,t,n,s,i;return e=new Je({props:{variant:"success",$$slots:{default:[d_]},$$scope:{ctx:l}}}),{c(){ae(e.$$.fragment),t=b(),n=_("span"),s=z(l[0]),u(n,"class","token-preview svelte-16vnl3x")},m(o,a){ie(e,o,a),$(o,t,a),$(o,n,a),r(n,s),i=!0},p(o,a){const c={};a[1]&16&&(c.$$scope={dirty:a,ctx:o}),e.$set(c),(!i||a[0]&1)&&j(s,o[0])},i(o){i||(N(e.$$.fragment,o),i=!0)},o(o){R(e.$$.fragment,o),i=!1},d(o){o&&(k(t),k(n)),re(e,o)}}}function p_(l){let e;return{c(){e=z("Invalid token")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function __(l){let e;return{c(){e=z("Not configured")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function d_(l){let e;return{c(){e=z("✓ Connected")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function m_(l){let e,t,n,s,i,o,a,c,p,f,d,m,h,v,g;c=new Oe({props:{variant:"primary",type:"submit",$$slots:{default:[a_]},$$scope:{ctx:l}}});const C=[f_,u_,c_],y=[];function w(T,D){var q,E;return(q=T[1])!=null&&q.valid?0:(E=T[1])!=null&&E.missing?1:2}return d=w(l),m=y[d]=C[d](l),{c(){e=_("p"),e.innerHTML=`Get your token from 
      <a href="https://cloud.digitalocean.com/account/api/tokens" target="_blank" class="svelte-16vnl3x">DO Control Panel</a>.`,t=b(),n=_("div"),n.innerHTML='<div class="info-title svelte-16vnl3x">🔒 Browser Storage</div> <div class="info-text svelte-16vnl3x">Token stored in browser cookie. Passed with each API request. Never stored on server.</div>',s=b(),i=_("form"),o=_("div"),o.innerHTML='<label for="do-token" class="svelte-16vnl3x">DigitalOcean API Token</label> <input id="do-token" type="password" placeholder="dop_v1_xxxxx" class="svelte-16vnl3x"/>',a=b(),ae(c.$$.fragment),p=b(),f=_("div"),m.c(),u(e,"class","description svelte-16vnl3x"),u(n,"class","info-box svelte-16vnl3x"),u(o,"class","form-group svelte-16vnl3x"),u(f,"class","token-status svelte-16vnl3x")},m(T,D){$(T,e,D),$(T,t,D),$(T,n,D),$(T,s,D),$(T,i,D),r(i,o),r(i,a),ie(c,i,null),$(T,p,D),$(T,f,D),y[d].m(f,null),h=!0,v||(g=ee(i,"submit",l[15]),v=!0)},p(T,D){const q={};D[1]&16&&(q.$$scope={dirty:D,ctx:T}),c.$set(q);let E=d;d=w(T),d===E?y[d].p(T,D):(Te(),R(y[E],1,1,()=>{y[E]=null}),De(),m=y[d],m?m.p(T,D):(m=y[d]=C[d](T),m.c()),N(m,1),m.m(f,null))},i(T){h||(N(c.$$.fragment,T),N(m),h=!0)},o(T){R(c.$$.fragment,T),R(m),h=!1},d(T){T&&(k(e),k(t),k(n),k(s),k(i),k(p),k(f)),re(c),y[d].d(),v=!1,g()}}}function v_(l){let e;return{c(){e=z("Save Token")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function h_(l){let e,t;return e=new Je({props:{variant:"warning",$$slots:{default:[b_]},$$scope:{ctx:l}}}),{c(){ae(e.$$.fragment)},m(n,s){ie(e,n,s),t=!0},p(n,s){const i={};s[1]&16&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){re(e,n)}}}function g_(l){let e,t,n,s,i;return e=new Je({props:{variant:"success",$$slots:{default:[k_]},$$scope:{ctx:l}}}),{c(){ae(e.$$.fragment),t=b(),n=_("span"),s=z(l[2]),u(n,"class","token-preview svelte-16vnl3x")},m(o,a){ie(e,o,a),$(o,t,a),$(o,n,a),r(n,s),i=!0},p(o,a){const c={};a[1]&16&&(c.$$scope={dirty:a,ctx:o}),e.$set(c),(!i||a[0]&4)&&j(s,o[2])},i(o){i||(N(e.$$.fragment,o),i=!0)},o(o){R(e.$$.fragment,o),i=!1},d(o){o&&(k(t),k(n)),re(e,o)}}}function b_(l){let e;return{c(){e=z("Not configured")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function k_(l){let e;return{c(){e=z("✓ Connected")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function $_(l){let e,t,n,s,i,o,a,c,p,f,d,m,h;o=new Oe({props:{variant:"primary",type:"submit",$$slots:{default:[v_]},$$scope:{ctx:l}}});const v=[g_,h_],g=[];function C(y,w){var T;return(T=y[3])!=null&&T.valid?0:1}return p=C(l),f=g[p]=v[p](l),{c(){e=_("p"),e.innerHTML=`Get your token from 
      <a href="https://dash.cloudflare.com/profile/api-tokens" target="_blank" class="svelte-16vnl3x">Cloudflare Dashboard</a>.`,t=b(),n=_("form"),s=_("div"),s.innerHTML='<label for="cf-token" class="svelte-16vnl3x">Cloudflare API Token</label> <input id="cf-token" type="password" placeholder="xxxxx" class="svelte-16vnl3x"/>',i=b(),ae(o.$$.fragment),a=b(),c=_("div"),f.c(),u(e,"class","description svelte-16vnl3x"),u(s,"class","form-group svelte-16vnl3x"),u(c,"class","token-status svelte-16vnl3x")},m(y,w){$(y,e,w),$(y,t,w),$(y,n,w),r(n,s),r(n,i),ie(o,n,null),$(y,a,w),$(y,c,w),g[p].m(c,null),d=!0,m||(h=ee(n,"submit",l[16]),m=!0)},p(y,w){const T={};w[1]&16&&(T.$$scope={dirty:w,ctx:y}),o.$set(T);let D=p;p=C(y),p===D?g[p].p(y,w):(Te(),R(g[D],1,1,()=>{g[D]=null}),De(),f=g[p],f?f.p(y,w):(f=g[p]=v[p](y),f.c()),N(f,1),f.m(c,null))},i(y){d||(N(o.$$.fragment,y),N(f),d=!0)},o(y){R(o.$$.fragment,y),R(f),d=!1},d(y){y&&(k(e),k(t),k(n),k(a),k(c)),re(o),g[p].d(),m=!1,h()}}}function w_(l){let e;return{c(){e=z("Setup Domain")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function wr(l){let e,t=l[7].message+"",n;return{c(){e=_("div"),n=z(t),u(e,"class","result svelte-16vnl3x"),we(e,"success",l[7].success),we(e,"error",!l[7].success)},m(s,i){$(s,e,i),r(e,n)},p(s,i){i[0]&128&&t!==(t=s[7].message+"")&&j(n,t),i[0]&128&&we(e,"success",s[7].success),i[0]&128&&we(e,"error",!s[7].success)},d(s){s&&k(e)}}}function y_(l){let e,t,n,s,i,o,a,c,p,f,d,m,h,v,g,C,y,w,T,D,q,E,S,L;T=new Oe({props:{variant:"primary",type:"submit",$$slots:{default:[w_]},$$scope:{ctx:l}}});let F=l[7]&&wr(l);return{c(){e=_("p"),e.textContent='Point a domain to your server. With "Proxied" enabled, HTTPS works automatically.',t=b(),n=_("form"),s=_("div"),i=_("label"),i.textContent="Domain",o=b(),a=_("input"),c=b(),p=_("div"),f=_("label"),f.textContent="Server IP",d=b(),m=_("input"),h=b(),v=_("label"),g=_("input"),C=z(`
        Proxied (Cloudflare handles SSL)`),y=b(),w=_("div"),ae(T.$$.fragment),D=b(),F&&F.c(),q=Ie(),u(e,"class","description svelte-16vnl3x"),u(i,"for","domain-name"),u(i,"class","svelte-16vnl3x"),u(a,"id","domain-name"),u(a,"type","text"),u(a,"placeholder","api.example.com"),a.required=!0,u(a,"class","svelte-16vnl3x"),u(s,"class","form-group svelte-16vnl3x"),u(f,"for","domain-ip"),u(f,"class","svelte-16vnl3x"),u(m,"id","domain-ip"),u(m,"type","text"),u(m,"placeholder","1.2.3.4"),m.required=!0,u(m,"class","svelte-16vnl3x"),u(p,"class","form-group svelte-16vnl3x"),u(g,"type","checkbox"),u(g,"class","svelte-16vnl3x"),u(v,"class","checkbox-label svelte-16vnl3x"),u(w,"class","form-actions svelte-16vnl3x")},m(O,I){$(O,e,I),$(O,t,I),$(O,n,I),r(n,s),r(s,i),r(s,o),r(s,a),ne(a,l[4]),r(n,c),r(n,p),r(p,f),r(p,d),r(p,m),ne(m,l[5]),r(n,h),r(n,v),r(v,g),g.checked=l[6],r(v,C),r(n,y),r(n,w),ie(T,w,null),$(O,D,I),F&&F.m(O,I),$(O,q,I),E=!0,S||(L=[ee(a,"input",l[23]),ee(m,"input",l[24]),ee(g,"change",l[25]),ee(n,"submit",l[17])],S=!0)},p(O,I){I[0]&16&&a.value!==O[4]&&ne(a,O[4]),I[0]&32&&m.value!==O[5]&&ne(m,O[5]),I[0]&64&&(g.checked=O[6]);const U={};I[1]&16&&(U.$$scope={dirty:I,ctx:O}),T.$set(U),O[7]?F?F.p(O,I):(F=wr(O),F.c(),F.m(q.parentNode,q)):F&&(F.d(1),F=null)},i(O){E||(N(T.$$.fragment,O),E=!0)},o(O){R(T.$$.fragment,O),E=!1},d(O){O&&(k(e),k(t),k(n),k(D),k(q)),re(T),F&&F.d(O),S=!1,Fe(L)}}}function C_(l){let e;return{c(){e=z("Setup DNS Round-Robin")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function yr(l){let e,t=l[11].message+"",n;return{c(){e=_("div"),n=z(t),u(e,"class","result svelte-16vnl3x"),we(e,"success",l[11].success),we(e,"error",!l[11].success)},m(s,i){$(s,e,i),r(e,n)},p(s,i){i[0]&2048&&t!==(t=s[11].message+"")&&j(n,t),i[0]&2048&&we(e,"success",s[11].success),i[0]&2048&&we(e,"error",!s[11].success)},d(s){s&&k(e)}}}function S_(l){let e,t,n,s,i,o,a,c,p,f,d,m,h,v,g,C,y,w,T,D,q,E,S,L;T=new Oe({props:{variant:"primary",type:"submit",$$slots:{default:[C_]},$$scope:{ctx:l}}});let F=l[11]&&yr(l);return{c(){e=_("p"),e.innerHTML=`Simple load distribution via multiple A records. Cloudflare rotates between IPs at DNS level.
      <strong>FREE</strong>, but no health checks.`,t=b(),n=_("form"),s=_("div"),i=_("label"),i.textContent="Domain",o=b(),a=_("input"),c=b(),p=_("div"),f=_("label"),f.textContent="Server IPs (comma-separated)",d=b(),m=_("input"),h=b(),v=_("label"),g=_("input"),C=z(`
        Proxied (SSL + CDN)`),y=b(),w=_("div"),ae(T.$$.fragment),D=b(),F&&F.c(),q=Ie(),u(e,"class","description svelte-16vnl3x"),u(i,"for","lb-domain"),u(i,"class","svelte-16vnl3x"),u(a,"id","lb-domain"),u(a,"type","text"),u(a,"placeholder","api.example.com"),a.required=!0,u(a,"class","svelte-16vnl3x"),u(s,"class","form-group svelte-16vnl3x"),u(f,"for","lb-ips"),u(f,"class","svelte-16vnl3x"),u(m,"id","lb-ips"),u(m,"type","text"),u(m,"placeholder","1.2.3.4, 5.6.7.8"),m.required=!0,u(m,"class","svelte-16vnl3x"),u(p,"class","form-group svelte-16vnl3x"),u(g,"type","checkbox"),u(g,"class","svelte-16vnl3x"),u(v,"class","checkbox-label svelte-16vnl3x"),u(w,"class","form-actions svelte-16vnl3x")},m(O,I){$(O,e,I),$(O,t,I),$(O,n,I),r(n,s),r(s,i),r(s,o),r(s,a),ne(a,l[8]),r(n,c),r(n,p),r(p,f),r(p,d),r(p,m),ne(m,l[9]),r(n,h),r(n,v),r(v,g),g.checked=l[10],r(v,C),r(n,y),r(n,w),ie(T,w,null),$(O,D,I),F&&F.m(O,I),$(O,q,I),E=!0,S||(L=[ee(a,"input",l[26]),ee(m,"input",l[27]),ee(g,"change",l[28]),ee(n,"submit",l[18])],S=!0)},p(O,I){I[0]&256&&a.value!==O[8]&&ne(a,O[8]),I[0]&512&&m.value!==O[9]&&ne(m,O[9]),I[0]&1024&&(g.checked=O[10]);const U={};I[1]&16&&(U.$$scope={dirty:I,ctx:O}),T.$set(U),O[11]?F?F.p(O,I):(F=yr(O),F.c(),F.m(q.parentNode,q)):F&&(F.d(1),F=null)},i(O){E||(N(T.$$.fragment,O),E=!0)},o(O){R(T.$$.fragment,O),E=!1},d(O){O&&(k(e),k(t),k(n),k(D),k(q)),re(T),F&&F.d(O),S=!1,Fe(L)}}}function z_(l){let e,t,n=_e(l[12]),s=[];for(let o=0;o<n.length;o+=1)s[o]=Cr($r(l,n,o));const i=o=>R(s[o],1,1,()=>{s[o]=null});return{c(){e=_("div");for(let o=0;o<s.length;o+=1)s[o].c();u(e,"class","task-list svelte-16vnl3x")},m(o,a){$(o,e,a);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);t=!0},p(o,a){if(a[0]&1052672){n=_e(o[12]);let c;for(c=0;c<n.length;c+=1){const p=$r(o,n,c);s[c]?(s[c].p(p,a),N(s[c],1)):(s[c]=Cr(p),s[c].c(),N(s[c],1),s[c].m(e,null))}for(Te(),c=n.length;c<s.length;c+=1)i(c);De()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)N(s[a]);t=!0}},o(o){s=s.filter(i_);for(let a=0;a<s.length;a+=1)R(s[a]);t=!1},d(o){o&&k(e),Pe(s,o)}}}function T_(l){let e;return{c(){e=_("div"),e.textContent="No scheduled tasks",u(e,"class","empty-state svelte-16vnl3x")},m(t,n){$(t,e,n)},p:ve,i:ve,o:ve,d(t){t&&k(e)}}}function D_(l){let e;return{c(){e=_("div"),e.textContent="Loading tasks...",u(e,"class","empty-state svelte-16vnl3x")},m(t,n){$(t,e,n)},p:ve,i:ve,o:ve,d(t){t&&k(e)}}}function q_(l){let e=l[32].type+"",t;return{c(){t=z(e)},m(n,s){$(n,t,s)},p(n,s){s[0]&4096&&e!==(e=n[32].type+"")&&j(t,e)},d(n){n&&k(t)}}}function E_(l){let e;return{c(){e=z("🗑️")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Cr(l){let e,t,n,s=l[32].name+"",i,o,a,c,p,f,d,m=l[32].interval+"",h,v,g,C,y,w;c=new Je({props:{variant:"info",$$slots:{default:[q_]},$$scope:{ctx:l}}});function T(){return l[29](l[32])}return C=new Oe({props:{variant:"danger",size:"sm",$$slots:{default:[E_]},$$scope:{ctx:l}}}),C.$on("click",T),{c(){e=_("div"),t=_("div"),n=_("div"),i=z(s),o=b(),a=_("div"),ae(c.$$.fragment),p=b(),f=_("span"),d=z("Every "),h=z(m),v=z(" min"),g=b(),ae(C.$$.fragment),y=b(),u(n,"class","task-name svelte-16vnl3x"),u(a,"class","task-meta svelte-16vnl3x"),u(t,"class","task-info"),u(e,"class","task-item svelte-16vnl3x")},m(D,q){$(D,e,q),r(e,t),r(t,n),r(n,i),r(t,o),r(t,a),ie(c,a,null),r(a,p),r(a,f),r(f,d),r(f,h),r(f,v),r(e,g),ie(C,e,null),r(e,y),w=!0},p(D,q){l=D,(!w||q[0]&4096)&&s!==(s=l[32].name+"")&&j(i,s);const E={};q[0]&4096|q[1]&16&&(E.$$scope={dirty:q,ctx:l}),c.$set(E),(!w||q[0]&4096)&&m!==(m=l[32].interval+"")&&j(h,m);const S={};q[1]&16&&(S.$$scope={dirty:q,ctx:l}),C.$set(S)},i(D){w||(N(c.$$.fragment,D),N(C.$$.fragment,D),w=!0)},o(D){R(c.$$.fragment,D),R(C.$$.fragment,D),w=!1},d(D){D&&k(e),re(c),re(C)}}}function P_(l){let e,t,n,s,i,o;const a=[D_,T_,z_],c=[];function p(f,d){return f[13]?0:f[12].length===0?1:2}return n=p(l),s=c[n]=a[n](l),{c(){e=_("p"),e.textContent="Schedule recurring tasks like health checks, auto-restart, and backups.",t=b(),s.c(),i=Ie(),u(e,"class","description svelte-16vnl3x")},m(f,d){$(f,e,d),$(f,t,d),c[n].m(f,d),$(f,i,d),o=!0},p(f,d){let m=n;n=p(f),n===m?c[n].p(f,d):(Te(),R(c[m],1,1,()=>{c[m]=null}),De(),s=c[n],s?s.p(f,d):(s=c[n]=a[n](f),s.c()),N(s,1),s.m(i.parentNode,i))},i(f){o||(N(s),o=!0)},o(f){R(s),o=!1},d(f){f&&(k(e),k(t),k(i)),c[n].d(f)}}}function L_(l){let e;return{c(){e=z("↻ Refresh")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function N_(l){let e,t;return e=new Oe({props:{slot:"header",variant:"ghost",size:"sm",$$slots:{default:[L_]},$$scope:{ctx:l}}}),e.$on("click",l[19]),{c(){ae(e.$$.fragment)},m(n,s){ie(e,n,s),t=!0},p(n,s){const i={};s[1]&16&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){re(e,n)}}}function M_(l){let e,t,n,s,i,o,a,c,p,f,d,m,h;return t=new st({props:{title:"🎨 Appearance",$$slots:{default:[r_]},$$scope:{ctx:l}}}),s=new st({props:{title:"⚙️ DigitalOcean Credentials",$$slots:{default:[m_]},$$scope:{ctx:l}}}),o=new st({props:{title:"☁️ Cloudflare Credentials",$$slots:{default:[$_]},$$scope:{ctx:l}}}),c=new st({props:{title:"🌐 Domain Setup",$$slots:{default:[y_]},$$scope:{ctx:l}}}),f=new st({props:{title:"🌐 DNS Round-Robin (Cloudflare)",$$slots:{default:[S_]},$$scope:{ctx:l}}}),m=new st({props:{title:"⏰ Task Scheduler",$$slots:{header:[N_],default:[P_]},$$scope:{ctx:l}}}),{c(){e=_("div"),ae(t.$$.fragment),n=b(),ae(s.$$.fragment),i=b(),ae(o.$$.fragment),a=b(),ae(c.$$.fragment),p=b(),ae(f.$$.fragment),d=b(),ae(m.$$.fragment),u(e,"class","settings-page svelte-16vnl3x")},m(v,g){$(v,e,g),ie(t,e,null),r(e,n),ie(s,e,null),r(e,i),ie(o,e,null),r(e,a),ie(c,e,null),r(e,p),ie(f,e,null),r(e,d),ie(m,e,null),h=!0},p(v,g){const C={};g[0]&16384|g[1]&16&&(C.$$scope={dirty:g,ctx:v}),t.$set(C);const y={};g[0]&3|g[1]&16&&(y.$$scope={dirty:g,ctx:v}),s.$set(y);const w={};g[0]&12|g[1]&16&&(w.$$scope={dirty:g,ctx:v}),o.$set(w);const T={};g[0]&240|g[1]&16&&(T.$$scope={dirty:g,ctx:v}),c.$set(T);const D={};g[0]&3840|g[1]&16&&(D.$$scope={dirty:g,ctx:v}),f.$set(D);const q={};g[0]&12288|g[1]&16&&(q.$$scope={dirty:g,ctx:v}),m.$set(q)},i(v){h||(N(t.$$.fragment,v),N(s.$$.fragment,v),N(o.$$.fragment,v),N(c.$$.fragment,v),N(f.$$.fragment,v),N(m.$$.fragment,v),h=!0)},o(v){R(t.$$.fragment,v),R(s.$$.fragment,v),R(o.$$.fragment,v),R(c.$$.fragment,v),R(f.$$.fragment,v),R(m.$$.fragment,v),h=!1},d(v){v&&k(e),re(t),re(s),re(o),re(c),re(f),re(m)}}}function R_(l,e,t){let n;at(l,qn,H=>t(14,n=H));let s="",i=null,o="",a=null,c="",p="",f=!0,d=null,m="",h="",v=!0,g=null,C=[],y=!1;Yl(()=>{w(),T(),L()});async function w(){const H=hl();if(H){t(0,s=H.substring(0,10)+"...");try{await Me("GET","/infra/snapshots"),t(1,i={valid:!0})}catch{t(1,i={valid:!1})}}else t(1,i={valid:!1,missing:!0})}async function T(){const H=Ln();H?(t(2,o=H.substring(0,10)+"..."),t(3,a={valid:!0})):t(3,a={valid:!1,missing:!0})}async function D(H){H.preventDefault();const J=H.target.querySelector("input"),B=J.value;if(!B){$e.error("Token is required");return}vc(B),J.value="",$e.success("DigitalOcean token saved"),await w(),yl.refresh(),In.refresh(),zn.refresh(),Ol.refresh()}async function q(H){H.preventDefault();const J=H.target.querySelector("input"),B=J.value;if(!B){$e.error("Token is required");return}hc(B),J.value="",$e.success("Cloudflare token saved"),await T()}async function E(H){H.preventDefault();try{const J=await Me("POST","/infra/cloudflare/domain",{domain:c,ip:p,proxied:f});t(7,d={success:!0,message:"Domain configured successfully"}),$e.success("Domain setup complete")}catch(J){t(7,d={success:!1,message:J.message}),$e.error(J.message)}}async function S(H){H.preventDefault();try{const J=h.split(",").map(Q=>Q.trim()).filter(Boolean),B=await Me("POST","/infra/cloudflare/lb",{domain:m,server_ips:J,proxied:v});t(11,g={success:!0,message:`Created load balancer with ${J.length} servers`}),$e.success("Load balancer configured")}catch(J){t(11,g={success:!1,message:J.message}),$e.error(J.message)}}async function L(){t(13,y=!0);try{const H=await Me("GET","/infra/scheduler/tasks");t(12,C=H.tasks||H||[])}catch{t(12,C=[])}finally{t(13,y=!1)}}async function F(H){if(confirm("Delete this scheduled task?"))try{await Me("DELETE",`/infra/scheduler/tasks/${H}`),$e.success("Task deleted"),await L()}catch(J){$e.error(J.message)}}function O(){n=ft(this),qn.set(n)}const I=()=>qn.set(n);function U(){c=this.value,t(4,c)}function Z(){p=this.value,t(5,p)}function V(){f=this.checked,t(6,f)}function A(){m=this.value,t(8,m)}function P(){h=this.value,t(9,h)}function M(){v=this.checked,t(10,v)}return[s,i,o,a,c,p,f,d,m,h,v,g,C,y,n,D,q,E,S,L,F,O,I,U,Z,V,A,P,M,H=>F(H.id)]}class A_ extends qt{constructor(e){super(),Dt(this,e,R_,M_,yt,{},null,[-1,-1])}}function Sr(l,e,t){const n=l.slice();n[21]=e[t];const s=n[1].filter(function(...c){return l[17](n[21],...c)});n[22]=s;const i=n[21].domain;n[23]=i;const o=n[22].length>1;return n[24]=o,n}function zr(l,e,t){const n=l.slice();return n[27]=e[t],n}function Tr(l,e,t){const n=l.slice();return n[21]=e[t],n}function Dr(l,e,t){const n=l.slice();return n[32]=e[t],n}function O_(l){let e,t,n,s,i,o,a,c,p,f,d,m,h,v,g,C,y,w,T=l[1].length+"",D,q,E,S,L,F,O,I,U=l[7].length+"",Z,V,A,P;const M=[U_,B_],W=[];function H(J,B){return J[11]?1:0}return m=H(l),h=W[m]=M[m](l),{c(){e=_("div"),t=_("div"),n=_("div"),n.innerHTML='<span class="summary-icon svelte-odhywp">🔀</span> <span>Nginx Sidecar</span>',s=b(),i=_("div"),o=z(l[3]),a=z("/"),c=z(l[2]),p=b(),f=_("div"),f.textContent="servers with nginx",d=b(),h.c(),v=b(),g=_("div"),C=_("div"),C.innerHTML='<span class="summary-icon svelte-odhywp">🤖</span> <span>Node Agents</span>',y=b(),w=_("div"),D=z(T),q=b(),E=_("div"),E.textContent="servers monitored",S=b(),L=_("div"),F=_("div"),F.innerHTML='<span class="summary-icon svelte-odhywp">📦</span> <span>Services</span>',O=b(),I=_("div"),Z=z(U),V=b(),A=_("div"),A.textContent="deployed services",u(n,"class","summary-header svelte-odhywp"),u(i,"class","summary-value svelte-odhywp"),u(f,"class","summary-label svelte-odhywp"),u(t,"class","summary-card svelte-odhywp"),we(t,"ok",l[11]),we(t,"warn",!l[11]),u(C,"class","summary-header svelte-odhywp"),u(w,"class","summary-value svelte-odhywp"),u(E,"class","summary-label svelte-odhywp"),u(g,"class","summary-card info svelte-odhywp"),u(F,"class","summary-header svelte-odhywp"),u(I,"class","summary-value svelte-odhywp"),u(A,"class","summary-label svelte-odhywp"),u(L,"class","summary-card info svelte-odhywp"),u(e,"class","summary-grid svelte-odhywp")},m(J,B){$(J,e,B),r(e,t),r(t,n),r(t,s),r(t,i),r(i,o),r(i,a),r(i,c),r(t,p),r(t,f),r(t,d),W[m].m(t,null),r(e,v),r(e,g),r(g,C),r(g,y),r(g,w),r(w,D),r(g,q),r(g,E),r(e,S),r(e,L),r(L,F),r(L,O),r(L,I),r(I,Z),r(L,V),r(L,A),P=!0},p(J,B){(!P||B[0]&8)&&j(o,J[3]),(!P||B[0]&4)&&j(c,J[2]);let Q=m;m=H(J),m===Q?W[m].p(J,B):(Te(),R(W[Q],1,1,()=>{W[Q]=null}),De(),h=W[m],h?h.p(J,B):(h=W[m]=M[m](J),h.c()),N(h,1),h.m(t,null)),(!P||B[0]&2048)&&we(t,"ok",J[11]),(!P||B[0]&2048)&&we(t,"warn",!J[11]),(!P||B[0]&2)&&T!==(T=J[1].length+"")&&j(D,T),(!P||B[0]&128)&&U!==(U=J[7].length+"")&&j(Z,U)},i(J){P||(N(h),P=!0)},o(J){R(h),P=!1},d(J){J&&k(e),W[m].d()}}}function j_(l){let e;return{c(){e=_("div"),e.innerHTML='<p>No services deployed yet</p> <p class="hint svelte-odhywp">Deploy your first service to see the architecture</p>',u(e,"class","empty-state svelte-odhywp")},m(t,n){$(t,e,n)},p:ve,i:ve,o:ve,d(t){t&&k(e)}}}function F_(l){let e,t,n,s,i,o;return{c(){e=_("div"),t=_("p"),n=z("Failed to load: "),s=z(l[9]),i=b(),o=_("p"),o.textContent="Check your connection and try refreshing",u(o,"class","hint svelte-odhywp"),u(e,"class","empty-state svelte-odhywp")},m(a,c){$(a,e,c),r(e,t),r(t,n),r(t,s),r(e,i),r(e,o)},p(a,c){c[0]&512&&j(s,a[9])},i:ve,o:ve,d(a){a&&k(e)}}}function I_(l){let e;return{c(){e=_("div"),e.textContent="Loading architecture...",u(e,"class","empty-state svelte-odhywp")},m(t,n){$(t,e,n)},p:ve,i:ve,o:ve,d(t){t&&k(e)}}}function B_(l){let e;return{c(){e=_("div"),e.textContent="✅ All servers OK",u(e,"class","summary-ok svelte-odhywp")},m(t,n){$(t,e,n)},p:ve,i:ve,o:ve,d(t){t&&k(e)}}}function U_(l){let e,t;return e=new Oe({props:{variant:"warning",size:"sm",$$slots:{default:[H_]},$$scope:{ctx:l}}}),e.$on("click",l[13]),{c(){ae(e.$$.fragment)},m(n,s){ie(e,n,s),t=!0},p(n,s){const i={};s[0]&12|s[1]&16&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){re(e,n)}}}function H_(l){let e,t=l[2]-l[3]+"",n,s;return{c(){e=z("🔧 Fix "),n=z(t),s=z(" server(s)")},m(i,o){$(i,e,o),$(i,n,o),$(i,s,o)},p(i,o){o[0]&12&&t!==(t=i[2]-i[3]+"")&&j(n,t)},d(i){i&&(k(e),k(n),k(s))}}}function G_(l){let e,t,n,s;const i=[I_,F_,j_,O_],o=[];function a(c,p){return c[6]&&!c[10]?0:c[9]?1:c[7].length===0&&c[1].length===0?2:3}return e=a(l),t=o[e]=i[e](l),{c(){t.c(),n=Ie()},m(c,p){o[e].m(c,p),$(c,n,p),s=!0},p(c,p){let f=e;e=a(c),e===f?o[e].p(c,p):(Te(),R(o[f],1,1,()=>{o[f]=null}),De(),t=o[e],t?t.p(c,p):(t=o[e]=i[e](c),t.c()),N(t,1),t.m(n.parentNode,n))},i(c){s||(N(t),s=!0)},o(c){R(t),s=!1},d(c){c&&k(n),o[e].d(c)}}}function qr(l){let e,t=l[32]+"",n,s;return{c(){e=_("option"),n=z(t),e.__value=s=l[32],ne(e,e.__value)},m(i,o){$(i,e,o),r(e,n)},p(i,o){o[0]&4096&&t!==(t=i[32]+"")&&j(n,t),o[0]&4096&&s!==(s=i[32])&&(e.__value=s,ne(e,e.__value))},d(i){i&&k(e)}}}function Er(l){let e,t,n=Ar(l[8])+"",s;return{c(){e=_("span"),t=z("Updated "),s=z(n),u(e,"class","last-updated svelte-odhywp")},m(i,o){$(i,e,o),r(e,t),r(e,s)},p(i,o){o[0]&256&&n!==(n=Ar(i[8])+"")&&j(s,n)},d(i){i&&k(e)}}}function W_(l){let e;return{c(){e=z("↻ Refresh")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function V_(l){let e,t,n,s,i,o,a,c,p,f,d,m,h,v,g,C=_e(l[12]||[]),y=[];for(let T=0;T<C.length;T+=1)y[T]=qr(Dr(l,C,T));let w=l[8]&&Er(l);return m=new Oe({props:{variant:"ghost",size:"sm",$$slots:{default:[W_]},$$scope:{ctx:l}}}),m.$on("click",l[0]),{c(){e=_("div"),t=_("select"),n=_("option"),n.textContent="All Projects";for(let T=0;T<y.length;T+=1)y[T].c();s=b(),i=_("select"),o=_("option"),o.textContent="All Envs",a=_("option"),a.textContent="prod",c=_("option"),c.textContent="staging",p=_("option"),p.textContent="dev",f=b(),w&&w.c(),d=b(),ae(m.$$.fragment),n.__value="",ne(n,n.__value),u(t,"class","svelte-odhywp"),l[4]===void 0&&Ze(()=>l[15].call(t)),o.__value="",ne(o,o.__value),a.__value="prod",ne(a,a.__value),c.__value="staging",ne(c,c.__value),p.__value="dev",ne(p,p.__value),u(i,"class","svelte-odhywp"),l[5]===void 0&&Ze(()=>l[16].call(i)),u(e,"slot","header"),u(e,"class","filters svelte-odhywp")},m(T,D){$(T,e,D),r(e,t),r(t,n);for(let q=0;q<y.length;q+=1)y[q]&&y[q].m(t,null);Ee(t,l[4],!0),r(e,s),r(e,i),r(i,o),r(i,a),r(i,c),r(i,p),Ee(i,l[5],!0),r(e,f),w&&w.m(e,null),r(e,d),ie(m,e,null),h=!0,v||(g=[ee(t,"change",l[15]),ee(t,"change",l[14]),ee(i,"change",l[16]),ee(i,"change",l[14])],v=!0)},p(T,D){if(D[0]&4096){C=_e(T[12]||[]);let E;for(E=0;E<C.length;E+=1){const S=Dr(T,C,E);y[E]?y[E].p(S,D):(y[E]=qr(S),y[E].c(),y[E].m(t,null))}for(;E<y.length;E+=1)y[E].d(1);y.length=C.length}D[0]&4112&&Ee(t,T[4]),D[0]&32&&Ee(i,T[5]),T[8]?w?w.p(T,D):(w=Er(T),w.c(),w.m(e,d)):w&&(w.d(1),w=null);const q={};D[1]&16&&(q.$$scope={dirty:D,ctx:T}),m.$set(q)},i(T){h||(N(m.$$.fragment,T),h=!0)},o(T){R(m.$$.fragment,T),h=!1},d(T){T&&k(e),Pe(y,T),w&&w.d(),re(m),v=!1,Fe(g)}}}function J_(l){let e,t,n=_e(l[7]),s=[];for(let o=0;o<n.length;o+=1)s[o]=Pr(Tr(l,n,o));const i=o=>R(s[o],1,1,()=>{s[o]=null});return{c(){e=_("div");for(let o=0;o<s.length;o+=1)s[o].c();u(e,"class","list svelte-odhywp")},m(o,a){$(o,e,a);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);t=!0},p(o,a){if(a[0]&128){n=_e(o[7]);let c;for(c=0;c<n.length;c+=1){const p=Tr(o,n,c);s[c]?(s[c].p(p,a),N(s[c],1)):(s[c]=Pr(p),s[c].c(),N(s[c],1),s[c].m(e,null))}for(Te(),c=n.length;c<s.length;c+=1)i(c);De()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)N(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)R(s[a]);t=!1},d(o){o&&k(e),Pe(s,o)}}}function K_(l){let e;return{c(){e=_("div"),e.textContent="No services found",u(e,"class","empty-panel svelte-odhywp")},m(t,n){$(t,e,n)},p:ve,i:ve,o:ve,d(t){t&&k(e)}}}function Y_(l){let e=l[21].type+"",t;return{c(){t=z(e)},m(n,s){$(n,t,s)},p(n,s){s[0]&128&&e!==(e=n[21].type+"")&&j(t,e)},d(n){n&&k(t)}}}function Pr(l){var A,P;let e,t,n=kn(l[21])+"",s,i,o,a,c=l[21].service+"",p,f,d,m=l[21].project+"",h,v,g=l[21].env+"",C,y,w,T,D=(((A=l[21].servers)==null?void 0:A.length)||0)+"",q,E,S,L,F=(((P=l[21].ports)==null?void 0:P.join(", "))||"-")+"",O,I,U,Z,V;return U=new Je({props:{variant:l[21].type==="stateful"?"warning":"info",$$slots:{default:[Y_]},$$scope:{ctx:l}}}),{c(){e=_("div"),t=_("div"),s=z(n),i=b(),o=_("div"),a=_("div"),p=z(c),f=b(),d=_("div"),h=z(m),v=z(" / "),C=z(g),y=b(),w=_("div"),T=_("div"),q=z(D),E=z(" server(s)"),S=b(),L=_("div"),O=z(F),I=b(),ae(U.$$.fragment),Z=b(),u(t,"class","item-icon svelte-odhywp"),u(a,"class","item-name svelte-odhywp"),u(d,"class","item-meta svelte-odhywp"),u(o,"class","item-info svelte-odhywp"),u(L,"class","ports svelte-odhywp"),u(w,"class","item-stats svelte-odhywp"),u(e,"class","list-item svelte-odhywp")},m(M,W){$(M,e,W),r(e,t),r(t,s),r(e,i),r(e,o),r(o,a),r(a,p),r(o,f),r(o,d),r(d,h),r(d,v),r(d,C),r(e,y),r(e,w),r(w,T),r(T,q),r(T,E),r(w,S),r(w,L),r(L,O),r(e,I),ie(U,e,null),r(e,Z),V=!0},p(M,W){var J,B;(!V||W[0]&128)&&n!==(n=kn(M[21])+"")&&j(s,n),(!V||W[0]&128)&&c!==(c=M[21].service+"")&&j(p,c),(!V||W[0]&128)&&m!==(m=M[21].project+"")&&j(h,m),(!V||W[0]&128)&&g!==(g=M[21].env+"")&&j(C,g),(!V||W[0]&128)&&D!==(D=(((J=M[21].servers)==null?void 0:J.length)||0)+"")&&j(q,D),(!V||W[0]&128)&&F!==(F=(((B=M[21].ports)==null?void 0:B.join(", "))||"-")+"")&&j(O,F);const H={};W[0]&128&&(H.variant=M[21].type==="stateful"?"warning":"info"),W[0]&128|W[1]&16&&(H.$$scope={dirty:W,ctx:M}),U.$set(H)},i(M){V||(N(U.$$.fragment,M),V=!0)},o(M){R(U.$$.fragment,M),V=!1},d(M){M&&k(e),re(U)}}}function Q_(l){let e,t,n,s;const i=[K_,J_],o=[];function a(c,p){return c[7].length===0?0:1}return e=a(l),t=o[e]=i[e](l),{c(){t.c(),n=Ie()},m(c,p){o[e].m(c,p),$(c,n,p),s=!0},p(c,p){let f=e;e=a(c),e===f?o[e].p(c,p):(Te(),R(o[f],1,1,()=>{o[f]=null}),De(),t=o[e],t?t.p(c,p):(t=o[e]=i[e](c),t.c()),N(t,1),t.m(n.parentNode,n))},i(c){s||(N(t),s=!0)},o(c){R(t),s=!1},d(c){c&&k(n),o[e].d(c)}}}function Z_(l){let e,t,n=_e(l[1]),s=[];for(let o=0;o<n.length;o+=1)s[o]=Lr(zr(l,n,o));const i=o=>R(s[o],1,1,()=>{s[o]=null});return{c(){e=_("div");for(let o=0;o<s.length;o+=1)s[o].c();u(e,"class","list svelte-odhywp")},m(o,a){$(o,e,a);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);t=!0},p(o,a){if(a[0]&2){n=_e(o[1]);let c;for(c=0;c<n.length;c+=1){const p=zr(o,n,c);s[c]?(s[c].p(p,a),N(s[c],1)):(s[c]=Lr(p),s[c].c(),N(s[c],1),s[c].m(e,null))}for(Te(),c=n.length;c<s.length;c+=1)i(c);De()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)N(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)R(s[a]);t=!1},d(o){o&&k(e),Pe(s,o)}}}function X_(l){let e;return{c(){e=_("div"),e.textContent="No servers found",u(e,"class","empty-panel svelte-odhywp")},m(t,n){$(t,e,n)},p:ve,i:ve,o:ve,d(t){t&&k(e)}}}function x_(l){let e=$n(l[27])?"🔀 nginx":"⚠️ no nginx",t;return{c(){t=z(e)},m(n,s){$(n,t,s)},p(n,s){s[0]&2&&e!==(e=$n(n[27])?"🔀 nginx":"⚠️ no nginx")&&j(t,e)},d(n){n&&k(t)}}}function ed(l){let e,t=(l[27].agent_version||"?")+"",n;return{c(){e=z("🤖 v"),n=z(t)},m(s,i){$(s,e,i),$(s,n,i)},p(s,i){i[0]&2&&t!==(t=(s[27].agent_version||"?")+"")&&j(n,t)},d(s){s&&(k(e),k(n))}}}function Lr(l){let e,t,n=l[27].status==="online"?"🟢":"🔴",s,i,o,a,c=l[27].ip+"",p,f,d,m=(l[27].containers||0)+"",h,v,g,C,y,w,T,D,q;return y=new Je({props:{variant:$n(l[27])?"success":"warning",$$slots:{default:[x_]},$$scope:{ctx:l}}}),T=new Je({props:{variant:"info",$$slots:{default:[ed]},$$scope:{ctx:l}}}),{c(){e=_("div"),t=_("div"),s=z(n),i=b(),o=_("div"),a=_("code"),p=z(c),f=b(),d=_("div"),h=z(m),v=z(" container(s)"),g=b(),C=_("div"),ae(y.$$.fragment),w=b(),ae(T.$$.fragment),D=b(),u(t,"class","item-icon svelte-odhywp"),u(a,"class","server-ip svelte-odhywp"),u(d,"class","item-meta svelte-odhywp"),u(o,"class","item-info svelte-odhywp"),u(C,"class","item-badges svelte-odhywp"),u(e,"class","list-item svelte-odhywp")},m(E,S){$(E,e,S),r(e,t),r(t,s),r(e,i),r(e,o),r(o,a),r(a,p),r(o,f),r(o,d),r(d,h),r(d,v),r(e,g),r(e,C),ie(y,C,null),r(C,w),ie(T,C,null),r(e,D),q=!0},p(E,S){(!q||S[0]&2)&&n!==(n=E[27].status==="online"?"🟢":"🔴")&&j(s,n),(!q||S[0]&2)&&c!==(c=E[27].ip+"")&&j(p,c),(!q||S[0]&2)&&m!==(m=(E[27].containers||0)+"")&&j(h,m);const L={};S[0]&2&&(L.variant=$n(E[27])?"success":"warning"),S[0]&2|S[1]&16&&(L.$$scope={dirty:S,ctx:E}),y.$set(L);const F={};S[0]&2|S[1]&16&&(F.$$scope={dirty:S,ctx:E}),T.$set(F)},i(E){q||(N(y.$$.fragment,E),N(T.$$.fragment,E),q=!0)},o(E){R(y.$$.fragment,E),R(T.$$.fragment,E),q=!1},d(E){E&&k(e),re(y),re(T)}}}function td(l){let e,t,n,s;const i=[X_,Z_],o=[];function a(c,p){return c[1].length===0?0:1}return e=a(l),t=o[e]=i[e](l),{c(){t.c(),n=Ie()},m(c,p){o[e].m(c,p),$(c,n,p),s=!0},p(c,p){let f=e;e=a(c),e===f?o[e].p(c,p):(Te(),R(o[f],1,1,()=>{o[f]=null}),De(),t=o[e],t?t.p(c,p):(t=o[e]=i[e](c),t.c()),N(t,1),t.m(n.parentNode,n))},i(c){s||(N(t),s=!0)},o(c){R(t),s=!1},d(c){c&&k(n),o[e].d(c)}}}function ld(l){let e,t,n=_e(l[7]),s=[];for(let o=0;o<n.length;o+=1)s[o]=Rr(Sr(l,n,o));const i=o=>R(s[o],1,1,()=>{s[o]=null});return{c(){e=_("div");for(let o=0;o<s.length;o+=1)s[o].c();u(e,"class","traffic-flow svelte-odhywp")},m(o,a){$(o,e,a);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);t=!0},p(o,a){if(a[0]&130){n=_e(o[7]);let c;for(c=0;c<n.length;c+=1){const p=Sr(o,n,c);s[c]?(s[c].p(p,a),N(s[c],1)):(s[c]=Rr(p),s[c].c(),N(s[c],1),s[c].m(e,null))}for(Te(),c=n.length;c<s.length;c+=1)i(c);De()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)N(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)R(s[a]);t=!1},d(o){o&&k(e),Pe(s,o)}}}function nd(l){let e;return{c(){e=_("div"),e.textContent="Deploy services to see traffic flow",u(e,"class","empty-panel svelte-odhywp")},m(t,n){$(t,e,n)},p:ve,i:ve,o:ve,d(t){t&&k(e)}}}function sd(l){let e=l[21].env+"",t;return{c(){t=z(e)},m(n,s){$(n,t,s)},p(n,s){s[0]&128&&e!==(e=n[21].env+"")&&j(t,e)},d(n){n&&k(t)}}}function Nr(l){let e,t,n,s,i,o,a=l[21].domain+"",c,p,f;return{c(){e=_("div"),t=_("span"),t.textContent="☁️",n=b(),s=_("span"),s.textContent="Cloudflare",i=b(),o=_("span"),c=z(a),p=b(),f=_("div"),f.textContent="→",u(t,"class","svelte-odhywp"),u(s,"class","node-label svelte-odhywp"),u(o,"class","node-detail svelte-odhywp"),u(e,"class","flow-node cloudflare svelte-odhywp"),u(f,"class","flow-arrow svelte-odhywp")},m(d,m){$(d,e,m),r(e,t),r(e,n),r(e,s),r(e,i),r(e,o),r(o,c),$(d,p,m),$(d,f,m)},p(d,m){m[0]&128&&a!==(a=d[21].domain+"")&&j(c,a)},d(d){d&&(k(e),k(p),k(f))}}}function od(l){let e;return{c(){e=z("Server")},m(t,n){$(t,e,n)},p:ve,d(t){t&&k(e)}}}function id(l){let e,t=l[22].length+"",n,s;return{c(){e=z("⚖️ Load Balanced ("),n=z(t),s=z(")")},m(i,o){$(i,e,o),$(i,n,o),$(i,s,o)},p(i,o){o[0]&130&&t!==(t=i[22].length+"")&&j(n,t)},d(i){i&&(k(e),k(n),k(s))}}}function Mr(l){let e,t,n,s=l[21].domain+"",i,o;return{c(){e=_("span"),t=z("Domain: "),n=_("a"),i=z(s),u(n,"href",o="https://"+l[21].domain),u(n,"target","_blank"),u(n,"class","svelte-odhywp")},m(a,c){$(a,e,c),r(e,t),r(e,n),r(n,i)},p(a,c){c[0]&128&&s!==(s=a[21].domain+"")&&j(i,s),c[0]&128&&o!==(o="https://"+a[21].domain)&&u(n,"href",o)},d(a){a&&k(e)}}}function Rr(l){let e,t,n,s=kn(l[21])+"",i,o,a,c=l[21].service+"",p,f,d,m,h,v,g,C,y,w,T,D,q,E,S,L,F,O,I,U,Z,V,A,P,M=(l[21].host_port||"8000")+"",W,H,J,B,Q,te,G,K=(l[21].container_name||l[21].id)+"",x,de,he;d=new Je({props:{variant:l[21].env==="prod"?"danger":"info",$$slots:{default:[sd]},$$scope:{ctx:l}}});let oe=l[23]&&Nr(l);function X(Y,se){return Y[24]?id:od}let pe=X(l),be=pe(l),ce=l[23]&&Mr(l);return{c(){e=_("div"),t=_("div"),n=_("span"),i=z(s),o=b(),a=_("span"),p=z(c),f=b(),ae(d.$$.fragment),m=b(),h=_("div"),oe&&oe.c(),v=b(),g=_("div"),C=_("span"),C.textContent="🖥️",y=b(),w=_("span"),be.c(),T=b(),D=_("div"),D.textContent="→",q=b(),E=_("div"),E.innerHTML='<span class="svelte-odhywp">🔀</span> <span class="node-label svelte-odhywp">nginx</span> <span class="node-detail svelte-odhywp">:443</span>',S=b(),L=_("div"),L.textContent="→",F=b(),O=_("div"),I=_("span"),I.textContent="🐳",U=b(),Z=_("span"),Z.textContent="Container",V=b(),A=_("span"),P=z(":"),W=z(M),H=b(),J=_("div"),ce&&ce.c(),B=b(),Q=_("span"),te=z("Container: "),G=_("code"),x=z(K),de=b(),u(n,"class","flow-icon svelte-odhywp"),u(a,"class","flow-name svelte-odhywp"),u(t,"class","flow-header svelte-odhywp"),u(C,"class","svelte-odhywp"),u(w,"class","node-label svelte-odhywp"),u(g,"class","flow-node server svelte-odhywp"),u(D,"class","flow-arrow svelte-odhywp"),u(E,"class","flow-node nginx svelte-odhywp"),u(L,"class","flow-arrow svelte-odhywp"),u(I,"class","svelte-odhywp"),u(Z,"class","node-label svelte-odhywp"),u(A,"class","node-detail svelte-odhywp"),u(O,"class","flow-node container svelte-odhywp"),u(h,"class","flow-path svelte-odhywp"),u(G,"class","svelte-odhywp"),u(J,"class","flow-details svelte-odhywp"),u(e,"class","flow-card svelte-odhywp")},m(Y,se){$(Y,e,se),r(e,t),r(t,n),r(n,i),r(t,o),r(t,a),r(a,p),r(t,f),ie(d,t,null),r(e,m),r(e,h),oe&&oe.m(h,null),r(h,v),r(h,g),r(g,C),r(g,y),r(g,w),be.m(w,null),r(h,T),r(h,D),r(h,q),r(h,E),r(h,S),r(h,L),r(h,F),r(h,O),r(O,I),r(O,U),r(O,Z),r(O,V),r(O,A),r(A,P),r(A,W),r(e,H),r(e,J),ce&&ce.m(J,null),r(J,B),r(J,Q),r(Q,te),r(Q,G),r(G,x),r(e,de),he=!0},p(Y,se){(!he||se[0]&128)&&s!==(s=kn(Y[21])+"")&&j(i,s),(!he||se[0]&128)&&c!==(c=Y[21].service+"")&&j(p,c);const Se={};se[0]&128&&(Se.variant=Y[21].env==="prod"?"danger":"info"),se[0]&128|se[1]&16&&(Se.$$scope={dirty:se,ctx:Y}),d.$set(Se),Y[23]?oe?oe.p(Y,se):(oe=Nr(Y),oe.c(),oe.m(h,v)):oe&&(oe.d(1),oe=null),pe===(pe=X(Y))&&be?be.p(Y,se):(be.d(1),be=pe(Y),be&&(be.c(),be.m(w,null))),(!he||se[0]&128)&&M!==(M=(Y[21].host_port||"8000")+"")&&j(W,M),Y[23]?ce?ce.p(Y,se):(ce=Mr(Y),ce.c(),ce.m(J,B)):ce&&(ce.d(1),ce=null),(!he||se[0]&128)&&K!==(K=(Y[21].container_name||Y[21].id)+"")&&j(x,K)},i(Y){he||(N(d.$$.fragment,Y),he=!0)},o(Y){R(d.$$.fragment,Y),he=!1},d(Y){Y&&k(e),re(d),oe&&oe.d(),be.d(),ce&&ce.d()}}}function rd(l){let e,t,n,s;const i=[nd,ld],o=[];function a(c,p){return c[7].length===0?0:1}return e=a(l),t=o[e]=i[e](l),{c(){t.c(),n=Ie()},m(c,p){o[e].m(c,p),$(c,n,p),s=!0},p(c,p){let f=e;e=a(c),e===f?o[e].p(c,p):(Te(),R(o[f],1,1,()=>{o[f]=null}),De(),t=o[e],t?t.p(c,p):(t=o[e]=i[e](c),t.c()),N(t,1),t.m(n.parentNode,n))},i(c){s||(N(t),s=!0)},o(c){R(t),s=!1},d(c){c&&k(n),o[e].d(c)}}}function ad(l){let e;return{c(){e=_("span"),e.textContent="Request path from client to container",u(e,"slot","header"),u(e,"class","subtitle svelte-odhywp")},m(t,n){$(t,e,n)},p:ve,d(t){t&&k(e)}}}function cd(l){let e,t,n,s,i,o,a,c,p,f;return t=new st({props:{title:"🏗️ Architecture View",$$slots:{header:[V_],default:[G_]},$$scope:{ctx:l}}}),i=new st({props:{title:"📦 Services",padding:!1,$$slots:{default:[Q_]},$$scope:{ctx:l}}}),a=new st({props:{title:"🖥️ Servers",padding:!1,$$slots:{default:[td]},$$scope:{ctx:l}}}),p=new st({props:{title:"🚦 Traffic Flow",$$slots:{header:[ad],default:[rd]},$$scope:{ctx:l}}}),{c(){e=_("div"),ae(t.$$.fragment),n=b(),s=_("div"),ae(i.$$.fragment),o=b(),ae(a.$$.fragment),c=b(),ae(p.$$.fragment),u(s,"class","panels-grid svelte-odhywp"),u(e,"class","architecture-page svelte-odhywp")},m(d,m){$(d,e,m),ie(t,e,null),r(e,n),r(e,s),ie(i,s,null),r(s,o),ie(a,s,null),r(e,c),ie(p,e,null),f=!0},p(d,m){const h={};m[0]&8190|m[1]&16&&(h.$$scope={dirty:m,ctx:d}),t.$set(h);const v={};m[0]&128|m[1]&16&&(v.$$scope={dirty:m,ctx:d}),i.$set(v);const g={};m[0]&2|m[1]&16&&(g.$$scope={dirty:m,ctx:d}),a.$set(g);const C={};m[0]&130|m[1]&16&&(C.$$scope={dirty:m,ctx:d}),p.$set(C)},i(d){f||(N(t.$$.fragment,d),N(i.$$.fragment,d),N(a.$$.fragment,d),N(p.$$.fragment,d),f=!0)},o(d){R(t.$$.fragment,d),R(i.$$.fragment,d),R(a.$$.fragment,d),R(p.$$.fragment,d),f=!1},d(d){d&&k(e),re(t),re(i),re(a),re(p)}}}function Ar(l){return l?l.toLocaleTimeString():""}function kn(l){switch(l.type){case"stateful":return"🗄️";case"frontend":return"🌐";case"api":return"⚡";case"worker":return"⚙️";default:return"📦"}}function $n(l){return l.nginx_status==="running"}function ud(l,e,t){let n,s,i,o;at(l,Bn,L=>t(12,o=L));let a="",c="",p=!1,f=[],d=[],m=[],h=null,v=null,g=!1,C=null;Yl(()=>{g||(y(),C=setInterval(y,6e4))}),nc(()=>{C&&clearInterval(C)});async function y(){g||t(6,p=!0),t(9,v=null);try{const L=await Me("POST","/infra/architecture",{project:a||null,environment:c||null});t(7,f=L.nodes||[]),t(1,d=L.servers||[]),m=L.infrastructure||[],t(8,h=new Date),t(10,g=!0)}catch(L){t(9,v=L.message),g||$e.error("Failed to load architecture: "+L.message)}finally{t(6,p=!1)}}async function w(){const L=d.filter(F=>F.nginx_status!=="running").map(F=>F.ip);if(L.length===0){$e.info("All servers already have nginx running");return}$e.info(`Fixing ${L.length} server(s)...`);try{await Me("POST","/infra/nginx/ensure",{server_ips:L}),$e.success("Nginx sidecar installed"),architectureStore.refresh()}catch(F){$e.error(F.message)}}function T(){y()}function D(){y()}function q(){a=ft(this),t(4,a)}function E(){c=ft(this),t(5,c)}const S=(L,F)=>{var O;return(O=L.servers)==null?void 0:O.includes(F.ip)};return l.$$.update=()=>{l.$$.dirty[0]&2&&t(3,n=d.filter(L=>L.nginx_status==="running").length),l.$$.dirty[0]&2&&t(2,s=d.length),l.$$.dirty[0]&12&&t(11,i=n===s)},[D,d,s,n,a,c,p,f,h,v,g,i,o,w,T,q,E,S]}class fd extends qt{constructor(e){super(),Dt(this,e,ud,cd,yt,{refresh:0},null,[-1,-1])}get refresh(){return this.$$.ctx[0]}}function Or(l,e,t){const n=l.slice();return n[28]=e[t],n}function jr(l,e,t){const n=l.slice();return n[31]=e[t][0],n[32]=e[t][1],n}function Fr(l,e,t){const n=l.slice();return n[28]=e[t],n[36]=t,n}function Ir(l,e,t){const n=l.slice();return n[37]=e[t],n}function Br(l,e,t){const n=l.slice();return n[40]=e[t],n}function Ur(l,e,t){const n=l.slice();return n[43]=e[t],n}function Hr(l,e,t){const n=l.slice();return n[46]=e[t],n}function pd(l){let e=l[0]?"⏳":"🔄",t,n;return{c(){t=z(e),n=z(" Refresh")},m(s,i){$(s,t,i),$(s,n,i)},p(s,i){i[0]&1&&e!==(e=s[0]?"⏳":"🔄")&&j(t,e)},d(s){s&&(k(t),k(n))}}}function Gr(l){let e,t,n,s,i,o,a,c,p,f,d,m,h;return t=new st({props:{$$slots:{default:[_d]},$$scope:{ctx:l}}}),s=new st({props:{$$slots:{default:[dd]},$$scope:{ctx:l}}}),o=new st({props:{$$slots:{default:[md]},$$scope:{ctx:l}}}),c=new st({props:{$$slots:{default:[vd]},$$scope:{ctx:l}}}),f=new st({props:{$$slots:{default:[hd]},$$scope:{ctx:l}}}),m=new st({props:{$$slots:{default:[gd]},$$scope:{ctx:l}}}),{c(){e=_("div"),ae(t.$$.fragment),n=b(),ae(s.$$.fragment),i=b(),ae(o.$$.fragment),a=b(),ae(c.$$.fragment),p=b(),ae(f.$$.fragment),d=b(),ae(m.$$.fragment),u(e,"class","overview-grid svelte-8eh7ia")},m(v,g){$(v,e,g),ie(t,e,null),r(e,n),ie(s,e,null),r(e,i),ie(o,e,null),r(e,a),ie(c,e,null),r(e,p),ie(f,e,null),r(e,d),ie(m,e,null),h=!0},p(v,g){const C={};g[0]&2|g[1]&262144&&(C.$$scope={dirty:g,ctx:v}),t.$set(C);const y={};g[0]&2|g[1]&262144&&(y.$$scope={dirty:g,ctx:v}),s.$set(y);const w={};g[0]&2|g[1]&262144&&(w.$$scope={dirty:g,ctx:v}),o.$set(w);const T={};g[0]&2|g[1]&262144&&(T.$$scope={dirty:g,ctx:v}),c.$set(T);const D={};g[0]&2|g[1]&262144&&(D.$$scope={dirty:g,ctx:v}),f.$set(D);const q={};g[0]&2|g[1]&262144&&(q.$$scope={dirty:g,ctx:v}),m.$set(q)},i(v){h||(N(t.$$.fragment,v),N(s.$$.fragment,v),N(o.$$.fragment,v),N(c.$$.fragment,v),N(f.$$.fragment,v),N(m.$$.fragment,v),h=!0)},o(v){R(t.$$.fragment,v),R(s.$$.fragment,v),R(o.$$.fragment,v),R(c.$$.fragment,v),R(f.$$.fragment,v),R(m.$$.fragment,v),h=!1},d(v){v&&k(e),re(t),re(s),re(o),re(c),re(f),re(m)}}}function _d(l){let e,t,n,s,i=l[1].total_requests.toLocaleString()+"",o;return{c(){e=_("div"),t=_("span"),t.textContent="Total Requests",n=b(),s=_("span"),o=z(i),u(t,"class","label svelte-8eh7ia"),u(s,"class","value svelte-8eh7ia"),u(e,"class","stat svelte-8eh7ia")},m(a,c){$(a,e,c),r(e,t),r(e,n),r(e,s),r(s,o)},p(a,c){c[0]&2&&i!==(i=a[1].total_requests.toLocaleString()+"")&&j(o,i)},d(a){a&&k(e)}}}function dd(l){let e,t,n,s,i=Ot(l[1].avg_latency_ms)+"",o;return{c(){e=_("div"),t=_("span"),t.textContent="Avg Latency",n=b(),s=_("span"),o=z(i),u(t,"class","label svelte-8eh7ia"),u(s,"class","value svelte-8eh7ia"),u(e,"class","stat svelte-8eh7ia")},m(a,c){$(a,e,c),r(e,t),r(e,n),r(e,s),r(s,o)},p(a,c){c[0]&2&&i!==(i=Ot(a[1].avg_latency_ms)+"")&&j(o,i)},d(a){a&&k(e)}}}function md(l){let e,t,n,s,i=Ot(l[1].p95_latency_ms)+"",o;return{c(){e=_("div"),t=_("span"),t.textContent="P95 Latency",n=b(),s=_("span"),o=z(i),u(t,"class","label svelte-8eh7ia"),u(s,"class","value svelte-8eh7ia"),u(e,"class","stat svelte-8eh7ia")},m(a,c){$(a,e,c),r(e,t),r(e,n),r(e,s),r(s,o)},p(a,c){c[0]&2&&i!==(i=Ot(a[1].p95_latency_ms)+"")&&j(o,i)},d(a){a&&k(e)}}}function vd(l){let e,t,n,s,i=l[1].error_rate+"",o,a;return{c(){e=_("div"),t=_("span"),t.textContent="Error Rate",n=b(),s=_("span"),o=z(i),a=z("%"),u(t,"class","label svelte-8eh7ia"),u(s,"class","value svelte-8eh7ia"),u(e,"class","stat svelte-8eh7ia"),we(e,"error",l[1].error_rate>5)},m(c,p){$(c,e,p),r(e,t),r(e,n),r(e,s),r(s,o),r(s,a)},p(c,p){p[0]&2&&i!==(i=c[1].error_rate+"")&&j(o,i),p[0]&2&&we(e,"error",c[1].error_rate>5)},d(c){c&&k(e)}}}function hd(l){let e,t,n,s,i=l[1].slow_count+"",o,a,c;return{c(){e=_("div"),t=_("span"),t.textContent="Slow Requests",n=b(),s=_("span"),o=z(i),u(t,"class","label svelte-8eh7ia"),u(s,"class","value svelte-8eh7ia"),u(e,"class","stat clickable svelte-8eh7ia")},m(p,f){$(p,e,f),r(e,t),r(e,n),r(e,s),r(s,o),a||(c=[ee(e,"click",l[15]),ee(e,"keypress",l[15])],a=!0)},p(p,f){f[0]&2&&i!==(i=p[1].slow_count+"")&&j(o,i)},d(p){p&&k(e),a=!1,Fe(c)}}}function gd(l){let e,t,n,s,i=l[1].error_count+"",o,a,c;return{c(){e=_("div"),t=_("span"),t.textContent="5xx Errors",n=b(),s=_("span"),o=z(i),u(t,"class","label svelte-8eh7ia"),u(s,"class","value svelte-8eh7ia"),u(e,"class","stat clickable svelte-8eh7ia")},m(p,f){$(p,e,f),r(e,t),r(e,n),r(e,s),r(s,o),a||(c=[ee(e,"click",l[18]),ee(e,"keypress",l[19])],a=!0)},p(p,f){f[0]&2&&i!==(i=p[1].error_count+"")&&j(o,i)},d(p){p&&k(e),a=!1,Fe(c)}}}function Wr(l){let e,t;return e=new st({props:{$$slots:{default:[bd]},$$scope:{ctx:l}}}),{c(){ae(e.$$.fragment)},m(n,s){ie(e,n,s),t=!0},p(n,s){const i={};s[0]&2|s[1]&262144&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){re(e,n)}}}function Vr(l){let e,t,n=l[46].path+"",s,i,o,a=Ot(l[46].avg_ms)+"",c,p,f,d=l[46].count+"",m,h;return{c(){e=_("tr"),t=_("td"),s=z(n),i=b(),o=_("td"),c=z(a),p=b(),f=_("td"),m=z(d),h=b(),u(t,"class","path svelte-8eh7ia"),u(o,"class","svelte-8eh7ia"),u(f,"class","svelte-8eh7ia")},m(v,g){$(v,e,g),r(e,t),r(t,s),r(e,i),r(e,o),r(o,c),r(e,p),r(e,f),r(f,m),r(e,h)},p(v,g){g[0]&2&&n!==(n=v[46].path+"")&&j(s,n),g[0]&2&&a!==(a=Ot(v[46].avg_ms)+"")&&j(c,a),g[0]&2&&d!==(d=v[46].count+"")&&j(m,d)},d(v){v&&k(e)}}}function bd(l){let e,t,n,s,i,o,a=_e(l[1].slow_endpoints.slice(0,5)),c=[];for(let p=0;p<a.length;p+=1)c[p]=Vr(Hr(l,a,p));return{c(){e=_("h3"),e.textContent="🐢 Slowest Endpoints",t=b(),n=_("table"),s=_("thead"),s.innerHTML='<tr><th class="svelte-8eh7ia">Path</th> <th class="svelte-8eh7ia">Avg</th> <th class="svelte-8eh7ia">Count</th></tr>',i=b(),o=_("tbody");for(let p=0;p<c.length;p+=1)c[p].c();u(n,"class","mini-table svelte-8eh7ia")},m(p,f){$(p,e,f),$(p,t,f),$(p,n,f),r(n,s),r(n,i),r(n,o);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(o,null)},p(p,f){if(f[0]&2){a=_e(p[1].slow_endpoints.slice(0,5));let d;for(d=0;d<a.length;d+=1){const m=Hr(p,a,d);c[d]?c[d].p(m,f):(c[d]=Vr(m),c[d].c(),c[d].m(o,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=a.length}},d(p){p&&(k(e),k(t),k(n)),Pe(c,p)}}}function Jr(l){let e,t=l[43]+"",n,s,i=l[43]===l[6]?"(current)":"",o,a;return{c(){e=_("option"),n=z(t),s=b(),o=z(i),e.__value=a=l[43],ne(e,e.__value)},m(c,p){$(c,e,p),r(e,n),r(e,s),r(e,o)},p(c,p){p[0]&32&&t!==(t=c[43]+"")&&j(n,t),p[0]&96&&i!==(i=c[43]===c[6]?"(current)":"")&&j(o,i),p[0]&32&&a!==(a=c[43])&&(e.__value=a,ne(e,e.__value))},d(c){c&&k(e)}}}function kd(l){let e;return{c(){e=z("Apply")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function $d(l){let e;return{c(){e=z("View")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function Kr(l){var te;let e,t,n=ra(l[40].timestamp)+"",s,i,o,a=(l[40].service_name||"-")+"",c,p,f,d,m=l[40].method+"",h,v,g,C,y=(((te=l[40].path)==null?void 0:te.length)>40?l[40].path.slice(0,40)+"...":l[40].path)+"",w,T,D,q,E,S=(l[40].status_code||"-")+"",L,F,O,I,U=Ot(l[40].duration_ms)+"",Z,V,A,P=l[40].span_count+"",M,W,H,J,B;function Q(){return l[24](l[40])}return J=new Oe({props:{size:"small",$$slots:{default:[$d]},$$scope:{ctx:l}}}),J.$on("click",Q),{c(){var G;e=_("tr"),t=_("td"),s=z(n),i=b(),o=_("td"),c=z(a),p=b(),f=_("td"),d=_("span"),h=z(m),g=b(),C=_("td"),w=z(y),D=b(),q=_("td"),E=_("span"),L=z(S),O=b(),I=_("td"),Z=z(U),V=b(),A=_("td"),M=z(P),W=b(),H=_("td"),ae(J.$$.fragment),u(t,"class","time svelte-8eh7ia"),u(o,"class","service svelte-8eh7ia"),u(d,"class",v="method "+((G=l[40].method)==null?void 0:G.toLowerCase())+" svelte-8eh7ia"),u(f,"class","svelte-8eh7ia"),u(C,"class","path svelte-8eh7ia"),u(C,"title",T=l[40].path),u(E,"class",F="status status-"+wn(l[40].status_code)+" svelte-8eh7ia"),u(q,"class","svelte-8eh7ia"),u(I,"class","svelte-8eh7ia"),we(I,"slow",l[40].duration_ms>1e3),u(A,"class","svelte-8eh7ia"),u(H,"class","svelte-8eh7ia"),u(e,"class","svelte-8eh7ia"),we(e,"error",l[40].status_code>=500),we(e,"warning",l[40].status_code>=400&&l[40].status_code<500)},m(G,K){$(G,e,K),r(e,t),r(t,s),r(e,i),r(e,o),r(o,c),r(e,p),r(e,f),r(f,d),r(d,h),r(e,g),r(e,C),r(C,w),r(e,D),r(e,q),r(q,E),r(E,L),r(e,O),r(e,I),r(I,Z),r(e,V),r(e,A),r(A,M),r(e,W),r(e,H),ie(J,H,null),B=!0},p(G,K){var de,he;l=G,(!B||K[0]&4)&&n!==(n=ra(l[40].timestamp)+"")&&j(s,n),(!B||K[0]&4)&&a!==(a=(l[40].service_name||"-")+"")&&j(c,a),(!B||K[0]&4)&&m!==(m=l[40].method+"")&&j(h,m),(!B||K[0]&4&&v!==(v="method "+((de=l[40].method)==null?void 0:de.toLowerCase())+" svelte-8eh7ia"))&&u(d,"class",v),(!B||K[0]&4)&&y!==(y=(((he=l[40].path)==null?void 0:he.length)>40?l[40].path.slice(0,40)+"...":l[40].path)+"")&&j(w,y),(!B||K[0]&4&&T!==(T=l[40].path))&&u(C,"title",T),(!B||K[0]&4)&&S!==(S=(l[40].status_code||"-")+"")&&j(L,S),(!B||K[0]&4&&F!==(F="status status-"+wn(l[40].status_code)+" svelte-8eh7ia"))&&u(E,"class",F),(!B||K[0]&4)&&U!==(U=Ot(l[40].duration_ms)+"")&&j(Z,U),(!B||K[0]&4)&&we(I,"slow",l[40].duration_ms>1e3),(!B||K[0]&4)&&P!==(P=l[40].span_count+"")&&j(M,P);const x={};K[1]&262144&&(x.$$scope={dirty:K,ctx:l}),J.$set(x),(!B||K[0]&4)&&we(e,"error",l[40].status_code>=500),(!B||K[0]&4)&&we(e,"warning",l[40].status_code>=400&&l[40].status_code<500)},i(G){B||(N(J.$$.fragment,G),B=!0)},o(G){R(J.$$.fragment,G),B=!1},d(G){G&&k(e),re(J)}}}function Yr(l){let e;return{c(){e=_("tr"),e.innerHTML='<td colspan="8" class="empty svelte-8eh7ia">No requests found</td>'},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function wd(l){let e,t,n,s,i,o,a,c,p,f=_e(l[2]),d=[];for(let v=0;v<f.length;v+=1)d[v]=Kr(Br(l,f,v));const m=v=>R(d[v],1,1,()=>{d[v]=null});let h=l[2].length===0&&Yr();return{c(){e=_("h3"),e.textContent="📋 Recent Requests",t=b(),n=_("div"),s=_("table"),i=_("thead"),i.innerHTML='<tr><th class="svelte-8eh7ia">Time</th> <th class="svelte-8eh7ia">Service</th> <th class="svelte-8eh7ia">Method</th> <th class="svelte-8eh7ia">Path</th> <th class="svelte-8eh7ia">Status</th> <th class="svelte-8eh7ia">Duration</th> <th class="svelte-8eh7ia">Spans</th> <th class="svelte-8eh7ia">Actions</th></tr>',o=b(),a=_("tbody");for(let v=0;v<d.length;v+=1)d[v].c();c=b(),h&&h.c(),u(s,"class","svelte-8eh7ia"),u(n,"class","table-container svelte-8eh7ia")},m(v,g){$(v,e,g),$(v,t,g),$(v,n,g),r(n,s),r(s,i),r(s,o),r(s,a);for(let C=0;C<d.length;C+=1)d[C]&&d[C].m(a,null);r(a,c),h&&h.m(a,null),p=!0},p(v,g){if(g[0]&8196){f=_e(v[2]);let C;for(C=0;C<f.length;C+=1){const y=Br(v,f,C);d[C]?(d[C].p(y,g),N(d[C],1)):(d[C]=Kr(y),d[C].c(),N(d[C],1),d[C].m(a,c))}for(Te(),C=f.length;C<d.length;C+=1)m(C);De()}v[2].length===0?h||(h=Yr(),h.c(),h.m(a,null)):h&&(h.d(1),h=null)},i(v){if(!p){for(let g=0;g<f.length;g+=1)N(d[g]);p=!0}},o(v){d=d.filter(Boolean);for(let g=0;g<d.length;g+=1)R(d[g]);p=!1},d(v){v&&(k(e),k(t),k(n)),Pe(d,v),h&&h.d()}}}function Qr(l){let e,t;return e=new Cl({props:{title:"Request Detail",width:"800px",$$slots:{default:[yd]},$$scope:{ctx:l}}}),e.$on("close",l[25]),{c(){ae(e.$$.fragment)},m(n,s){ie(e,n,s),t=!0},p(n,s){const i={};s[0]&8|s[1]&262144&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){re(e,n)}}}function Zr(l){let e,t=l[3].service_name+"",n;return{c(){e=_("span"),n=z(t),u(e,"class","service-badge svelte-8eh7ia")},m(s,i){$(s,e,i),r(e,n)},p(s,i){i[0]&8&&t!==(t=s[3].service_name+"")&&j(n,t)},d(s){s&&k(e)}}}function Xr(l){let e,t,n=l[3].error+"",s;return{c(){e=_("div"),t=z("⚠️ "),s=z(n),u(e,"class","error-box svelte-8eh7ia")},m(i,o){$(i,e,o),r(e,t),r(e,s)},p(i,o){o[0]&8&&n!==(n=i[3].error+"")&&j(s,n)},d(i){i&&k(e)}}}function xr(l){let e,t,n=l[3].user_id+"",s;return{c(){e=_("span"),t=z("User: "),s=z(n)},m(i,o){$(i,e,o),r(e,t),r(e,s)},p(i,o){o[0]&8&&n!==(n=i[3].user_id+"")&&j(s,n)},d(i){i&&k(e)}}}function ea(l){let e,t,n,s=l[37].name+"",i,o,a,c,p,f=Ot(l[37].duration_ms)+"",d,m;return{c(){e=_("div"),t=_("div"),n=z("└─ "),i=z(s),a=b(),c=_("div"),p=_("div"),d=z(f),m=b(),u(t,"class","span-name svelte-8eh7ia"),u(t,"title",o=l[37].name),u(p,"class","span-bar child-bar svelte-8eh7ia"),Zt(p,"width",yn(l[37],l[3].total_ms)+"%"),we(p,"error",l[37].error),u(c,"class","span-bar-container svelte-8eh7ia"),u(e,"class","span-row child svelte-8eh7ia")},m(h,v){$(h,e,v),r(e,t),r(t,n),r(t,i),r(e,a),r(e,c),r(c,p),r(p,d),r(e,m)},p(h,v){v[0]&8&&s!==(s=h[37].name+"")&&j(i,s),v[0]&8&&o!==(o=h[37].name)&&u(t,"title",o),v[0]&8&&f!==(f=Ot(h[37].duration_ms)+"")&&j(d,f),v[0]&8&&Zt(p,"width",yn(h[37],h[3].total_ms)+"%"),v[0]&8&&we(p,"error",h[37].error)},d(h){h&&k(e)}}}function ta(l){let e,t,n=l[28].name+"",s,i,o,a,c,p=Ot(l[28].duration_ms)+"",f,d,m,h=_e(l[28].children||[]),v=[];for(let g=0;g<h.length;g+=1)v[g]=ea(Ir(l,h,g));return{c(){e=_("div"),t=_("div"),s=z(n),o=b(),a=_("div"),c=_("div"),f=z(p),d=b();for(let g=0;g<v.length;g+=1)v[g].c();m=Ie(),u(t,"class","span-name svelte-8eh7ia"),u(t,"title",i=l[28].name),u(c,"class","span-bar svelte-8eh7ia"),Zt(c,"width",yn(l[28],l[3].total_ms)+"%"),we(c,"error",l[28].error),u(a,"class","span-bar-container svelte-8eh7ia"),u(e,"class","span-row svelte-8eh7ia")},m(g,C){$(g,e,C),r(e,t),r(t,s),r(e,o),r(e,a),r(a,c),r(c,f),$(g,d,C);for(let y=0;y<v.length;y+=1)v[y]&&v[y].m(g,C);$(g,m,C)},p(g,C){if(C[0]&8&&n!==(n=g[28].name+"")&&j(s,n),C[0]&8&&i!==(i=g[28].name)&&u(t,"title",i),C[0]&8&&p!==(p=Ot(g[28].duration_ms)+"")&&j(f,p),C[0]&8&&Zt(c,"width",yn(g[28],g[3].total_ms)+"%"),C[0]&8&&we(c,"error",g[28].error),C[0]&8){h=_e(g[28].children||[]);let y;for(y=0;y<h.length;y+=1){const w=Ir(g,h,y);v[y]?v[y].p(w,C):(v[y]=ea(w),v[y].c(),v[y].m(m.parentNode,m))}for(;y<v.length;y+=1)v[y].d(1);v.length=h.length}},d(g){g&&(k(e),k(d),k(m)),Pe(v,g)}}}function la(l){let e,t,n,s=_e(l[3].spans),i=[];for(let o=0;o<s.length;o+=1)i[o]=ia(Or(l,s,o));return{c(){e=_("h4"),e.textContent="Span Details",t=b(),n=_("div");for(let o=0;o<i.length;o+=1)i[o].c();u(e,"class","svelte-8eh7ia"),u(n,"class","spans-details svelte-8eh7ia")},m(o,a){$(o,e,a),$(o,t,a),$(o,n,a);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(n,null)},p(o,a){if(a[0]&8){s=_e(o[3].spans);let c;for(c=0;c<s.length;c+=1){const p=Or(o,s,c);i[c]?i[c].p(p,a):(i[c]=ia(p),i[c].c(),i[c].m(n,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=s.length}},d(o){o&&(k(e),k(t),k(n)),Pe(i,o)}}}function na(l){let e;return{c(){e=_("span"),e.textContent="ERROR",u(e,"class","error-badge svelte-8eh7ia")},m(t,n){$(t,e,n)},d(t){t&&k(e)}}}function sa(l){let e,t,n=l[31]+"",s,i,o,a,c=(typeof l[32]=="object"?JSON.stringify(l[32]):l[32])+"",p;return{c(){e=_("div"),t=_("span"),s=z(n),i=z(":"),o=b(),a=_("span"),p=z(c),u(t,"class","key svelte-8eh7ia"),u(a,"class","value svelte-8eh7ia"),u(e,"class","attr svelte-8eh7ia")},m(f,d){$(f,e,d),r(e,t),r(t,s),r(t,i),r(e,o),r(e,a),r(a,p)},p(f,d){d[0]&8&&n!==(n=f[31]+"")&&j(s,n),d[0]&8&&c!==(c=(typeof f[32]=="object"?JSON.stringify(f[32]):f[32])+"")&&j(p,c)},d(f){f&&k(e)}}}function oa(l){let e,t,n,s,i=l[28].error+"",o;return{c(){e=_("div"),t=_("span"),t.textContent="error:",n=b(),s=_("span"),o=z(i),u(t,"class","key svelte-8eh7ia"),u(s,"class","value svelte-8eh7ia"),u(e,"class","attr error svelte-8eh7ia")},m(a,c){$(a,e,c),r(e,t),r(e,n),r(e,s),r(s,o)},p(a,c){c[0]&8&&i!==(i=a[28].error+"")&&j(o,i)},d(a){a&&k(e)}}}function ia(l){let e,t,n,s=l[28].kind+"",i,o,a=l[28].name+"",c,p,f=Ot(l[28].duration_ms)+"",d,m,h,v,g,C,y=l[28].error&&na(),w=_e(Object.entries(l[28].attributes)),T=[];for(let q=0;q<w.length;q+=1)T[q]=sa(jr(l,w,q));let D=l[28].error&&oa(l);return{c(){e=_("details"),t=_("summary"),n=_("span"),i=z(s),o=b(),c=z(a),p=z(" - "),d=z(f),m=b(),y&&y.c(),h=b(),v=_("div");for(let q=0;q<T.length;q+=1)T[q].c();g=b(),D&&D.c(),C=b(),u(n,"class","span-kind svelte-8eh7ia"),u(t,"class","svelte-8eh7ia"),u(v,"class","span-attrs svelte-8eh7ia"),u(e,"class","svelte-8eh7ia")},m(q,E){$(q,e,E),r(e,t),r(t,n),r(n,i),r(t,o),r(t,c),r(t,p),r(t,d),r(t,m),y&&y.m(t,null),r(e,h),r(e,v);for(let S=0;S<T.length;S+=1)T[S]&&T[S].m(v,null);r(v,g),D&&D.m(v,null),r(e,C)},p(q,E){if(E[0]&8&&s!==(s=q[28].kind+"")&&j(i,s),E[0]&8&&a!==(a=q[28].name+"")&&j(c,a),E[0]&8&&f!==(f=Ot(q[28].duration_ms)+"")&&j(d,f),q[28].error?y||(y=na(),y.c(),y.m(t,null)):y&&(y.d(1),y=null),E[0]&8){w=_e(Object.entries(q[28].attributes));let S;for(S=0;S<w.length;S+=1){const L=jr(q,w,S);T[S]?T[S].p(L,E):(T[S]=sa(L),T[S].c(),T[S].m(v,g))}for(;S<T.length;S+=1)T[S].d(1);T.length=w.length}q[28].error?D?D.p(q,E):(D=oa(q),D.c(),D.m(v,null)):D&&(D.d(1),D=null)},d(q){q&&k(e),y&&y.d(),Pe(T,q),D&&D.d()}}}function yd(l){let e,t,n,s,i=l[3].method+"",o,a,c,p,f=l[3].path+"",d,m,h,v=l[3].status_code+"",g,C,y,w,T=Ot(l[3].duration_ms)+"",D,q,E,S,L,F,O,I=l[3].request_id+"",U,Z,V,A,P,M=l[3].timestamp+"",W,H,J,B,Q=l[3].spans.length+"",te,G,K,x,de,he=l[3].service_name&&Zr(l),oe=l[3].error&&Xr(l),X=l[3].user_id&&xr(l),pe=_e(l[3].spans),be=[];for(let Y=0;Y<pe.length;Y+=1)be[Y]=ta(Fr(l,pe,Y));let ce=l[3].spans.length>0&&la(l);return{c(){var Y;e=_("div"),t=_("div"),he&&he.c(),n=b(),s=_("span"),o=z(i),c=b(),p=_("span"),d=z(f),m=b(),h=_("span"),g=z(v),y=b(),w=_("span"),D=z(T),q=b(),oe&&oe.c(),E=b(),S=_("div"),L=_("span"),F=z("Request ID: "),O=_("code"),U=z(I),Z=b(),X&&X.c(),V=b(),A=_("span"),P=z("Time: "),W=z(M),H=b(),J=_("h4"),B=z("Timeline ("),te=z(Q),G=z(" spans)"),K=b(),x=_("div");for(let se=0;se<be.length;se+=1)be[se].c();de=b(),ce&&ce.c(),u(s,"class",a="method "+((Y=l[3].method)==null?void 0:Y.toLowerCase())+" svelte-8eh7ia"),u(p,"class","path svelte-8eh7ia"),u(h,"class",C="status status-"+wn(l[3].status_code)+" svelte-8eh7ia"),u(w,"class","duration svelte-8eh7ia"),u(t,"class","trace-header svelte-8eh7ia"),u(O,"class","svelte-8eh7ia"),u(S,"class","trace-meta svelte-8eh7ia"),u(J,"class","svelte-8eh7ia"),u(x,"class","spans-timeline svelte-8eh7ia"),u(e,"class","trace-detail svelte-8eh7ia")},m(Y,se){$(Y,e,se),r(e,t),he&&he.m(t,null),r(t,n),r(t,s),r(s,o),r(t,c),r(t,p),r(p,d),r(t,m),r(t,h),r(h,g),r(t,y),r(t,w),r(w,D),r(e,q),oe&&oe.m(e,null),r(e,E),r(e,S),r(S,L),r(L,F),r(L,O),r(O,U),r(S,Z),X&&X.m(S,null),r(S,V),r(S,A),r(A,P),r(A,W),r(e,H),r(e,J),r(J,B),r(J,te),r(J,G),r(e,K),r(e,x);for(let Se=0;Se<be.length;Se+=1)be[Se]&&be[Se].m(x,null);r(e,de),ce&&ce.m(e,null)},p(Y,se){var Se;if(Y[3].service_name?he?he.p(Y,se):(he=Zr(Y),he.c(),he.m(t,n)):he&&(he.d(1),he=null),se[0]&8&&i!==(i=Y[3].method+"")&&j(o,i),se[0]&8&&a!==(a="method "+((Se=Y[3].method)==null?void 0:Se.toLowerCase())+" svelte-8eh7ia")&&u(s,"class",a),se[0]&8&&f!==(f=Y[3].path+"")&&j(d,f),se[0]&8&&v!==(v=Y[3].status_code+"")&&j(g,v),se[0]&8&&C!==(C="status status-"+wn(Y[3].status_code)+" svelte-8eh7ia")&&u(h,"class",C),se[0]&8&&T!==(T=Ot(Y[3].duration_ms)+"")&&j(D,T),Y[3].error?oe?oe.p(Y,se):(oe=Xr(Y),oe.c(),oe.m(e,E)):oe&&(oe.d(1),oe=null),se[0]&8&&I!==(I=Y[3].request_id+"")&&j(U,I),Y[3].user_id?X?X.p(Y,se):(X=xr(Y),X.c(),X.m(S,V)):X&&(X.d(1),X=null),se[0]&8&&M!==(M=Y[3].timestamp+"")&&j(W,M),se[0]&8&&Q!==(Q=Y[3].spans.length+"")&&j(te,Q),se[0]&8){pe=_e(Y[3].spans);let ge;for(ge=0;ge<pe.length;ge+=1){const He=Fr(Y,pe,ge);be[ge]?be[ge].p(He,se):(be[ge]=ta(He),be[ge].c(),be[ge].m(x,null))}for(;ge<be.length;ge+=1)be[ge].d(1);be.length=pe.length}Y[3].spans.length>0?ce?ce.p(Y,se):(ce=la(Y),ce.c(),ce.m(e,null)):ce&&(ce.d(1),ce=null)},d(Y){Y&&k(e),he&&he.d(),oe&&oe.d(),X&&X.d(),Pe(be,Y),ce&&ce.d()}}}function Cd(l){var de,he;let e,t,n,s,i,o,a,c,p,f,d,m,h,v,g,C,y,w,T,D,q,E,S,L,F,O,I,U,Z,V,A,P,M,W,H,J,B;m=new Oe({props:{disabled:l[0],$$slots:{default:[pd]},$$scope:{ctx:l}}}),m.$on("click",l[14]);let Q=l[1]&&Gr(l),te=((he=(de=l[1])==null?void 0:de.slow_endpoints)==null?void 0:he.length)>0&&Wr(l),G=_e(l[5]),K=[];for(let oe=0;oe<G.length;oe+=1)K[oe]=Jr(Ur(l,G,oe));V=new Oe({props:{size:"small",$$slots:{default:[kd]},$$scope:{ctx:l}}}),V.$on("click",l[12]),P=new st({props:{$$slots:{default:[wd]},$$scope:{ctx:l}}});let x=l[4]&&l[3]&&Qr(l);return{c(){e=_("div"),t=_("div"),n=_("h2"),n.textContent="🔍 Telemetry Dashboard",s=b(),i=_("div"),o=_("select"),a=_("option"),a.textContent="Last 1 hour",c=_("option"),c.textContent="Last 6 hours",p=_("option"),p.textContent="Last 24 hours",f=_("option"),f.textContent="Last 7 days",d=b(),ae(m.$$.fragment),h=b(),Q&&Q.c(),v=b(),te&&te.c(),g=b(),C=_("div"),y=_("select"),w=_("option"),w.textContent="All services";for(let oe=0;oe<K.length;oe+=1)K[oe].c();T=b(),D=_("input"),q=b(),E=_("input"),S=b(),L=_("select"),F=_("option"),F.textContent="All status",O=_("option"),O.textContent="2xx Success",I=_("option"),I.textContent="4xx Client Error",U=_("option"),U.textContent="5xx Server Error",Z=b(),ae(V.$$.fragment),A=b(),ae(P.$$.fragment),M=b(),x&&x.c(),W=Ie(),u(n,"class","svelte-8eh7ia"),a.__value=1,ne(a,a.__value),c.__value=6,ne(c,c.__value),p.__value=24,ne(p,p.__value),f.__value=168,ne(f,f.__value),u(o,"class","svelte-8eh7ia"),l[8]===void 0&&Ze(()=>l[17].call(o)),u(i,"class","controls svelte-8eh7ia"),u(t,"class","header svelte-8eh7ia"),w.__value="",ne(w,w.__value),u(y,"title","Filter by service"),u(y,"class","svelte-8eh7ia"),l[7]===void 0&&Ze(()=>l[20].call(y)),u(D,"type","text"),u(D,"placeholder","Path prefix (e.g., /api/v1/infra)"),u(D,"class","svelte-8eh7ia"),u(E,"type","number"),u(E,"placeholder","Min ms"),u(E,"class","svelte-8eh7ia"),F.__value="",ne(F,F.__value),O.__value="2xx",ne(O,O.__value),I.__value="4xx",ne(I,I.__value),U.__value="5xx",ne(U,U.__value),u(L,"class","svelte-8eh7ia"),l[11]===void 0&&Ze(()=>l[23].call(L)),u(C,"class","filters svelte-8eh7ia"),u(e,"class","telemetry svelte-8eh7ia")},m(oe,X){$(oe,e,X),r(e,t),r(t,n),r(t,s),r(t,i),r(i,o),r(o,a),r(o,c),r(o,p),r(o,f),Ee(o,l[8],!0),r(i,d),ie(m,i,null),r(e,h),Q&&Q.m(e,null),r(e,v),te&&te.m(e,null),r(e,g),r(e,C),r(C,y),r(y,w);for(let pe=0;pe<K.length;pe+=1)K[pe]&&K[pe].m(y,null);Ee(y,l[7],!0),r(C,T),r(C,D),ne(D,l[9]),r(C,q),r(C,E),ne(E,l[10]),r(C,S),r(C,L),r(L,F),r(L,O),r(L,I),r(L,U),Ee(L,l[11],!0),r(C,Z),ie(V,C,null),r(e,A),ie(P,e,null),$(oe,M,X),x&&x.m(oe,X),$(oe,W,X),H=!0,J||(B=[ee(o,"change",l[17]),ee(o,"change",l[14]),ee(y,"change",l[20]),ee(y,"change",l[14]),ee(D,"input",l[21]),ee(D,"change",l[12]),ee(E,"input",l[22]),ee(E,"change",l[12]),ee(L,"change",l[23]),ee(L,"change",l[12])],J=!0)},p(oe,X){var Y,se;X[0]&256&&Ee(o,oe[8]);const pe={};if(X[0]&1&&(pe.disabled=oe[0]),X[0]&1|X[1]&262144&&(pe.$$scope={dirty:X,ctx:oe}),m.$set(pe),oe[1]?Q?(Q.p(oe,X),X[0]&2&&N(Q,1)):(Q=Gr(oe),Q.c(),N(Q,1),Q.m(e,v)):Q&&(Te(),R(Q,1,1,()=>{Q=null}),De()),((se=(Y=oe[1])==null?void 0:Y.slow_endpoints)==null?void 0:se.length)>0?te?(te.p(oe,X),X[0]&2&&N(te,1)):(te=Wr(oe),te.c(),N(te,1),te.m(e,g)):te&&(Te(),R(te,1,1,()=>{te=null}),De()),X[0]&96){G=_e(oe[5]);let Se;for(Se=0;Se<G.length;Se+=1){const ge=Ur(oe,G,Se);K[Se]?K[Se].p(ge,X):(K[Se]=Jr(ge),K[Se].c(),K[Se].m(y,null))}for(;Se<K.length;Se+=1)K[Se].d(1);K.length=G.length}X[0]&160&&Ee(y,oe[7]),X[0]&512&&D.value!==oe[9]&&ne(D,oe[9]),X[0]&1024&&vl(E.value)!==oe[10]&&ne(E,oe[10]),X[0]&2048&&Ee(L,oe[11]);const be={};X[1]&262144&&(be.$$scope={dirty:X,ctx:oe}),V.$set(be);const ce={};X[0]&4|X[1]&262144&&(ce.$$scope={dirty:X,ctx:oe}),P.$set(ce),oe[4]&&oe[3]?x?(x.p(oe,X),X[0]&24&&N(x,1)):(x=Qr(oe),x.c(),N(x,1),x.m(W.parentNode,W)):x&&(Te(),R(x,1,1,()=>{x=null}),De())},i(oe){H||(N(m.$$.fragment,oe),N(Q),N(te),N(V.$$.fragment,oe),N(P.$$.fragment,oe),N(x),H=!0)},o(oe){R(m.$$.fragment,oe),R(Q),R(te),R(V.$$.fragment,oe),R(P.$$.fragment,oe),R(x),H=!1},d(oe){oe&&(k(e),k(M),k(W)),re(m),Q&&Q.d(),te&&te.d(),Pe(K,oe),re(V),re(P),x&&x.d(oe),J=!1,Fe(B)}}}let Sd=50;function Ot(l){return l?l<1e3?`${Math.round(l)}ms`:`${(l/1e3).toFixed(2)}s`:"-"}function ra(l){return l?new Date(l).toLocaleTimeString():"-"}function wn(l){return l?l<300?"green":l<400?"blue":l<500?"yellow":"red":"gray"}function yn(l,e){return!l.duration_ms||!e?0:Math.max(2,l.duration_ms/e*100)}function zd(l,e,t){let n=!0,s=null,i=[],o=null,a=!1,c=[],p="",f="",d=24,m="",h="",v="";async function g(){try{const A=await Me("GET","/admin/telemetry/services");t(5,c=A.services||[]),t(6,p=A.current||"unknown")}catch(A){console.warn("Could not load services:",A),t(5,c=[])}}async function C(){try{const A=new URLSearchParams({hours:d.toString()});m&&A.set("path_prefix",m),f&&A.set("service_name",f),t(1,s=await Me("GET",`/admin/telemetry/overview?${A}`))}catch(A){$e.error(`Failed to load overview: ${A.message}`)}}async function y(){try{const A=new URLSearchParams({hours:d.toString(),limit:Sd.toString()});m&&A.set("path_prefix",m),h&&A.set("min_duration_ms",h),v&&A.set("status_class",v),f&&A.set("service_name",f),t(2,i=await Me("GET",`/admin/telemetry/requests?${A}`))}catch(A){$e.error(`Failed to load requests: ${A.message}`)}}async function w(A){try{t(3,o=await Me("GET",`/admin/telemetry/requests/${A}`)),t(4,a=!0)}catch(P){$e.error(`Failed to load trace: ${P.message}`)}}async function T(){t(0,n=!0),await Promise.all([g(),C(),y()]),t(0,n=!1)}async function D(){try{const A=new URLSearchParams({hours:d.toString(),threshold_ms:"1000",limit:"50"});f&&A.set("service_name",f),t(2,i=await Me("GET",`/admin/telemetry/slow?${A}`)),$e.info("Showing slow requests (>1s)")}catch(A){$e.error(`Failed to load slow requests: ${A.message}`)}}async function q(A="5xx"){try{const P=new URLSearchParams({hours:d.toString(),status_class:A,limit:"50"});f&&P.set("service_name",f),t(2,i=await Me("GET",`/admin/telemetry/errors?${P}`)),$e.info(`Showing ${A} errors`)}catch(P){$e.error(`Failed to load errors: ${P.message}`)}}Yl(()=>{T()});function E(){d=ft(this),t(8,d)}const S=()=>q("5xx"),L=()=>q("5xx");function F(){f=ft(this),t(7,f),t(5,c)}function O(){m=this.value,t(9,m)}function I(){h=vl(this.value),t(10,h)}function U(){v=ft(this),t(11,v)}return[n,s,i,o,a,c,p,f,d,m,h,v,y,w,T,D,q,E,S,L,F,O,I,U,A=>w(A.request_id),()=>t(4,a=!1)]}class Td extends qt{constructor(e){super(),Dt(this,e,zd,Cd,yt,{},null,[-1,-1])}}function Dd(l){let e,t,n,s,i,o,a,c,p,f,d,m,h,v,g,C,y,w,T,D,q,E,S;n=new Kc({}),i=new Zc({props:{tabs:l[9],active:l[0],scrollable:!0}}),i.$on("change",l[12]);let L=l[8]&&aa(l),F={};f=new Xu({props:F}),l[15](f),h=new Yf({});let O={};C=new Kp({props:O}),l[16](C);let I={};T=new fd({props:I}),l[17](T);const U=[Nd,Ld,Pd],Z=[];function V(A,P){return A[0]==="services"?0:A[0]==="settings"?1:A[0]==="telemetry"&&A[1]?2:-1}return~(q=V(l))&&(E=Z[q]=U[q](l)),{c(){e=_("div"),t=_("div"),ae(n.$$.fragment),s=b(),ae(i.$$.fragment),o=b(),L&&L.c(),a=b(),c=_("main"),p=_("div"),ae(f.$$.fragment),d=b(),m=_("div"),ae(h.$$.fragment),v=b(),g=_("div"),ae(C.$$.fragment),y=b(),w=_("div"),ae(T.$$.fragment),D=b(),E&&E.c(),u(p,"class","svelte-p7g5el"),we(p,"hidden",l[0]!=="infra"),u(m,"class","svelte-p7g5el"),we(m,"hidden",l[0]!=="deploy"),u(g,"class","svelte-p7g5el"),we(g,"hidden",l[0]!=="deployments"),u(w,"class","svelte-p7g5el"),we(w,"hidden",l[0]!=="architecture"),u(c,"class","content glass svelte-p7g5el"),u(t,"class","container svelte-p7g5el"),u(e,"class","app svelte-p7g5el")},m(A,P){$(A,e,P),r(e,t),ie(n,t,null),r(t,s),ie(i,t,null),r(t,o),L&&L.m(t,null),r(t,a),r(t,c),r(c,p),ie(f,p,null),r(c,d),r(c,m),ie(h,m,null),r(c,v),r(c,g),ie(C,g,null),r(c,y),r(c,w),ie(T,w,null),r(c,D),~q&&Z[q].m(c,null),S=!0},p(A,P){const M={};P&512&&(M.tabs=A[9]),P&1&&(M.active=A[0]),i.$set(M),A[8]?L?(L.p(A,P),P&256&&N(L,1)):(L=aa(A),L.c(),N(L,1),L.m(t,a)):L&&(Te(),R(L,1,1,()=>{L=null}),De());const W={};f.$set(W),(!S||P&1)&&we(p,"hidden",A[0]!=="infra"),(!S||P&1)&&we(m,"hidden",A[0]!=="deploy");const H={};C.$set(H),(!S||P&1)&&we(g,"hidden",A[0]!=="deployments");const J={};T.$set(J),(!S||P&1)&&we(w,"hidden",A[0]!=="architecture");let B=q;q=V(A),q!==B&&(E&&(Te(),R(Z[B],1,1,()=>{Z[B]=null}),De()),~q?(E=Z[q],E||(E=Z[q]=U[q](A),E.c()),N(E,1),E.m(c,null)):E=null)},i(A){S||(N(n.$$.fragment,A),N(i.$$.fragment,A),N(L),N(f.$$.fragment,A),N(h.$$.fragment,A),N(C.$$.fragment,A),N(T.$$.fragment,A),N(E),S=!0)},o(A){R(n.$$.fragment,A),R(i.$$.fragment,A),R(L),R(f.$$.fragment,A),R(h.$$.fragment,A),R(C.$$.fragment,A),R(T.$$.fragment,A),R(E),S=!1},d(A){A&&k(e),re(n),re(i),L&&L.d(),l[15](null),re(f),re(h),l[16](null),re(C),l[17](null),re(T),~q&&Z[q].d()}}}function qd(l){let e,t;return e=new Oc({props:{title:"Deploy Dashboard",subtitle:"Sign in to manage your infrastructure"}}),e.$on("success",l[11]),{c(){ae(e.$$.fragment)},m(n,s){ie(e,n,s),t=!0},p:ve,i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){re(e,n)}}}function Ed(l){let e;return{c(){e=_("div"),e.innerHTML='<div class="spinner svelte-p7g5el"></div>',u(e,"class","loading-screen svelte-p7g5el")},m(t,n){$(t,e,n)},p:ve,i:ve,o:ve,d(t){t&&k(e)}}}function aa(l){let e,t;return e=new eu({props:{showTail:l[7],showContainer:l[6]}}),e.$on("change",l[13]),e.$on("refresh",l[14]),{c(){ae(e.$$.fragment)},m(n,s){ie(e,n,s),t=!0},p(n,s){const i={};s&128&&(i.showTail=n[7]),s&64&&(i.showContainer=n[6]),e.$set(i)},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){re(e,n)}}}function Pd(l){let e,t;return e=new Td({}),{c(){ae(e.$$.fragment)},m(n,s){ie(e,n,s),t=!0},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){re(e,n)}}}function Ld(l){let e,t;return e=new A_({}),{c(){ae(e.$$.fragment)},m(n,s){ie(e,n,s),t=!0},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){re(e,n)}}}function Nd(l){let e,t;return e=new o_({}),{c(){ae(e.$$.fragment)},m(n,s){ie(e,n,s),t=!0},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){re(e,n)}}}function Md(l){let e,t,n,s,i,o;e=new Ic({});const a=[Ed,qd,Dd],c=[];function p(f,d){return f[2]?!f[10].token||!f[10].user?1:2:0}return n=p(l),s=c[n]=a[n](l),{c(){ae(e.$$.fragment),t=b(),s.c(),i=Ie()},m(f,d){ie(e,f,d),$(f,t,d),c[n].m(f,d),$(f,i,d),o=!0},p(f,[d]){let m=n;n=p(f),n===m?c[n].p(f,d):(Te(),R(c[m],1,1,()=>{c[m]=null}),De(),s=c[n],s?s.p(f,d):(s=c[n]=a[n](f),s.c()),N(s,1),s.m(i.parentNode,i))},i(f){o||(N(e.$$.fragment,f),N(s),o=!0)},o(f){R(e.$$.fragment,f),R(s),o=!1},d(f){f&&(k(t),k(i)),re(e,f),c[n].d(f)}}}function Rd(l,e,t){let n,s,i,o,a,c,p;at(l,Kn,L=>t(0,a=L)),at(l,mc,L=>t(1,c=L)),at(l,Qt,L=>t(10,p=L));let f=!1,d,m,h;const v=[{id:"infra",label:"Infrastructure"},{id:"deploy",label:"Deploy"},{id:"deployments",label:"Deployments"},{id:"architecture",label:"Architecture"},{id:"services",label:"Services"},{id:"settings",label:"Settings"}],g=[{id:"telemetry",label:"🔍 Telemetry",admin:!0}];Yl(async()=>{const L=await $c();t(2,f=!0),L&&C()});function C(){yl.refresh(),In.refresh(),zn.refresh(),Ol.refresh()}async function y(L){const{user:F,token:O}=L.detail;Qt.setToken(O),Qt.setUser(F),C()}function w(L){Kn.set(L.detail)}function T(){D()}function D(){switch(a){case"infra":d==null||d.refresh(),yl.refresh();break;case"deployments":m==null||m.refresh();break;case"architecture":h==null||h.refresh();break}}function q(L){Yt[L?"unshift":"push"](()=>{d=L,t(3,d)})}function E(L){Yt[L?"unshift":"push"](()=>{m=L,t(4,m)})}function S(L){Yt[L?"unshift":"push"](()=>{h=L,t(5,h)})}return l.$$.update=()=>{l.$$.dirty&2&&t(9,n=c?[...v,...g]:v),l.$$.dirty&1&&t(8,s=a==="deployments")},t(7,i=!1),t(6,o=!1),[a,c,f,d,m,h,o,i,s,n,p,y,w,T,D,q,E,S]}class Ad extends qt{constructor(e){super(),Dt(this,e,Rd,Md,yt,{})}}new Ad({target:document.getElementById("app")});
